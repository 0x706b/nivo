"use strict";(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[4320],{58701:function(e,n,i){i.d(n,{Zc:function(){return L},vr:function(){return D},Wh:function(){return F},mX:function(){return b},Pq:function(){return M},XB:function(){return C}});var o=i(27378),t=i(45434),r=i(89193),d=i(58493),a=i(24246),l=i(14670),c=i(81998);function u(e){return e.index}function s(e,n){var i=e.get(n);if(!i)throw new Error("node not found: "+n);return i}function v(e){var n,i,o,t,r,d,a=u,v=function(e){return 1/Math.min(t[e.source.index],t[e.target.index])},f=(0,l.Z)(30),h=1;function k(o){for(var t=0,a=e.length;t<h;++t)for(var l,u,s,v,f,k,x,y=0;y<a;++y)u=(l=e[y]).source,v=(s=l.target).x+s.vx-u.x-u.vx||(0,c.Z)(d),f=s.y+s.vy-u.y-u.vy||(0,c.Z)(d),v*=k=((k=Math.sqrt(v*v+f*f))-i[y])/k*o*n[y],f*=k,s.vx-=v*(x=r[y]),s.vy-=f*x,u.vx+=v*(x=1-x),u.vy+=f*x}function x(){if(o){var d,l,c=o.length,u=e.length,v=new Map(o.map((function(e,n){return[a(e,n,o),e]})));for(d=0,t=new Array(c);d<u;++d)(l=e[d]).index=d,"object"!=typeof l.source&&(l.source=s(v,l.source)),"object"!=typeof l.target&&(l.target=s(v,l.target)),t[l.source.index]=(t[l.source.index]||0)+1,t[l.target.index]=(t[l.target.index]||0)+1;for(d=0,r=new Array(u);d<u;++d)l=e[d],r[d]=t[l.source.index]/(t[l.source.index]+t[l.target.index]);n=new Array(u),y(),i=new Array(u),g()}}function y(){if(o)for(var i=0,t=e.length;i<t;++i)n[i]=+v(e[i],i,e)}function g(){if(o)for(var n=0,t=e.length;n<t;++n)i[n]=+f(e[n],n,e)}return null==e&&(e=[]),k.initialize=function(e,n){o=e,d=n,x()},k.links=function(n){return arguments.length?(e=n,x(),k):e},k.id=function(e){return arguments.length?(a=e,k):a},k.iterations=function(e){return arguments.length?(h=+e,k):h},k.strength=function(e){return arguments.length?(v="function"==typeof e?e:(0,l.Z)(+e),y(),k):v},k.distance=function(e){return arguments.length?(f="function"==typeof e?e:(0,l.Z)(+e),g(),k):f},k}var f=i(73138),h=i(72102);function k(){var e,n,i,o,t,r=(0,l.Z)(-30),d=1,a=1/0,u=.81;function s(i){var t,r=e.length,d=(0,f.Z)(e,h.x,h.y).visitAfter(k);for(o=i,t=0;t<r;++t)n=e[t],d.visit(x)}function v(){if(e){var n,i,o=e.length;for(t=new Array(o),n=0;n<o;++n)i=e[n],t[i.index]=+r(i,n,e)}}function k(e){var n,i,o,r,d,a=0,l=0;if(e.length){for(o=r=d=0;d<4;++d)(n=e[d])&&(i=Math.abs(n.value))&&(a+=n.value,l+=i,o+=i*n.x,r+=i*n.y);e.x=o/l,e.y=r/l}else{(n=e).x=n.data.x,n.y=n.data.y;do{a+=t[n.data.index]}while(n=n.next)}e.value=a}function x(e,r,l,s){if(!e.value)return!0;var v=e.x-n.x,f=e.y-n.y,h=s-r,k=v*v+f*f;if(h*h/u<k)return k<a&&(0===v&&(k+=(v=(0,c.Z)(i))*v),0===f&&(k+=(f=(0,c.Z)(i))*f),k<d&&(k=Math.sqrt(d*k)),n.vx+=v*e.value*o/k,n.vy+=f*e.value*o/k),!0;if(!(e.length||k>=a)){(e.data!==n||e.next)&&(0===v&&(k+=(v=(0,c.Z)(i))*v),0===f&&(k+=(f=(0,c.Z)(i))*f),k<d&&(k=Math.sqrt(d*k)));do{e.data!==n&&(h=t[e.data.index]*o/k,n.vx+=v*h,n.vy+=f*h)}while(e=e.next)}}return s.initialize=function(n,o){e=n,i=o,v()},s.strength=function(e){return arguments.length?(r="function"==typeof e?e:(0,l.Z)(+e),v(),s):r},s.distanceMin=function(e){return arguments.length?(d=e*e,s):Math.sqrt(d)},s.distanceMax=function(e){return arguments.length?(a=e*e,s):Math.sqrt(a)},s.theta=function(e){return arguments.length?(u=e*e,s):Math.sqrt(u)},s}function x(e,n){var i,o=1;function t(){var t,r,d=i.length,a=0,l=0;for(t=0;t<d;++t)a+=(r=i[t]).x,l+=r.y;for(a=(a/d-e)*o,l=(l/d-n)*o,t=0;t<d;++t)(r=i[t]).x-=a,r.y-=l}return null==e&&(e=0),null==n&&(n=0),t.initialize=function(e){i=e},t.x=function(n){return arguments.length?(e=+n,t):e},t.y=function(e){return arguments.length?(n=+e,t):n},t.strength=function(e){return arguments.length?(o=+e,t):o},t}var y=i(79234),g=i(54358);function m(){return m=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},m.apply(this,arguments)}function p(e,n){if(null==e)return{};var i,o,t={},r=Object.keys(e);for(o=0;o<r.length;o++)i=r[o],n.indexOf(i)>=0||(t[i]=e[i]);return t}var M={layers:["links","nodes","annotations"],linkDistance:30,repulsivity:3,distanceMin:1,distanceMax:1/0,iterations:160,nodeSize:12,activeNodeSize:18,inactiveNodeSize:8,nodeColor:"#000000",nodeBorderWidth:0,nodeBorderColor:{from:"color"},linkThickness:1,linkColor:{from:"source.color"},isInteractive:!0,nodeTooltip:function(e){var n=e.node;return(0,a.jsx)(r._5,{id:n.id,enableChip:!0,color:n.color})},annotations:[],animate:!0,motionConfig:"gentle",role:"img"},C=m({},M,{nodeComponent:(0,o.memo)((function(e){var n=e.node,i=e.animated,o=e.blendMode,t=e.onClick,r=e.onMouseEnter,l=e.onMouseMove,c=e.onMouseLeave;return(0,a.jsx)(d.q.circle,{"data-testid":"node."+n.id,transform:(0,d.to)([i.x,i.y,i.scale],(function(e,n,i){return"translate("+e+","+n+") scale("+i+")"})),r:(0,d.to)([i.size],(function(e){return e/2})),fill:i.color,style:{mixBlendMode:o},strokeWidth:i.borderWidth,stroke:i.borderColor,opacity:i.opacity,onClick:t?function(e){return t(n,e)}:void 0,onMouseEnter:r?function(e){return r(n,e)}:void 0,onMouseMove:l?function(e){return l(n,e)}:void 0,onMouseLeave:c?function(e){return c(n,e)}:void 0})})),nodeBlendMode:"normal",linkComponent:(0,o.memo)((function(e){var n=e.link,i=e.animated,o=e.blendMode;return(0,a.jsx)(d.q.line,{"data-testid":"link."+n.id,stroke:i.color,style:{mixBlendMode:o},strokeWidth:n.thickness,strokeLinecap:"round",opacity:i.opacity,x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2})})),linkBlendMode:"normal"}),b=m({},M,{renderNode:function(e,n){e.fillStyle=n.color,e.beginPath(),e.arc(n.x,n.y,n.size/2,0,2*Math.PI),e.fill(),n.borderWidth>0&&(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.stroke())},renderLink:function(e,n){e.strokeStyle=n.color,e.lineWidth=n.thickness,e.beginPath(),e.moveTo(n.source.x,n.source.y),e.lineTo(n.target.x,n.target.y),e.stroke()},pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),z=["index"],W=function(e){return(0,o.useMemo)((function(){return"function"==typeof e?e:function(){return e}}),[e])},S=function(e){var n=e.center,i=e.nodes,r=e.links,d=e.linkDistance,a=void 0===d?M.linkDistance:d,l=e.repulsivity,c=void 0===l?M.repulsivity:l,u=e.distanceMin,s=void 0===u?M.distanceMin:u,f=e.distanceMax,g=void 0===f?M.distanceMax:f,C=e.iterations,b=void 0===C?M.iterations:C,S=e.nodeSize,B=void 0===S?M.nodeSize:S,w=e.activeNodeSize,j=void 0===w?M.activeNodeSize:w,N=e.inactiveNodeSize,I=void 0===N?M.inactiveNodeSize:N,T=e.nodeColor,E=void 0===T?M.nodeColor:T,L=e.nodeBorderWidth,D=void 0===L?M.nodeBorderWidth:L,Z=e.nodeBorderColor,q=void 0===Z?M.nodeBorderColor:Z,A=e.linkThickness,F=void 0===A?M.linkThickness:A,P=e.linkColor,O=void 0===P?M.linkColor:P,R=e.isInteractive,H=void 0===R?M.isInteractive:R,_=(0,o.useState)(null),X=_[0],G=_[1],J=(0,o.useState)(null),K=J[0],Q=J[1],U=function(e){var n=e.repulsivity,i=e.distanceMin,t=e.distanceMax,r=e.center,d=W(e.linkDistance),a=r[0],l=r[1];return(0,o.useMemo)((function(){return{link:v().distance((function(e){return d(e.data)})),charge:k().strength(-n).distanceMin(i).distanceMax(t),center:x(a,l)}}),[d,n,i,t,a,l])}({linkDistance:a,repulsivity:c,distanceMin:s,distanceMax:g,center:n});(0,o.useEffect)((function(){var e=i.map((function(e){return{id:e.id,data:m({},e),index:0,x:0,y:0,vx:0,vy:0}})),n=r.map((function(n){return{data:m({},n),index:0,source:e.find((function(e){return e.id===n.source})),target:e.find((function(e){return e.id===n.target}))}})),o=(0,h.Z)(e).force("link",U.link.links(n)).force("charge",U.charge).force("center",U.center).stop();return o.tick(b),G(e),Q(n),function(){o.stop()}}),[i,r,U,b,G,Q]);var V=(0,o.useState)([]),Y=V[0],$=V[1],ee=function(e){var n=e.size,i=e.activeSize,r=e.inactiveSize,d=e.color,a=e.borderWidth,l=e.borderColor,c=e.isInteractive,u=e.activeNodeIds,s=(0,t.Fg)(),v=W(n),f=W(d),h=W(a),k=(0,y.Bf)(l,s),x=(0,o.useCallback)((function(e){var n=f(e.data);return{size:v(e.data),color:n,borderWidth:h(e.data),borderColor:k(m({},e,{color:n}))}}),[v,f,h,k]),g=W(i),p=(0,o.useCallback)((function(e){var n=f(e.data);return{size:g(e.data),color:n,borderWidth:h(e.data),borderColor:k(m({},e,{color:n}))}}),[g,f,h,k]),M=W(r),C=(0,o.useCallback)((function(e){var n=f(e.data);return{size:M(e.data),color:n,borderWidth:h(e.data),borderColor:k(m({},e,{color:n}))}}),[M,f,h,k]);return(0,o.useCallback)((function(e){return c&&0!==u.length?u.includes(e.id)?p(e):C(e):x(e)}),[x,p,C,c,u])}({size:B,activeSize:j,inactiveSize:I,color:E,borderWidth:D,borderColor:q,isInteractive:H,activeNodeIds:Y}),ne=(0,o.useMemo)((function(){return null===X?null:X.map((function(e){return m({},e,ee(e))}))}),[X,ee]),ie=(0,t.Fg)(),oe=W(F),te=(0,y.Bf)(O,ie),re=(0,o.useMemo)((function(){return null===K||null===ne?null:K.map((function(e){var n=e.index,i=p(e,z),o={id:i.source.id+"."+i.target.id,data:i.data,index:n,source:ne.find((function(e){return e.id===i.source.id})),target:ne.find((function(e){return e.id===i.target.id}))};return m({},o,{thickness:oe(o),color:te(o)})}))}),[K,ne,oe,te]);return{nodes:ne,links:re,setActiveNodeIds:$}},B=function(e){return{x:e.x,y:e.y}},w=function(e){return{size:e.size,width:e.size,height:e.size}},j=function(e){var n=e.links,i=e.linkComponent,r=e.blendMode,l=(0,t.tf)(),c=l.animate,u=l.config,s=(0,o.useMemo)((function(){return[function(e){return{x1:e.source.x,y1:e.source.y,x2:e.source.x,y2:e.source.y,color:e.color,opacity:0}},function(e){return{x1:e.source.x,y1:e.source.y,x2:e.target.x,y2:e.target.y,color:e.color,opacity:1}}]}),[]),v=s[0],f=s[1],h=(0,d.useTransition)(n,{keys:function(e){return e.id},initial:f,from:v,enter:f,update:f,expires:!0,config:u,immediate:!c});return(0,a.jsx)(a.Fragment,{children:h((function(e,n){return(0,o.createElement)(i,{key:n.id,link:n,animated:e,blendMode:r})}))})},N=function(e){var n=e.nodes,i=e.nodeComponent,r=e.blendMode,l=e.onClick,c=e.onMouseEnter,u=e.onMouseMove,s=e.onMouseLeave,v=(0,t.tf)(),f=v.animate,h=v.config,k=(0,o.useMemo)((function(){return[function(e){return{x:e.x,y:e.y,size:e.size,color:e.color,borderWidth:e.borderWidth,borderColor:e.borderColor,scale:0,opacity:0}},function(e){return{x:e.x,y:e.y,size:e.size,color:e.color,borderWidth:e.borderWidth,borderColor:e.borderColor,scale:1,opacity:1}},function(e){return{x:e.x,y:e.y,size:e.size,color:e.color,borderWidth:e.borderWidth,borderColor:e.borderColor,scale:0,opacity:0}}]}),[]),x=k[0],y=k[1],g=k[2],m=(0,d.useTransition)(n,{keys:function(e){return e.id},initial:y,from:x,enter:y,update:y,leave:g,config:h,immediate:!f});return(0,a.jsx)(a.Fragment,{children:m((function(e,n){return(0,o.createElement)(i,{key:n.id,node:n,animated:e,blendMode:r,onClick:l,onMouseEnter:c,onMouseMove:u,onMouseLeave:s})}))})},I=function(e){var n=function(e,n){return(0,g.O2)({data:e,annotations:n,getPosition:B,getDimensions:w})}(e.nodes,e.annotations);return(0,a.jsx)(a.Fragment,{children:n.map((function(e,n){return(0,a.jsx)(g.q6,m({},e),n)}))})},T=["isInteractive","animate","motionConfig","theme","renderWrapper"],E=function(e){var n=e.width,i=e.height,d=e.margin,l=e.data,c=l.nodes,u=l.links,s=e.linkDistance,v=void 0===s?C.linkDistance:s,f=e.repulsivity,h=void 0===f?C.repulsivity:f,k=e.distanceMin,x=void 0===k?C.distanceMin:k,y=e.distanceMax,g=void 0===y?C.distanceMax:y,m=e.iterations,p=void 0===m?C.iterations:m,M=e.layers,b=void 0===M?C.layers:M,z=e.nodeComponent,W=void 0===z?C.nodeComponent:z,B=e.nodeSize,w=void 0===B?C.nodeSize:B,T=e.activeNodeSize,E=void 0===T?C.activeNodeSize:T,L=e.inactiveNodeSize,D=void 0===L?C.inactiveNodeSize:L,Z=e.nodeColor,q=void 0===Z?C.nodeColor:Z,A=e.nodeBlendMode,F=void 0===A?C.nodeBlendMode:A,P=e.nodeBorderWidth,O=void 0===P?C.nodeBorderWidth:P,R=e.nodeBorderColor,H=void 0===R?C.nodeBorderColor:R,_=e.linkComponent,X=void 0===_?C.linkComponent:_,G=e.linkThickness,J=void 0===G?C.linkThickness:G,K=e.linkColor,Q=void 0===K?C.linkColor:K,U=e.linkBlendMode,V=void 0===U?C.linkBlendMode:U,Y=e.annotations,$=void 0===Y?C.annotations:Y,ee=e.isInteractive,ne=void 0===ee?C.isInteractive:ee,ie=e.nodeTooltip,oe=void 0===ie?C.nodeTooltip:ie,te=e.onClick,re=e.role,de=void 0===re?C.role:re,ae=e.ariaLabel,le=e.ariaLabelledBy,ce=e.ariaDescribedBy,ue=(0,t.Bs)(n,i,d),se=ue.margin,ve=ue.innerWidth,fe=ue.innerHeight,he=ue.outerWidth,ke=ue.outerHeight,xe=S({center:[ve/2,fe/2],nodes:c,links:u,linkDistance:v,repulsivity:h,distanceMin:x,distanceMax:g,iterations:p,nodeSize:w,activeNodeSize:E,inactiveNodeSize:D,nodeColor:q,nodeBorderWidth:O,nodeBorderColor:H,linkThickness:J,linkColor:Q}),ye=xe.nodes,ge=xe.links,me=xe.setActiveNodeIds,pe=(0,r.lL)(),Me=pe.showTooltipFromEvent,Ce=pe.hideTooltip,be=(0,o.useCallback)((function(e,n){Me((0,o.createElement)(oe,{node:e}),n),me([e.id])}),[Me,oe,me]),ze=(0,o.useCallback)((function(){Ce(),me([])}),[Ce,me]),We={links:null,nodes:null,annotations:null};return b.includes("links")&&null!==ge&&(We.links=(0,a.jsx)(j,{links:ge,linkComponent:X,blendMode:V},"links")),b.includes("nodes")&&null!==ye&&(We.nodes=(0,a.jsx)(N,{nodes:ye,nodeComponent:W,blendMode:F,onClick:ne?te:void 0,onMouseEnter:ne?be:void 0,onMouseMove:ne?be:void 0,onMouseLeave:ne?ze:void 0},"nodes")),b.includes("annotations")&&null!==ye&&(We.annotations=(0,a.jsx)(I,{nodes:ye,annotations:$},"annotations")),(0,a.jsx)(t.tM,{width:he,height:ke,margin:se,role:de,ariaLabel:ae,ariaLabelledBy:le,ariaDescribedBy:ce,children:b.map((function(e,n){var i;return"function"==typeof e?(0,a.jsx)(o.Fragment,{children:(0,o.createElement)(e,{nodes:ye||[],links:ge||[]})},n):null!=(i=null==We?void 0:We[e])?i:null}))})},L=function(e){var n=e.isInteractive,i=void 0===n?C.isInteractive:n,o=e.animate,r=void 0===o?C.animate:o,d=e.motionConfig,l=void 0===d?C.motionConfig:d,c=e.theme,u=e.renderWrapper,s=p(e,T);return(0,a.jsx)(t.W2,{animate:r,isInteractive:i,motionConfig:l,renderWrapper:u,theme:c,children:(0,a.jsx)(E,m({isInteractive:i},s))})},D=function(e){return(0,a.jsx)(t.d,{children:function(n){var i=n.width,o=n.height;return(0,a.jsx)(L,m({width:i,height:o},e))}})},Z=["theme","isInteractive","animate","motionConfig","renderWrapper"],q=function(e){var n=e.width,i=e.height,d=e.margin,l=e.pixelRatio,c=void 0===l?b.pixelRatio:l,u=e.data,s=u.nodes,v=u.links,f=e.linkDistance,h=void 0===f?b.linkDistance:f,k=e.repulsivity,x=void 0===k?b.repulsivity:k,y=e.distanceMin,g=void 0===y?b.distanceMin:y,m=e.distanceMax,p=void 0===m?b.distanceMax:m,M=e.iterations,C=void 0===M?b.iterations:M,z=e.layers,W=void 0===z?b.layers:z,B=e.renderNode,w=void 0===B?b.renderNode:B,j=e.nodeSize,N=void 0===j?b.nodeSize:j,I=e.activeNodeSize,T=void 0===I?b.activeNodeSize:I,E=e.inactiveNodeSize,L=void 0===E?b.inactiveNodeSize:E,D=e.nodeColor,Z=void 0===D?b.nodeColor:D,q=e.nodeBorderWidth,A=void 0===q?b.nodeBorderWidth:q,F=e.nodeBorderColor,P=void 0===F?b.nodeBorderColor:F,O=e.renderLink,R=void 0===O?b.renderLink:O,H=e.linkThickness,_=void 0===H?b.linkThickness:H,X=e.linkColor,G=void 0===X?b.linkColor:X,J=e.isInteractive,K=void 0===J?b.isInteractive:J,Q=e.nodeTooltip,U=void 0===Q?b.nodeTooltip:Q,V=e.onClick,Y=(0,o.useRef)(null),$=(0,t.Bs)(n,i,d),ee=$.margin,ne=$.innerWidth,ie=$.innerHeight,oe=$.outerWidth,te=$.outerHeight,re=S({center:[ne/2,ie/2],nodes:s,links:v,linkDistance:h,repulsivity:x,distanceMin:g,distanceMax:p,iterations:C,nodeSize:N,activeNodeSize:T,inactiveNodeSize:L,nodeColor:Z,nodeBorderWidth:A,nodeBorderColor:P,linkThickness:_,linkColor:G}),de=re.nodes,ae=re.links,le=re.setActiveNodeIds,ce=(0,t.Fg)();(0,o.useEffect)((function(){if(null!==Y.current){Y.current.width=oe*c,Y.current.height=te*c;var e=Y.current.getContext("2d");e.scale(c,c),e.fillStyle=ce.background,e.fillRect(0,0,oe,te),e.translate(ee.left,ee.top),W.forEach((function(n){"links"===n&&null!==ae?ae.forEach((function(n){return R(e,n)})):"nodes"===n&&null!==de?de.forEach((function(n){return w(e,n)})):"function"==typeof n&&null!==de&&null!==ae&&n(e,{nodes:de,links:ae})}))}}),[Y,oe,te,ee.left,ee.top,c,W,ce,de,ae,w,R]);var ue=(0,o.useCallback)((function(e){if(Y.current&&null!==de){var n=(0,t.P6)(Y.current,e),i=n[0],o=n[1];return de.find((function(e){return(0,t.Sp)(e.x,e.y,i-ee.left,o-ee.top)<=e.size/2}))}}),[Y,ee,de]),se=(0,r.lL)(),ve=se.showTooltipFromEvent,fe=se.hideTooltip,he=(0,o.useCallback)((function(e){var n=ue(e);n?(ve((0,o.createElement)(U,{node:n}),e),le([n.id])):(fe(),le([]))}),[ue,ve,U,fe,le]),ke=(0,o.useCallback)((function(){fe(),le([])}),[fe,le]),xe=(0,o.useCallback)((function(e){if(V){var n=ue(e);n&&V(n,e)}}),[ue,V]);return(0,a.jsx)("canvas",{ref:Y,width:oe*c,height:te*c,style:{width:oe,height:te,cursor:K?"auto":"normal"},onClick:K?xe:void 0,onMouseEnter:K?he:void 0,onMouseLeave:K?ke:void 0,onMouseMove:K?he:void 0})},A=function(e){var n=e.theme,i=e.isInteractive,o=void 0===i?b.isInteractive:i,r=e.animate,d=void 0===r?b.animate:r,l=e.motionConfig,c=void 0===l?b.motionConfig:l,u=e.renderWrapper,s=p(e,Z);return(0,a.jsx)(t.W2,{isInteractive:o,animate:d,motionConfig:c,theme:n,renderWrapper:u,children:(0,a.jsx)(q,m({isInteractive:o},s))})},F=function(e){return(0,a.jsx)(t.d,{children:function(n){var i=n.width,o=n.height;return(0,a.jsx)(A,m({width:i,height:o},e))}})}}}]);
//# sourceMappingURL=705231af986de02a8286d9a13a169d882adfe7bc-d02bbabee36319f926f2.js.map