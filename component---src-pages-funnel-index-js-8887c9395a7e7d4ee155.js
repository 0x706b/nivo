(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{QRkI:function(e,t,r){"use strict";r.d(t,"a",(function(){return q})),r.d(t,"b",(function(){return b})),r.d(t,"c",(function(){return T})),r.d(t,"d",(function(){return k})),r.d(t,"e",(function(){return j}));r("xl0S"),r("VlJN"),r("YjJN"),r("jr56"),r("Eb4t"),r("IYjZ"),r("Zrjq"),r("nPhU"),r("wDqy"),r("yvkl"),r("abGl"),r("gZHo"),r("Fdmb"),r("Ir+3");var n=r("mXGw"),o=r.n(n),a=r("W0B4"),i=r.n(a),l=r("NfLg"),s=r.n(l),u=r("eeCi"),c=r.n(u),p=r("PWxN"),d=r.n(p),f=r("5QYd"),h=r("fWs0"),b=i.a.shape({match:i.a.oneOfType([i.a.func,i.a.object]).isRequired,type:i.a.oneOf(["circle","rect","dot"]).isRequired,noteX:i.a.oneOfType([i.a.number,i.a.shape({abs:i.a.number.isRequired})]).isRequired,noteY:i.a.oneOfType([i.a.number,i.a.shape({abs:i.a.number.isRequired})]).isRequired,noteWidth:i.a.number,noteTextOffset:i.a.number,note:i.a.oneOfType([i.a.node,i.a.func]).isRequired,offset:i.a.number}),y=120,m=8;function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=function(e){return{x:e.x,y:e.y}},S=function(e){var t,r,n=e.type,o=e.x,a=e.y,i=e.size,l=e.width,u=e.height,c=e.noteX,p=e.noteY,d=e.noteWidth,h=void 0===d?y:d,b=e.noteTextOffset,g=void 0===b?m:b;s()(c)?void 0!==c.abs&&(t=c.abs):t=o+c,s()(p)?void 0!==p.abs&&(r=p.abs):r=a+p;var v=o,x=a,O=function(e,t,r,n){var o=Math.atan2(n-t,r-e);return Object(f.m)(Object(f.Z)(o))}(o,a,t,r);if("circle"===n){var S=Object(f.W)(Object(f.E)(O),i/2);v+=S.x,x+=S.y}if("rect"===n){var k=Math.round((O+90)/45)%8;0===k&&(x-=u/2),1===k&&(v+=l/2,x-=u/2),2===k&&(v+=l/2),3===k&&(v+=l/2,x+=u/2),4===k&&(x+=u/2),5===k&&(v-=l/2,x+=u/2),6===k&&(v-=l/2),7===k&&(v-=l/2,x-=u/2)}var j=t,w=t;return(O+90)%360>180?(j-=h,w-=h):w+=h,{points:[[v,x],[t,r],[w,r]],text:[j,r-g],angle:O+90}},k=function(e){var t=e.items,r=e.annotations,o=e.getPosition,a=e.getDimensions;return Object(n.useMemo)((function(){return function(e){var t=e.items,r=e.annotations,n=e.getPosition,o=void 0===n?O:n,a=e.getDimensions;return r.reduce((function(e,r){return c()(t,r.match).forEach((function(t){var n=o(t),i=a(t,r.offset||0);e.push(x(x(x(x({},d()(r,["match","offset"])),n),i),{},{datum:t,size:r.size||i.size}))})),e}),[])}({items:t,annotations:r,getPosition:o,getDimensions:a})}),[t,r,o,a])},j=function(e){var t=e.annotations,r=e.containerWidth,o=e.containerHeight;return Object(n.useMemo)((function(){return t.map((function(e){return x(x({},e),{},{computed:S(x({containerWidth:r,containerHeight:o},e))})}))}),[t,r,o])},w=Object(n.memo)((function(e){var t=e.datum,r=e.x,n=e.y,a=e.note,i=Object(f.pb)(),l=Object(f.ob)(),s=l.animate,u=l.config,c=Object(h.c)({x:r,y:n,config:u,immediate:!s});return"function"==typeof a?a({x:r,y:n,datum:t}):o.a.createElement(o.a.Fragment,null,i.annotations.text.outlineWidth>0&&o.a.createElement(h.a.text,{x:c.x,y:c.y,style:x(x({},i.annotations.text),{},{strokeLinejoin:"round",strokeWidth:2*i.annotations.text.outlineWidth,stroke:i.annotations.text.outlineColor})},a),o.a.createElement(h.a.text,{x:c.x,y:c.y,style:d()(i.annotations.text,["outlineWidth","outlineColor"])},a))}));w.displayName="AnnotationNote",w.defaultProps={};var P=Object(n.memo)((function(e){var t=e.points,r=e.isOutline,n=Object(f.pb)(),a="M".concat(t[0][0],",").concat(t[0][1]);t.slice(1).forEach((function(e){a="".concat(a," L").concat(e[0],",").concat(e[1])}));var i=Object(f.ob)(),l=i.animate,s=i.config,u=Object(h.c)({path:a,config:s,immediate:!l});if(r&&n.annotations.link.outlineWidth<=0)return null;var c=x({},n.annotations.link);return r&&(c.strokeLinecap="square",c.strokeWidth=n.annotations.link.strokeWidth+2*n.annotations.link.outlineWidth,c.stroke=n.annotations.link.outlineColor),o.a.createElement(h.a.path,{fill:"none",d:u.path,style:c})}));P.displayName="AnnotationLink",P.defaultProps={isOutline:!1};var E=Object(n.memo)((function(e){var t=e.x,r=e.y,n=e.size,a=Object(f.pb)(),i=Object(f.ob)(),l=i.animate,s=i.config,u=Object(h.c)({x:t,y:r,radius:n/2,config:s,immediate:!l});return o.a.createElement(o.a.Fragment,null,a.annotations.outline.outlineWidth>0&&o.a.createElement(h.a.circle,{cx:u.x,cy:u.y,r:u.radius,style:x(x({},a.annotations.outline),{},{fill:"none",strokeWidth:a.annotations.outline.strokeWidth+2*a.annotations.outline.outlineWidth,stroke:a.annotations.outline.outlineColor})}),o.a.createElement(h.a.circle,{cx:u.x,cy:u.y,r:u.radius,style:a.annotations.outline}))}));E.displayName="CircleAnnotationOutline";var W=Object(n.memo)((function(e){var t=e.x,r=e.y,n=e.size,a=Object(f.pb)(),i=Object(f.ob)(),l=i.animate,s=i.config,u=Object(h.c)({x:t,y:r,radius:n/2,config:s,immediate:!l});return o.a.createElement(o.a.Fragment,null,a.annotations.outline.outlineWidth>0&&o.a.createElement(h.a.circle,{cx:u.x,cy:u.y,r:u.radius,style:x(x({},a.annotations.outline),{},{fill:"none",strokeWidth:2*a.annotations.outline.outlineWidth,stroke:a.annotations.outline.outlineColor})}),o.a.createElement(h.a.circle,{cx:u.x,cy:u.y,r:u.radius,style:a.annotations.symbol}))}));W.displayName="DotAnnotationOutline",W.defaultProps={size:4};var C=Object(n.memo)((function(e){var t=e.x,r=e.y,n=e.width,a=e.height,i=Object(f.pb)(),l=Object(f.ob)(),s=l.animate,u=l.config,c=Object(h.c)({x:t-n/2,y:r-a/2,width:n,height:a,config:u,immediate:!s});return o.a.createElement(o.a.Fragment,null,i.annotations.outline.outlineWidth>0&&o.a.createElement(h.a.rect,{x:c.x,y:c.y,width:c.width,height:c.height,style:x(x({},i.annotations.outline),{},{fill:"none",strokeWidth:i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor})}),o.a.createElement(h.a.rect,{x:c.x,y:c.y,width:c.width,height:c.height,style:i.annotations.outline}))}));C.displayName="RectAnnotationOutline";var q=Object(n.memo)((function(e){var t=e.datum,r=e.type,a=e.containerWidth,i=e.containerHeight,l=e.x,s=e.y,u=e.size,c=e.width,p=e.height,d=e.noteX,f=e.noteY,h=e.noteWidth,b=e.noteTextOffset,y=e.note,m=function(e){var t=e.type,r=e.containerWidth,o=e.containerHeight,a=e.x,i=e.y,l=e.size,s=e.width,u=e.height,c=e.noteX,p=e.noteY,d=e.noteWidth,f=e.noteTextOffset;return Object(n.useMemo)((function(){return S({type:t,containerWidth:r,containerHeight:o,x:a,y:i,size:l,width:s,height:u,noteX:c,noteY:p,noteWidth:d,noteTextOffset:f})}),[t,r,o,a,i,l,s,u,c,p,d,f])}({type:r,containerWidth:a,containerHeight:i,x:l,y:s,size:u,width:c,height:p,noteX:d,noteY:f,noteWidth:h,noteTextOffset:b});return o.a.createElement(o.a.Fragment,null,o.a.createElement(P,{points:m.points,isOutline:!0}),"circle"===r&&o.a.createElement(E,{x:l,y:s,size:u}),"dot"===r&&o.a.createElement(W,{x:l,y:s,size:u}),"rect"===r&&o.a.createElement(C,{x:l,y:s,width:c,height:p}),o.a.createElement(P,{points:m.points}),o.a.createElement(w,{datum:t,x:m.text[0],y:m.text[1],note:y}))}));function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(s){o=!0,a=s}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}q.displayName="Annotation",q.defaultProps={noteWidth:y,noteTextOffset:m};var L=function(e,t){t.forEach((function(t,r){var n=I(t,2),o=n[0],a=n[1];0===r?e.moveTo(o,a):e.lineTo(o,a)}))},T=function(e,t){var r=t.annotations,n=t.theme;0!==r.length&&(e.save(),r.forEach((function(t){n.annotations.link.outlineWidth>0&&(e.lineCap="square",e.strokeStyle=n.annotations.link.outlineColor,e.lineWidth=n.annotations.link.strokeWidth+2*n.annotations.link.outlineWidth,e.beginPath(),L(e,t.computed.points),e.stroke(),e.lineCap="butt"),"circle"===t.type&&n.annotations.outline.outlineWidth>0&&(e.strokeStyle=n.annotations.outline.outlineColor,e.lineWidth=n.annotations.outline.strokeWidth+2*n.annotations.outline.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),"dot"===t.type&&n.annotations.symbol.outlineWidth>0&&(e.strokeStyle=n.annotations.symbol.outlineColor,e.lineWidth=2*n.annotations.symbol.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),"rect"===t.type&&n.annotations.outline.outlineWidth>0&&(e.strokeStyle=n.annotations.outline.outlineColor,e.lineWidth=n.annotations.outline.strokeWidth+2*n.annotations.outline.outlineWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),e.strokeStyle=n.annotations.link.stroke,e.lineWidth=n.annotations.link.strokeWidth,e.beginPath(),L(e,t.computed.points),e.stroke(),"circle"===t.type&&(e.strokeStyle=n.annotations.outline.stroke,e.lineWidth=n.annotations.outline.strokeWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),"dot"===t.type&&(e.fillStyle=n.annotations.symbol.fill,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.fill()),"rect"===t.type&&(e.strokeStyle=n.annotations.outline.stroke,e.lineWidth=n.annotations.outline.strokeWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),"function"==typeof t.note?t.note(e,{datum:t.datum,x:t.computed.text[0],y:t.computed.text[1],theme:n}):(e.font="".concat(n.annotations.text.fontSize,"px ").concat(n.annotations.text.fontFamily),e.fillStyle=n.annotations.text.fill,e.strokeStyle=n.annotations.text.outlineColor,e.lineWidth=2*n.annotations.text.outlineWidth,n.annotations.text.outlineWidth>0&&(e.lineJoin="round",e.strokeText(t.note,t.computed.text[0],t.computed.text[1]),e.lineJoin="miter"),e.fillText(t.note,t.computed.text[0],t.computed.text[1]))})),e.restore())}},"Qd/H":function(e,t,r){"use strict";r.d(t,"a",(function(){return M})),r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return I}));r("1c7q"),r("VlJN"),r("YjJN"),r("jr56"),r("Eb4t"),r("IYjZ"),r("wDqy"),r("yvkl"),r("abGl"),r("gZHo"),r("Fdmb"),r("Ir+3");var n=r("mXGw"),o=r.n(n),a=r("5QYd"),i=r("W0B4"),l=r.n(i),s=r("llhf"),u=r("QRkI"),c=r("aBO9"),p=r("wbYc"),d=r("56Mt"),f=r("fWs0");function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}y({data:l.a.arrayOf(l.a.shape({id:l.a.oneOfType([l.a.string,l.a.number]).isRequired,value:l.a.number.isRequired,label:l.a.string})).isRequired,layers:l.a.arrayOf(l.a.oneOfType([l.a.oneOf(["separators","parts","labels","annotations"]),l.a.func])).isRequired,direction:l.a.oneOf(["horizontal","vertical"]).isRequired,interpolation:l.a.oneOf(["linear","smooth"]).isRequired,spacing:l.a.number.isRequired,shapeBlending:l.a.number.isRequired,colors:s.p.isRequired,fillOpacity:l.a.number.isRequired,borderWidth:l.a.number.isRequired,borderColor:s.k.isRequired,borderOpacity:l.a.number.isRequired,enableLabel:l.a.bool.isRequired,labelColor:s.k.isRequired,enableBeforeSeparators:l.a.bool.isRequired,beforeSeparatorLength:l.a.number.isRequired,beforeSeparatorOffset:l.a.number.isRequired,enableAfterSeparators:l.a.bool.isRequired,afterSeparatorLength:l.a.number.isRequired,afterSeparatorOffset:l.a.number.isRequired,annotations:l.a.arrayOf(u.b).isRequired,isInteractive:l.a.bool.isRequired,currentPartSizeExtension:l.a.number.isRequired,currentBorderWidth:l.a.number,onClick:l.a.func,onMouseEnter:l.a.func,onMouseLeave:l.a.func,role:l.a.string.isRequired},a.R);var m={layers:["separators","parts","labels","annotations"],direction:"vertical",interpolation:"smooth",spacing:0,shapeBlending:.66,colors:{scheme:"nivo"},fillOpacity:1,borderWidth:6,borderColor:{from:"color"},borderOpacity:.66,enableLabel:!0,labelColor:{theme:"background"},enableBeforeSeparators:!0,beforeSeparatorLength:0,beforeSeparatorOffset:0,enableAfterSeparators:!0,afterSeparatorLength:0,afterSeparatorOffset:0,annotations:[],isInteractive:!0,currentPartSizeExtension:0,role:"img",animate:a.f.defaultProps.animate,motionConfig:a.f.defaultProps.config};function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(s){o=!0,a=s}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=Object(n.memo)((function(e){var t=e.part;return o.a.createElement(d.a,{id:t.data.label,value:t.formattedValue,color:t.color,enableChip:!0})}));S.displayName="ChordArcTooltip";var k=function(e){var t,r,i=e.data,l=e.width,u=e.height,f=e.direction,h=e.interpolation,b=void 0===h?m.interpolation:h,g=e.spacing,v=void 0===g?m.spacing:g,k=e.shapeBlending,j=void 0===k?m.shapeBlending:k,w=e.valueFormat,P=e.colors,E=void 0===P?m.colors:P,W=e.fillOpacity,C=void 0===W?m.fillOpacity:W,q=e.borderWidth,M=void 0===q?m.borderWidth:q,I=e.borderColor,L=void 0===I?m.borderColor:I,T=e.borderOpacity,A=void 0===T?m.borderOpacity:T,z=e.labelColor,B=void 0===z?m.labelColor:z,R=e.enableBeforeSeparators,F=void 0===R?m.enableBeforeSeparators:R,V=e.beforeSeparatorLength,D=void 0===V?m.beforeSeparatorLength:V,G=e.beforeSeparatorOffset,Y=void 0===G?m.beforeSeparatorOffset:G,N=e.enableAfterSeparators,H=void 0===N?m.enableAfterSeparators:N,J=e.afterSeparatorLength,X=void 0===J?m.afterSeparatorLength:J,Z=e.afterSeparatorOffset,Q=void 0===Z?m.afterSeparatorOffset:Z,U=e.isInteractive,_=void 0===U?m.isInteractive:U,$=e.currentPartSizeExtension,K=void 0===$?m.currentPartSizeExtension:$,ee=e.currentBorderWidth,te=e.onMouseEnter,re=e.onMouseMove,ne=e.onMouseLeave,oe=e.onClick,ae=Object(a.pb)(),ie=Object(s.s)(E,"id"),le=Object(s.r)(L,ae),se=Object(s.r)(B,ae),ue=Object(a.qb)(w),ce=x(Object(n.useMemo)((function(){return function(e,t){var r=Object(c.b)().curve("smooth"===e?c.c:c.m);return"vertical"===t?r.x0((function(e){return e.x0})).x1((function(e){return e.x1})).y((function(e){return e.y})):"horizontal"===t&&r.y0((function(e){return e.y0})).y1((function(e){return e.y1})).x((function(e){return e.x})),[r,Object(c.u)().defined((function(e){return null!==e})).x((function(e){return e.x})).y((function(e){return e.y})).curve("smooth"===e?c.c:c.m)]}(b,f)}),[b,f]),2),pe=ce[0],de=ce[1],fe=F?D+Y:0,he=H?X+Q:0;"vertical"===f?(t=l-fe-he,r=u):"horizontal"===f&&(t=l,r=u-fe-he);var be=x(Object(n.useMemo)((function(){return function(e){var t,r,n=e.data,o=e.direction,a=e.width,i=e.height,l=e.spacing;"vertical"===o?(t=i,r=a):"horizontal"===o&&(t=a,r=i);var s=(t-l*(n.length-1))/n.length,u=function(e){return l*e+s*e};u.bandwidth=s;var c=n.map((function(e){return e.value}));return[u,Object(p.b)().domain([0,Math.max.apply(Math,O(c))]).range([0,r])]}({data:i,direction:f,width:t,height:r,spacing:v})}),[i,f,t,r,v]),2),ye=be[0],me=be[1],ge=x(Object(n.useState)(null),2),ve=ge[0],xe=ge[1],Oe=Object(n.useMemo)((function(){var e=i.map((function(e,n){var o,a,i,l,s=e.id===ve;"vertical"===f?(o=me(e.value),a=ye.bandwidth,l=fe+.5*(t-o),i=ye(n)):"horizontal"===f&&(o=ye.bandwidth,a=me(e.value),l=ye(n),i=fe+.5*(r-a));var u=l+o,c=l+.5*o,p=i+a,d=i+.5*a,h={data:e,width:o,height:a,color:ie(e),fillOpacity:C,borderWidth:s&&void 0!==ee?ee:M,borderOpacity:A,formattedValue:ue(e.value),isCurrent:s,x:c,x0:l,x1:u,y:d,y0:i,y1:p};return h.borderColor=le(h),h.labelColor=se(h),h})),n=j/2;return e.forEach((function(t,r){t.points=[],t.borderPoints=[];var o=e[r+1];if("vertical"===f){t.points.push({x:t.x0,y:t.y0}),t.points.push({x:t.x1,y:t.y0}),o?(t.points.push({x:o.x1,y:t.y1}),t.points.push({x:o.x0,y:t.y1})):(t.points.push({x:t.points[1].x,y:t.y1}),t.points.push({x:t.points[0].x,y:t.y1})),!0===t.isCurrent&&(t.points[0].x-=K,t.points[1].x+=K,t.points[2].x+=K,t.points[3].x-=K),t.areaPoints=[{x0:t.points[0].x,x1:t.points[1].x,y:t.y0}],t.areaPoints.push(y(y({},t.areaPoints[0]),{},{y:t.y0+t.height*n}));var a={x0:t.points[3].x,x1:t.points[2].x,y:t.y1};t.areaPoints.push(y(y({},a),{},{y:t.y1-t.height*n})),t.areaPoints.push(a),[0,1,2,3].map((function(e){t.borderPoints.push({x:t.areaPoints[e].x0,y:t.areaPoints[e].y})})),t.borderPoints.push(null),[3,2,1,0].map((function(e){t.borderPoints.push({x:t.areaPoints[e].x1,y:t.areaPoints[e].y})}))}else if("horizontal"===f){t.points.push({x:t.x0,y:t.y0}),o?(t.points.push({x:t.x1,y:o.y0}),t.points.push({x:t.x1,y:o.y1})):(t.points.push({x:t.x1,y:t.y0}),t.points.push({x:t.x1,y:t.y1})),t.points.push({x:t.x0,y:t.y1}),!0===t.isCurrent&&(t.points[0].y-=K,t.points[1].y-=K,t.points[2].y+=K,t.points[3].y+=K),t.areaPoints=[{y0:t.points[0].y,y1:t.points[3].y,x:t.x0}],t.areaPoints.push(y(y({},t.areaPoints[0]),{},{x:t.x0+t.width*n}));var i={y0:t.points[1].y,y1:t.points[2].y,x:t.x1};t.areaPoints.push(y(y({},i),{},{x:t.x1-t.width*n})),t.areaPoints.push(i),[0,1,2,3].map((function(e){t.borderPoints.push({x:t.areaPoints[e].x,y:t.areaPoints[e].y0})})),t.borderPoints.push(null),[3,2,1,0].map((function(e){t.borderPoints.push({x:t.areaPoints[e].x,y:t.areaPoints[e].y1})}))}})),e}),[i,f,me,ye,t,r,fe,he,j,ie,ue,le,se,ve]),Se=Object(d.h)(),ke=Se.showTooltipFromEvent,je=Se.hideTooltip,we=Object(n.useMemo)((function(){return function(e){var t=e.parts,r=e.setCurrentPartId,n=e.isInteractive,a=e.onMouseEnter,i=e.onMouseLeave,l=e.onMouseMove,s=e.onClick,u=e.showTooltipFromEvent,c=e.hideTooltip;return n?t.map((function(e){var t=void 0!==s?function(t){s(e,t)}:void 0;return y(y({},e),{},{onMouseEnter:function(t){r(e.data.id),u(o.a.createElement(S,{part:e}),t),void 0!==a&&a(e,t)},onMouseLeave:function(t){r(null),c(),void 0!==i&&i(e,t)},onMouseMove:function(t){u(o.a.createElement(S,{part:e}),t),void 0!==l&&l(e,t)},onClick:t})})):t}({parts:Oe,setCurrentPartId:xe,isInteractive:_,onMouseEnter:te,onMouseLeave:ne,onMouseMove:re,onClick:oe,showTooltipFromEvent:ke,hideTooltip:je})}),[Oe,xe,_,te,ne,re,oe,ke,je]),Pe=x(Object(n.useMemo)((function(){return function(e){var t=e.parts,r=e.direction,n=e.width,o=e.height,a=e.spacing,i=e.enableBeforeSeparators,l=e.beforeSeparatorOffset,s=e.enableAfterSeparators,u=e.afterSeparatorOffset,c=[],p=[],d=t[t.length-1];if("vertical"===r){t.forEach((function(e){var t=e.y0-a/2;!0===i&&c.push({partId:e.data.id,x0:0,x1:e.x0-l,y0:t,y1:t}),!0===s&&p.push({partId:e.data.id,x0:e.x1+u,x1:n,y0:t,y1:t})}));var f=d.y1;!0===i&&c.push(y(y({},c[c.length-1]),{},{partId:"none",y0:f,y1:f})),!0===s&&p.push(y(y({},p[p.length-1]),{},{partId:"none",y0:f,y1:f}))}else if("horizontal"===r){t.forEach((function(e){var t=e.x0-a/2;c.push({partId:e.data.id,x0:t,x1:t,y0:0,y1:e.y0-l}),p.push({partId:e.data.id,x0:t,x1:t,y0:e.y1+u,y1:o})}));var h=d.x1;c.push(y(y({},c[c.length-1]),{},{partId:"none",x0:h,x1:h})),p.push(y(y({},p[p.length-1]),{},{partId:"none",x0:h,x1:h}))}return[c,p]}({parts:Oe,direction:f,width:l,height:u,spacing:v,enableBeforeSeparators:F,beforeSeparatorOffset:Y,enableAfterSeparators:H,afterSeparatorOffset:Q})}),[Oe,f,l,u,v,F,Y,H,Q]),2),Ee=Pe[0],We=Pe[1],Ce=Object(n.useMemo)((function(){return{width:l,height:u,parts:we,areaGenerator:pe,borderGenerator:de,beforeSeparators:Ee,afterSeparators:We,setCurrentPartId:xe}}),[l,u,we,pe,de,Ee,We,xe]);return{parts:we,areaGenerator:pe,borderGenerator:de,beforeSeparators:Ee,afterSeparators:We,setCurrentPartId:xe,currentPartId:ve,customLayerProps:Ce}},j=function(e){var t=e.part,r=e.areaGenerator,n=e.borderGenerator,i=Object(a.ob)(),l=i.animate,s=i.config,u=Object(f.c)({areaPath:r(t.areaPoints),areaColor:t.color,borderPath:n(t.borderPoints),borderWidth:t.borderWidth,borderColor:t.borderColor,config:s,immediate:!l});return o.a.createElement(o.a.Fragment,null,t.borderWidth>0&&o.a.createElement(f.a.path,{d:u.borderPath,stroke:u.borderColor,strokeWidth:u.borderWidth,strokeOpacity:t.borderOpacity,fill:"none"}),o.a.createElement(f.a.path,{d:u.areaPath,fill:u.areaColor,fillOpacity:t.fillOpacity,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onMouseMove:t.onMouseMove,onClick:t.onClick}))},w=function(e){var t=e.parts,r=e.areaGenerator,n=e.borderGenerator;return t.map((function(e){return o.a.createElement(j,{key:e.data.id,part:e,areaGenerator:r,borderGenerator:n})}))},P=function(e){var t=e.part,r=Object(a.pb)(),n=Object(a.ob)(),i=n.animate,l=n.config,s=Object(f.c)({transform:"translate(".concat(t.x,", ").concat(t.y,")"),color:t.labelColor,config:l,immediate:!i});return o.a.createElement(f.a.g,{transform:s.transform},o.a.createElement(f.a.text,{textAnchor:"middle",dominantBaseline:"central",style:y(y({},r.labels.text),{},{fill:s.color,pointerEvents:"none"})},t.formattedValue))},E=function(e){return e.parts.map((function(e){return o.a.createElement(P,{key:e.data.id,part:e})}))},W=function(e){var t=e.separator,r=Object(a.pb)(),n=Object(a.ob)(),i=n.animate,l=n.config,s=Object(f.c)({x1:t.x0,x2:t.x1,y1:t.y0,y2:t.y1,config:l,immediate:!i});return o.a.createElement(f.a.line,Object.assign({x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2,fill:"none"},r.grid.line))},C=function(e){var t=e.beforeSeparators,r=e.afterSeparators;return o.a.createElement(o.a.Fragment,null,t.map((function(e){return o.a.createElement(W,{key:e.partId,separator:e})})),r.map((function(e){return o.a.createElement(W,{key:e.partId,separator:e})})))},q=function(e){var t=e.parts,r=e.annotations,n=e.width,a=e.height;return function(e,t){return 0===t.length?[]:Object(u.d)({items:e,annotations:t,getDimensions:function(e,t){var r=e.width+2*t,n=e.height+2*t;return{size:Math.max(r,n),width:r,height:n}}})}(t,r).map((function(e,t){return o.a.createElement(u.a,Object.assign({key:t},e,{containerWidth:n,containerHeight:a}))}))},M=Object(a.rb)((function(e){var t=e.data,r=e.width,i=e.height,l=e.margin,s=e.direction,u=e.interpolation,c=e.spacing,p=e.shapeBlending,d=e.valueFormat,f=e.colors,h=e.fillOpacity,b=e.borderWidth,y=e.borderColor,m=e.borderOpacity,g=e.enableLabel,v=e.labelColor,x=e.enableBeforeSeparators,O=e.beforeSeparatorLength,S=e.beforeSeparatorOffset,j=e.enableAfterSeparators,P=e.afterSeparatorLength,W=e.afterSeparatorOffset,M=e.layers,I=e.annotations,L=e.isInteractive,T=e.currentPartSizeExtension,A=e.currentBorderWidth,z=e.onMouseEnter,B=e.onMouseMove,R=e.onMouseLeave,F=e.onClick,V=e.role,D=Object(a.mb)(r,i,l),G=D.margin,Y=D.innerWidth,N=D.innerHeight,H=D.outerWidth,J=D.outerHeight,X=k({data:t,width:Y,height:N,direction:s,interpolation:u,spacing:c,shapeBlending:p,valueFormat:d,colors:f,fillOpacity:h,borderWidth:b,borderColor:y,borderOpacity:m,labelColor:v,enableBeforeSeparators:x,beforeSeparatorLength:O,beforeSeparatorOffset:S,enableAfterSeparators:j,afterSeparatorLength:P,afterSeparatorOffset:W,isInteractive:L,currentPartSizeExtension:T,currentBorderWidth:A,onMouseEnter:z,onMouseMove:B,onMouseLeave:R,onClick:F}),Z=X.areaGenerator,Q=X.borderGenerator,U=X.parts,_=X.beforeSeparators,$=X.afterSeparators,K=X.customLayerProps,ee={separators:o.a.createElement(C,{key:"separators",beforeSeparators:_,afterSeparators:$}),parts:o.a.createElement(w,{key:"parts",parts:U,areaGenerator:Z,borderGenerator:Q,enableLabel:g}),annotations:o.a.createElement(q,{key:"annotations",parts:U,annotations:I,widh:Y,height:N}),labels:null};return!0===g&&(ee.labels=o.a.createElement(E,{key:"labels",parts:U})),o.a.createElement(a.k,{width:H,height:J,margin:G,role:V},M.map((function(e,t){return"function"==typeof e?o.a.createElement(n.Fragment,{key:t},e(K)):ee[e]})))}));M.defaultProps=m;var I=function(e){return o.a.createElement(a.j,null,(function(t){var r=t.width,n=t.height;return o.a.createElement(M,Object.assign({width:r,height:n},e))}))}},cBF7:function(e,t,r){"use strict";r.r(t);r("1c7q");var n=r("mXGw"),o=r.n(n),a=r("HVn3"),i=r.n(a),l=r("Qd/H"),s=r("ZS2m"),u=r("P9Va"),c=r.n(u),p=r("nLLr"),d=Object(p.c)({valueFormat:p.b}),f=(r("VlJN"),r("YjJN"),r("Eb4t"),r("Fdmb"),r("IYjZ"),r("yvkl"),r("abGl"),r("RQLE"));var h,b=[{key:"data",type:"Array<Datum>",group:"Base",help:"Chart data.",description:"\n            Chart data, which must conform to this structure:\n            ```\n            Array<{\n                id:    string | number\n                label: string\n                value: number\n            }>\n            ```\n        ",required:!0},{key:"margin",group:"Base",type:"object",help:"Chart margin.",controlType:"margin"},{key:"direction",help:"Direction of the chart.",type:"string",required:!1,defaultValue:l.b.direction,controlType:"radio",group:"Base",controlOptions:{choices:[{label:"horizontal",value:"horizontal"},{label:"vertical",value:"vertical"}]}},{key:"interpolation",group:"Base",type:"string",help:"Part shape interpolation.",required:!1,defaultValue:l.b.interpolation,controlType:"radio",controlOptions:{choices:[{label:"smooth",value:"smooth"},{label:"linear",value:"linear"}]}},{key:"spacing",help:"Spacing between parts",type:"number",required:!1,defaultValue:l.b.spacing,controlType:"range",group:"Base",controlOptions:{min:0,max:30,unit:"px"}},{key:"shapeBlending",help:"Blend shapes.",type:"number",required:!1,defaultValue:l.b.shapeBlending,controlType:"range",group:"Base",controlOptions:{min:0,max:1,step:.01}},{key:"valueFormat",help:"\n            Value format supporting d3-format notation, this formatted value\n            will then be used for labels and tooltips.\n        ",type:"string | Function",required:!1,controlType:"valueFormat",group:"Base"},f.f,{key:"colors",help:"Defines how to compute parts color.",type:"string | Function | string[]",required:!1,defaultValue:l.b.colors,controlType:"ordinalColors",group:"Style"},{key:"fillOpacity",help:"Part background opacity.",required:!1,defaultValue:l.b.fillOpacity,type:"number",controlType:"opacity",group:"Style"},{key:"borderWidth",help:"Width of part border.",type:"number",required:!1,defaultValue:l.b.borderWidth,controlType:"lineWidth",group:"Style"},{key:"borderColor",help:"Method to compute border color.",description:"\n            how to compute border color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:l.b.borderColor,controlType:"inheritedColor",group:"Style"},{key:"borderOpacity",help:"Part border opacity.",required:!1,defaultValue:l.b.borderOpacity,type:"number",controlType:"opacity",group:"Style"},{key:"enableLabel",help:"\n            Enable/disable labels. Use styles from\n            theme.labels.text.\n        ",type:"boolean",required:!1,defaultValue:l.b.enableLabel,controlType:"switch",group:"Labels"},{key:"labelColor",help:"Method to compute label color.",description:"\n            how to compute label color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:l.b.labelColor,controlType:"inheritedColor",group:"Labels"},{key:"enableBeforeSeparators",help:"\n            Enable/disable before separators.\n            Separators inherit styles from theme.grid.line.\n        ",type:"boolean",required:!1,defaultValue:l.b.enableBeforeSeparators,controlType:"switch",group:"Separators"},{key:"beforeSeparatorLength",help:"\n            Length of the before separator lines. You should add margin\n            for them to be visible if the value is greater than 0.\n        ",required:!1,defaultValue:l.b.beforeSeparatorLength,type:"number",controlType:"range",group:"Separators",controlOptions:{unit:"px",min:0,max:100}},{key:"beforeSeparatorOffset",help:"\n            Offset from the parts for the before separator lines.\n            You should add margin for them to be visible\n            if the value is greater than 0.\n        ",required:!1,defaultValue:l.b.beforeSeparatorOffset,type:"number",controlType:"range",group:"Separators",controlOptions:{unit:"px",min:0,max:100}},{key:"enableAfterSeparators",help:"\n            Enable/disable after separators.\n            Separators inherit styles from theme.grid.line.\n        ",type:"boolean",required:!1,defaultValue:l.b.enableAfterSeparators,controlType:"switch",group:"Separators"},{key:"afterSeparatorLength",help:"\n            Length of the after separator lines. You should add margin\n            for them to be visible if the value is greater than 0.\n        ",required:!1,defaultValue:l.b.afterSeparatorLength,type:"number",controlType:"range",group:"Separators",controlOptions:{unit:"px",min:0,max:100}},{key:"afterSeparatorOffset",help:"\n            Offset from the parts for the after separator lines.\n            You should add margin for them to be visible\n            if the value is greater than 0.\n        ",required:!1,defaultValue:l.b.afterSeparatorOffset,type:"number",controlType:"range",group:"Separators",controlOptions:{unit:"px",min:0,max:100}},{key:"layers",group:"Customization",help:"Defines the order of layers and add custom layers.",description:"\n            You can also use this to insert extra layers\n            to the chart, the extra layer must be a function.\n            \n            The layer function which will receive the chart's\n            context & computed data and must return a valid SVG element.\n        ",required:!1,type:"Array<string | Function>",defaultValue:l.b.layers},{key:"isInteractive",group:"Interactivity",type:"boolean",help:"Enable/disable interactivity.",required:!1,defaultValue:l.b.isInteractive,controlType:"switch"},{key:"currentPartSizeExtension",help:"\n            Expand part size by this amount of pixels on each side\n            when it's active \n        ",required:!1,defaultValue:l.b.currentPartSizeExtension,type:"number",controlType:"range",group:"Interactivity",controlOptions:{unit:"px",min:0,max:100}},{key:"currentBorderWidth",help:"Override default border width when a part is active.",required:!1,type:"number",controlType:"range",group:"Interactivity",controlOptions:{unit:"px",min:0,max:100}},{key:"onMouseEnter",group:"Interactivity",help:"onMouseEnter handler.",type:"(part, event) => void",required:!1},{key:"onMouseMove",group:"Interactivity",help:"onMouseMove handler.",type:"(part, event) => void",required:!1},{key:"onMouseLeave",group:"Interactivity",help:"onMouseLeave handler.",type:"(part, event) => void",required:!1},{key:"onClick",group:"Interactivity",help:"onClick handler.",type:"(part, event) => void",required:!1}].concat(function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(h=Object(f.e)(["svg"],l.b,"react-spring"))||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),y=Object(f.d)(b),m=r("9va6"),g=function(){var e=1e5;return["sent","viewed","clicked","add_to_card","purchased"].map((function(t){return{id:"step_"+t,value:e=Math.round(e*Object(m.random)(.6,.95)),label:Object(m.startCase)(t)}}))},v={margin:{top:20,right:20,bottom:20,left:20},direction:l.b.direction,interpolation:l.b.interpolation,shapeBlending:l.b.shapeBlending,spacing:l.b.spacing,valueFormat:{format:">-.4s",enabled:!0},colors:{scheme:"spectral"},fillOpacity:l.b.fillOpacity,borderWidth:20,borderColor:l.b.borderColor,borderOpacity:l.b.borderOpacity,enableLabel:l.b.enableLabel,labelColor:{from:"color",modifiers:[["darker",3]]},enableBeforeSeparators:l.b.enableBeforeSeparators,beforeSeparatorLength:100,beforeSeparatorOffset:20,enableAfterSeparators:l.b.enableAfterSeparators,afterSeparatorLength:100,afterSeparatorOffset:20,isInteractive:!0,currentPartSizeExtension:10,currentBorderWidth:40,animate:!0,motionConfig:"wobbly"};t.default=function(){return o.a.createElement(s.a,{name:"Funnel",meta:c.a.Funnel,icon:"funnel",flavors:c.a.flavors,currentFlavor:"svg",properties:y,initialProperties:v,defaultProperties:l.b,propertiesMapper:d,generateData:g},(function(e,t,r,n){return o.a.createElement(l.c,Object.assign({data:t},e,{theme:i()({},r,{labels:{text:{fontSize:14}}}),onClick:function(e){n({type:"click",label:"[part] id: "+e.data.id+", value: "+e.data.value,color:e.color,data:e.data})}}))}))}},eeCi:function(e,t,r){var n=r("07F0"),o=r("lJjI"),a=r("tDyL"),i=r("PqlX");e.exports=function(e,t){return(i(e)?n:o)(e,a(t,3))}},lJjI:function(e,t,r){var n=r("T0uz");e.exports=function(e,t){var r=[];return n(e,(function(e,n,o){t(e,n,o)&&r.push(e)})),r}}}]);
//# sourceMappingURL=component---src-pages-funnel-index-js-8887c9395a7e7d4ee155.js.map