"use strict";(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[5830],{55930:function(e,r,n){n.d(r,{VC:function(){return ne},tn:function(){return ae},LJ:function(){return le},Sy:function(){return ce},mX:function(){return P},Pq:function(){return F},XB:function(){return V}});var t=n(27378),o=n(98383),i=n(47425),a=n(89193),l=n(24246),c=n(14503),u=n(58493),s=n(29140);function d(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}1===(b=d).length&&(f=b,b=function(e,r){return d(f(e),r)});var b,f,v=Array.prototype;v.slice,v.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function g(e,r,n){e=+e,r=+r,n=(o=arguments.length)<2?(r=e,e=0,1):o<3?1:+n;for(var t=-1,o=0|Math.max(0,Math.ceil((r-e)/n)),i=new Array(o);++t<o;)i[t]=e+t*n;return i}var p=Math.cos,h=Math.sin,m=Math.PI,y=m/2,A=2*m,M=Math.max;function R(e){return function(r,n){return e(r.source.value+r.target.value,n.source.value+n.target.value)}}var O=Array.prototype.slice;function x(e){return function(){return e}}var C=n(41584);function k(e){return e.source}function E(e){return e.target}function B(e){return e.radius}function j(e){return e.startAngle}function W(e){return e.endAngle}function w(){var e=k,r=E,n=B,t=j,o=W,i=null;function a(){var a,l=O.call(arguments),c=e.apply(this,l),u=r.apply(this,l),s=+n.apply(this,(l[0]=c,l)),d=t.apply(this,l)-y,b=o.apply(this,l)-y,f=s*p(d),v=s*h(d),g=+n.apply(this,(l[0]=u,l)),m=t.apply(this,l)-y,A=o.apply(this,l)-y;if(i||(i=a=(0,C.Z)()),i.moveTo(f,v),i.arc(0,0,s,d,b),d===m&&b===A||(i.quadraticCurveTo(0,0,g*p(m),g*h(m)),i.arc(0,0,g,m,A)),i.quadraticCurveTo(0,0,f,v),i.closePath(),a)return i=null,a+""||null}return a.radius=function(e){return arguments.length?(n="function"==typeof e?e:x(+e),a):n},a.startAngle=function(e){return arguments.length?(t="function"==typeof e?e:x(+e),a):t},a.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:x(+e),a):o},a.source=function(r){return arguments.length?(e=r,a):e},a.target=function(e){return arguments.length?(r=e,a):r},a.context=function(e){return arguments.length?(i=null==e?null:e,a):i},a}var I=n(30042);function G(){return G=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},G.apply(this,arguments)}function L(e,r){if(null==e)return{};var n,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}var T=(0,t.memo)((function(e){var r=e.arc;return(0,l.jsx)(a._5,{id:r.label,value:r.formattedValue,color:r.color,enableChip:!0})})),S=(0,t.memo)((function(e){var r=e.ribbon;return(0,l.jsx)(a.zI,{rows:[[(0,l.jsx)(a.Af,{color:r.source.color},"chip"),(0,l.jsx)("strong",{children:r.source.label},"id"),r.source.formattedValue],[(0,l.jsx)(a.Af,{color:r.target.color},"chip"),(0,l.jsx)("strong",{children:r.target.label},"id"),r.target.formattedValue]]})})),F={layers:["ribbons","arcs","labels","legends"],padAngle:0,innerRadiusRatio:.9,innerRadiusOffset:0,colors:{scheme:"nivo"},arcOpacity:1,activeArcOpacity:1,inactiveArcOpacity:.15,arcBorderWidth:1,arcBorderColor:{from:"color",modifiers:[["darker",.4]]},arcTooltip:T,ribbonOpacity:.5,activeRibbonOpacity:.85,inactiveRibbonOpacity:.15,ribbonBorderWidth:1,ribbonBorderColor:{from:"color",modifiers:[["darker",.4]]},ribbonBlendMode:"normal",enableLabel:!0,label:"id",labelOffset:12,labelRotation:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,legends:[],animate:!0,motionConfig:"gentle",role:"img"},V=G({},F,{ribbonBlendMode:"normal",ribbonTooltip:S}),P=G({},F,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),q=function(e){var r=e.padAngle;return function(){var e=0,r=null,n=null,t=null;function o(o){var i,a,l,c,u,s,d=o.length,b=[],f=g(d),v=[],p=[],h=p.groups=new Array(d),m=new Array(d*d);for(i=0,u=-1;++u<d;){for(a=0,s=-1;++s<d;)a+=o[u][s];b.push(a),v.push(g(d)),i+=a}for(r&&f.sort((function(e,n){return r(b[e],b[n])})),n&&v.forEach((function(e,r){e.sort((function(e,t){return n(o[r][e],o[r][t])}))})),c=(i=M(0,A-e*d)/i)?e:A/d,a=0,u=-1;++u<d;){for(l=a,s=-1;++s<d;){var y=f[u],R=v[y][s],O=o[y][R],x=a,C=a+=O*i;m[R*d+y]={index:y,subindex:R,startAngle:x,endAngle:C,value:O}}h[y]={index:y,startAngle:l,endAngle:a,value:b[y]},a+=c}for(u=-1;++u<d;)for(s=u-1;++s<d;){var k=m[s*d+u],E=m[u*d+s];(k.value||E.value)&&p.push(k.value<E.value?{source:E,target:k}:{source:k,target:E})}return t?p.sort(t):p}return o.padAngle=function(r){return arguments.length?(e=M(0,r),o):e},o.sortGroups=function(e){return arguments.length?(r=e,o):r},o.sortSubgroups=function(e){return arguments.length?(n=e,o):n},o.sortChords=function(e){return arguments.length?(null==e?t=null:(t=R(e))._=e,o):t&&t._},o}().padAngle(r)},H=function(e){var r=e.startAngle,n=e.endAngle,t=e.arcGenerator;return(0,u.to)([r,n],(function(e,r){return t({startAngle:e,endAngle:r})}))},_=function(e){var r=e.sourceStartAngle,n=e.sourceEndAngle,t=e.targetStartAngle,o=e.targetEndAngle,i=e.ribbonGenerator;return(0,u.to)([r,n,t,o],(function(e,r,n,t){return i({source:{startAngle:Math.min(e,r),endAngle:Math.max(r,e)},target:{startAngle:Math.min(n,t),endAngle:Math.max(t,n)}})}))},$=function(e){var r=e.width,n=e.height,o=e.innerRadiusRatio,i=e.innerRadiusOffset;return(0,t.useMemo)((function(){return function(e){var r=e.width,n=e.height,t=e.innerRadiusRatio,o=e.innerRadiusOffset,i=[r/2,n/2],a=Math.min(r,n)/2,l=a*t,c=a*(t-o);return{center:i,radius:a,innerRadius:l,arcGenerator:(0,s.Z)().outerRadius(a).innerRadius(l),ribbonGenerator:w().radius(c)}}({width:r,height:n,innerRadiusRatio:o,innerRadiusOffset:i})}),[r,n,o,i])},z=function(e){var r=e.chord,n=e.getColor,o=e.keys,i=e.data,a=e.getLabel,l=e.formatValue;return(0,t.useMemo)((function(){return function(e){var r=e.chord,n=e.data,t=e.keys,o=e.getLabel,i=e.formatValue,a=e.getColor,l=r(n),c=l.groups.map((function(e){var r=G({},e,{id:t[e.index],formattedValue:i(e.value)});return G({},r,{label:o(r),color:a(r)})}));return{arcs:c,ribbons:l.map((function(e){var r=G({},e.source,{id:t[e.source.index],formattedValue:i(e.source.value)}),n=G({},e.target,{id:t[e.target.index],formattedValue:i(e.target.value)});return G({},e,{id:[r.id,n.id].sort().join("."),source:G({},r,{label:o(r),color:a(r)}),target:G({},n,{label:o(n),color:a(n)})})}))}}({chord:r,data:i,keys:o,getLabel:a,formatValue:l,getColor:n})}),[r,n,o,i,a,l])},D=function(e){var r=e.data,n=e.keys,i=e.label,a=void 0===i?F.label:i,l=e.valueFormat,u=e.width,s=e.height,d=e.innerRadiusRatio,b=void 0===d?F.innerRadiusRatio:d,f=e.innerRadiusOffset,v=void 0===f?F.innerRadiusOffset:f,g=e.padAngle,p=void 0===g?F.padAngle:g,h=e.colors,m=void 0===h?F.colors:h,y=function(e){var r=e.padAngle;return(0,t.useMemo)((function(){return q({padAngle:r})}),[r])}({padAngle:p}),A=$({width:u,height:s,innerRadiusRatio:b,innerRadiusOffset:v}),M=A.center,R=A.radius,O=A.innerRadius,x=A.arcGenerator,C=A.ribbonGenerator,k=(0,t.useMemo)((function(){return(0,o.ji)(a)}),[a]),E=(0,o.O_)(l),B=(0,c.U)(m,"id"),j=z({chord:y,getColor:B,keys:n,data:r,getLabel:k,formatValue:E});return{center:M,chord:y,radius:R,innerRadius:O,arcGenerator:x,ribbonGenerator:C,getColor:B,arcs:j.arcs,ribbons:j.ribbons}},N=function(e){var r=e.arcOpacity,n=void 0===r?F.arcOpacity:r,o=e.activeArcOpacity,i=void 0===o?F.activeArcOpacity:o,a=e.inactiveArcOpacity,l=void 0===a?F.inactiveArcOpacity:a,c=e.ribbons,u=e.ribbonOpacity,s=void 0===u?F.ribbonOpacity:u,d=e.activeRibbonOpacity,b=void 0===d?F.activeRibbonOpacity:d,f=e.inactiveRibbonOpacity,v=void 0===f?F.inactiveRibbonOpacity:f,g=(0,t.useState)(null),p=g[0],h=g[1],m=(0,t.useState)(null),y=m[0],A=m[1],M=(0,t.useMemo)((function(){var e=[],r=[];return p&&(e.push(p.id),c.filter((function(e){return e.source.id===p.id||e.target.id===p.id})).forEach((function(e){r.push(e.id)}))),y&&(e.push(y.source.id),e.push(y.target.id),r.push(y.id)),{selectedArcIds:e,selectedRibbonIds:r}}),[p,y,c]),R=M.selectedArcIds.length>1||M.selectedRibbonIds.length>0,O=(0,t.useMemo)((function(){return function(e){return R?M.selectedArcIds.includes(e.id)?i:l:n}}),[R,M.selectedArcIds,n,i,l]),x=(0,t.useMemo)((function(){return function(e){return R?M.selectedRibbonIds.includes(e.id)?b:v:s}}),[R,M.selectedRibbonIds,s,b,v]);return G({currentArc:p,setCurrentArc:h,currentRibbon:y,setCurrentRibbon:A,hasSelection:R},M,{getArcOpacity:O,getRibbonOpacity:x})},X=function(e){var r=e.center,n=e.radius,o=e.arcs,i=e.arcGenerator,a=e.ribbons,l=e.ribbonGenerator;return(0,t.useMemo)((function(){return{center:r,radius:n,arcs:o,arcGenerator:i,ribbons:a,ribbonGenerator:l}}),[r,n,o,i,a,l])},Z=(0,t.memo)((function(e){var r=e.ribbon,n=e.ribbonGenerator,o=e.animatedProps,i=e.borderWidth,c=e.blendMode,s=e.isInteractive,d=e.setCurrent,b=e.onMouseEnter,f=e.onMouseMove,v=e.onMouseLeave,g=e.onClick,p=e.tooltip,h=(0,a.lL)(),m=h.showTooltipFromEvent,y=h.hideTooltip,A=(0,t.useMemo)((function(){if(s)return function(e){d(r),m((0,t.createElement)(p,{ribbon:r}),e),null==b||b(r,e)}}),[s,m,p,r,b,d]),M=(0,t.useMemo)((function(){if(s)return function(e){m((0,t.createElement)(p,{ribbon:r}),e),null==f||f(r,e)}}),[s,m,p,r,f]),R=(0,t.useMemo)((function(){if(s)return function(e){d(null),y(),null==v||v(r,e)}}),[s,y,r,v,d]),O=(0,t.useMemo)((function(){if(s&&g)return function(e){return null==g?void 0:g(r,e)}}),[s,r,g]);return(0,l.jsx)(u.q.path,{"data-testid":"ribbon."+r.source.id+"."+r.target.id,d:_({sourceStartAngle:o.sourceStartAngle,sourceEndAngle:o.sourceEndAngle,targetStartAngle:o.targetStartAngle,targetEndAngle:o.targetEndAngle,ribbonGenerator:n}),fill:o.color,opacity:o.opacity,strokeWidth:i,stroke:o.borderColor,style:{mixBlendMode:c},onMouseEnter:A,onMouseMove:M,onMouseLeave:R,onClick:O})})),J=function(e,r){var n,t,i=e.source,a=e.target;if(i.startAngle<a.startAngle?(n=i,t=a):(n=a,t=i),r){var l=(0,o.Vp)(n),c=(0,o.Vp)(t);return{sourceStartAngle:l,sourceEndAngle:l,targetStartAngle:c,targetEndAngle:c}}return{sourceStartAngle:n.startAngle,sourceEndAngle:n.endAngle,targetStartAngle:t.startAngle,targetEndAngle:t.endAngle}},U=(0,t.memo)((function(e){var r=e.ribbons,n=e.ribbonGenerator,t=e.borderWidth,i=e.borderColor,a=e.getOpacity,s=e.blendMode,d=e.isInteractive,b=e.setCurrent,f=e.onMouseEnter,v=e.onMouseMove,g=e.onMouseLeave,p=e.onClick,h=e.tooltip,m=(0,o.tf)(),y=m.animate,A=m.config,M=(0,o.Fg)(),R=(0,c.Bf)(i,M),O=(0,u.useTransition)(r,{keys:function(e){return e.id},initial:function(e){return G({},J(e,!1),{color:e.source.color,opacity:a(e),borderColor:R(e.source)})},from:function(e){return G({},J(e,!1),{color:e.source.color,opacity:0,borderColor:R(e.source)})},update:function(e){return G({},J(e,!1),{color:e.source.color,opacity:a(e),borderColor:R(e.source)})},leave:function(e){return G({},J(e,!1),{color:e.source.color,opacity:0,borderColor:R(e.source)})},expires:!0,config:A,immediate:!y});return(0,l.jsx)(l.Fragment,{children:O((function(e,r){return(0,l.jsx)(Z,{ribbon:r,ribbonGenerator:n,animatedProps:e,borderWidth:t,blendMode:s,setCurrent:b,isInteractive:d,tooltip:h,onMouseEnter:f,onMouseMove:v,onMouseLeave:g,onClick:p},r.id)}))})})),K=(0,t.memo)((function(e){var r=e.arc,n=e.animatedProps,o=e.borderWidth,i=e.arcGenerator,c=e.setCurrent,s=e.isInteractive,d=e.onMouseEnter,b=e.onMouseMove,f=e.onMouseLeave,v=e.onClick,g=e.tooltip,p=(0,a.lL)(),h=p.showTooltipFromEvent,m=p.hideTooltip,y=(0,t.useMemo)((function(){if(s)return function(e){c(r),h((0,t.createElement)(g,{arc:r}),e),null==d||d(r,e)}}),[s,h,g,r,d,c]),A=(0,t.useMemo)((function(){if(s)return function(e){h((0,t.createElement)(g,{arc:r}),e),null==b||b(r,e)}}),[s,h,g,r,b]),M=(0,t.useMemo)((function(){if(s)return function(e){c(null),m(),null==f||f(r,e)}}),[s,m,r,f,c]),R=(0,t.useMemo)((function(){if(s&&v)return function(e){return null==v?void 0:v(r,e)}}),[s,r,v]);return(0,l.jsx)(u.q.path,{"data-testid":"arc."+r.id,d:H({startAngle:n.startAngle,endAngle:n.endAngle,arcGenerator:i}),fill:n.color,opacity:n.opacity,strokeWidth:o,stroke:n.borderColor,onMouseEnter:y,onMouseMove:A,onMouseLeave:M,onClick:R})})),Q=(0,t.memo)((function(e){var r=e.arcs,n=e.borderWidth,t=e.borderColor,i=e.getOpacity,a=e.arcGenerator,s=e.setCurrent,d=e.isInteractive,b=e.onMouseEnter,f=e.onMouseMove,v=e.onMouseLeave,g=e.onClick,p=e.tooltip,h=(0,o.tf)(),m=h.animate,y=h.config,A=(0,o.Fg)(),M=(0,c.Bf)(t,A),R=(0,u.useTransition)(r,{keys:function(e){return e.id},initial:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:i(e),borderColor:M(e)}},from:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:0,borderColor:M(e)}},update:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:i(e),borderColor:M(e)}},leave:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:0,borderColor:M(e)}},expires:!0,config:y,immediate:!m});return(0,l.jsx)(l.Fragment,{children:R((function(e,r){return(0,l.jsx)(K,{arc:r,arcGenerator:a,animatedProps:e,borderWidth:n,setCurrent:s,isInteractive:d,tooltip:p,onMouseEnter:b,onMouseMove:f,onMouseLeave:v,onClick:g},r.id)}))})})),Y=(0,t.memo)((function(e){var r=e.arcs,n=e.radius,i=e.rotation,a=e.color,s=(0,o.tf)(),d=s.animate,b=s.config,f=(0,o.Fg)(),v=(0,c.Bf)(a,f),g=(0,t.useMemo)((function(){return r.map((function(e){var r=(0,o.Vp)(e),t=(0,o.$t)(n,r,i);return{id:e.id,label:e.label,x:t.x,y:t.y,rotation:t.rotate,color:v(e),textAnchor:t.align,dominantBaseline:t.baseline}}))}),[r,n,i,v]),p=(0,u.useTransition)(g,{keys:function(e){return e.id},initial:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},from:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},enter:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},update:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},expires:!0,config:b,immediate:!d});return(0,l.jsx)(l.Fragment,{children:p((function(e,r){return(0,l.jsx)(u.q.text,{"data-testid":"label."+r.id,style:G({},f.labels.text,{pointerEvents:"none",fill:e.color}),transform:(0,u.to)([e.x,e.y,e.rotation],(function(e,r,n){return"translate("+e+", "+r+") rotate("+n+")"})),textAnchor:r.textAnchor,dominantBaseline:r.dominantBaseline,children:r.label},r.id)}))})})),ee=["isInteractive","animate","motionConfig","theme","renderWrapper"],re=function(e){var r=e.data,n=e.keys,a=e.label,c=e.valueFormat,u=e.margin,s=e.width,d=e.height,b=e.innerRadiusRatio,f=void 0===b?V.innerRadiusRatio:b,v=e.innerRadiusOffset,g=void 0===v?V.innerRadiusOffset:v,p=e.padAngle,h=void 0===p?V.padAngle:p,m=e.layers,y=void 0===m?V.layers:m,A=e.colors,M=void 0===A?V.colors:A,R=e.arcBorderWidth,O=void 0===R?V.arcBorderWidth:R,x=e.arcBorderColor,C=void 0===x?V.arcBorderColor:x,k=e.arcOpacity,E=void 0===k?V.arcOpacity:k,B=e.activeArcOpacity,j=void 0===B?V.activeArcOpacity:B,W=e.inactiveArcOpacity,w=void 0===W?V.inactiveArcOpacity:W,I=e.arcTooltip,L=void 0===I?V.arcTooltip:I,T=e.ribbonBorderWidth,S=void 0===T?V.ribbonBorderWidth:T,F=e.ribbonBorderColor,P=void 0===F?V.ribbonBorderColor:F,q=e.ribbonBlendMode,H=void 0===q?V.ribbonBlendMode:q,_=e.ribbonOpacity,$=void 0===_?V.ribbonOpacity:_,z=e.activeRibbonOpacity,Z=void 0===z?V.activeRibbonOpacity:z,J=e.inactiveRibbonOpacity,K=void 0===J?V.inactiveRibbonOpacity:J,ee=e.ribbonTooltip,re=void 0===ee?V.ribbonTooltip:ee,ne=e.enableLabel,te=void 0===ne?V.enableLabel:ne,oe=e.labelOffset,ie=void 0===oe?V.labelOffset:oe,ae=e.labelRotation,le=void 0===ae?V.labelRotation:ae,ce=e.labelTextColor,ue=void 0===ce?V.labelTextColor:ce,se=e.isInteractive,de=void 0===se?V.isInteractive:se,be=e.onArcMouseEnter,fe=e.onArcMouseMove,ve=e.onArcMouseLeave,ge=e.onArcClick,pe=e.onRibbonMouseEnter,he=e.onRibbonMouseMove,me=e.onRibbonMouseLeave,ye=e.onRibbonClick,Ae=e.legends,Me=void 0===Ae?V.legends:Ae,Re=e.role,Oe=void 0===Re?V.role:Re,xe=e.ariaLabel,Ce=e.ariaLabelledBy,ke=e.ariaDescribedBy,Ee=(0,o.Bs)(s,d,u),Be=Ee.margin,je=Ee.innerWidth,We=Ee.innerHeight,we=Ee.outerWidth,Ie=Ee.outerHeight,Ge=D({data:r,keys:n,label:a,valueFormat:c,width:je,height:We,innerRadiusRatio:f,innerRadiusOffset:g,padAngle:h,colors:M}),Le=Ge.center,Te=Ge.radius,Se=Ge.arcGenerator,Fe=Ge.ribbonGenerator,Ve=Ge.arcs,Pe=Ge.ribbons,qe=N({arcOpacity:E,activeArcOpacity:j,inactiveArcOpacity:w,ribbons:Pe,ribbonOpacity:$,activeRibbonOpacity:Z,inactiveRibbonOpacity:K}),He=qe.setCurrentArc,_e=qe.setCurrentRibbon,$e=qe.getArcOpacity,ze=qe.getRibbonOpacity,De=X({center:Le,radius:Te,arcs:Ve,arcGenerator:Se,ribbons:Pe,ribbonGenerator:Fe});if(Te<=0)return null;var Ne=Ve.map((function(e){return{id:e.id,label:e.label,color:e.color}})),Xe={ribbons:null,arcs:null,labels:null,legends:null};return y.includes("ribbons")&&(Xe.ribbons=(0,l.jsx)("g",{transform:"translate("+Le[0]+", "+Le[1]+")",children:(0,l.jsx)(U,{ribbons:Pe,ribbonGenerator:Fe,borderWidth:S,borderColor:P,getOpacity:ze,blendMode:H,setCurrent:_e,isInteractive:de,onMouseEnter:pe,onMouseMove:he,onMouseLeave:me,onClick:ye,tooltip:re})},"ribbons")),y.includes("arcs")&&(Xe.arcs=(0,l.jsx)("g",{transform:"translate("+Le[0]+", "+Le[1]+")",children:(0,l.jsx)(Q,{arcs:Ve,arcGenerator:Se,borderWidth:O,borderColor:C,getOpacity:$e,setCurrent:He,isInteractive:de,onMouseEnter:be,onMouseMove:fe,onMouseLeave:ve,onClick:ge,tooltip:L})},"arcs")),y.includes("labels")&&te&&(Xe.labels=(0,l.jsx)("g",{transform:"translate("+Le[0]+", "+Le[1]+")",children:(0,l.jsx)(Y,{arcs:Ve,radius:Te+ie,rotation:le,color:ue})},"labels")),y.includes("legends")&&Me.length>0&&(Xe.legends=(0,l.jsx)(t.Fragment,{children:Me.map((function(e,r){return(0,l.jsx)(i.$6,G({},e,{containerWidth:je,containerHeight:We,data:Ne}),r)}))},"legends")),(0,l.jsx)(o.tM,{width:we,height:Ie,margin:Be,role:Oe,ariaLabel:xe,ariaLabelledBy:Ce,ariaDescribedBy:ke,children:y.map((function(e,r){var n;return"function"==typeof e?(0,l.jsx)(t.Fragment,{children:(0,t.createElement)(e,De)},r):null!=(n=null==Xe?void 0:Xe[e])?n:null}))})},ne=function(e){var r=e.isInteractive,n=void 0===r?V.isInteractive:r,t=e.animate,i=void 0===t?V.animate:t,a=e.motionConfig,c=void 0===a?V.motionConfig:a,u=e.theme,s=e.renderWrapper,d=L(e,ee);return(0,l.jsx)(o.W2,{animate:i,isInteractive:n,motionConfig:c,renderWrapper:s,theme:u,children:(0,l.jsx)(re,G({isInteractive:n},d))})},te=["theme","isInteractive","animate","motionConfig","renderWrapper"],oe=function(e){var r=e.event,n=e.canvasEl,t=e.center,i=e.margin,a=e.radius,l=e.innerRadius,c=e.arcs,u=(0,o.P6)(n,r),s=u[0],d=u[1],b=i.left+t[0],f=i.top+t[1];return(0,I.oO)(b,f,a,l,c,s,d)},ie=function(e){var r=e.pixelRatio,n=void 0===r?P.pixelRatio:r,u=e.margin,s=e.data,d=e.keys,b=e.width,f=e.height,v=e.label,g=void 0===v?P.label:v,p=e.valueFormat,h=e.innerRadiusRatio,m=void 0===h?P.innerRadiusRatio:h,y=e.innerRadiusOffset,A=void 0===y?P.innerRadiusOffset:y,M=e.padAngle,R=void 0===M?P.padAngle:M,O=e.layers,x=void 0===O?P.layers:O,C=e.colors,k=void 0===C?P.colors:C,E=e.arcBorderWidth,B=void 0===E?P.arcBorderWidth:E,j=e.arcBorderColor,W=void 0===j?P.arcBorderColor:j,w=e.arcOpacity,I=void 0===w?P.arcOpacity:w,L=e.activeArcOpacity,T=void 0===L?P.activeArcOpacity:L,S=e.inactiveArcOpacity,F=void 0===S?P.inactiveArcOpacity:S,V=e.arcTooltip,q=void 0===V?P.arcTooltip:V,H=e.ribbonBorderWidth,_=void 0===H?P.ribbonBorderWidth:H,$=e.ribbonBorderColor,z=void 0===$?P.ribbonBorderColor:$,Z=e.ribbonOpacity,J=void 0===Z?P.ribbonOpacity:Z,U=e.activeRibbonOpacity,K=void 0===U?P.activeRibbonOpacity:U,Q=e.inactiveRibbonOpacity,Y=void 0===Q?P.inactiveRibbonOpacity:Q,ee=e.enableLabel,re=void 0===ee?P.enableLabel:ee,ne=e.labelOffset,te=void 0===ne?P.labelOffset:ne,ie=e.labelRotation,ae=void 0===ie?P.labelRotation:ie,le=e.labelTextColor,ce=void 0===le?P.labelTextColor:le,ue=e.isInteractive,se=void 0===ue?P.isInteractive:ue,de=e.onArcMouseEnter,be=e.onArcMouseMove,fe=e.onArcMouseLeave,ve=e.onArcClick,ge=e.legends,pe=void 0===ge?P.legends:ge,he=(0,t.useRef)(null),me=(0,o.Bs)(b,f,u),ye=me.innerWidth,Ae=me.innerHeight,Me=me.outerWidth,Re=me.outerHeight,Oe=me.margin,xe=D({data:s,keys:d,label:g,valueFormat:p,width:ye,height:Ae,innerRadiusRatio:m,innerRadiusOffset:A,padAngle:R,colors:k}),Ce=xe.center,ke=xe.radius,Ee=xe.innerRadius,Be=xe.arcGenerator,je=xe.ribbonGenerator,We=xe.arcs,we=xe.ribbons,Ie=N({arcOpacity:I,activeArcOpacity:T,inactiveArcOpacity:F,ribbons:we,ribbonOpacity:J,activeRibbonOpacity:K,inactiveRibbonOpacity:Y}),Ge=Ie.currentArc,Le=Ie.setCurrentArc,Te=Ie.getArcOpacity,Se=Ie.getRibbonOpacity,Fe=(0,o.Fg)(),Ve=(0,c.Bf)(ce,Fe),Pe=(0,c.Bf)(W,Fe),qe=(0,c.Bf)(z,Fe),He=X({center:Ce,radius:ke,arcs:We,arcGenerator:Be,ribbons:we,ribbonGenerator:je});(0,t.useEffect)((function(){if(null!==he.current){he.current.width=Me*n,he.current.height=Re*n;var e=he.current.getContext("2d");e.scale(n,n),e.fillStyle=Fe.background,e.fillRect(0,0,Me,Re),ke<=0||x.forEach((function(r){if("ribbons"===r&&(e.save(),e.translate(Oe.left+Ce[0],Oe.top+Ce[1]),je.context(e),we.forEach((function(r){e.save(),e.globalAlpha=Se(r),e.fillStyle=r.source.color,e.beginPath(),je(r),e.fill(),_>0&&(e.strokeStyle=qe(r.source),e.lineWidth=_,e.stroke()),e.restore()})),e.restore()),"arcs"===r&&(e.save(),e.translate(Oe.left+Ce[0],Oe.top+Ce[1]),Be.context(e),We.forEach((function(r){e.save(),e.globalAlpha=Te(r),e.fillStyle=r.color,e.beginPath(),Be(r),e.fill(),B>0&&(e.strokeStyle=Pe(r),e.lineWidth=B,e.stroke()),e.restore()})),e.restore()),"labels"===r&&!0===re&&(e.save(),e.translate(Oe.left+Ce[0],Oe.top+Ce[1]),e.font=Fe.labels.text.fontSize+"px "+(Fe.labels.text.fontFamily||"sans-serif"),We.forEach((function(r){var n=(0,o.Vp)(r),t=(0,o.$t)(ke+te,n,ae);e.save(),e.translate(t.x,t.y),e.rotate((0,o.Ht)(t.rotate)),e.textAlign=t.align,e.textBaseline=t.baseline,e.fillStyle=Ve(r),e.fillText(r.label,0,0),e.restore()})),e.restore()),"legends"===r){e.save(),e.translate(Oe.left,Oe.top);var n=We.map((function(e){return{id:e.id,label:e.label,color:e.color}}));pe.forEach((function(r){(0,i.as)(e,G({},r,{data:n,containerWidth:ye,containerHeight:Ae,theme:Fe}))})),e.restore()}"function"==typeof r&&r(e,He)}))}}),[he,ye,Ae,Me,Re,Oe,n,Ce,ke,Fe,x,We,Be,Te,B,Pe,we,je,Se,_,qe,re,te,ae,Ve,pe,He]);var _e=(0,a.lL)(),$e=_e.showTooltipFromEvent,ze=_e.hideTooltip,De=(0,t.useCallback)((function(e){if(null!==he.current){var r=oe({event:e,canvasEl:he.current,center:Ce,margin:Oe,radius:ke,innerRadius:Ee,arcs:We});r?(Le(r),$e((0,t.createElement)(q,{arc:r}),e),!Ge&&de&&de(r,e),be&&be(r,e),Ge&&Ge.id!==r.id&&fe&&fe(r,e)):(Le(null),ze(),Ge&&fe&&fe(Ge,e))}}),[he,Ce,Oe,ke,Ee,We,Le,Ge,$e,ze,q,de,be,fe]),Ne=(0,t.useCallback)((function(){Le(null),ze()}),[Le,ze]),Xe=(0,t.useCallback)((function(e){if(null!==he.current&&ve){var r=oe({event:e,canvasEl:he.current,center:Ce,margin:Oe,radius:ke,innerRadius:Ee,arcs:We});r&&ve(r,e)}}),[he,Ce,Oe,ke,Ee,We,ve]);return(0,l.jsx)("canvas",{ref:he,width:Me*n,height:Re*n,style:{width:Me,height:Re,cursor:se?"auto":"normal"},onMouseEnter:se?De:void 0,onMouseMove:se?De:void 0,onMouseLeave:se?Ne:void 0,onClick:se?Xe:void 0})},ae=function(e){var r=e.theme,n=e.isInteractive,t=void 0===n?P.isInteractive:n,i=e.animate,a=void 0===i?P.animate:i,c=e.motionConfig,u=void 0===c?P.motionConfig:c,s=e.renderWrapper,d=L(e,te);return(0,l.jsx)(o.W2,{isInteractive:t,animate:a,motionConfig:u,theme:r,renderWrapper:s,children:(0,l.jsx)(ie,G({isInteractive:t},d))})},le=function(e){return(0,l.jsx)(o.d,{children:function(r){var n=r.width,t=r.height;return(0,l.jsx)(ne,G({},e,{width:n,height:t}))}})},ce=function(e){return(0,l.jsx)(o.d,{children:function(r){var n=r.width,t=r.height;return(0,l.jsx)(ae,G({},e,{width:n,height:t}))}})}}}]);
//# sourceMappingURL=f55dd3e3f1a682def2611c1456d7674312b4072f-ead1737cb1acaac306bb.js.map