"use strict";(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[4682],{64548:function(e,t,r){r.d(t,{Br:function(){return B},JD:function(){return m},Pm:function(){return I},Tu:function(){return K}});var o=r(27378),l=r(45434),i=r(44365),n=r(89193),a=r(23615),c=r.n(a),u=r(79234),d=r(19183),s=r(9841),f=r(58493),h=r(24246);function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}p(p({},{data:c().arrayOf(c().object).isRequired,indexBy:c().oneOfType([c().string,c().func]).isRequired,keys:c().arrayOf(c().string).isRequired,minValue:c().oneOfType([c().oneOf(["auto"]),c().number]).isRequired,maxValue:c().oneOfType([c().oneOf(["auto"]),c().number]).isRequired,forceSquare:c().bool.isRequired,sizeVariation:c().number.isRequired,padding:c().number.isRequired,cellShape:c().oneOfType([c().oneOf(["rect","circle"]),c().func]).isRequired,cellOpacity:c().number.isRequired,cellBorderWidth:c().number.isRequired,cellBorderColor:u.UO.isRequired,axisTop:i.VT,axisRight:i.VT,axisBottom:i.VT,axisLeft:i.VT,enableGridX:c().bool.isRequired,enableGridY:c().bool.isRequired,enableLabels:c().bool.isRequired,label:c().func.isRequired,labelTextColor:u.UO.isRequired,colors:l.Dd.isRequired,nanColor:c().string,isInteractive:c().bool,onClick:c().func.isRequired,hoverTarget:c().oneOf(["cell","row","column","rowColumn"]).isRequired,cellHoverOpacity:c().number.isRequired,cellHoverOthersOpacity:c().number.isRequired,tooltipFormat:c().oneOfType([c().func,c().string]),tooltip:c().func,pixelRatio:c().number.isRequired}),{},{role:c().string.isRequired});var m={indexBy:"id",minValue:"auto",maxValue:"auto",forceSquare:!1,sizeVariation:0,padding:0,cellShape:"rect",cellOpacity:.85,cellBorderWidth:0,cellBorderColor:{from:"color"},axisTop:{},axisLeft:{},enableGridX:!1,enableGridY:!1,enableLabels:!0,label:function(e,t){return e[t]},labelTextColor:{from:"color",modifiers:[["darker",1.4]]},colors:"nivo",nanColor:"#000000",isInteractive:!0,onClick:l.ZT,hoverTarget:"rowColumn",cellHoverOpacity:1,cellHoverOthersOpacity:.35,pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1},x=p(p({},m),{},{role:"img"});function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function C(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,l=!1,i=void 0;try{for(var n,a=e[Symbol.iterator]();!(o=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);o=!0);}catch(c){l=!0,i=c}finally{try{o||null==a.return||a.return()}finally{if(l)throw i}}return r}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w={cell:function(e,t){return e.xKey===t.xKey&&e.yKey===t.yKey},row:function(e,t){return e.yKey===t.yKey},column:function(e,t){return e.xKey===t.xKey},rowColumn:function(e,t){return e.xKey===t.xKey||e.yKey===t.yKey}},S=function(e){var t=e.data,r=e.keys,i=e.indexBy,n=e.minValue,a=void 0===n?"auto":n,c=e.maxValue,f=void 0===c?"auto":c,h=e.width,y=e.height,b=e.padding,m=e.forceSquare,x=e.sizeVariation,g=e.colors,v=e.nanColor,S=e.cellOpacity,T=e.cellBorderColor,j=e.label,k=e.labelTextColor,q=e.hoverTarget,L=e.cellHoverOpacity,M=e.cellHoverOthersOpacity,R=O((0,o.useState)(null),2),B=R[0],H=R[1],V=(0,l.LR)(i),W=(0,o.useMemo)((function(){return t.map(V)}),[t,V]),I=(0,o.useMemo)((function(){return(0,l.ji)(j)}),[j]),K=(0,o.useMemo)((function(){var e=r.length,o=t.length,l=Math.max((h-b*(e+1))/e,0),i=Math.max((y-b*(o+1))/o,0),n=0,a=0;if(!0===m){var c=Math.min(l,i);n=(h-(((l=c)+b)*e+b))/2,a=(y-(((i=c)+b)*o+b))/2}return{cellWidth:l,cellHeight:i,offsetX:n,offsetY:a}}),[t,r,h,y,b,m]),P=(0,o.useMemo)((function(){return{x:(0,d.Z)(r.map((function(e,t){return function(e,t,r){return e*t+.5*t+r*e+r}(t,K.cellWidth,b)}))).domain(r),y:(0,d.Z)(W.map((function(e,t){return function(e,t,r){return e*t+.5*t+r*e+r}(t,K.cellHeight,b)}))).domain(W)}}),[W,r,K,b]),A=(0,o.useMemo)((function(){var e=a,o=f;if("auto"===e||"auto"===o){var l=t.reduce((function(e,t){return e.concat(r.map((function(e){return t[e]})))}),[]);"auto"===e&&(e=Math.min.apply(Math,C(l))),"auto"===o&&(o=Math.max.apply(Math,C(l)))}return{min:Math.min(e,o),max:Math.max(o,e)}}),[t,r,a,f]),E=(0,o.useMemo)((function(){if(x>0)return(0,s.Z)().range([1-x,1]).domain([A.min,A.max])}),[x,A]),z=(0,o.useMemo)((function(){return(0,l.om)(g).domain([A.min,A.max])}),[g,A]),F=(0,l.Fg)(),D=(0,u.Bf)(T,F),G=(0,u.Bf)(k,F),X=(0,o.useMemo)((function(){return function(e){var t=e.data,r=e.keys,o=e.getIndex,l=e.xScale,i=e.yScale,n=e.sizeScale,a=e.cellOpacity,c=e.cellWidth,u=e.cellHeight,d=e.colorScale,s=e.nanColor,f=e.getLabel,h=e.getLabelTextColor,y=[];return t.forEach((function(e){r.forEach((function(t){var r=e[t],b=f(e,t),p=o(e),m=n?n(r):1,x=m*c,g=m*u,v={id:"".concat(t,".").concat(p),xKey:t,yKey:p,x:l(t),y:i(p),width:x,height:g,value:r,label:b,color:isNaN(r)?s:d(r),opacity:a};v.labelTextColor=h(v),y.push(v)}))})),y}({data:t,keys:r,getIndex:V,xScale:P.x,yScale:P.y,sizeScale:E,cellOpacity:S,cellWidth:K.cellWidth,cellHeight:K.cellHeight,colorScale:z,nanColor:v,getLabel:I,getLabelTextColor:G})}),[t,r,V,P,E,S,K,z,v,I,G]),Y=(0,o.useMemo)((function(){if(null===B)return X;var e=w[q],t=X.find((function(e){return e.id===B}));return X.map((function(r){var o=e(r,t)?L:M;return o===r.opacity?r:p(p({},r),{},{opacity:o})}))}),[X,B,q,L,M]);return p(p({cells:Y,getIndex:V,xScale:P.x,yScale:P.y},K),{},{sizeScale:E,currentCellId:B,setCurrentCellId:H,colorScale:z,getCellBorderColor:D,getLabelTextColor:G})},T=function(e){var t=e.cells,r=e.cellComponent,l=e.cellBorderWidth,i=e.getCellBorderColor,n=e.enableLabels,a=e.getLabelTextColor,c=e.handleCellHover,u=e.handleCellLeave,d=e.onClick;return t.map((function(e){return(0,o.createElement)(r,{key:e.id,data:e,label:e.label,x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,opacity:e.opacity,borderWidth:l,borderColor:i(e),enableLabel:n,textColor:a(e),onHover:c?function(t){return c(e,t)}:void 0,onLeave:u,onClick:d})}))};T.propTypes={};var j=function(e){var t=e.data,r=e.label,o=e.x,i=e.y,n=e.width,a=e.height,c=e.color,u=e.opacity,d=e.borderWidth,s=e.borderColor,y=e.enableLabel,b=e.textColor,m=e.onHover,x=e.onLeave,g=e.onClick,v=(0,l.Fg)(),C=(0,l.tf)(),O=C.animate,w=C.config,S=(0,f.useSpring)({transform:"translate(".concat(o,", ").concat(i,")"),width:n,height:a,xOffset:-.5*n,yOffset:-.5*a,color:c,opacity:u,textColor:b,borderWidth:d,borderColor:s,config:w,immediate:!O});return(0,h.jsxs)(f.q.g,{transform:S.transform,style:{cursor:"pointer"},onMouseEnter:m,onMouseMove:m,onMouseLeave:x,onClick:g?function(e){return g(t,e)}:void 0,children:[(0,h.jsx)(f.q.rect,{x:S.xOffset,y:S.yOffset,width:S.width,height:S.height,fill:S.color,fillOpacity:S.opacity,strokeWidth:S.borderWidth,stroke:S.borderColor,strokeOpacity:S.opacity}),y&&(0,h.jsx)(f.q.text,{dominantBaseline:"central",textAnchor:"middle",style:p(p({},v.labels.text),{},{fill:S.textColor}),fillOpacity:S.opacity,children:r})]})},k=(0,o.memo)(j),q=function(e){var t=e.data,r=e.label,o=e.x,i=e.y,n=e.width,a=e.height,c=e.color,u=e.opacity,d=e.borderWidth,s=e.borderColor,y=e.enableLabel,b=e.textColor,m=e.onHover,x=e.onLeave,g=e.onClick,v=(0,l.Fg)(),C=(0,l.tf)(),O=C.animate,w=C.config,S=(0,f.useSpring)({transform:"translate(".concat(o,", ").concat(i,")"),radius:Math.min(n,a)/2,color:c,opacity:u,textColor:b,borderWidth:d,borderColor:s,config:w,immediate:!O});return(0,h.jsxs)(f.q.g,{transform:S.transform,style:{cursor:"pointer"},onMouseEnter:m,onMouseMove:m,onMouseLeave:x,onClick:g?function(e){return g(t,e)}:void 0,children:[(0,h.jsx)(f.q.circle,{r:S.radius,fill:S.color,fillOpacity:S.opacity,strokeWidth:S.borderWidth,stroke:S.borderColor,strokeOpacity:S.opacity}),y&&(0,h.jsx)(f.q.text,{dominantBaseline:"central",textAnchor:"middle",style:p(p({},v.labels.text),{},{fill:S.textColor}),fillOpacity:S.opacity,children:r})]})},L=(0,o.memo)(q),M=function(e){var t=e.cell,r=e.format,o=e.tooltip;return(0,h.jsx)(n._5,{id:"".concat(t.yKey," - ").concat(t.xKey),value:t.value,enableChip:!0,color:t.color,format:r,renderContent:"function"==typeof o?o.bind(null,p({},t)):null})},R=(0,o.memo)(M),B=(0,l.li)((function(e){var t,r=e.data,a=e.keys,c=e.indexBy,u=e.minValue,d=e.maxValue,s=e.width,f=e.height,y=e.margin,b=e.forceSquare,p=e.padding,m=e.sizeVariation,x=e.cellShape,g=e.cellOpacity,v=e.cellBorderWidth,C=e.cellBorderColor,O=e.axisTop,w=e.axisRight,j=e.axisBottom,q=e.axisLeft,M=e.enableGridX,B=e.enableGridY,H=e.enableLabels,V=e.label,W=e.labelTextColor,I=e.colors,K=e.nanColor,P=e.isInteractive,A=e.onClick,E=e.hoverTarget,z=e.cellHoverOpacity,F=e.cellHoverOthersOpacity,D=e.tooltipFormat,G=e.tooltip,X=e.role,Y=(0,l.Bs)(s,f,y),Z=Y.margin,U=Y.innerWidth,_=Y.innerHeight,N=Y.outerWidth,J=Y.outerHeight,$=S({data:r,keys:a,indexBy:c,minValue:u,maxValue:d,width:U,height:_,padding:p,forceSquare:b,sizeVariation:m,colors:I,nanColor:K,cellOpacity:g,cellBorderColor:C,label:V,labelTextColor:W,hoverTarget:E,cellHoverOpacity:z,cellHoverOthersOpacity:F}),Q=$.cells,ee=$.xScale,te=$.yScale,re=$.offsetX,oe=$.offsetY,le=$.setCurrentCellId,ie=$.getCellBorderColor,ne=$.getLabelTextColor,ae=(0,n.lL)(),ce=ae.showTooltipFromEvent,ue=ae.hideTooltip,de=(0,o.useCallback)((function(e,t){le(e.id),ce((0,h.jsx)(R,{cell:e,format:D,tooltip:G}),t)}),[le,ce,D,G]),se=(0,o.useCallback)((function(){le(null),ue()}),[le,ue]);return t="rect"===x?k:"circle"===x?L:x,(0,h.jsxs)(l.tM,{width:N,height:J,margin:Object.assign({},Z,{top:Z.top+oe,left:Z.left+re}),role:X,children:[(0,h.jsx)(i.rj,{width:U-2*re,height:_-2*oe,xScale:M?ee:null,yScale:B?te:null}),(0,h.jsx)(i.dk,{xScale:ee,yScale:te,width:U-2*re,height:_-2*oe,top:O,right:w,bottom:j,left:q}),(0,h.jsx)(T,{cells:Q,cellComponent:t,cellBorderWidth:v,getCellBorderColor:ie,enableLabels:H,getLabelTextColor:ne,handleCellHover:P?de:void 0,handleCellLeave:P?se:void 0,onClick:P?A:void 0})]})}));B.defaultProps=x;var H=function(e,t,r){var o=t.enableLabels,l=t.theme,i=r.x,n=r.y,a=r.width,c=r.height,u=r.color,d=r.opacity,s=r.labelTextColor,f=r.label;e.save(),e.globalAlpha=d,e.fillStyle=u,e.fillRect(i-a/2,n-c/2,a,c),!0===o&&(e.fillStyle=s,e.font="".concat(l.labels.text.fontSize,"px ").concat(l.labels.text.fontFamily),e.fillText(f,i,n)),e.restore()},V=function(e,t,r){var o=t.enableLabels,l=t.theme,i=r.x,n=r.y,a=r.width,c=r.height,u=r.color,d=r.opacity,s=r.labelTextColor,f=r.label;e.save(),e.globalAlpha=d;var h=Math.min(a,c)/2;e.fillStyle=u,e.beginPath(),e.arc(i,n,h,0,2*Math.PI),e.fill(),!0===o&&(e.fillStyle=s,e.font="".concat(l.labels.text.fontSize,"px ").concat(l.labels.text.fontFamily),e.fillText(f,i,n)),e.restore()},W=(0,l.li)((function(e){var t=e.data,r=e.keys,a=e.indexBy,c=e.minValue,u=e.maxValue,d=e.width,s=e.height,f=e.margin,y=e.forceSquare,b=e.padding,p=e.sizeVariation,m=e.cellShape,x=e.cellOpacity,g=e.cellBorderColor,v=e.axisTop,C=e.axisRight,w=e.axisBottom,T=e.axisLeft,j=e.enableLabels,k=e.label,q=e.labelTextColor,L=e.colors,M=e.nanColor,B=e.isInteractive,W=e.onClick,I=e.hoverTarget,K=e.cellHoverOpacity,P=e.cellHoverOthersOpacity,A=e.tooltipFormat,E=e.tooltip,z=e.pixelRatio,F=(0,o.useRef)(null),D=(0,l.Bs)(d,s,f),G=D.margin,X=D.innerWidth,Y=D.innerHeight,Z=D.outerWidth,U=D.outerHeight,_=S({data:t,keys:r,indexBy:a,minValue:c,maxValue:u,width:X,height:Y,padding:b,forceSquare:y,sizeVariation:p,colors:L,nanColor:M,cellOpacity:x,cellBorderColor:g,label:k,labelTextColor:q,hoverTarget:I,cellHoverOpacity:K,cellHoverOthersOpacity:P}),N=_.cells,J=_.xScale,$=_.yScale,Q=_.offsetX,ee=_.offsetY,te=_.currentCellId,re=_.setCurrentCellId,oe=(0,l.Fg)();(0,o.useEffect)((function(){F.current.width=Z*z,F.current.height=U*z;var e,t=F.current.getContext("2d");t.scale(z,z),t.fillStyle=oe.background,t.fillRect(0,0,Z,U),t.translate(G.left+Q,G.top+ee),(0,i.DZ)(t,{xScale:J,yScale:$,width:X-2*Q,height:Y-2*ee,top:v,right:C,bottom:w,left:T,theme:oe}),t.textAlign="center",t.textBaseline="middle",e="rect"===m?H:V,N.forEach((function(r){e(t,{enableLabels:j,theme:oe},r)}))}),[F,N,Z,U,X,Y,G,Q,ee,m,v,C,w,T,J,$,oe,j,z]);var le=(0,n.lL)(),ie=le.showTooltipFromEvent,ne=le.hideTooltip,ae=(0,o.useCallback)((function(e){var t=O((0,l.P6)(F.current,e),2),r=t[0],o=t[1],i=N.find((function(e){return(0,l.zn)(e.x+G.left+Q-e.width/2,e.y+G.top+ee-e.height/2,e.width,e.height,r,o)}));void 0!==i?(re(i.id),ie((0,h.jsx)(R,{cell:i,tooltip:E,format:A}),e)):(re(null),ne())}),[F,N,G,Q,ee,re,ie,ne,E,A]),ce=(0,o.useCallback)((function(){re(null),ne()}),[re,ne]),ue=(0,o.useCallback)((function(e){if(null!==te){var t=N.find((function(e){return e.id===te}));t&&W(t,e)}}),[N,te,W]);return(0,h.jsx)("canvas",{ref:F,width:Z*z,height:U*z,style:{width:Z,height:U},onMouseEnter:B?ae:void 0,onMouseMove:B?ae:void 0,onMouseLeave:B?ce:void 0,onClick:B?ue:void 0})}));W.defaultProps=m;var I=function(e){return(0,h.jsx)(l.d,{children:function(t){var r=t.width,o=t.height;return(0,h.jsx)(B,p({width:r,height:o},e))}})},K=function(e){return(0,h.jsx)(l.d,{children:function(t){var r=t.width,o=t.height;return(0,h.jsx)(W,p({width:r,height:o},e))}})}}}]);
//# sourceMappingURL=288594faa4f4df84db7f04ec3315d48a3b666501-1a88534c77c765e89f71.js.map