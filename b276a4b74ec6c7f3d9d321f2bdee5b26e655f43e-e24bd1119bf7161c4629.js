"use strict";(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[7287],{10536:function(e,i,r){r.d(i,{UH:function(){return Y},Xf:function(){return A},ju:function(){return w},eN:function(){return C},n6:function(){return $},W$:function(){return I}});var t=r(27378),n=r(45434),o=r(44365),a=r(18091),s=r(1520),d=r(30964),u=r(94942),c=r(79234),l=r(89193),p=r(46448),f=r(9841),h=r(23615),v=r.n(h),y=r(24246),b=r(58493);function g(){return g=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},g.apply(this,arguments)}var m=function(e){return(0,t.useMemo)((function(){return"function"==typeof e?e:function(){return e}}),[e])},x=function(e){var i=e.width,r=e.height,o=e.data,u=e.interpolation,l=e.xPadding,f=e.xOuterPadding,h=e.yOuterPadding,v=e.lineWidth,y=e.activeLineWidth,b=e.inactiveLineWidth,x=e.colors,O=e.opacity,q=e.activeOpacity,R=e.inactiveOpacity,M=e.pointSize,W=e.activePointSize,P=e.inactivePointSize,C=e.pointColor,L=e.pointBorderWidth,S=e.activePointBorderWidth,T=e.inactivePointBorderWidth,B=e.pointBorderColor,k=e.isInteractive,j=e.currentSerie,E=(0,t.useMemo)((function(){return function(e){var i=e.width,r=e.height,t=e.data,n=e.xPadding,o=e.xOuterPadding,a=e.yOuterPadding,s=new Set,d=new Set;t.forEach((function(e){e.data.forEach((function(e){s.has(e.x)||s.add(e.x),d.has(e.y)||null===e.y||d.add(e.y)}))})),s=Array.from(s),d=Array.from(d).sort((function(e,i){return e-i}));var u=(0,p.x)().domain(s).range([0,i]).padding(o),c=(0,p.x)().domain(d).range([0,r]).padding(a),l=u.step()*Math.min(.5*n,.5);return{series:t.map((function(e){var r=g({},e,{points:[],linePoints:[]});return e.data.forEach((function(t,n){var o=null,a=null;null!==t.y&&void 0!==t.y&&(o=u(t.x),a=c(t.y));var s={id:e.id+"."+n,serie:e,data:t,x:o,y:a};r.points.push(s),null!==o&&(0===n?r.linePoints.push([0,s.y]):r.linePoints.push([s.x-l,s.y])),r.linePoints.push([s.x,s.y]),null!==o&&(n===e.data.length-1&&o?r.linePoints.push([i,s.y]):r.linePoints.push([s.x+l,s.y])),r.points=r.points.filter((function(e){return null!==e.x}))})),r})),xScale:u,yScale:c}}({width:i,height:r,data:o,xPadding:l,xOuterPadding:f,yOuterPadding:h})}),[i,r,o,l,f,h]),w=E.series,I=E.xScale,z=E.yScale,F=function(e){return(0,t.useMemo)((function(){return(0,a.Z)().curve("smooth"===e?s.ZP:d.Z).defined((function(e){return null!==e[0]&&null!==e[1]}))}),[e])}(u),G=(0,c.U)(x,"id"),A=function(e){var i=e.activeLineWidth,r=e.inactiveLineWidth,n=e.opacity,o=e.activeOpacity,a=e.inactiveOpacity,s=e.isInteractive,d=e.currentSerie,u=m(e.lineWidth),c=m(i),l=m(r),p=m(n),f=m(o),h=m(a),v=(0,t.useMemo)((function(){return function(e){return{lineWidth:u(e),opacity:p(e)}}}),[u,p]),y=(0,t.useMemo)((function(){return function(e){return{lineWidth:c(e),opacity:f(e)}}}),[c,f]),b=(0,t.useMemo)((function(){return function(e){return{lineWidth:l(e),opacity:h(e)}}}),[l,h]);return(0,t.useMemo)((function(){return s?function(e){return null===d?v(e):e.id===d?y(e):b(e)}:v}),[v,y,b,s,d])}({lineWidth:v,activeLineWidth:y,inactiveLineWidth:b,opacity:O,activeOpacity:q,inactiveOpacity:R,isInteractive:k,currentSerie:j}),U=(0,t.useMemo)((function(){return w.map((function(e){var i=g({},e);return i.color=G(i),i.style=A(i),i}))}),[w,G,A]),H=(0,n.Fg)(),X=(0,c.Bf)(C,H),Z=(0,c.Bf)(B,H),V=function(e){var i=e.activePointSize,r=e.inactivePointSize,n=e.pointBorderWidth,o=e.activePointBorderWidth,a=e.inactivePointBorderWidth,s=e.isInteractive,d=e.currentSerie,u=m(e.pointSize),c=m(i),l=m(r),p=m(n),f=m(o),h=m(a),v=(0,t.useMemo)((function(){return function(e){return{size:u(e),borderWidth:p(e)}}}),[u,p]),y=(0,t.useMemo)((function(){return function(e){return{size:c(e),borderWidth:f(e)}}}),[c,f]),b=(0,t.useMemo)((function(){return function(e){return{size:l(e),borderWidth:h(e)}}}),[l,h]);return(0,t.useMemo)((function(){return s?function(e){return null===d?v(e):e.serieId===d?y(e):b(e)}:v}),[v,y,b,s,d])}({pointSize:M,activePointSize:W,inactivePointSize:P,pointBorderWidth:L,activePointBorderWidth:S,inactivePointBorderWidth:T,isInteractive:k,currentSerie:j}),_=(0,t.useMemo)((function(){var e=[];return U.forEach((function(i){i.points.forEach((function(r){var t=g({},r,{serie:i,serieId:i.id,isActive:j===i.id,isInactive:null!==j&&j!==i.id});t.color=X(t),t.borderColor=Z(t),t.style=V(g({},t,{serie:i})),e.push(t)}))})),e}),[U,X,Z,V,j]);return{xScale:I,yScale:z,series:U,points:_,lineGenerator:F}},O=function(e){var i=e.serie;return(0,y.jsx)(l._5,{id:i.id,enableChip:!0,color:i.color})};O.propTypes={serie:v().shape({id:v().string.isRequired,color:v().string.isRequired})};var q=(0,t.memo)(O),R={pointerEvents:"none"},M=function(e){var i=e.x,r=e.y,t=e.size,o=e.color,a=e.borderColor,s=e.borderWidth,d=(0,n.tf)(),u=d.animate,c=d.config,l=(0,b.useSpring)({x:i,y:r,radius:t/2,color:o,borderWidth:s,config:c,immediate:!u});return(0,y.jsx)(b.q.circle,{cx:l.x,cy:l.y,r:(0,b.to)(l.radius,(function(e){return Math.max(e,0)})),fill:l.color,strokeWidth:l.borderWidth,stroke:a,style:R})};M.propTypes={data:v().object.isRequired,x:v().number.isRequired,y:v().number.isRequired,isActive:v().bool.isRequired,isInactive:v().bool.isRequired,size:v().number.isRequired,color:v().string.isRequired,borderColor:v().string.isRequired,borderWidth:v().number.isRequired};var W=(0,t.memo)(M),P=g({},{data:v().arrayOf(v().shape({id:v().string.isRequired,data:v().arrayOf(v().shape({x:v().oneOfType([v().number,v().string]).isRequired,y:v().oneOfType([v().number,v().string])})).isRequired})).isRequired,layers:v().arrayOf(v().oneOfType([v().oneOf(["grid","axes","labels","lines","points"]),v().func])).isRequired,interpolation:v().oneOf(["linear","smooth"]).isRequired,xPadding:v().number.isRequired,xOuterPadding:v().number.isRequired,yOuterPadding:v().number.isRequired,colors:c.qi.isRequired,lineWidth:v().oneOfType([v().number,v().func]).isRequired,activeLineWidth:v().oneOfType([v().number,v().func]).isRequired,inactiveLineWidth:v().oneOfType([v().number,v().func]).isRequired,opacity:v().oneOfType([v().number,v().func]).isRequired,activeOpacity:v().oneOfType([v().number,v().func]).isRequired,inactiveOpacity:v().oneOfType([v().number,v().func]).isRequired,startLabel:v().oneOfType([v().oneOf([!1]),v().string,v().func]).isRequired,startLabelPadding:v().number.isRequired,startLabelTextColor:c.UO.isRequired,endLabel:v().oneOfType([v().oneOf([!1]),v().string,v().func]).isRequired,endLabelPadding:v().number.isRequired,endLabelTextColor:c.UO.isRequired,pointComponent:v().oneOfType([v().func,v().object]).isRequired,pointSize:v().oneOfType([v().number,v().func]).isRequired,activePointSize:v().oneOfType([v().number,v().func]).isRequired,inactivePointSize:v().oneOfType([v().number,v().func]).isRequired,pointColor:c.UO.isRequired,pointBorderWidth:v().oneOfType([v().number,v().func]).isRequired,activePointBorderWidth:v().oneOfType([v().number,v().func]).isRequired,inactivePointBorderWidth:v().oneOfType([v().number,v().func]).isRequired,pointBorderColor:c.UO.isRequired,enableGridX:v().bool.isRequired,enableGridY:v().bool.isRequired,axisTop:o.VT,axisRight:o.VT,axisBottom:o.VT,axisLeft:o.VT,isInteractive:v().bool.isRequired,onMouseEnter:v().func,onMouseMove:v().func,onMouseLeave:v().func,onClick:v().func,tooltip:v().oneOfType([v().func,v().object]).isRequired},n.w$,{role:v().string.isRequired}),C=g({},{layers:["grid","axes","labels","lines","points"],interpolation:"smooth",xPadding:.6,xOuterPadding:.5,yOuterPadding:.5,colors:{scheme:"nivo"},lineWidth:2,activeLineWidth:4,inactiveLineWidth:1,opacity:1,activeOpacity:1,inactiveOpacity:.3,startLabel:!1,startLabelPadding:16,startLabelTextColor:{from:"color"},endLabel:"id",endLabelPadding:16,endLabelTextColor:{from:"color"},pointSize:6,activePointSize:8,inactivePointSize:4,pointColor:{from:"serie.color"},pointBorderWidth:0,activePointBorderWidth:0,inactivePointBorderWidth:0,pointBorderColor:{from:"serie.color",modifiers:[["darker",1.4]]},enableGridX:!0,enableGridY:!0,axisTop:{},axisBottom:{},axisLeft:{},isInteractive:!0,tooltip:q},{pointComponent:W,animate:!0,motionConfig:"gentle",role:"img"}),L=function(e){var i=e.serie,r=e.lineGenerator,o=e.yStep,a=e.isInteractive,s=function(e){var i=e.serie,r=e.isInteractive,n=e.onMouseEnter,o=e.onMouseMove,a=e.onMouseLeave,s=e.onClick,d=e.setCurrent,u=e.tooltip,c=(0,l.lL)(),p=c.showTooltipFromEvent,f=c.hideTooltip,h=(0,t.useCallback)((function(e){p((0,t.createElement)(u,{serie:i}),e),d(i.id),n&&n(i,e)}),[i,n,p,d]),v=(0,t.useCallback)((function(e){p((0,t.createElement)(u,{serie:i}),e),o&&o(i,e)}),[i,o,p]),y=(0,t.useCallback)((function(e){f(),d(null),a&&a(i,e)}),[i,a,f,d]),b=(0,t.useCallback)((function(e){s&&s(i,e)}),[i,s]);return(0,t.useMemo)((function(){return{onMouseEnter:r?h:void 0,onMouseMove:r?v:void 0,onMouseLeave:r?y:void 0,onClick:r?b:void 0}}),[r,h,v,y,b])}({serie:i,isInteractive:a,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,setCurrent:e.setCurrentSerie,tooltip:e.tooltip}),d=(0,n.tf)(),u=d.animate,c=d.config,p=r(i.linePoints),f=(0,n.NS)(p),h=(0,b.useSpring)({color:i.color,opacity:i.style.opacity,lineWidth:i.style.lineWidth,config:c,immediate:!u});return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(b.q.path,{fill:"none",d:f,stroke:h.color,strokeWidth:h.lineWidth,strokeLinecap:"round",strokeOpacity:h.opacity,style:{pointerEvents:"none"}}),a&&(0,y.jsx)("path",{fill:"none",stroke:"red",strokeOpacity:0,strokeWidth:o,d:p,strokeLinecap:"butt",onMouseEnter:s.onMouseEnter,onMouseMove:s.onMouseMove,onMouseLeave:s.onMouseLeave,onClick:s.onClick})]})};L.propTypes={serie:v().shape({id:v().string.isRequired,color:v().string.isRequired,linePoints:v().array.isRequired,style:v().shape({lineWidth:v().number.isRequired,opacity:v().number.isRequired}).isRequired}).isRequired,lineGenerator:v().func.isRequired,yStep:v().number.isRequired,isInteractive:v().bool.isRequired,onMouseEnter:v().func,onMouseMove:v().func,onMouseLeave:v().func,onClick:v().func,setCurrentSerie:v().func.isRequired,tooltip:v().oneOfType([v().func,v().object]).isRequired};var S=(0,t.memo)(L),T=function(e){var i=e.series,r=e.getLabel,o=e.position,a=e.padding,s=e.color,d=(0,n.Fg)(),u=(0,n.tf)(),l=u.animate,p=u.config,f=function(e){var i=e.series,r=e.position,o=e.padding,a=e.color,s=e.getLabel,d=(0,n.Fg)(),u=(0,c.Bf)(a,d);return(0,t.useMemo)((function(){var e,t;"start"===r?(e="end",t=-1*o):(e="start",t=o);var n=[];return i.forEach((function(i){var o=i.id;"function"==typeof s&&(o=s(i));var a="start"===r?i.linePoints[0]:i.linePoints[i.linePoints.length-1];null!==a[0]&&null!==a[1]&&n.push({id:i.id,label:o,x:a[0]+t,y:a[1],color:u(i),opacity:i.style.opacity,serie:i,textAnchor:e})})),n}),[i,r,o,u])}({series:i,getLabel:r,position:o,padding:a,color:s});return(0,b.useSprings)(f.length,f.map((function(e){return{x:e.x,y:e.y,opacity:e.opacity,config:p,immediate:!l}}))).map((function(e,i){var r=f[i];return(0,y.jsx)(b.q.text,{x:e.x,y:e.y,textAnchor:r.textAnchor,dominantBaseline:"central",opacity:e.opacity,style:g({},d.labels.text,{fill:r.color}),children:r.label},r.id)}))};T.propTypes={series:v().arrayOf(v().shape({id:v().string.isRequired,data:v().arrayOf(v().shape({x:v().oneOfType([v().number,v().string]).isRequired,y:v().oneOfType([v().number,v().string])})).isRequired})).isRequired,getLabel:v().oneOfType([v().oneOf([!1]),v().string,v().func]).isRequired,position:v().oneOf(["start","end"]).isRequired,padding:v().number.isRequired,color:c.UO.isRequired};var B=(0,t.memo)(T),k=function(e){var i=e.pointComponent;return e.points.map((function(e){return(0,t.createElement)(i,{key:e.id,data:e.data,x:e.x,y:e.y,isActive:e.isActive,isInactive:e.isInactive,size:e.style.size,color:e.color,borderColor:e.borderColor,borderWidth:e.style.borderWidth})}))};k.propTypes={pointComponent:v().oneOfType([v().func,v().object]).isRequired,points:v().arrayOf(v().shape({id:v().string.isRequired,data:v().object.isRequired,x:v().number.isRequired,y:v().number.isRequired,isActive:v().bool.isRequired,isInactive:v().bool.isRequired,color:v().string.isRequired,borderColor:v().string.isRequired,style:v().shape({size:v().number.isRequired,borderWidth:v().number.isRequired}).isRequired})).isRequired};var j=(0,t.memo)(k),E=function(e){var i=e.data,r=e.width,a=e.height,s=e.margin,d=e.layers,u=e.interpolation,c=e.xPadding,l=e.xOuterPadding,p=e.yOuterPadding,f=e.colors,h=e.lineWidth,v=e.activeLineWidth,b=e.inactiveLineWidth,g=e.opacity,m=e.activeOpacity,O=e.inactiveOpacity,q=e.startLabel,R=e.startLabelPadding,M=e.startLabelTextColor,W=e.endLabel,P=e.endLabelPadding,C=e.endLabelTextColor,L=e.pointComponent,T=e.pointSize,k=e.activePointSize,E=e.inactivePointSize,w=e.pointColor,I=e.pointBorderWidth,z=e.activePointBorderWidth,F=e.inactivePointBorderWidth,G=e.pointBorderColor,A=e.axisTop,U=e.axisRight,H=e.axisBottom,X=e.axisLeft,Z=e.enableGridX,V=e.enableGridY,_=e.isInteractive,N=e.onMouseEnter,Y=e.onMouseMove,$=e.onMouseLeave,K=e.onClick,D=e.tooltip,J=e.role,Q=(0,n.Bs)(r,a,s),ee=Q.margin,ie=Q.innerWidth,re=Q.innerHeight,te=Q.outerWidth,ne=Q.outerHeight,oe=(0,t.useState)(null),ae=oe[0],se=oe[1],de=x({width:ie,height:re,data:i,interpolation:u,xPadding:c,xOuterPadding:l,yOuterPadding:p,lineWidth:h,activeLineWidth:v,inactiveLineWidth:b,colors:f,opacity:g,activeOpacity:m,inactiveOpacity:O,pointSize:T,activePointSize:k,inactivePointSize:E,pointColor:w,pointBorderWidth:I,activePointBorderWidth:z,inactivePointBorderWidth:F,pointBorderColor:G,startLabel:q,endLabel:W,isInteractive:_,currentSerie:ae}),ue=de.series,ce=de.points,le=de.xScale,pe=de.yScale,fe=de.lineGenerator,he={grid:(0,y.jsx)(o.rj,{width:ie,height:re,xScale:Z?le:null,yScale:V?pe:null},"grid"),axes:(0,y.jsx)(o.dk,{xScale:le,yScale:pe,width:ie,height:re,top:A,right:U,bottom:H,left:X},"axes"),labels:[],lines:(0,y.jsx)(t.Fragment,{children:ue.map((function(e){return(0,y.jsx)(S,{serie:e,currentSerie:ae,setCurrentSerie:se,lineGenerator:fe,yStep:pe.step(),margin:ee,isInteractive:_,onMouseEnter:N,onMouseMove:Y,onMouseLeave:$,onClick:K,tooltip:D},e.id)}))},"lines"),points:(0,y.jsx)(j,{pointComponent:L,points:ce},"points")};!1!==q&&he.labels.push((0,y.jsx)(B,{series:ue,getLabel:q,position:"start",padding:R,color:M},"start")),!1!==W&&he.labels.push((0,y.jsx)(B,{series:ue,getLabel:W,position:"end",padding:P,color:C},"end"));var ve=(0,t.useMemo)((function(){return{currentSerie:ae,innerHeight:re,innerWidth:ie,lineGenerator:fe,points:ce,series:ue,setCurrentSerie:se,xScale:le,yScale:pe}}),[ae,re,ie,fe,ce,ue,le,pe]);return(0,y.jsx)(n.tM,{width:te,height:ne,margin:ee,role:J,children:d.map((function(e,i){return"function"==typeof e?(0,y.jsx)(t.Fragment,{children:(0,t.createElement)(e,ve)},i):he[e]}))})};E.propTypes=P,E.defaultProps=C;var w=(0,t.memo)((0,n.li)(E)),I=function(e){return(0,y.jsx)(n.d,{children:function(i){var r=i.width,t=i.height;return(0,y.jsx)(w,g({width:r,height:t},e))}})},z=function(e){var i=e.serie;return(0,y.jsx)(l._5,{id:i.id,enableChip:!0,color:i.color})};z.propTypes={serie:v().shape({id:v().string.isRequired,color:v().string.isRequired})};var F=(0,t.memo)(z),G=g({},{data:v().arrayOf(v().shape({id:v().string.isRequired,data:v().arrayOf(v().shape({x:v().oneOfType([v().number,v().string]).isRequired,y:v().number.isRequired})).isRequired})).isRequired,align:v().oneOf(["start","middle","end"]).isRequired,layers:v().arrayOf(v().oneOfType([v().oneOf(["grid","axes","labels","areas"]),v().func])).isRequired,interpolation:v().oneOf(["linear","smooth"]).isRequired,spacing:v().number.isRequired,xPadding:v().number.isRequired,colors:c.qi.isRequired,blendMode:n.wM.isRequired,fillOpacity:v().number.isRequired,activeFillOpacity:v().number.isRequired,inactiveFillOpacity:v().number.isRequired,defs:v().arrayOf(v().shape({id:v().string.isRequired})).isRequired,fill:v().arrayOf(v().shape({id:v().string,match:v().oneOfType([v().oneOf(["*"]),v().object,v().func]).isRequired})).isRequired,borderWidth:v().number.isRequired,activeBorderWidth:v().number.isRequired,inactiveBorderWidth:v().number.isRequired,borderColor:c.UO.isRequired,borderOpacity:v().number.isRequired,activeBorderOpacity:v().number.isRequired,inactiveBorderOpacity:v().number.isRequired,startLabel:v().oneOfType([v().oneOf([!1]),v().string,v().func]).isRequired,startLabelPadding:v().number.isRequired,startLabelTextColor:c.UO.isRequired,endLabel:v().oneOfType([v().oneOf([!1]),v().string,v().func]).isRequired,endLabelPadding:v().number.isRequired,endLabelTextColor:c.UO.isRequired,enableGridX:v().bool.isRequired,axisTop:o.VT,axisBottom:o.VT,isInteractive:v().bool.isRequired,onMouseEnter:v().func,onMouseMove:v().func,onMouseLeave:v().func,onClick:v().func,tooltip:v().oneOfType([v().func,v().object]).isRequired},n.w$,{role:v().string.isRequired}),A=g({},{align:"middle",layers:["grid","axes","labels","areas"],interpolation:"smooth",spacing:0,xPadding:.6,colors:{scheme:"nivo"},blendMode:"normal",fillOpacity:.8,activeFillOpacity:1,inactiveFillOpacity:.15,defs:[],fill:[],borderWidth:1,activeBorderWidth:1,inactiveBorderWidth:0,borderColor:{from:"color",modifiers:[["darker",.4]]},borderOpacity:1,activeBorderOpacity:1,inactiveBorderOpacity:0,startLabel:!1,startLabelPadding:12,startLabelTextColor:{from:"color",modifiers:[["darker",1]]},endLabel:"id",endLabelPadding:12,endLabelTextColor:{from:"color",modifiers:[["darker",1]]},enableGridX:!0,axisTop:{},axisBottom:{},isInteractive:!0,tooltip:F},{animate:!0,motionConfig:"gentle",role:"img"}),U=function(e){return(0,t.useMemo)((function(){return"function"==typeof e?e:function(){return e}}),[e])},H=function(e){var i=e.data,r=e.width,o=e.height,a=e.align,l=e.spacing,h=e.xPadding,v=e.interpolation,y=e.colors,b=e.fillOpacity,m=e.activeFillOpacity,x=e.inactiveFillOpacity,O=e.borderWidth,q=e.activeBorderWidth,R=e.inactiveBorderWidth,M=e.borderColor,W=e.borderOpacity,P=e.activeBorderOpacity,C=e.inactiveBorderOpacity,L=e.isInteractive,S=e.current,T=function(e){var i=e.data,r=e.width,n=e.height,o=e.align,a=e.spacing,s=e.xPadding;return(0,t.useMemo)((function(){return function(e){var i=e.data,r=e.width,t=e.height,n=e.align,o=e.spacing,a=e.xPadding,s=new Map,d=null,u=null;i.forEach((function(e){e.data.forEach((function(i){s.has(i.x)||s.set(i.x,{id:i.x,total:0,values:new Map});var r=s.get(i.x),t=r.total+i.y;r.total=t,r.values.set(e.id,{serieId:e.id,value:i.y}),(null===t||t>d)&&(d=t,u=r.values.size)}))}));var c=(0,p.x)().domain(Array.from(s.keys())).range([0,r]),l=(0,f.Z)().domain([0,d]).range([0,t-u*o]);s.forEach((function(e,i){e.x=c(i);var r=l(e.total)+e.values.size*o,a=0;"middle"===n?a=(t-r)/2:"end"===n&&(a=t-r),Array.from(e.values.values()).sort((function(e,i){return i.value-e.value})).forEach((function(i,r,t){var n=t.filter((function(e,i){return i<r})),s=n.reduce((function(e,i){return e+i.value}),0),d=e.values.get(i.serieId);d.position=r,d.height=l(i.value),d.beforeHeight=l(s)+a+o*(n.length+.5)}))}));var h=c.step()*Math.min(.5*a,.5),v=i.map((function(e){var i=g({},e);return i.points=[],i.areaPoints=[],e.data.forEach((function(r,t){var n=s.get(r.x),o=n.values.get(e.id),a=n.x,d=o.beforeHeight,u=o.height,c=d+u/2,l=d,p=d+u;i.points.push({x:a,y:c,height:u,data:g({},r)}),t>0&&i.areaPoints.push({x:a-h,y0:l,y1:p}),i.areaPoints.push({x:a,y0:l,y1:p}),t<e.data.length-1&&i.areaPoints.push({x:a+h,y0:l,y1:p})})),i}));return{xScale:c,heightScale:l,series:v}}({data:i,width:r,height:n,align:o,spacing:a,xPadding:s})}),[i,r,n,o,a,s])}({data:i,width:r,height:o,align:a,spacing:l,xPadding:h}),B=T.series,k=T.xScale,j=T.heightScale,E=function(e){return(0,t.useMemo)((function(){return(0,u.Z)().x((function(e){return e.x})).y0((function(e){return e.y0})).y1((function(e){return e.y1})).curve("smooth"===e?s.ZP:d.Z)}),[e])}(v),w=(0,c.U)(y,"id"),I=function(e){var i=e.activeFillOpacity,r=e.inactiveFillOpacity,o=e.borderWidth,a=e.activeBorderWidth,s=e.inactiveBorderWidth,d=e.borderColor,u=e.borderOpacity,l=e.activeBorderOpacity,p=e.inactiveBorderOpacity,f=e.isInteractive,h=e.current,v=U(e.fillOpacity),y=U(i),b=U(r),g=U(o),m=U(a),x=U(s),O=(0,n.Fg)(),q=(0,c.Bf)(d,O),R=U(u),M=U(l),W=U(p),P=(0,t.useMemo)((function(){return function(e){return{fillOpacity:v(e),borderWidth:g(e),borderColor:q(e),borderOpacity:R(e)}}}),[v,g,q,R]),C=(0,t.useMemo)((function(){return function(e){return{fillOpacity:y(e),borderWidth:m(e),borderColor:q(e),borderOpacity:M(e)}}}),[y,m,q,M]),L=(0,t.useMemo)((function(){return function(e){return{fillOpacity:b(e),borderWidth:x(e),borderColor:q(e),borderOpacity:W(e)}}}),[b,x,q,W]);return(0,t.useMemo)((function(){return f?function(e){return null===h?P(e):e.id===h?C(e):L(e)}:P}),[P,C,L,f,h])}({fillOpacity:b,activeFillOpacity:m,inactiveFillOpacity:x,borderWidth:O,activeBorderWidth:q,inactiveBorderWidth:R,borderColor:M,borderOpacity:W,activeBorderOpacity:P,inactiveBorderOpacity:C,isInteractive:L,current:S});return{series:(0,t.useMemo)((function(){return B.map((function(e){var i=g({},e);return i.color=w(i),i.style=I(i),i}))}),[B,w,I]),xScale:k,heightScale:j,areaGenerator:E}},X=function(e){var i=e.serie,r=e.areaGenerator,o=e.blendMode,a=function(e){var i=e.serie,r=e.isInteractive,n=e.onMouseEnter,o=e.onMouseMove,a=e.onMouseLeave,s=e.onClick,d=e.setCurrent,u=e.tooltip,c=(0,l.lL)(),p=c.showTooltipFromEvent,f=c.hideTooltip,h=(0,t.useCallback)((function(e){p((0,t.createElement)(u,{serie:i}),e),d(i.id),n&&n(i,e)}),[i,n,p,d]),v=(0,t.useCallback)((function(e){p((0,t.createElement)(u,{serie:i}),e),o&&o(i,e)}),[i,o,p]),y=(0,t.useCallback)((function(e){f(),d(null),a&&a(i,e)}),[i,a,f,d]),b=(0,t.useCallback)((function(e){s&&s(i,e)}),[i,s]);return(0,t.useMemo)((function(){return{onMouseEnter:r?h:void 0,onMouseMove:r?v:void 0,onMouseLeave:r?y:void 0,onClick:r?b:void 0}}),[r,h,v,y,b])}({serie:i,isInteractive:e.isInteractive,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,setCurrent:e.setCurrentSerie,tooltip:e.tooltip}),s=(0,n.tf)(),d=s.animate,u=s.config,c=(0,n.NS)(r(i.areaPoints)),p=(0,b.useSpring)({color:i.color,fillOpacity:i.style.fillOpacity,stroke:i.style.borderColor,strokeOpacity:i.style.borderOpacity,config:u,immediate:!d});return(0,y.jsx)(b.q.path,{d:c,fill:i.fill?i.fill:p.color,fillOpacity:p.fillOpacity,stroke:p.stroke,strokeWidth:i.style.borderWidth,strokeOpacity:p.strokeOpacity,style:{mixBlendMode:o},onMouseEnter:a.onMouseEnter,onMouseMove:a.onMouseMove,onMouseLeave:a.onMouseLeave,onClick:a.onClick})};X.propTypes={serie:v().shape({id:v().string.isRequired,color:v().string.isRequired,fill:v().string,areaPoints:v().array.isRequired,style:v().shape({fillOpacity:v().number.isRequired,borderWidth:v().number.isRequired,borderColor:v().string.isRequired,borderOpacity:v().number.isRequired}).isRequired}).isRequired,areaGenerator:v().func.isRequired,blendMode:n.wM.isRequired,isInteractive:v().bool.isRequired,onMouseEnter:v().func,onMouseMove:v().func,onMouseLeave:v().func,onClick:v().func,setCurrentSerie:v().func.isRequired,tooltip:v().oneOfType([v().func,v().object]).isRequired};var Z=(0,t.memo)(X),V=function(e){var i=e.series,r=e.position,o=e.padding,a=e.color,s=(0,n.Fg)(),d=(0,n.tf)(),u=d.animate,l=d.config,p=function(e){var i=e.series,r=e.position,o=e.padding,a=e.color,s=(0,n.Fg)(),d=(0,c.Bf)(a,s);return(0,t.useMemo)((function(){var e,t;return"start"===r?(e="end",t=-1*o):(e="start",t=o),i.map((function(i){var n="start"===r?i.points[0]:i.points[i.points.length-1];return{id:i.id,x:n.x+t,y:n.y,color:d(i),opacity:i.style.fillOpacity,serie:i,textAnchor:e}}))}),[i,r,o,d])}({series:i,position:r,padding:o,color:a});return(0,b.useSprings)(p.length,p.map((function(e){return{x:e.x,y:e.y,opacity:e.opacity,config:l,immediate:!u}}))).map((function(e,i){var r=p[i];return(0,y.jsx)(b.q.text,{x:e.x,y:e.y,textAnchor:r.textAnchor,dominantBaseline:"central",opacity:e.opacity,style:g({},s.labels.text,{fill:r.color}),children:r.id},r.id)}))};V.propTypes={series:v().arrayOf(v().shape({id:v().string.isRequired,data:v().arrayOf(v().shape({x:v().oneOfType([v().number,v().string]).isRequired,y:v().oneOfType([v().number,v().string]).isRequired})).isRequired})).isRequired,position:v().oneOf(["start","end"]).isRequired,padding:v().number.isRequired,color:c.UO.isRequired};var _=(0,t.memo)(V),N=function(e){var i=e.data,r=e.align,a=e.width,s=e.height,d=e.margin,u=e.layers,c=e.interpolation,l=e.spacing,p=e.xPadding,f=e.colors,h=e.blendMode,v=e.fillOpacity,b=e.activeFillOpacity,m=e.inactiveFillOpacity,x=e.defs,O=e.fill,q=e.borderWidth,R=e.activeBorderWidth,M=e.inactiveBorderWidth,W=e.borderColor,P=e.borderOpacity,C=e.activeBorderOpacity,L=e.inactiveBorderOpacity,S=e.startLabel,T=e.startLabelPadding,B=e.startLabelTextColor,k=e.endLabel,j=e.endLabelPadding,E=e.endLabelTextColor,w=e.enableGridX,I=e.axisTop,z=e.axisBottom,F=e.isInteractive,G=e.onMouseEnter,A=e.onMouseMove,U=e.onMouseLeave,X=e.onClick,V=e.tooltip,N=e.role,Y=(0,t.useState)(null),$=Y[0],K=Y[1],D=(0,n.Bs)(a,s,d),J=D.margin,Q=D.innerWidth,ee=D.innerHeight,ie=D.outerWidth,re=D.outerHeight,te=H({data:i,width:Q,height:ee,align:r,spacing:l,xPadding:p,interpolation:c,colors:f,fillOpacity:v,activeFillOpacity:b,inactiveFillOpacity:m,borderWidth:q,activeBorderWidth:R,inactiveBorderWidth:M,borderColor:W,borderOpacity:P,activeBorderOpacity:C,inactiveBorderOpacity:L,isInteractive:F,current:$}),ne=te.series,oe=te.xScale,ae=te.areaGenerator,se=(0,t.useMemo)((function(){return(0,n.yU)(x,ne,O,{targetKey:"fill"})}),[x,ne,O]),de={grid:w&&(0,y.jsx)(o.rj,{width:Q,height:ee,xScale:oe},"grid"),axes:(0,y.jsx)(o.dk,{xScale:oe,width:Q,height:ee,top:I,bottom:z},"axes"),labels:[],areas:(0,y.jsx)(t.Fragment,{children:ne.map((function(e){return(0,y.jsx)(Z,{areaGenerator:ae,serie:e,blendMode:h,isInteractive:F,setCurrentSerie:K,onMouseEnter:G,onMouseMove:A,onMouseLeave:U,onClick:X,tooltip:V},e.id)}))},"areas")};return!1!==S&&de.labels.push((0,y.jsx)(_,{series:ne,position:"start",padding:T,color:B},"start")),!1!==k&&de.labels.push((0,y.jsx)(_,{series:ne,position:"end",padding:j,color:E},"end")),(0,y.jsx)(n.tM,{defs:se,width:ie,height:re,margin:J,role:N,children:u.map((function(i,r){return"function"==typeof i?(0,y.jsx)(t.Fragment,{children:i(g({},e,{innerWidth:Q,innerHeight:ee,outerWidth:ie,outerHeight:re,series:ne,xScale:oe,areaGenerator:ae}))},r):de[i]}))})};N.propTypes=G,N.defaultProps=A;var Y=(0,t.memo)((0,n.li)(N)),$=function(e){return(0,y.jsx)(n.d,{children:function(i){var r=i.width,t=i.height;return(0,y.jsx)(Y,g({width:r,height:t},e))}})}}}]);
//# sourceMappingURL=b276a4b74ec6c7f3d9d321f2bdee5b26e655f43e-e24bd1119bf7161c4629.js.map