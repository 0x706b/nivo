(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[9666],{54358:function(e,t,n){"use strict";n.d(t,{q6:function(){return P},dS:function(){return I},O2:function(){return k},zs:function(){return S}});var i=n(27378),o=n(48159),a=n.n(o),r=n(78581),l=n.n(r),d=n(69238),u=n.n(d),s=n(45434),c=n(58493),h=n(64253);function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},f.apply(this,arguments)}var b=4,g=120,v=8,m=function(e){return"circle"===e.type},x=function(e){return"dot"===e.type},y=function(e){return"rect"===e.type},p=function(e){var t,n,i=e.x,o=e.y,a=e.noteX,r=e.noteY,d=e.noteWidth,u=void 0===d?g:d,c=e.noteTextOffset,h=void 0===c?v:c;if(l()(a))t=i+a;else{if(void 0===a.abs)throw new Error("noteX should be either a number or an object containing an 'abs' property");t=a.abs}if(l()(r))n=o+r;else{if(void 0===r.abs)throw new Error("noteY should be either a number or an object containing an 'abs' property");n=r.abs}var f=i,b=o,x=function(e,t,n,i){var o=Math.atan2(i-t,n-e);return(0,s.bt)((0,s.vi)(o))}(i,o,t,n);if(m(e)){var p=(0,s.re)((0,s.Ht)(x),e.size/2);f+=p.x,b+=p.y}if(y(e)){var k=Math.round((x+90)/45)%8;0===k&&(b-=e.height/2),1===k&&(f+=e.width/2,b-=e.height/2),2===k&&(f+=e.width/2),3===k&&(f+=e.width/2,b+=e.height/2),4===k&&(b+=e.height/2),5===k&&(f-=e.width/2,b+=e.height/2),6===k&&(f-=e.width/2),7===k&&(f-=e.width/2,b-=e.height/2)}var S=t,w=t;return(x+90)%360>180?(S-=u,w-=u):w+=u,{points:[[f,b],[t,n],[w,n]],text:[S,n-h],angle:x+90}},k=function(e){var t=e.data,n=e.annotations,o=e.getPosition,r=e.getDimensions;return(0,i.useMemo)((function(){return function(e){var t=e.data,n=e.annotations,i=e.getPosition,o=e.getDimensions;return n.reduce((function(e,n){var r=n.offset||0;return[].concat(e,u()(t,n.match).map((function(e){var t=i(e),l=o(e);return(m(n)||y(n))&&(l.size=l.size+2*r,l.width=l.width+2*r,l.height=l.height+2*r),f({},a()(n,["match","offset"]),t,l,{size:n.size||l.size,datum:e})})))}),[])}({data:t,annotations:n,getPosition:o,getDimensions:r})}),[t,n,o,r])},S=function(e){var t=e.annotations;return(0,i.useMemo)((function(){return t.map((function(e){return f({},e,{computed:p(f({},e))})}))}),[t])},w="/Users/raph/projects/plouc/nivo/packages/annotations/src/AnnotationNote.tsx",W=function(e){var t=e.datum,n=e.x,o=e.y,r=e.note,l=(0,s.Fg)(),d=(0,s.tf)(),u=d.animate,b=d.config,g=(0,c.useSpring)({x:n,y:o,config:b,immediate:!u});return"function"==typeof r?(0,i.createElement)(r,{x:n,y:o,datum:t}):(0,h.jsxDEV)(h.Fragment,{children:[l.annotations.text.outlineWidth>0&&(0,h.jsxDEV)(c.q.text,{x:g.x,y:g.y,style:f({},l.annotations.text,{strokeLinejoin:"round",strokeWidth:2*l.annotations.text.outlineWidth,stroke:l.annotations.text.outlineColor}),children:r},void 0,!1,{fileName:w,lineNumber:35,columnNumber:17},void 0),(0,h.jsxDEV)(c.q.text,{x:g.x,y:g.y,style:a()(l.annotations.text,["outlineWidth","outlineColor"]),children:r},void 0,!1,{fileName:w,lineNumber:48,columnNumber:13},void 0)]},void 0,!0)},C=function(e){var t=e.points,n=e.isOutline,o=void 0!==n&&n,a=(0,s.Fg)(),r=(0,i.useMemo)((function(){var e=t[0];return t.slice(1).reduce((function(e,t){return e+" L"+t[0]+","+t[1]}),"M"+e[0]+","+e[1])}),[t]),l=(0,s.NS)(r);if(o&&a.annotations.link.outlineWidth<=0)return null;var d=f({},a.annotations.link);return o&&(d.strokeLinecap="square",d.strokeWidth=a.annotations.link.strokeWidth+2*a.annotations.link.outlineWidth,d.stroke=a.annotations.link.outlineColor,d.opacity=a.annotations.link.outlineOpacity),(0,h.jsxDEV)(c.q.path,{fill:"none",d:l,style:d},void 0,!1,{fileName:"/Users/raph/projects/plouc/nivo/packages/annotations/src/AnnotationLink.tsx",lineNumber:38,columnNumber:12},void 0)},L="/Users/raph/projects/plouc/nivo/packages/annotations/src/CircleAnnotationOutline.tsx",V=function(e){var t=e.x,n=e.y,i=e.size,o=(0,s.Fg)(),a=(0,s.tf)(),r=a.animate,l=a.config,d=(0,c.useSpring)({x:t,y:n,radius:i/2,config:l,immediate:!r});return(0,h.jsxDEV)(h.Fragment,{children:[o.annotations.outline.outlineWidth>0&&(0,h.jsxDEV)(c.q.circle,{cx:d.x,cy:d.y,r:d.radius,style:f({},o.annotations.outline,{fill:"none",strokeWidth:o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor,opacity:o.annotations.outline.outlineOpacity})},void 0,!1,{fileName:L,lineNumber:19,columnNumber:17},void 0),(0,h.jsxDEV)(c.q.circle,{cx:d.x,cy:d.y,r:d.radius,style:o.annotations.outline},void 0,!1,{fileName:L,lineNumber:34,columnNumber:13},void 0)]},void 0,!0)},j="/Users/raph/projects/plouc/nivo/packages/annotations/src/DotAnnotationOutline.tsx",M=function(e){var t=e.x,n=e.y,i=e.size,o=void 0===i?b:i,a=(0,s.Fg)(),r=(0,s.tf)(),l=r.animate,d=r.config,u=(0,c.useSpring)({x:t,y:n,radius:o/2,config:d,immediate:!l});return(0,h.jsxDEV)(h.Fragment,{children:[a.annotations.outline.outlineWidth>0&&(0,h.jsxDEV)(c.q.circle,{cx:u.x,cy:u.y,r:u.radius,style:f({},a.annotations.outline,{fill:"none",strokeWidth:2*a.annotations.outline.outlineWidth,stroke:a.annotations.outline.outlineColor,opacity:a.annotations.outline.outlineOpacity})},void 0,!1,{fileName:j,lineNumber:28,columnNumber:17},void 0),(0,h.jsxDEV)(c.q.circle,{cx:u.x,cy:u.y,r:u.radius,style:a.annotations.symbol},void 0,!1,{fileName:j,lineNumber:41,columnNumber:13},void 0)]},void 0,!0)},E="/Users/raph/projects/plouc/nivo/packages/annotations/src/RectAnnotationOutline.tsx",N=function(e){var t=e.x,n=e.y,i=e.width,o=e.height,a=e.borderRadius,r=void 0===a?6:a,l=(0,s.Fg)(),d=(0,s.tf)(),u=d.animate,b=d.config,g=(0,c.useSpring)({x:t-i/2,y:n-o/2,width:i,height:o,config:b,immediate:!u});return(0,h.jsxDEV)(h.Fragment,{children:[l.annotations.outline.outlineWidth>0&&(0,h.jsxDEV)(c.q.rect,{x:g.x,y:g.y,rx:r,ry:r,width:g.width,height:g.height,style:f({},l.annotations.outline,{fill:"none",strokeWidth:l.annotations.outline.strokeWidth+2*l.annotations.outline.outlineWidth,stroke:l.annotations.outline.outlineColor,opacity:l.annotations.outline.outlineOpacity})},void 0,!1,{fileName:E,lineNumber:32,columnNumber:17},void 0),(0,h.jsxDEV)(c.q.rect,{x:g.x,y:g.y,rx:r,ry:r,width:g.width,height:g.height,style:l.annotations.outline},void 0,!1,{fileName:E,lineNumber:50,columnNumber:13},void 0)]},void 0,!0)},B="/Users/raph/projects/plouc/nivo/packages/annotations/src/Annotation.tsx",P=function(e){var t=e.datum,n=e.x,o=e.y,a=e.note,r=function(e){return(0,i.useMemo)((function(){return p(e)}),[e])}(e);if(!function(e){var t=typeof e;return(0,i.isValidElement)(e)||"string"===t||"function"===t||"object"===t}(a))throw new Error("note should be a valid react element");return(0,h.jsxDEV)(h.Fragment,{children:[(0,h.jsxDEV)(C,{points:r.points,isOutline:!0},void 0,!1,{fileName:B,lineNumber:20,columnNumber:13},void 0),m(e)&&(0,h.jsxDEV)(V,{x:n,y:o,size:e.size},void 0,!1,{fileName:B,lineNumber:22,columnNumber:17},void 0),x(e)&&(0,h.jsxDEV)(M,{x:n,y:o,size:e.size},void 0,!1,{fileName:B,lineNumber:25,columnNumber:17},void 0),y(e)&&(0,h.jsxDEV)(N,{x:n,y:o,width:e.width,height:e.height,borderRadius:e.borderRadius},void 0,!1,{fileName:B,lineNumber:28,columnNumber:17},void 0),(0,h.jsxDEV)(C,{points:r.points},void 0,!1,{fileName:B,lineNumber:36,columnNumber:13},void 0),(0,h.jsxDEV)(W,{datum:t,x:r.text[0],y:r.text[1],note:a},void 0,!1,{fileName:B,lineNumber:37,columnNumber:13},void 0)]},void 0,!0)},T=function(e,t){t.forEach((function(t,n){var i=t[0],o=t[1];0===n?e.moveTo(i,o):e.lineTo(i,o)}))},I=function(e,t){var n=t.annotations,i=t.theme;0!==n.length&&(e.save(),n.forEach((function(t){if(!function(e){var t=typeof e;return"string"===t||"function"===t}(t.note))throw new Error("note is invalid for canvas implementation");i.annotations.link.outlineWidth>0&&(e.lineCap="square",e.strokeStyle=i.annotations.link.outlineColor,e.lineWidth=i.annotations.link.strokeWidth+2*i.annotations.link.outlineWidth,e.beginPath(),T(e,t.computed.points),e.stroke(),e.lineCap="butt"),m(t)&&i.annotations.outline.outlineWidth>0&&(e.strokeStyle=i.annotations.outline.outlineColor,e.lineWidth=i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),x(t)&&i.annotations.symbol.outlineWidth>0&&(e.strokeStyle=i.annotations.symbol.outlineColor,e.lineWidth=2*i.annotations.symbol.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),y(t)&&i.annotations.outline.outlineWidth>0&&(e.strokeStyle=i.annotations.outline.outlineColor,e.lineWidth=i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),e.strokeStyle=i.annotations.link.stroke,e.lineWidth=i.annotations.link.strokeWidth,e.beginPath(),T(e,t.computed.points),e.stroke(),m(t)&&(e.strokeStyle=i.annotations.outline.stroke,e.lineWidth=i.annotations.outline.strokeWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),x(t)&&(e.fillStyle=i.annotations.symbol.fill,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.fill()),y(t)&&(e.strokeStyle=i.annotations.outline.stroke,e.lineWidth=i.annotations.outline.strokeWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),"function"==typeof t.note?t.note(e,{datum:t.datum,x:t.computed.text[0],y:t.computed.text[1],theme:i}):(e.font=i.annotations.text.fontSize+"px "+i.annotations.text.fontFamily,e.fillStyle=i.annotations.text.fill,e.strokeStyle=i.annotations.text.outlineColor,e.lineWidth=2*i.annotations.text.outlineWidth,i.annotations.text.outlineWidth>0&&(e.lineJoin="round",e.strokeText(t.note,t.computed.text[0],t.computed.text[1]),e.lineJoin="miter"),e.fillText(t.note,t.computed.text[0],t.computed.text[1]))})),e.restore())}},74186:function(e,t,n){"use strict";n.d(t,{$Q:function(){return Z},jM:function(){return Q},dc:function(){return ee},XB:function(){return C}});var i=n(44365),o=n(54358),a=n(24246),r=n(47425),l=n(45434),d=n(27378),u=n(58493),s=n(89193),c=n(79234),h=n(770),f=n(26681),b=n(97197),g=n(31091),v=n.n(g);function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},m.apply(this,arguments)}function x(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}var y,p=function(e){var t=e.bars,n=e.annotations,i=(0,o.O2)({data:t,annotations:n,getPosition:function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}},getDimensions:function(e){var t=e.height,n=e.width;return{width:n,height:t,size:Math.max(n,t)}}});return(0,a.jsx)(a.Fragment,{children:i.map((function(e,t){return(0,a.jsx)(o.q6,m({},e),t)}))})},k=function(e){var t=e.width,n=e.height,i=e.legends,o=e.toggleSerie;return(0,a.jsx)(a.Fragment,{children:i.map((function(e,i){var l,d=e[0],u=e[1];return(0,a.jsx)(r.$6,m({},d,{containerWidth:t,containerHeight:n,data:null!=(l=d.data)?l:u,toggleSerie:d.toggleSerie&&"keys"===d.dataFrom?o:void 0}),i)}))})},S=["data"],w=["color","label"],W={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{from:"theme",theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:function(e){var t=e.color,n=e.label,i=x(e,w);return(0,a.jsx)(s._5,{id:n,value:i.formattedValue,enableChip:!0,color:t})},tooltipLabel:function(e){return e.id+" - "+e.indexValue},legends:[],initialHiddenIds:[],annotations:[],markers:[]},C=m({},W,{layers:["grid","axes","bars","markers","legends","annotations"],barComponent:function(e){var t,n=e.bar,i=n.data,o=x(n,S),r=e.style,c=r.borderColor,h=r.color,f=r.height,b=r.labelColor,g=r.labelOpacity,v=r.labelX,y=r.labelY,p=r.transform,k=r.width,w=e.borderRadius,W=e.borderWidth,C=e.label,L=e.shouldRenderLabel,V=e.isInteractive,j=e.onClick,M=e.onMouseEnter,E=e.onMouseLeave,N=e.tooltip,B=e.isFocusable,P=e.ariaLabel,T=e.ariaLabelledBy,I=e.ariaDescribedBy,D=(0,l.Fg)(),F=(0,s.lL)(),R=F.showTooltipFromEvent,O=F.showTooltipAt,z=F.hideTooltip,H=(0,d.useMemo)((function(){return function(){return(0,d.createElement)(N,m({},o,i))}}),[N,o,i]),X=(0,d.useCallback)((function(e){null==j||j(m({color:o.color},i),e)}),[o,i,j]),q=(0,d.useCallback)((function(e){return R(H(),e)}),[R,H]),Y=(0,d.useCallback)((function(e){null==M||M(i,e),R(H(),e)}),[i,M,R,H]),A=(0,d.useCallback)((function(e){null==E||E(i,e),z()}),[i,z,E]),G=(0,d.useCallback)((function(){O(H(),[o.absX+o.width/2,o.absY])}),[O,H,o]),U=(0,d.useCallback)((function(){z()}),[z]);return(0,a.jsxs)(u.q.g,{transform:p,children:[(0,a.jsx)(u.q.rect,{width:(0,u.to)(k,(function(e){return Math.max(e,0)})),height:(0,u.to)(f,(function(e){return Math.max(e,0)})),rx:w,ry:w,fill:null!=(t=i.fill)?t:h,strokeWidth:W,stroke:c,focusable:B,tabIndex:B?0:void 0,"aria-label":P?P(i):void 0,"aria-labelledby":T?T(i):void 0,"aria-describedby":I?I(i):void 0,onMouseEnter:V?Y:void 0,onMouseMove:V?q:void 0,onMouseLeave:V?A:void 0,onClick:V?X:void 0,onFocus:V&&B?G:void 0,onBlur:V&&B?U:void 0}),L&&(0,a.jsx)(u.q.text,{x:v,y:y,textAnchor:"middle",dominantBaseline:"central",fillOpacity:g,style:m({},D.labels.text,{pointerEvents:"none",fill:b}),children:C})]})},defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),L=m({},W,{layers:["grid","axes","bars","legends","annotations"],pixelRatio:"undefined"!=typeof window&&null!=(y=window.devicePixelRatio)?y:1}),V=function(e,t,n,i,o,a){return(0,h.ZN)(i,{all:e.map(t),min:0,max:0},o,a).padding(n)},j=function(e,t){return e.map((function(e){return m({},t.reduce((function(e,t){return e[t]=null,e}),{}),e)}))},M=function(e){return Object.keys(e).reduce((function(t,n){return e[n]&&(t[n]=e[n]),t}),{})},E=function(e){return[e,Number(e)]},N=["layout","minValue","maxValue","reverse","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],B=function(e,t){return e>t},P=function(e,t){return e<t},T=function(e,t){return Array.from(" ".repeat(t-e),(function(t,n){return e+n}))},I=function(e){return B(e,0)?0:e},D=function(e,t,n,i){var o=e.data,a=e.formatValue,r=e.getColor,l=e.getIndex,d=e.getTooltipLabel,u=e.innerPadding,s=void 0===u?0:u,c=e.keys,h=e.xScale,f=e.yScale,b=e.margin,g=n?P:B,v=o.map(M),m=[];return c.forEach((function(e,n){return T(0,h.domain().length).forEach((function(u){var c,x,y,p=E(o[u][e]),k=p[0],S=p[1],w=l(o[u]),W=(null!=(c=h(w))?c:0)+t*n+s*n,C=g(x=S,0)?null!=(y=f(x))?y:0:i,L=function(e,t){var n;return g(e,0)?i-t:(null!=(n=f(e))?n:0)-i}(S,C),V={id:e,value:null===k?k:S,formattedValue:a(S),hidden:!1,index:u,indexValue:w,data:v[u]};m.push({key:e+"."+V.indexValue,index:m.length,data:V,x:W,y:C,absX:b.left+W,absY:b.top+C,width:t,height:L,color:r(V),label:d(V)})}))})),m},F=function(e,t,n,i){var o=e.data,a=e.formatValue,r=e.getIndex,l=e.getColor,d=e.getTooltipLabel,u=e.keys,s=e.innerPadding,c=void 0===s?0:s,h=e.xScale,f=e.yScale,b=e.margin,g=n?P:B,v=o.map(M),m=[];return u.forEach((function(e,n){return T(0,f.domain().length).forEach((function(u){var s,x,y,p=E(o[u][e]),k=p[0],S=p[1],w=r(o[u]),W=g(x=S,0)?i:null!=(y=h(x))?y:0,C=(null!=(s=f(w))?s:0)+t*n+c*n,L=function(e,t){var n;return g(e,0)?(null!=(n=h(e))?n:0)-i:i-t}(S,W),V={id:e,value:null===k?k:S,formattedValue:a(S),hidden:!1,index:u,indexValue:w,data:v[u]};m.push({key:e+"."+V.indexValue,index:m.length,data:V,x:W,y:C,absX:b.left+W,absY:b.top+C,width:L,height:t,color:l(V),label:d(V)})}))})),m},R=function(e){var t,n,i=e.layout,o=e.minValue,a=e.maxValue,r=e.reverse,l=e.width,d=e.height,u=e.padding,s=void 0===u?0:u,c=e.innerPadding,f=void 0===c?0:c,b=e.valueScale,g=e.indexScale,v=e.hiddenIds,y=void 0===v?[]:v,p=x(e,N),k=p.keys.filter((function(e){return!y.includes(e)})),S=j(p.data,k),w="vertical"===i?["y","x",l]:["x","y",d],W=w[0],C=w[1],L=w[2],M=V(S,p.getIndex,s,g,L,C),E=m({max:a,min:o,reverse:r},b),B="auto"===E.min?I:function(e){return e},P=S.reduce((function(e,t){return[].concat(e,k.map((function(e){return t[e]})))}),[]).filter(Boolean),T=B(Math.min.apply(Math,P)),R=(n=Math.max.apply(Math,P),isFinite(n)?n:0),O=(0,h.ZN)(E,{all:P,min:T,max:R},"x"===W?l:d,W),z="vertical"===i?[M,O]:[O,M],H=z[0],X=z[1],q=(M.bandwidth()-f*(k.length-1))/k.length,Y=[m({},p,{data:S,keys:k,innerPadding:f,xScale:H,yScale:X}),q,E.reverse,null!=(t=O(0))?t:0];return{xScale:H,yScale:X,bars:q>0?"vertical"===i?D.apply(void 0,Y):F.apply(void 0,Y):[]}},O=["data","layout","minValue","maxValue","reverse","width","height","padding","valueScale","indexScale","hiddenIds"],z=function e(t){var n;return t.some(Array.isArray)?e((n=[]).concat.apply(n,t)):t},H=function(e,t,n){var i=e.formatValue,o=e.getColor,a=e.getIndex,r=e.getTooltipLabel,l=e.innerPadding,d=e.stackedData,u=e.xScale,s=e.yScale,c=e.margin,h=[];return d.forEach((function(e){return u.domain().forEach((function(d,f){var b,g,v=e[f],m=null!=(b=u(a(v.data)))?b:0,x=(null!=(g=function(e){return s(e[n?0:1])}(v))?g:0)+.5*l,y=function(e,t){var i;return(null!=(i=s(e[n?1:0]))?i:0)-t}(v,x)-l,p=E(v.data[e.key]),k=p[0],S=p[1],w={id:e.key,value:null===k?k:S,formattedValue:i(S),hidden:!1,index:f,indexValue:d,data:M(v.data)};h.push({key:e.key+"."+d,index:h.length,data:w,x:m,y:x,absX:c.left+m,absY:c.top+x,width:t,height:y,color:o(w),label:r(w)})}))})),h},X=function(e,t,n){var i=e.formatValue,o=e.getColor,a=e.getIndex,r=e.getTooltipLabel,l=e.innerPadding,d=e.stackedData,u=e.xScale,s=e.yScale,c=e.margin,h=[];return d.forEach((function(e){return s.domain().forEach((function(d,f){var b,g,v=e[f],m=null!=(b=s(a(v.data)))?b:0,x=(null!=(g=function(e){return u(e[n?1:0])}(v))?g:0)+.5*l,y=function(e,t){var i;return(null!=(i=u(e[n?0:1]))?i:0)-t}(v,x)-l,p=E(v.data[e.key]),k=p[0],S=p[1],w={id:e.key,value:null===k?k:S,formattedValue:i(S),hidden:!1,index:f,indexValue:d,data:M(v.data)};h.push({key:e.key+"."+d,index:h.length,data:w,x:x,y:m,absX:c.left+x,absY:c.top+m,width:y,height:t,color:o(w),label:r(w)})}))})),h},q=function(e){var t,n=e.data,i=e.layout,o=e.minValue,a=e.maxValue,r=e.reverse,l=e.width,d=e.height,u=e.padding,s=void 0===u?0:u,c=e.valueScale,g=e.indexScale,v=e.hiddenIds,y=void 0===v?[]:v,p=x(e,O),k=p.keys.filter((function(e){return!y.includes(e)})),S=(0,f.Z)().keys(k).offset(b.Z)(j(n,k)),w="vertical"===i?["y","x",l]:["x","y",d],W=w[0],C=w[1],L=w[2],M=V(n,p.getIndex,s,g,L,C),E=m({max:a,min:o,reverse:r},c),N=(t=z(S),"log"===c.type?t.filter((function(e){return 0!==e})):t),B=Math.min.apply(Math,N),P=Math.max.apply(Math,N),T=(0,h.ZN)(E,{all:N,min:B,max:P},"x"===W?l:d,W),I="vertical"===i?[M,T]:[T,M],D=I[0],F=I[1],R=p.innerPadding>0?p.innerPadding:0,q=M.bandwidth(),Y=[m({},p,{innerPadding:R,stackedData:S,xScale:D,yScale:F}),q,E.reverse];return{xScale:D,yScale:F,bars:q>0?"vertical"===i?H.apply(void 0,Y):X.apply(void 0,Y):[]}},Y=function(e){var t=e.bars,n=e.direction,i=e.from,o=e.groupMode,a=e.layout,r=e.legendLabel,d=e.reverse,u=(0,l.Xc)(null!=r?r:"indexes"===i?"indexValue":"id");return"indexes"===i?function(e,t,n){var i=v()(e.map((function(e){var t,i;return{id:null!=(t=e.data.indexValue)?t:"",label:n(e.data),hidden:e.data.hidden,color:null!=(i=e.color)?i:"#000"}})),(function(e){return e.id}));return"horizontal"===t&&i.reverse(),i}(t,a,u):function(e,t,n,i,o,a){var r=v()(e.map((function(e){var t;return{id:e.data.id,label:a(e.data),hidden:e.data.hidden,color:null!=(t=e.color)?t:"#000"}})),(function(e){return e.id}));return("vertical"===t&&"stacked"===i&&"column"===n&&!0!==o||"horizontal"===t&&"stacked"===i&&!0===o)&&r.reverse(),r}(t,a,n,o,d,u)},A=function(e){var t=e.indexBy,n=void 0===t?W.indexBy:t,i=e.keys,o=void 0===i?W.keys:i,a=e.label,r=void 0===a?W.label:a,u=e.tooltipLabel,s=void 0===u?W.tooltipLabel:u,h=e.valueFormat,f=e.colors,b=void 0===f?W.colors:f,g=e.colorBy,v=void 0===g?W.colorBy:g,x=e.borderColor,y=void 0===x?W.borderColor:x,p=e.labelTextColor,k=void 0===p?W.labelTextColor:p,S=e.groupMode,w=void 0===S?W.groupMode:S,C=e.layout,L=void 0===C?W.layout:C,V=e.reverse,j=void 0===V?W.reverse:V,M=e.data,E=e.minValue,N=void 0===E?W.minValue:E,B=e.maxValue,P=void 0===B?W.maxValue:B,T=e.margin,I=e.width,D=e.height,F=e.padding,O=void 0===F?W.padding:F,z=e.innerPadding,H=void 0===z?W.innerPadding:z,X=e.valueScale,A=void 0===X?W.valueScale:X,G=e.indexScale,U=void 0===G?W.indexScale:G,Z=e.initialHiddenIds,_=void 0===Z?W.initialHiddenIds:Z,J=e.enableLabel,K=void 0===J?W.enableLabel:J,$=e.labelSkipWidth,Q=void 0===$?W.labelSkipWidth:$,ee=e.labelSkipHeight,te=void 0===ee?W.labelSkipHeight:ee,ne=e.legends,ie=void 0===ne?W.legends:ne,oe=e.legendLabel,ae=(0,d.useState)(null!=_?_:[]),re=ae[0],le=ae[1],de=(0,d.useCallback)((function(e){le((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(t,[e])}))}),[]),ue=(0,l.LR)(n),se=(0,l.LR)(r),ce=(0,l.LR)(s),he=(0,l.O_)(h),fe=(0,l.Fg)(),be=(0,c.U)(b,v),ge=(0,c.Bf)(y,fe),ve=(0,c.Bf)(k,fe),me=("grouped"===w?R:q)({layout:L,reverse:j,data:M,getIndex:ue,keys:o,minValue:N,maxValue:P,width:I,height:D,getColor:be,padding:O,innerPadding:H,valueScale:A,indexScale:U,hiddenIds:re,formatValue:he,getTooltipLabel:ce,margin:T}),xe=me.bars,ye=me.xScale,pe=me.yScale,ke=(0,d.useMemo)((function(){return xe.filter((function(e){return null!==e.data.value})).map((function(e,t){return m({},e,{index:t})}))}),[xe]),Se=(0,d.useCallback)((function(e){var t=e.width,n=e.height;return!(!K||Q>0&&t<Q||te>0&&n<te)}),[K,Q,te]),we=(0,d.useMemo)((function(){return o.map((function(e){var t=xe.find((function(t){return t.data.id===e}));return m({},t,{data:m({id:e},null==t?void 0:t.data,{hidden:re.includes(e)})})}))}),[re,o,xe]),We=(0,d.useMemo)((function(){return ie.map((function(e){return[e,Y({bars:"keys"===e.dataFrom?we:xe,direction:e.direction,from:e.dataFrom,groupMode:w,layout:L,legendLabel:oe,reverse:j})]}))}),[ie,we,xe,w,L,oe,j]);return{bars:xe,barsWithValue:ke,xScale:ye,yScale:pe,getIndex:ue,getLabel:se,getTooltipLabel:ce,formatValue:he,getColor:be,getBorderColor:ge,getLabelColor:ve,shouldRenderBarLabel:Se,hiddenIds:re,toggleSerie:de,legendsWithData:We}},G=["isInteractive","animate","motionConfig","theme","renderWrapper"],U=function(e){var t=e.data,n=e.indexBy,o=e.keys,r=e.margin,s=e.width,c=e.height,h=e.groupMode,f=e.layout,b=e.reverse,g=e.minValue,v=e.maxValue,x=e.valueScale,y=e.indexScale,S=e.padding,w=e.innerPadding,W=e.axisTop,L=e.axisRight,V=e.axisBottom,j=void 0===V?C.axisBottom:V,M=e.axisLeft,E=void 0===M?C.axisLeft:M,N=e.enableGridX,B=void 0===N?C.enableGridX:N,P=e.enableGridY,T=void 0===P?C.enableGridY:P,I=e.gridXValues,D=e.gridYValues,F=e.layers,R=void 0===F?C.layers:F,O=e.barComponent,z=void 0===O?C.barComponent:O,H=e.enableLabel,X=e.label,q=e.labelSkipWidth,Y=e.labelSkipHeight,G=e.labelTextColor,U=e.markers,Z=void 0===U?C.markers:U,_=e.colorBy,J=e.colors,K=e.defs,$=void 0===K?C.defs:K,Q=e.fill,ee=void 0===Q?C.fill:Q,te=e.borderRadius,ne=void 0===te?C.borderRadius:te,ie=e.borderWidth,oe=void 0===ie?C.borderWidth:ie,ae=e.borderColor,re=e.annotations,le=void 0===re?C.annotations:re,de=e.legendLabel,ue=e.tooltipLabel,se=e.valueFormat,ce=e.isInteractive,he=void 0===ce?C.isInteractive:ce,fe=e.tooltip,be=void 0===fe?C.tooltip:fe,ge=e.onClick,ve=e.onMouseEnter,me=e.onMouseLeave,xe=e.legends,ye=e.role,pe=void 0===ye?C.role:ye,ke=e.ariaLabel,Se=e.ariaLabelledBy,we=e.ariaDescribedBy,We=e.isFocusable,Ce=void 0===We?C.isFocusable:We,Le=e.barAriaLabel,Ve=e.barAriaLabelledBy,je=e.barAriaDescribedBy,Me=e.initialHiddenIds,Ee=(0,l.tf)(),Ne=Ee.animate,Be=Ee.config,Pe=(0,l.Bs)(s,c,r),Te=Pe.outerWidth,Ie=Pe.outerHeight,De=Pe.margin,Fe=Pe.innerWidth,Re=Pe.innerHeight,Oe=A({indexBy:n,label:X,tooltipLabel:ue,valueFormat:se,colors:J,colorBy:_,borderColor:ae,labelTextColor:G,groupMode:h,layout:f,reverse:b,data:t,keys:o,minValue:g,maxValue:v,margin:De,width:Fe,height:Re,padding:S,innerPadding:w,valueScale:x,indexScale:y,enableLabel:H,labelSkipWidth:q,labelSkipHeight:Y,legends:xe,legendLabel:de,initialHiddenIds:Me}),ze=Oe.bars,He=Oe.barsWithValue,Xe=Oe.xScale,qe=Oe.yScale,Ye=Oe.getLabel,Ae=Oe.getTooltipLabel,Ge=Oe.getBorderColor,Ue=Oe.getLabelColor,Ze=Oe.shouldRenderBarLabel,_e=Oe.toggleSerie,Je=Oe.legendsWithData,Ke=(0,u.useTransition)(He,{keys:function(e){return e.key},from:function(e){return m({borderColor:Ge(e),color:e.color,height:0,labelColor:Ue(e),labelOpacity:0,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+(e.y+e.height)+")",width:e.width},"vertical"===f?{}:{height:e.height,transform:"translate("+e.x+", "+e.y+")",width:0})},enter:function(e){return{borderColor:Ge(e),color:e.color,height:e.height,labelColor:Ue(e),labelOpacity:1,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+e.y+")",width:e.width}},update:function(e){return{borderColor:Ge(e),color:e.color,height:e.height,labelColor:Ue(e),labelOpacity:1,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+e.y+")",width:e.width}},leave:function(e){return m({borderColor:Ge(e),color:e.color,height:0,labelColor:Ue(e),labelOpacity:0,labelX:e.width/2,labelY:0,transform:"translate("+e.x+", "+(e.y+e.height)+")",width:e.width},"vertical"===f?{}:{labelX:0,labelY:e.height/2,height:e.height,transform:"translate("+e.x+", "+e.y+")",width:0})},config:Be,immediate:!Ne}),$e=(0,d.useMemo)((function(){return{borderRadius:ne,borderWidth:oe,enableLabel:H,isInteractive:he,labelSkipWidth:q,labelSkipHeight:Y,onClick:ge,onMouseEnter:ve,onMouseLeave:me,getTooltipLabel:Ae,tooltip:be,isFocusable:Ce,ariaLabel:Le,ariaLabelledBy:Ve,ariaDescribedBy:je}}),[ne,oe,H,Ae,he,Y,q,ge,ve,me,be,Ce,Le,Ve,je]),Qe=(0,l.yU)($,ze,ee,{dataKey:"data",targetKey:"data.fill"}),et={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null};R.includes("annotations")&&(et.annotations=(0,a.jsx)(p,{bars:ze,annotations:le},"annotations")),R.includes("axes")&&(et.axes=(0,a.jsx)(i.dk,{xScale:Xe,yScale:qe,width:Fe,height:Re,top:W,right:L,bottom:j,left:E},"axes")),R.includes("bars")&&(et.bars=(0,a.jsx)(d.Fragment,{children:Ke((function(e,t){return(0,d.createElement)(z,m({},$e,{bar:t,style:e,shouldRenderLabel:Ze(t),label:Ye(t.data)}))}))},"bars")),R.includes("grid")&&(et.grid=(0,a.jsx)(i.rj,{width:Fe,height:Re,xScale:B?Xe:null,yScale:T?qe:null,xValues:I,yValues:D},"grid")),R.includes("legends")&&(et.legends=(0,a.jsx)(k,{width:Fe,height:Re,legends:Je,toggleSerie:_e},"legends")),R.includes("markers")&&(et.markers=(0,a.jsx)(l.TL,{markers:Z,width:Fe,height:Re,xScale:Xe,yScale:qe},"markers"));var tt=(0,d.useMemo)((function(){return m({},$e,{margin:De,innerWidth:Fe,innerHeight:Re,width:s,height:c,bars:ze,xScale:Xe,yScale:qe})}),[$e,De,Fe,Re,s,c,ze,Xe,qe]);return(0,a.jsx)(l.tM,{width:Te,height:Ie,margin:De,defs:Qe,role:pe,ariaLabel:ke,ariaLabelledBy:Se,ariaDescribedBy:we,isFocusable:Ce,children:R.map((function(e,t){var n;return"function"==typeof e?(0,a.jsx)(d.Fragment,{children:(0,d.createElement)(e,tt)},t):null!=(n=null==et?void 0:et[e])?n:null}))})},Z=function(e){var t=e.isInteractive,n=void 0===t?C.isInteractive:t,i=e.animate,o=void 0===i?C.animate:i,r=e.motionConfig,d=void 0===r?C.motionConfig:r,u=e.theme,s=e.renderWrapper,c=x(e,G);return(0,a.jsx)(l.W2,{animate:o,isInteractive:n,motionConfig:d,renderWrapper:s,theme:u,children:(0,a.jsx)(U,m({isInteractive:n},c))})},_=["isInteractive","renderWrapper","theme"],J=function(e,t,n,i){return e.find((function(e){return(0,l.zn)(e.x+t.left,e.y+t.top,e.width,e.height,n,i)}))},K=function(e){var t=e.data,n=e.indexBy,u=e.keys,c=e.margin,h=e.width,f=e.height,b=e.groupMode,g=e.layout,v=e.reverse,x=e.minValue,y=e.maxValue,p=e.valueScale,k=e.indexScale,S=e.padding,w=e.innerPadding,W=e.axisTop,C=e.axisRight,V=e.axisBottom,j=void 0===V?L.axisBottom:V,M=e.axisLeft,E=void 0===M?L.axisLeft:M,N=e.enableGridX,B=void 0===N?L.enableGridX:N,P=e.enableGridY,T=void 0===P?L.enableGridY:P,I=e.gridXValues,D=e.gridYValues,F=e.layers,R=void 0===F?L.layers:F,O=e.renderBar,z=void 0===O?function(e,t){var n=t.bar,i=n.color,o=n.height,a=n.width,r=n.x,l=n.y,d=t.borderColor,u=t.borderRadius,s=t.borderWidth,c=t.label,h=t.labelColor,f=t.shouldRenderLabel;if(e.fillStyle=i,s>0&&(e.strokeStyle=d,e.lineWidth=s),e.beginPath(),u>0){var b=Math.min(u,o);e.moveTo(r+b,l),e.lineTo(r+a-b,l),e.quadraticCurveTo(r+a,l,r+a,l+b),e.lineTo(r+a,l+o-b),e.quadraticCurveTo(r+a,l+o,r+a-b,l+o),e.lineTo(r+b,l+o),e.quadraticCurveTo(r,l+o,r,l+o-b),e.lineTo(r,l+b),e.quadraticCurveTo(r,l,r+b,l),e.closePath()}else e.rect(r,l,a,o);e.fill(),s>0&&e.stroke(),f&&(e.textBaseline="middle",e.textAlign="center",e.fillStyle=h,e.fillText(c,r+a/2,l+o/2))}:O,H=e.enableLabel,X=e.label,q=e.labelSkipWidth,Y=e.labelSkipHeight,G=e.labelTextColor,U=e.colorBy,Z=e.colors,_=e.borderRadius,K=void 0===_?L.borderRadius:_,$=e.borderWidth,Q=void 0===$?L.borderWidth:$,ee=e.borderColor,te=e.annotations,ne=void 0===te?L.annotations:te,ie=e.legendLabel,oe=e.tooltipLabel,ae=e.valueFormat,re=e.isInteractive,le=void 0===re?L.isInteractive:re,de=e.tooltip,ue=void 0===de?L.tooltip:de,se=e.onClick,ce=e.onMouseEnter,he=e.onMouseLeave,fe=e.legends,be=e.pixelRatio,ge=void 0===be?L.pixelRatio:be,ve=e.canvasRef,me=(0,d.useRef)(null),xe=(0,l.Fg)(),ye=(0,l.Bs)(h,f,c),pe=ye.margin,ke=ye.innerWidth,Se=ye.innerHeight,we=ye.outerWidth,We=ye.outerHeight,Ce=A({indexBy:n,label:X,tooltipLabel:oe,valueFormat:ae,colors:Z,colorBy:U,borderColor:ee,labelTextColor:G,groupMode:b,layout:g,reverse:v,data:t,keys:u,minValue:x,maxValue:y,margin:pe,width:ke,height:Se,padding:S,innerPadding:w,valueScale:p,indexScale:k,enableLabel:H,labelSkipWidth:q,labelSkipHeight:Y,legends:fe,legendLabel:ie}),Le=Ce.bars,Ve=Ce.barsWithValue,je=Ce.xScale,Me=Ce.yScale,Ee=Ce.getLabel,Ne=Ce.getTooltipLabel,Be=Ce.getBorderColor,Pe=Ce.getLabelColor,Te=Ce.shouldRenderBarLabel,Ie=Ce.legendsWithData,De=(0,s.lL)(),Fe=De.showTooltipFromEvent,Re=De.hideTooltip,Oe=(0,o.zs)({annotations:(0,o.O2)({data:Le,annotations:ne,getPosition:function(e){return{x:e.x,y:e.y}},getDimensions:function(e){var t=e.width,n=e.height;return{width:t,height:n,size:Math.max(t,n)}}})}),ze=(0,d.useMemo)((function(){return{borderRadius:K,borderWidth:Q,enableLabel:H,isInteractive:le,labelSkipWidth:q,labelSkipHeight:Y,onClick:se,onMouseEnter:ce,onMouseLeave:he,getTooltipLabel:Ne,tooltip:ue,margin:pe,innerWidth:ke,innerHeight:Se,width:h,height:f,bars:Le,xScale:je,yScale:Me}}),[K,Q,H,Ne,f,Se,ke,le,Y,q,pe,se,ce,he,Le,je,Me,ue,h]);(0,d.useEffect)((function(){var e,t=null==(e=me.current)?void 0:e.getContext("2d");me.current&&t&&(me.current.width=we*ge,me.current.height=We*ge,t.scale(ge,ge),t.fillStyle=xe.background,t.fillRect(0,0,we,We),t.translate(pe.left,pe.top),R.forEach((function(e){"grid"===e?"number"==typeof xe.grid.line.strokeWidth&&xe.grid.line.strokeWidth>0&&(t.lineWidth=xe.grid.line.strokeWidth,t.strokeStyle=xe.grid.line.stroke,B&&(0,i.FA)(t,{width:h,height:f,scale:je,axis:"x",values:I}),T&&(0,i.FA)(t,{width:h,height:f,scale:Me,axis:"y",values:D})):"axes"===e?(0,i.DZ)(t,{xScale:je,yScale:Me,width:ke,height:Se,top:W,right:C,bottom:j,left:E,theme:xe}):"bars"===e?Ve.forEach((function(e){z(t,{bar:e,borderColor:Be(e),borderRadius:K,borderWidth:Q,label:Ee(e.data),labelColor:Pe(e),shouldRenderLabel:Te(e)})})):"legends"===e?Ie.forEach((function(e){var n=e[0],i=e[1];(0,r.as)(t,m({},n,{data:i,containerWidth:ke,containerHeight:Se,theme:xe}))})):"annotations"===e?(0,o.dS)(t,{annotations:Oe,theme:xe}):"function"==typeof e&&e(t,ze)})),t.save())}),[j,E,C,W,Ve,K,Q,Oe,B,T,Be,Ee,Pe,I,D,b,f,Se,ke,ze,R,g,Ie,pe.left,pe.top,We,we,ge,z,je,Me,v,Te,xe,h]);var He=(0,d.useCallback)((function(e){if(Le&&me.current){var t=(0,l.P6)(me.current,e),n=t[0],i=t[1],o=J(Le,pe,n,i);void 0!==o?(Fe((0,d.createElement)(ue,m({},o.data,{color:o.color,label:o.label,value:Number(o.data.value)})),e),"mouseenter"===e.type&&(null==ce||ce(o.data,e))):Re()}}),[Re,pe,ce,Le,Fe,ue]),Xe=(0,d.useCallback)((function(e){if(Le&&me.current){Re();var t=(0,l.P6)(me.current,e),n=t[0],i=t[1],o=J(Le,pe,n,i);o&&(null==he||he(o.data,e))}}),[Re,pe,he,Le]),qe=(0,d.useCallback)((function(e){if(Le&&me.current){var t=(0,l.P6)(me.current,e),n=t[0],i=t[1],o=J(Le,pe,n,i);void 0!==o&&(null==se||se(m({},o.data,{color:o.color}),e))}}),[pe,se,Le]);return(0,a.jsx)("canvas",{ref:function(e){me.current=e,ve&&"current"in ve&&(ve.current=e)},width:we*ge,height:We*ge,style:{width:we,height:We,cursor:le?"auto":"normal"},onMouseEnter:le?He:void 0,onMouseMove:le?He:void 0,onMouseLeave:le?Xe:void 0,onClick:le?qe:void 0})},$=(0,d.forwardRef)((function(e,t){var n=e.isInteractive,i=e.renderWrapper,o=e.theme,r=x(e,_);return(0,a.jsx)(l.W2,{isInteractive:n,renderWrapper:i,theme:o,animate:!1,children:(0,a.jsx)(K,m({},r,{canvasRef:t}))})})),Q=function(e){return(0,a.jsx)(l.d,{children:function(t){var n=t.width,i=t.height;return(0,a.jsx)(Z,m({width:n,height:i},e))}})},ee=(0,d.forwardRef)((function(e,t){return(0,a.jsx)(l.d,{children:function(n){var i=n.width,o=n.height;return(0,a.jsx)($,m({width:i,height:o},e,{ref:t}))}})}))},98129:function(e,t,n){var i=n(52033);e.exports=function(e,t){var n=[];return i(e,(function(e,i,o){t(e,i,o)&&n.push(e)})),n}},69238:function(e,t,n){var i=n(10263),o=n(98129),a=n(89278),r=n(19785);e.exports=function(e,t){return(r(e)?i:o)(e,a(t,3))}}}]);
//# sourceMappingURL=a5a2af8b6efadc451c6657f34242c5834a01470d-f9c9d526dcadea062e48.js.map