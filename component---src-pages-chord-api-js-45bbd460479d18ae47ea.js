(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"/Cyf":function(e,t,r){"use strict";var n=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN};var o,a;1===(o=n).length&&(a=o,o=function(e,t){return n(a(e),t)});r("apM1"),r("RqWj");var i=Array.prototype,c=(i.slice,i.map,function(e,t,r){e=+e,t=+t,r=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+r;for(var n=-1,o=0|Math.max(0,Math.ceil((t-e)/r)),a=new Array(o);++n<o;)a[n]=e+n*r;return a});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);r("kBzq");var l=function(e){for(var t,r,n,o=e.length,a=-1,i=0;++a<o;)i+=e[a].length;for(r=new Array(i);--o>=0;)for(t=(n=e[o]).length;--t>=0;)r[--i]=n[t];return r};r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return c}))},Bgie:function(e,t,r){"use strict";r.r(t);r("VlJN"),r("YjJN"),r("Eb4t"),r("IYjZ"),r("yvkl"),r("abGl"),r("gZHo"),r("Fdmb");var n=r("mXGw"),o=r.n(n),a=r("J2oK"),i=r("vrFN"),c=r("vrO3"),l=r("Q3d+"),u=r("TcQY"),s=r("9kA9"),d=r.n(s);function p(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b=Object(a.b)({size:5});t.default=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{title:"Chord HTTP API",keywords:[].concat(p(d.a.Chord.tags),["HTTP API"])}),o.a.createElement(c.a,{componentName:"Chord",chartClass:"chord",apiPath:"/charts/chord",flavors:d.a.flavors,dataProperty:"matrix",controlGroups:l.a,propsMapper:u.a,defaultProps:{width:800,height:800,matrix:JSON.stringify(b.matrix,null,"  "),keys:b.keys,margin:{top:40,right:40,bottom:40,left:40},padAngle:.02,innerRadiusRatio:.96,innerRadiusOffset:.01,colors:{scheme:"nivo"},arcOpacity:1,arcBorderWidth:1,arcBorderColor:{from:"color",modifiers:[["darker",.4]]},ribbonOpacity:.5,ribbonBorderWidth:1,ribbonBorderColor:{from:"color",modifiers:[["darker",.4]]},enableLabel:!0,label:"id",labelOffset:12,labelRotation:-90,labelTextColor:{from:"color",modifiers:[["darker",1]]}}}))}},"Q3d+":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r("VlJN"),r("YjJN"),r("Eb4t"),r("Fdmb"),r("IYjZ"),r("yvkl"),r("abGl"),r("iexB");var n,o=r("v6Ii"),a=r("RQLE");var i,c=[{key:"keys",group:"Base",help:"Keys used to identify each cell in the matrix.",description:"\n            Keys used to identify each cell in the matrix,\n            for example given this matrix:\n            ```\n            [ [123, 37,  99 ],\n              [75,  103, 82 ],\n              [37,  65,  109] ]\n            ```\n            and those keys:\n            ```\n            ['John', 'Jane', 'Raoul']\n            ```\n            it will result in the following mapping:\n            ```\n            [ [null,    'John', 'Jane',  'Raoul']\n              ['John',   123,    37,      99    ],\n              ['Jane',   75,     103,     82    ],\n              ['Raoul',  37,     65,      109   ] ]\n            ```\n        ",required:!0,type:"string[]"},{key:"matrix",group:"Base",help:"The matrix used to compute the chord diagram.",description:"\n            The matrix used to compute the chord diagram,\n            it must be a square matrix, meaning each row length\n            must equal the row count.\n        ",required:!0,type:"Array<number[]>"},{key:"valueFormat",group:"Base",type:"string | Function",required:!1,help:"Optional value formatter."},{key:"width",enableControlForFlavors:["api"],help:"Chart width.",description:"\n            not required if using\n            `<ResponsiveChord/>`.\n            Also note that width does not include labels,\n            so you should add enough margin to display them.\n        ",type:"number",required:!0,controlType:"range",group:"Base",controlOptions:{unit:"px",min:100,max:1e3,step:5}},{key:"height",enableControlForFlavors:["api"],help:"Chart height.",description:"\n            not required if using\n            `<ResponsiveChord/>`.\n            Also note that width does not include labels,\n            so you should add enough margin to display them.\n        ",type:"number",required:!0,controlType:"range",group:"Base",controlOptions:{unit:"px",min:100,max:1e3,step:5}},{key:"pixelRatio",flavors:["canvas"],help:"Adjust pixel ratio, useful for HiDPI screens.",required:!1,defaultValue:"Depends on device",type:"number",controlType:"range",group:"Base",controlOptions:{min:1,max:2}},{key:"margin",help:"Chart margin.",type:"object",required:!1,controlType:"margin",group:"Base"},{key:"padAngle",help:"Padding angle.",required:!1,defaultValue:o.b.padAngle,type:"number",controlType:"range",group:"Base",controlOptions:{min:0,max:1,step:.01}},{key:"innerRadiusRatio",help:"Inner radius ratio.",required:!1,defaultValue:o.b.innerRadiusRatio,type:"number",controlType:"range",group:"Base",controlOptions:{min:0,max:1,step:.01}},{key:"innerRadiusOffset",help:"Inner radius offset (minus innerRadiusRatio).",required:!1,defaultValue:o.b.innerRadiusOffset,type:"number",controlType:"range",group:"Base",controlOptions:{min:0,max:1,step:.01}},{key:"colors",help:"Defines how to compute arc/ribbon color.",type:"string | Function | string[]",required:!1,defaultValue:o.b.colors,controlType:"ordinalColors",group:"Style"},{key:"arcOpacity",help:"Arcs opacity.",required:!1,defaultValue:o.b.arcOpacity,type:"number",controlType:"opacity",group:"Style"},{key:"arcBorderWidth",help:"Arcs border width.",required:!1,defaultValue:o.b.arcBorderWidth,type:"number",controlType:"lineWidth",group:"Style"},{key:"arcBorderColor",help:"Arcs border color.",required:!1,defaultValue:o.b.arcBorderColor,type:"string | object | Function",controlType:"inheritedColor",group:"Style"},{key:"ribbonOpacity",help:"Ribbons opacity.",required:!1,defaultValue:o.b.ribbonOpacity,type:"number",controlType:"opacity",group:"Style"},{key:"ribbonBorderWidth",help:"Ribbons border width.",required:!1,defaultValue:o.b.ribbonBorderWidth,type:"number",controlType:"lineWidth",group:"Style"},{key:"ribbonBorderColor",help:"Ribbons border color.",required:!1,defaultValue:o.b.ribbonBorderColor,type:"string | object | Function",controlType:"inheritedColor",group:"Style"},{key:"enableLabel",help:"Enable/disable labels.",type:"boolean",required:!1,defaultValue:o.b.enableLabel,controlType:"switch",group:"Labels"},{key:"label",help:"Defines how to get label text, can be a string (used to access current arc data property) or a function which will receive the actual arc data.",type:"string | Function",required:!1,defaultValue:o.b.label,controlType:"choices",group:"Labels",controlOptions:{choices:["id","value","d => `${d.id} [${d.value}]`"].map((function(e){return{label:e,value:e}}))}},{key:"labelOffset",help:"Label offset from arc.",required:!1,defaultValue:o.b.labelOffset,type:"number",controlType:"range",group:"Labels",controlOptions:{unit:"px",min:-80,max:80}},{key:"labelRotation",help:"Label rotation.",required:!1,defaultValue:o.b.labelRotation,type:"number",controlType:"angle",group:"Labels",controlOptions:{min:-180,max:180,step:5}},(n={key:"labelTextColor",help:"Labels color.",description:"\n            How to compute label text color,\n            [see dedicated documentation](self:/guides/colors).\n        "},n.help="Method to compute label text color.",n.type="string | object | Function",n.required=!1,n.defaultValue=o.b.labelTextColor,n.controlType="inheritedColor",n.group="Labels",n),{key:"layers",group:"Customization",help:"Defines the order of layers and add custom layers.",description:"\n            You can also use this to insert extra layers\n            to the chart, the extra layer must be a function.\n            \n            The layer function which will receive the chart's\n            context & computed data and must return a valid SVG element\n            for the `Chord` component.\n\n            When using the canvas implementation, the function\n            will receive the canvas 2d context as first argument\n            and the chart's context and computed data as second.\n\n            Please make sure to use `context.save()` and\n            `context.restore()` if you make some global\n            modifications to the 2d context inside this function\n            to avoid side effects.\n        ",required:!1,type:"Array<string | Function>",defaultValue:o.b.layers},{key:"isInteractive",flavors:["svg","canvas"],help:"Enable/disable interactivity.",type:"boolean",required:!1,defaultValue:o.b.isInteractive,controlType:"switch",group:"Interactivity"},{key:"arcHoverOpacity",flavors:["svg","canvas"],help:"Arc opacity when hover (0~1).",required:!1,defaultValue:o.b.arcHoverOpacity,type:"number",controlType:"opacity",group:"Interactivity"},{key:"arcHoverOthersOpacity",flavors:["svg","canvas"],help:"Arc opacity when not hover (0~1).",required:!1,defaultValue:o.b.arcHoverOthersOpacity,type:"number",controlType:"opacity",group:"Interactivity"},{key:"ribbonHoverOpacity",flavors:["svg","canvas"],help:"Ribbon opacity when hover (0~1).",required:!1,defaultValue:o.b.ribbonHoverOpacity,type:"number",controlType:"opacity",group:"Interactivity"},{key:"ribbonHoverOthersOpacity",flavors:["svg","canvas"],help:"Ribbon opacity when not hover (0~1).",required:!1,defaultValue:o.b.ribbonHoverOthersOpacity,type:"number",controlType:"opacity",group:"Interactivity"},{key:"onArcMouseEnter",flavors:["svg","canvas"],group:"Interactivity",help:"onMouseEnter handler for arcs.",type:"(arc, event) => void",required:!1},{key:"onArcMouseMove",flavors:["svg","canvas"],group:"Interactivity",help:"onMouseMove handler for arcs.",type:"(arc, event) => void",required:!1},{key:"onArcMouseLeave",flavors:["svg","canvas"],group:"Interactivity",help:"onMouseLeave handler for arcs.",type:"(arc, event) => void",required:!1},{key:"onArcClick",flavors:["svg","canvas"],group:"Interactivity",help:"onClick handler for arcs.",type:"(arc, event) => void",required:!1},{key:"arcTooltip",flavors:["svg","canvas"],group:"Interactivity",type:"Function",required:!1,help:"Custom arc tooltip component.",description:"\n            A function allowing complete arc tooltip customisation,\n            it must return a valid HTML\n            element and will receive the arcs's data.\n        "},{key:"onRibbonMouseEnter",flavors:["svg"],group:"Interactivity",help:"onMouseEnter handler for ribbons.",type:"(ribbon, event) => void",required:!1},{key:"onRibbonMouseMove",flavors:["svg"],group:"Interactivity",help:"onMouseMove handler for ribbons.",type:"(ribbon, event) => void",required:!1},{key:"onRibbonMouseLeave",flavors:["svg"],group:"Interactivity",help:"onMouseLeave handler for ribbons.",type:"(ribbon, event) => void",required:!1},{key:"onRibbonClick",flavors:["svg"],group:"Interactivity",help:"onClick handler for ribbons.",type:"(ribbon, event) => void",required:!1},{key:"ribbonTooltip",flavors:["svg"],group:"Interactivity",type:"Function",required:!1,help:"Custom ribbon tooltip component.",description:"\n            A function allowing complete ribbon tooltip customisation,\n            it must return a valid HTML\n            element and will receive the ribbon's data.\n        "},{key:"legends",flavors:["svg","canvas"],type:"object[]",help:"Optional chart's legends.",group:"Legends",controlType:"array",controlOptions:{props:Object(a.c)(["svg","canvas"]),shouldCreate:!0,addLabel:"add legend",shouldRemove:!0,getItemTitle:function(e,t){return"legend["+e+"]: "+t.anchor+", "+t.direction},defaults:{dataFrom:"keys",anchor:"top-left",direction:"column",justify:!1,translateX:0,translateY:0,itemWidth:100,itemHeight:20,itemsSpacing:0,symbolSize:20,itemDirection:"left-to-right",onClick:function(e){alert(JSON.stringify(e,null,"    "))}}}}].concat(function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(i=Object(a.e)(["svg"],o.b))||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),l=Object(a.d)(c)},QU3t:function(e,t,r){"use strict";r("Tw+y"),r("kBzq");var n=r("/Cyf"),o=Math.cos,a=Math.sin,i=Math.PI,c=i/2,l=2*i,u=Math.max;function s(e){return function(t,r){return e(t.source.value+t.target.value,r.source.value+r.target.value)}}var d=function(){var e=0,t=null,r=null,o=null;function a(a){var i,c,s,d,p,b,f=a.length,h=[],g=Object(n.b)(f),m=[],y=[],v=y.groups=new Array(f),O=new Array(f*f);for(i=0,p=-1;++p<f;){for(c=0,b=-1;++b<f;)c+=a[p][b];h.push(c),m.push(Object(n.b)(f)),i+=c}for(t&&g.sort((function(e,r){return t(h[e],h[r])})),r&&m.forEach((function(e,t){e.sort((function(e,n){return r(a[t][e],a[t][n])}))})),d=(i=u(0,l-e*f)/i)?e:l/f,c=0,p=-1;++p<f;){for(s=c,b=-1;++b<f;){var A=g[p],w=m[A][b],j=a[A][w],x=c,k=c+=j*i;O[w*f+A]={index:A,subindex:w,startAngle:x,endAngle:k,value:j}}v[A]={index:A,startAngle:s,endAngle:c,value:h[A]},c+=d}for(p=-1;++p<f;)for(b=p-1;++b<f;){var E=O[b*f+p],C=O[p*f+b];(E.value||C.value)&&y.push(E.value<C.value?{source:C,target:E}:{source:E,target:C})}return o?y.sort(o):y}return a.padAngle=function(t){return arguments.length?(e=u(0,t),a):e},a.sortGroups=function(e){return arguments.length?(t=e,a):t},a.sortSubgroups=function(e){return arguments.length?(r=e,a):r},a.sortChords=function(e){return arguments.length?(null==e?o=null:(o=s(e))._=e,a):o&&o._},a},p=Array.prototype.slice,b=function(e){return function(){return e}},f=r("VSTl");function h(e){return e.source}function g(e){return e.target}function m(e){return e.radius}function y(e){return e.startAngle}function v(e){return e.endAngle}var O=function(){var e=h,t=g,r=m,n=y,i=v,l=null;function u(){var u,s=p.call(arguments),d=e.apply(this,s),b=t.apply(this,s),h=+r.apply(this,(s[0]=d,s)),g=n.apply(this,s)-c,m=i.apply(this,s)-c,y=h*o(g),v=h*a(g),O=+r.apply(this,(s[0]=b,s)),A=n.apply(this,s)-c,w=i.apply(this,s)-c;if(l||(l=u=Object(f.a)()),l.moveTo(y,v),l.arc(0,0,h,g,m),g===A&&m===w||(l.quadraticCurveTo(0,0,O*o(A),O*a(A)),l.arc(0,0,O,A,w)),l.quadraticCurveTo(0,0,y,v),l.closePath(),u)return l=null,u+""||null}return u.radius=function(e){return arguments.length?(r="function"==typeof e?e:b(+e),u):r},u.startAngle=function(e){return arguments.length?(n="function"==typeof e?e:b(+e),u):n},u.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:b(+e),u):i},u.source=function(t){return arguments.length?(e=t,u):e},u.target=function(e){return arguments.length?(t=e,u):t},u.context=function(e){return arguments.length?(l=null==e?null:e,u):l},u};r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return O}))},TcQY:function(e,t,r){"use strict";var n=r("nLLr");t.a=Object(n.b)({label:function(e){return"d => `${d.id} [${d.value}]`"===e?function(e){return e.id+" ["+e.value+"]"}:e}})},qg2j:function(e,t,r){var n=r("Dh2Y"),o=r("JIgs"),a=r("tDyL");e.exports=function(e,t){var r={};return t=a(t,3),o(e,(function(e,o,a){n(r,o,t(e,o,a))})),r}},v6Ii:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return Q})),r.d(t,"b",(function(){return w})),r.d(t,"c",(function(){return ne})),r.d(t,"d",(function(){return ae}));r("xl0S"),r("1c7q"),r("n2Yz"),r("/qG3"),r("IYjZ"),r("kBzq"),r("yvkl"),r("abGl"),r("gZHo"),r("Fdmb"),r("Ir+3");var n=r("mXGw"),o=r.n(n),a=r("NxE3"),i=r("62qY"),c=r("L3zu"),l=r("W0B4"),u=r.n(l),s=r("INlx"),d=r("aBO9"),p=r("QU3t"),b=r("qg2j"),f=r.n(b),h=r("wMFK"),g=Object(n.memo)((function(e){var t=e.arc;return o.a.createElement(s.a,{id:t.label,value:t.formattedValue,color:t.color,enableChip:!0})}));g.displayName="ChordArcTooltip";var m=Object(n.memo)((function(e){var t=e.ribbon,r=Object(a.pb)();return o.a.createElement(s.d,{theme:r,rows:[[o.a.createElement(s.b,{key:"chip",color:t.source.color}),o.a.createElement("strong",{key:"id"},t.source.label),t.source.formattedValue],[o.a.createElement(s.b,{key:"chip",color:t.target.color}),o.a.createElement("strong",{key:"id"},t.target.label),t.target.formattedValue]]})}));function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){v(e,t,r[t])}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}m.displayName="ChordRibbonTooltip";var O={keys:u.a.arrayOf(u.a.string).isRequired,matrix:u.a.arrayOf(u.a.arrayOf(u.a.number)).isRequired,valueFormat:u.a.oneOfType([u.a.func,u.a.string]),padAngle:u.a.number.isRequired,innerRadiusRatio:u.a.number.isRequired,innerRadiusOffset:u.a.number.isRequired,layers:u.a.arrayOf(u.a.oneOfType([u.a.oneOf(["ribbons","arcs","labels","legends"]),u.a.func])).isRequired,arcOpacity:u.a.number.isRequired,arcHoverOpacity:u.a.number.isRequired,arcHoverOthersOpacity:u.a.number.isRequired,arcBorderWidth:u.a.number.isRequired,arcBorderColor:i.k.isRequired,onArcMouseEnter:u.a.func,onArcMouseMove:u.a.func,onArcMouseLeave:u.a.func,onArcClick:u.a.func,arcTooltip:u.a.oneOfType([u.a.func,u.a.object]).isRequired,ribbonOpacity:u.a.number.isRequired,ribbonHoverOpacity:u.a.number.isRequired,ribbonHoverOthersOpacity:u.a.number.isRequired,ribbonBorderWidth:u.a.number.isRequired,ribbonBorderColor:i.k.isRequired,ribbonBlendMode:a.u.isRequired,onRibbonMouseEnter:u.a.func,onRibbonMouseMove:u.a.func,onRibbonMouseLeave:u.a.func,onRibbonClick:u.a.func,ribbonTooltip:u.a.oneOfType([u.a.func,u.a.object]).isRequired,enableLabel:u.a.bool.isRequired,label:u.a.oneOfType([u.a.string,u.a.func]).isRequired,labelOffset:u.a.number.isRequired,labelRotation:u.a.number.isRequired,labelTextColor:i.k.isRequired,colors:i.p.isRequired,isInteractive:u.a.bool.isRequired,legends:u.a.arrayOf(u.a.shape(c.o)).isRequired},A=(y({},O,a.U),y({pixelRatio:u.a.number.isRequired},O),{padAngle:0,innerRadiusRatio:.9,innerRadiusOffset:0,layers:["ribbons","arcs","labels","legends"],arcOpacity:1,arcHoverOpacity:1,arcHoverOthersOpacity:.15,arcBorderWidth:1,arcBorderColor:{from:"color",modifiers:[["darker",.4]]},arcTooltip:g,ribbonOpacity:.5,ribbonHoverOpacity:.85,ribbonHoverOthersOpacity:.15,ribbonBorderWidth:1,ribbonBorderColor:{from:"color",modifiers:[["darker",.4]]},ribbonBlendMode:"normal",ribbonTooltip:m,enableLabel:!0,label:"id",labelOffset:12,labelRotation:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},colors:{scheme:"nivo"},legends:[],isInteractive:!0}),w=y({},A,{animate:!0,motionStiffness:90,motionDamping:15}),j=y({},A,{pixelRatio:e.window&&e.window.devicePixelRatio?e.window.devicePixelRatio:1});function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(l){o=!0,a=l}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var E=function(e){var t=e.padAngle;return Object(n.useMemo)((function(){return function(e){var t=e.padAngle;return Object(p.a)().padAngle(t)}({padAngle:t})}),[t])},C=function(e){var t=e.width,r=e.height,o=e.innerRadiusRatio,a=e.innerRadiusOffset;return Object(n.useMemo)((function(){return function(e){var t=e.width,r=e.height,n=e.innerRadiusRatio,o=e.innerRadiusOffset,a=[t/2,r/2],i=Math.min(t,r)/2,c=i*n,l=i*(n-o);return{center:a,radius:i,innerRadius:c,arcGenerator:Object(d.a)().outerRadius(i).innerRadius(c),ribbonGenerator:Object(p.b)().radius(l)}}({width:t,height:r,innerRadiusRatio:o,innerRadiusOffset:a})}),[t,r,o,a])},M=function(e){var t=e.keys,r=e.matrix,o=e.label,c=e.valueFormat,l=e.width,u=e.height,s=e.innerRadiusRatio,d=e.innerRadiusOffset,p=e.padAngle,b=e.colors,f=E({padAngle:p}),h=C({width:l,height:u,innerRadiusRatio:s,innerRadiusOffset:d}),g=h.center,m=h.radius,y=h.innerRadius,v=h.arcGenerator,O=h.ribbonGenerator,A=Object(n.useMemo)((function(){return Object(a.K)(o)}),[o]),w=Object(a.qb)(c),j=Object(i.s)(b,"id"),x=function(e){var t=e.chord,r=e.getColor,o=e.keys,a=e.matrix,i=e.getLabel,c=e.formatValue;return Object(n.useMemo)((function(){return function(e){var t=e.chord,r=e.getColor,n=e.keys,o=e.matrix,a=e.getLabel,i=e.formatValue,c=t(o),l=c.groups.map((function(e){return e.id=n[e.index],e.color=r(e),e.formattedValue=i(e.value),e.label=a(e),e}));return c.forEach((function(e){e.source.id=n[e.source.index],e.source.color=r(e.source),e.source.formattedValue=i(e.source.value),e.source.label=a(e.source),e.target.id=n[e.target.index],e.target.color=r(e.target),e.target.formattedValue=i(e.target.value),e.target.label=a(e.target),e.id=[e.source.id,e.target.id].sort().join(".")})),{arcs:l,ribbons:c}}({chord:t,getColor:r,keys:o,matrix:a,getLabel:i,formatValue:c})}),[t,r,o,a,i,c])}({chord:f,getColor:j,keys:t,matrix:r,getLabel:A,formatValue:w});return{center:g,chord:f,radius:m,innerRadius:y,arcGenerator:v,ribbonGenerator:O,getColor:j,arcs:x.arcs,ribbons:x.ribbons}},R=function(e){var t=e.arcs,r=e.arcOpacity,o=e.arcHoverOpacity,a=e.arcHoverOthersOpacity,i=e.ribbons,c=e.ribbonOpacity,l=e.ribbonHoverOpacity,u=e.ribbonHoverOthersOpacity,s=k(Object(n.useState)(null),2),d=s[0],p=s[1],b=k(Object(n.useState)(null),2),f=b[0],h=b[1],g=Object(n.useMemo)((function(){var e=[],t=[];return d&&(e.push(d.id),i.filter((function(e){return e.source.id===d.id||e.target.id===d.id})).forEach((function(e){t.push(e.id)}))),f&&(e.push(f.source.id),e.push(f.target.id),t.push(f.id)),{selectedArcIds:e,selectedRibbonIds:t}}),[d,f,t,i]),m=g.selectedArcIds.length>1||g.selectedRibbonIds.length>0,y=Object(n.useMemo)((function(){return function(e){return m?g.selectedArcIds.includes(e.id)?o:a:r}}),[g.selectedArcIds,r,o,a]),v=Object(n.useMemo)((function(){return function(e){return m?g.selectedRibbonIds.includes(e.id)?l:u:c}}),[g.selectedRibbonIds,c,l,u]);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){x(e,t,r[t])}))}return e}({currentArc:d,setCurrentArc:p,currentRibbon:f,setCurrentRibbon:h,hasSelection:m},g,{getArcOpacity:y,getRibbonOpacity:v})},T=function(e){var t=e.center,r=e.radius,o=e.arcs,a=e.arcGenerator,i=e.ribbons,c=e.ribbonGenerator;return Object(n.useMemo)((function(){return{center:t,radius:r,arcs:o,arcGenerator:a,ribbons:i,ribbonGenerator:c}}),[t,r,o,a,i,c])};function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){q(e,t,r[t])}))}return e}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I=Object(n.memo)((function(e){var t=e.ribbon,r=e.ribbonGenerator,a=e.sourceStartAngle,i=e.sourceEndAngle,c=e.targetStartAngle,l=e.targetEndAngle,u=e.color,d=e.opacity,p=e.borderWidth,b=e.getBorderColor,f=e.blendMode,h=e.isInteractive,g=e.setCurrent,m=e.onMouseEnter,y=e.onMouseMove,v=e.onMouseLeave,O=e.onClick,A=e.tooltip,w=Object(s.h)(),j=w.showTooltipFromEvent,x=w.hideTooltip,k=Object(n.useMemo)((function(){if(h)return function(e){g(t),j(o.a.createElement(A,{ribbon:t}),e),m&&m(t,e)}}),[h,j,A,t,m]),E=Object(n.useMemo)((function(){if(h)return function(e){j(o.a.createElement(A,{ribbon:t}),e),y&&y(t,e)}}),[h,j,A,t,y]),C=Object(n.useMemo)((function(){if(h)return function(e){g(null),x(),v&&v(t,e)}}),[h,x,t,v]),M=Object(n.useMemo)((function(){if(h&&O)return function(e){return O(t,e)}}),[h,t,O]);return o.a.createElement("path",{d:r({source:{startAngle:a,endAngle:i},target:{startAngle:c,endAngle:l}}),fill:u,fillOpacity:d,strokeWidth:p,stroke:b(S({},t,{color:u})),strokeOpacity:d,style:{mixBlendMode:f},onMouseEnter:k,onMouseMove:E,onMouseLeave:C,onClick:M})}));function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){P(e,t,r[t])}))}return e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}I.displayName="ChordRibbon";var H=function(e,t,r){var n,o,i,c=e.source,l=e.target;if(c.startAngle<l.startAngle?(n=c,o=l):(n=l,o=c),!0===t){var u=Object(a.T)(n),s=Object(a.T)(o);i={sourceStartAngle:u,sourceEndAngle:u,targetStartAngle:s,targetEndAngle:s}}else i={sourceStartAngle:n.startAngle,sourceEndAngle:n.endAngle,targetStartAngle:o.startAngle,targetEndAngle:o.endAngle};return r?f()(i,(function(e){return Object(h.spring)(e,r)})):i},L=function(e){var t=e.data;return B({},H(t,!0),{opacity:0},Object(i.l)(t.source.color))},W=function(e){return function(t){var r=t.data;return B({},H(r,!0,e),{opacity:0},Object(i.l)(r.source.color,e))}},_=Object(n.memo)((function(e){var t=e.ribbons,r=e.ribbonGenerator,n=e.borderWidth,c=e.getBorderColor,l=e.getOpacity,u=e.blendMode,s=e.isInteractive,d=e.setCurrent,p=e.onMouseEnter,b=e.onMouseMove,f=e.onMouseLeave,g=e.onClick,m=e.tooltip,y=Object(a.ob)(),v=y.animate,O=y.springConfig;if(!0!==v)return o.a.createElement("g",null,t.map((function(e){return o.a.createElement(I,{key:e.id,ribbon:e,ribbonGenerator:r,sourceStartAngle:e.source.startAngle,sourceEndAngle:e.source.endAngle,targetStartAngle:e.target.startAngle,targetEndAngle:e.target.endAngle,color:e.source.color,blendMode:u,opacity:l(e),borderWidth:n,getBorderColor:c,isInteractive:s,setCurrent:d,onMouseEnter:p,onMouseMove:b,onMouseLeave:f,onClick:g,tooltip:m})})));var A=B({},O,{precision:.001});return o.a.createElement(h.TransitionMotion,{willEnter:L,willLeave:W(A),styles:t.map((function(e){return{key:e.id,data:e,style:B({},H(e,!1,A),{opacity:Object(h.spring)(l(e),A)},Object(i.l)(e.source.color,A))}}))},(function(e){return o.a.createElement(o.a.Fragment,null,e.map((function(e){var t=e.key,a=e.style,l=e.data,h=Object(i.i)(a);return o.a.createElement(I,{key:t,ribbon:l,ribbonGenerator:r,sourceStartAngle:a.sourceStartAngle,sourceEndAngle:Math.max(a.sourceEndAngle,a.sourceStartAngle),targetStartAngle:a.targetStartAngle,targetEndAngle:Math.max(a.targetEndAngle,a.targetStartAngle),color:h,blendMode:u,opacity:a.opacity,borderWidth:n,getBorderColor:c,isInteractive:s,setCurrent:d,onMouseEnter:p,onMouseMove:b,onMouseLeave:f,onClick:g,tooltip:m})})))}))}));_.displayName="ChordRibbons";var N=Object(n.memo)((function(e){var t=e.arc,r=e.startAngle,a=e.endAngle,i=e.borderWidth,c=e.getBorderColor,l=e.opacity,u=e.arcGenerator,d=e.setCurrent,p=e.isInteractive,b=e.onMouseEnter,f=e.onMouseMove,h=e.onMouseLeave,g=e.onClick,m=e.tooltip,y=Object(s.h)(),v=y.showTooltipFromEvent,O=y.hideTooltip,A=Object(n.useMemo)((function(){if(p)return function(e){d(t),v(o.a.createElement(m,{arc:t}),e),b&&b(t,e)}}),[p,v,m,t,b]),w=Object(n.useMemo)((function(){if(p)return function(e){v(o.a.createElement(m,{arc:t}),e),f&&f(t,e)}}),[p,v,m,t,f]),j=Object(n.useMemo)((function(){if(p)return function(e){d(null),O(),h&&h(t,e)}}),[p,O,t,h]),x=Object(n.useMemo)((function(){if(p&&g)return function(e){return g(t,e)}}),[p,t,g]);return o.a.createElement("path",{d:u({startAngle:r,endAngle:a}),fill:t.color,fillOpacity:l,strokeWidth:i,stroke:c(t),strokeOpacity:l,onMouseEnter:A,onMouseMove:w,onMouseLeave:j,onClick:x})}));function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){F(e,t,r[t])}))}return e}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}N.displayName="ChordArc";var V=Object(n.memo)((function(e){var t=e.arcs,r=e.borderWidth,n=e.getBorderColor,c=e.getOpacity,l=e.arcGenerator,u=e.setCurrent,s=e.isInteractive,d=e.onMouseEnter,p=e.onMouseMove,b=e.onMouseLeave,f=e.onClick,g=e.tooltip,m=Object(a.ob)(),y=m.animate,v=m.springConfig;if(!0!==y)return t.map((function(e){return o.a.createElement(N,{key:e.id,arc:e,arcGenerator:l,startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:c(e),borderWidth:r,getBorderColor:n,getOpacity:c,isInteractive:s,setCurrent:u,onMouseEnter:d,onMouseMove:p,onMouseLeave:b,onClick:f,tooltip:g})}));var O=G({},v,{precision:.001});return o.a.createElement(h.TransitionMotion,{styles:t.map((function(e){return{key:e.id,data:e,style:G({startAngle:Object(h.spring)(e.startAngle,O),endAngle:Object(h.spring)(e.endAngle,O),opacity:Object(h.spring)(c(e),O)},Object(i.l)(e.color,O))}}))},(function(e){return o.a.createElement(o.a.Fragment,null,e.map((function(e){var t=e.key,a=e.style,h=e.data,m=Object(i.i)(a);return o.a.createElement(N,{key:t,arc:h,arcGenerator:l,startAngle:a.startAngle,endAngle:a.endAngle,color:m,opacity:a.opacity,borderWidth:r,getBorderColor:n,getOpacity:c,isInteractive:s,setCurrent:u,onMouseEnter:d,onMouseMove:p,onMouseLeave:b,onClick:f,tooltip:g})})))}))}));function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){D(e,t,r[t])}))}return e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}V.displayName="ChordArcs";var z=function(e){var t=e.arcs,r=e.radius,n=e.rotation,i=e.getColor,c=Object(a.pb)(),l=Object(a.ob)(),u=l.animate,s=l.springConfig;return!0!==u?o.a.createElement(o.a.Fragment,null,t.map((function(e){var t=i(e,c),l=Object(a.T)(e),u=Object(a.L)(r,l,n);return o.a.createElement("text",{key:e.id,transform:"translate(".concat(u.x,", ").concat(u.y,") rotate(").concat(u.rotate,")"),style:J({},c.labels.text,{pointerEvents:"none",fill:t}),textAnchor:u.align,dominantBaseline:u.baseline},e.label)}))):o.a.createElement(h.TransitionMotion,{styles:t.map((function(e){var t=Object(a.T)(e);return{key:e.id,data:e,style:{angle:Object(h.spring)(t,s)}}}))},(function(e){return o.a.createElement(o.a.Fragment,null,e.map((function(e){var t=e.key,l=e.style,u=e.data,s=i(u,c),d=Object(a.L)(r,l.angle,n);return o.a.createElement("text",{key:t,transform:"translate(".concat(d.x,", ").concat(d.y,") rotate(").concat(d.rotate,")"),style:J({},c.labels.text,{pointerEvents:"none",fill:s}),textAnchor:d.align,dominantBaseline:d.baseline},u.label)})))}))};function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var U=function(e){var t=e.margin,r=e.width,l=e.height,u=e.keys,s=e.matrix,d=e.label,p=e.valueFormat,b=e.innerRadiusRatio,f=e.innerRadiusOffset,h=e.padAngle,g=e.layers,m=e.colors,y=e.arcBorderWidth,v=e.arcBorderColor,O=e.arcOpacity,A=e.arcHoverOpacity,w=e.arcHoverOthersOpacity,j=e.arcTooltip,x=e.ribbonBorderWidth,k=e.ribbonBorderColor,E=e.ribbonBlendMode,C=e.ribbonOpacity,S=e.ribbonHoverOpacity,q=e.ribbonHoverOthersOpacity,I=e.ribbonTooltip,B=e.enableLabel,P=e.labelOffset,H=e.labelRotation,L=e.labelTextColor,W=e.isInteractive,N=e.onArcMouseEnter,G=e.onArcMouseMove,F=e.onArcMouseLeave,J=e.onArcClick,D=e.onRibbonMouseEnter,U=e.onRibbonMouseMove,Q=e.onRibbonMouseLeave,K=e.onRibbonClick,Z=e.legends,X=Object(a.nb)(r,l,t),$=X.margin,ee=X.innerWidth,te=X.innerHeight,re=X.outerWidth,ne=X.outerHeight,oe=M({keys:u,matrix:s,label:d,valueFormat:p,width:ee,height:te,innerRadiusRatio:b,innerRadiusOffset:f,padAngle:h,colors:m}),ae=oe.center,ie=oe.radius,ce=oe.arcGenerator,le=oe.ribbonGenerator,ue=oe.arcs,se=oe.ribbons,de=R({arcs:ue,arcOpacity:O,arcHoverOpacity:A,arcHoverOthersOpacity:w,ribbons:se,ribbonOpacity:C,ribbonHoverOpacity:S,ribbonHoverOthersOpacity:q}),pe=de.setCurrentArc,be=de.setCurrentRibbon,fe=de.getArcOpacity,he=de.getRibbonOpacity,ge=Object(a.pb)(),me=Object(i.r)(L,ge),ye=Object(i.r)(v,ge),ve=Object(i.r)(k,ge),Oe=T({center:ae,radius:ie,arcs:ue,arcGenerator:ce,ribbons:se,ribbonGenerator:le});if(ie<=0)return null;var Ae=ue.map((function(e){return{id:e.id,label:e.label,color:e.color}})),we={ribbons:o.a.createElement("g",{key:"ribbons",transform:"translate(".concat(ae[0],", ").concat(ae[1],")")},o.a.createElement(_,{ribbons:se,ribbonGenerator:le,borderWidth:x,getBorderColor:ve,getOpacity:he,blendMode:E,setCurrent:be,isInteractive:W,onMouseEnter:D,onMouseMove:U,onMouseLeave:Q,onClick:K,tooltip:I})),arcs:o.a.createElement("g",{key:"arcs",transform:"translate(".concat(ae[0],", ").concat(ae[1],")")},o.a.createElement(V,{arcs:ue,arcGenerator:ce,borderWidth:y,getBorderColor:ye,getOpacity:fe,setCurrent:pe,isInteractive:W,onMouseEnter:N,onMouseMove:G,onMouseLeave:F,onClick:J,tooltip:j})),labels:null,legends:o.a.createElement(n.Fragment,{key:"legends"},Z.map((function(e,t){return o.a.createElement(c.j,Y({key:t},e,{containerWidth:ee,containerHeight:te,data:Ae,theme:ge}))})))};return!0===B&&(we.labels=o.a.createElement("g",{key:"labels",transform:"translate(".concat(ae[0],", ").concat(ae[1],")")},o.a.createElement(z,{arcs:ue,radius:ie+P,rotation:H,getColor:me}))),o.a.createElement(a.l,{width:re,height:ne,margin:$,theme:ge},g.map((function(e,t){return void 0!==we[e]?we[e]:"function"==typeof e?o.a.createElement(n.Fragment,{key:t},e(Oe)):null})))};U.defaultProps=w;var Q=Object(a.rb)(U);function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Z(e,t,r[t])}))}return e}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(l){o=!0,a=l}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var $=function(e){var t=e.event,r=e.canvasEl,n=e.center,o=e.margin,i=e.radius,c=e.innerRadius,l=e.arcs,u=X(Object(a.M)(r,t),2),s=u[0],d=u[1],p=o.left+n[0],b=o.top+n[1];return Object(a.J)(p,b,i,c,l,s,d)},ee=Object(n.memo)((function(e){var t=e.pixelRatio,r=e.margin,l=e.width,u=e.height,d=e.keys,p=e.matrix,b=e.label,f=e.valueFormat,h=e.innerRadiusRatio,g=e.innerRadiusOffset,m=e.padAngle,y=e.layers,v=e.colors,O=e.arcBorderWidth,A=e.arcBorderColor,w=e.arcOpacity,j=e.arcHoverOpacity,x=e.arcHoverOthersOpacity,k=e.arcTooltip,E=e.ribbonBorderWidth,C=e.ribbonBorderColor,S=e.ribbonOpacity,q=e.ribbonHoverOpacity,I=e.ribbonHoverOthersOpacity,B=e.enableLabel,P=e.labelOffset,H=e.labelRotation,L=e.labelTextColor,W=e.isInteractive,_=e.onArcMouseEnter,N=e.onArcMouseMove,G=e.onArcMouseLeave,F=e.onArcClick,V=e.legends,J=Object(n.useRef)(null),D=Object(a.nb)(l,u,r),z=D.innerWidth,Y=D.innerHeight,U=D.outerWidth,Q=D.outerHeight,Z=D.margin,X=M({keys:d,matrix:p,label:b,valueFormat:f,width:z,height:Y,innerRadiusRatio:h,innerRadiusOffset:g,padAngle:m,colors:v}),ee=X.center,te=X.radius,re=X.innerRadius,ne=X.arcGenerator,oe=X.ribbonGenerator,ae=X.arcs,ie=X.ribbons,ce=R({arcs:ae,arcOpacity:w,arcHoverOpacity:j,arcHoverOthersOpacity:x,ribbons:ie,ribbonOpacity:S,ribbonHoverOpacity:q,ribbonHoverOthersOpacity:I}),le=ce.currentArc,ue=ce.setCurrentArc,se=ce.getArcOpacity,de=ce.getRibbonOpacity,pe=Object(a.pb)(),be=Object(i.r)(L,pe),fe=Object(i.r)(A,pe),he=Object(i.r)(C,pe),ge=T({center:ee,radius:te,arcs:ae,arcGenerator:ne,ribbons:ie,ribbonGenerator:oe});Object(n.useEffect)((function(){J.current.width=U*t,J.current.height=Q*t;var e=J.current.getContext("2d");e.scale(t,t),e.fillStyle=pe.background,e.fillRect(0,0,U,Q),te<=0||y.forEach((function(t){if("ribbons"===t&&(e.save(),e.translate(Z.left+ee[0],Z.top+ee[1]),oe.context(e),ie.forEach((function(t){e.save(),e.globalAlpha=de(t),e.fillStyle=t.source.color,e.beginPath(),oe(t),e.fill(),E>0&&(e.strokeStyle=he(K({},t,{color:t.source.color})),e.lineWidth=E,e.stroke()),e.restore()})),e.restore()),"arcs"===t&&(e.save(),e.translate(Z.left+ee[0],Z.top+ee[1]),ne.context(e),ae.forEach((function(t){e.save(),e.globalAlpha=se(t),e.fillStyle=t.color,e.beginPath(),ne(t),e.fill(),O>0&&(e.strokeStyle=fe(t),e.lineWidth=O,e.stroke()),e.restore()})),e.restore()),"labels"===t&&!0===B&&(e.save(),e.translate(Z.left+ee[0],Z.top+ee[1]),e.font="".concat(pe.labels.text.fontSize,"px ").concat(pe.labels.text.fontFamily||"sans-serif"),ae.forEach((function(t){var r=Object(a.T)(t),n=Object(a.L)(te+P,r,H);e.save(),e.translate(n.x,n.y),e.rotate(Object(a.G)(n.rotate)),e.textAlign=n.align,e.textBaseline=n.baseline,e.fillStyle=be(t,pe),e.fillText(t.label,0,0),e.restore()})),e.restore()),"legends"===t){e.save(),e.translate(Z.left,Z.top);var r=ae.map((function(e){return{id:e.id,label:e.label,color:e.color}}));V.forEach((function(t){Object(c.q)(e,K({},t,{data:r,containerWidth:z,containerHeight:Y,theme:pe}))})),e.restore()}"function"==typeof t&&t(e,ge)}))}),[J,z,Y,U,Q,Z,t,pe,y,ae,ne,se,O,fe,ie,oe,de,E,he,B,P,H,be,V,ge]);var me=Object(s.h)(),ye=me.showTooltipFromEvent,ve=me.hideTooltip,Oe=Object(n.useCallback)((function(e){var t=$({event:e,canvasEl:J.current,center:ee,margin:Z,radius:te,innerRadius:re,arcs:ae});t?(ue(t),ye(o.a.createElement(k,{arc:t}),e),!le&&_&&_(t,e),N&&N(t,e),le&&le.id!==t.id&&G&&G(t,e)):(ue(null),ve(),le&&G&&G(le,e))}),[J,ee,Z,te,re,ae,ue,ye,ve,_,N,G]),Ae=Object(n.useCallback)((function(){ue(null),ve()}),[ue,ve]),we=Object(n.useCallback)((function(e){if(F){var t=$({event:e,canvasEl:J.current,center:ee,margin:Z,radius:te,innerRadius:re,arcs:ae});t&&F(t,e)}}),[J,ee,Z,te,re,ae,F]);return o.a.createElement("canvas",{ref:J,width:U*t,height:Q*t,style:{width:U,height:Q,cursor:W?"auto":"normal"},onMouseEnter:W?Oe:void 0,onMouseMove:W?Oe:void 0,onMouseLeave:W?Ae:void 0,onClick:W?we:void 0})}));ee.defaultProps=j;var te=Object(a.rb)(ee);function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var ne=function(e){return o.a.createElement(a.j,null,(function(t){var r=t.width,n=t.height;return o.a.createElement(Q,re({width:r,height:n},e))}))};function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var ae=function(e){return o.a.createElement(a.j,null,(function(t){var r=t.width,n=t.height;return o.a.createElement(te,oe({width:r,height:n},e))}))}}).call(this,r("pCvA"))},vrO3:function(e,t,r){"use strict";r("1c7q");var n=r("mXGw"),o=r.n(n),a=r("UutA"),i=r("7oih"),c=r("UmRm"),l=r("QbkB"),u=r("1h20"),s=r("yHyT"),d=r("SBeK"),p=r("MF9i"),b=a.d.a.withConfig({displayName:"ApiPreview__Link",componentId:"sc-1tjndi9-0"})(["position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;"]),f=a.d.img.withConfig({displayName:"ApiPreview__Image",componentId:"sc-1tjndi9-1"})(["max-width:100%;max-height:100%;"]),h=a.d.div.withConfig({displayName:"ApiPreview__EmptyContainer",componentId:"sc-1tjndi9-2"})(["font-size:14px;line-height:1.6em;color:",";display:flex;align-items:center;justify-content:center;width:100%;height:100%;"],(function(e){return e.theme.colors.textLight})),g=function(e){var t=e.responseStatus,r=e.chartUrl;return 201===t&&r?o.a.createElement(b,{href:r,target:"_blank",rel:"noopener noreferrer"},o.a.createElement(f,{src:r,alt:"api result"})):o.a.createElement(h,null,"Click the generate button in order to generate the chart.",o.a.createElement("br",null),"You can customize settings by using dedicated controls.")},m=r("TurY"),y=r("DA+T");function v(){var e=A(["\n        & {\n            position: relative;\n            top: auto;\n            right: auto;\n            width: auto;\n            height: 460px;\n            z-index: 0;\n            border-top: 1px solid ",";\n        }\n    "]);return v=function(){return e},e}function O(){var e=A(["\n        & {\n            top: ","px;\n            right: 0;\n            width: 60%;\n            --innerHeight: calc(100% - ","px);\n            height: calc(var(--innerHeight) * 0.55);\n        }\n    "]);return O=function(){return e},e}function A(e,t){return t||(t=e.slice(0)),e.raw=t,e}var w=["preview","body","data"],j=function(e){var t=e.chartClass,r=e.data,a=e.body,i=e.isLoading,c=e.responseStatus,l=e.chartUrl,u=Object(m.b)(),s=Object(n.useState)("preview"),d=s[0],p=s[1],b=Object(n.useState)(null),f=b[0],h=b[1];return o.a.createElement(x,{className:"chart-tabs--"+d},o.a.createElement(k,null,w.map((function(e){var r=e===d,n="preview"===e?t:"data",a=r||f===e?"colored":"neutral";return o.a.createElement(E,{key:e,className:"no-select",isCurrent:r,onClick:function(){return p(e)},onMouseEnter:function(){return h(e)},onMouseLeave:function(){return h(null)}},o.a.createElement(C,{className:"sprite-icons-"+n+"-"+u.id+"-"+a}),e)}))),o.a.createElement(M,null,"preview"===d&&o.a.createElement(g,{isLoading:i,responseStatus:c,chartUrl:l}),"body"===d&&o.a.createElement(y.a,null,JSON.stringify(a,null,"  ")),"data"===d&&o.a.createElement(y.a,null,r),o.a.createElement(q,{isLoading:i})))},x=a.d.div.withConfig({displayName:"ApiTabs__Wrapper",componentId:"wcngb8-0"})(["position:fixed;top:","px;right:0;width:60%;--innerWidth:calc(100% - ","px);width:calc(var(--innerWidth) * 0.6);--innerHeight:calc(100% - ","px);height:calc(var(--innerHeight) * 0.55);z-index:10;overflow:hidden;background:",";border-bottom:1px solid ",";"," ",""],(function(e){return e.theme.dimensions.headerHeight}),(function(e){return e.theme.dimensions.miniNavWidth}),(function(e){return e.theme.dimensions.headerHeight}),(function(e){return e.theme.colors.cardBackground}),(function(e){return e.theme.colors.border}),c.a.tablet(O(),(function(e){return e.theme.dimensions.headerHeight}),(function(e){return e.theme.dimensions.headerHeight})),c.a.mobile(v(),(function(e){return e.theme.colors.border}))),k=a.d.nav.withConfig({displayName:"ApiTabs__Nav",componentId:"wcngb8-1"})(["height:46px;background:",";display:flex;font-size:15px;color:#aaa;position:relative;"],(function(e){return e.theme.colors.background})),E=a.d.span.withConfig({displayName:"ApiTabs__NavItem",componentId:"wcngb8-2"})(["cursor:pointer;height:46px;display:block;position:relative;padding-left:46px;padding-right:14px;padding-top:11px;background:",";&:hover{color:",";}"],(function(e){var t=e.isCurrent,r=e.theme;return t?r.colors.cardBackground:"transparent"}),(function(e){return e.theme.colors.text})),C=a.d.span.withConfig({displayName:"ApiTabs__Icon",componentId:"wcngb8-3"})(["position:absolute;top:0;left:0;display:block;transform:scale(0.44);transform-origin:top left;margin:12px 0 0 12px;"]),M=a.d.div.withConfig({displayName:"ApiTabs__Content",componentId:"wcngb8-4"})(["position:absolute;top:46px;bottom:0;width:100%;overflow-x:hidden;overflow-y:auto;"]),R=a.d.div.withConfig({displayName:"ApiTabs__LoaderContainer",componentId:"wcngb8-5"})(["position:absolute;top:50%;left:50%;width:100px;height:80px;margin-top:-40px;margin-left:-50px;background:",";display:grid;grid-template-columns:10px 10px 10px 10px 10px;grid-column-gap:6px;padding:10px 13px;border-radius:2px;box-shadow:0 1px 3px rgba(0,0,0,0.15);pointer-events:none;opacity:",";transform:translate3d(0,",",0);transition:transform 200ms,opacity 200ms;"],(function(e){return e.theme.colors.cardBackground}),(function(e){return e.isLoading?1:0}),(function(e){return e.isLoading?0:"20px"})),T=Object(a.e)(["0%,100%{transform:scale3d(1,0,1);}50%{transform:scale3d(1,1,1);}"]),S=a.d.span.withConfig({displayName:"ApiTabs__LoaderBar",componentId:"wcngb8-6"})(["display:block;background:",";width:100%;height:100%;transform:scale3d(1,0,1);transform-origin:100% 100%;animation-name:",";animation-duration:800ms;animation-iteration-count:infinite;animation-delay:","ms;"],(function(e){return e.theme.colors.accent}),T,(function(e){return 60*(e.index+1)})),q=function(e){var t=e.isLoading;return o.a.createElement(R,{isLoading:t},o.a.createElement("span",null,o.a.createElement(S,{index:0})),o.a.createElement("span",null,o.a.createElement(S,{index:1})),o.a.createElement("span",null,o.a.createElement(S,{index:2})),o.a.createElement("span",null,o.a.createElement(S,{index:3})),o.a.createElement("span",null,o.a.createElement(S,{index:4})))};var I=a.d.span.withConfig({displayName:"ApiSubmit__Button",componentId:"y9yvg5-0"})(["display:block;background-color:",";color:#fff;text-align:center;padding:12px 24px;border-radius:2px;cursor:pointer;text-decoration:none;"],(function(e){return e.theme.colors.accent})),B=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.loading,r=e.onClick;return o.a.createElement(I,{onClick:r},t?"sending":"generate")},n}(n.Component);B.defaultProps={};var P=B;var H=a.d.div.withConfig({displayName:"ApiResponse__Container",componentId:"usxrxs-0"})(["background:",";border-top:1px solid ",";overflow-x:hidden;overflow-y:auto;"],(function(e){return e.theme.colors.cardBackground}),(function(e){return e.theme.colors.border})),L=a.d.div.withConfig({displayName:"ApiResponse__Header",componentId:"usxrxs-1"})(["padding:12px 20px;border-bottom:1px solid ",";"],(function(e){return e.theme.colors.borderLight})),W=a.d.pre.withConfig({displayName:"ApiResponse__ResponseJson",componentId:"usxrxs-2"})(["padding:12px 20px;font-size:13px;line-height:1.6em;overflow:hidden;width:100%;margin:0;"]),_=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.responseStatus,r=e.response,n="no response available";return r&&(n=JSON.stringify(r,null,"  ")),o.a.createElement(H,null,o.a.createElement(L,null,"Response ",t?o.a.createElement("strong",null,t):"n/a"),o.a.createElement(W,null,n))},n}(n.Component);_.defaultProps={};var N=_,G=r("S6qR");function F(){var e=J(["\n        & {\n            position: relative;\n            right: auto;\n            bottom: auto;\n            width: auto;\n            height: auto;\n            border-left-width: 0;\n            z-index: 0;\n        }\n    "]);return F=function(){return e},e}function V(){var e=J(["\n        & {\n            right: 0;\n            bottom: 0;\n            --innerHeight: calc(100% - ","px);\n            height: calc(var(--innerHeight) * 0.45);\n            width: 60%;\n        }\n    "]);return V=function(){return e},e}function J(e,t){return t||(t=e.slice(0)),e.raw=t,e}r.d(t,"a",(function(){return D}));var D=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).handleSettingsUpdate=function(e){r.setState({props:e})},r.handleDataUpdate=function(e){var t,n=r.props.dataProperty,o=r.state.props;r.setState({props:Object.assign({},o,(t={},t[n]=e.target.value,t))})},r.handleSubmit=function(){var e=r.props,t=e.apiPath,n=e.propsMapper,o=r.state.props;r.setState({loading:!0}),fetch(""+G.a.nivoApiUrl+t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n(o))}).then((function(e){return r.setState({loading:!1,responseStatus:e.status}),e.json()})).then((function(e){r.setState({response:e})})).catch((function(e){console.error(e)}))},r.state={props:t.defaultProps,loading:!1,responseStatus:null,response:null},r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e,t=this.props,r=t.componentName,n=t.chartClass,a=t.apiPath,c=t.controlGroups,b=t.dataProperty,f=t.propsMapper,h=t.flavors,g=this.state,m=g.props,y=g.loading,v=g.responseStatus,O=g.response,A=h.map((function(e){return e.flavor}));return o.a.createElement(i.a,null,o.a.createElement(l.a,null,o.a.createElement(u.a,{chartClass:r+" HTTP API",tags:["POST "+a]}),h&&o.a.createElement(s.a,{flavors:h,current:"api"}),o.a.createElement(d.a,{description:(e=r,"\nThe `"+e+"`component is available in the nivo\nHTTP rendering API.\nThe API generates a SVG and return a path to this SVG\nwhich can then be easily embedded.\n\nThe api accepts almost the same properties as the regular component,\nin json, however it's not interactive and you cannot use code\nin properties (functions).\n\nPlease note that the demo API server is installed on heroku\nusing a free plan, so it might be unavailable from times to times.\n")}),o.a.createElement(j,{chartClass:n,data:m[b],body:f(m),isLoading:y,responseStatus:v,chartUrl:O?O.url:null}),o.a.createElement(z,null,o.a.createElement(Y,null,o.a.createElement(P,{loading:y,onClick:this.handleSubmit})),o.a.createElement(N,{responseStatus:v,response:O})),o.a.createElement(p.a,{component:r,settings:m,flavors:A,currentFlavor:"api",groups:c,onChange:this.handleSettingsUpdate})))},n}(n.Component);D.defaultProps={dataProperty:"data",propsMapper:function(e){return e}};var z=a.d.div.withConfig({displayName:"ApiClient__ControlPanel",componentId:"sc-50le0s-0"})(["position:fixed;right:0;bottom:0;--innerWidth:calc(100% - ","px);--partialWidth:calc(var(--innerWidth) * 0.6);width:var(--partialWidth);background:",";--innerHeight:calc(100% - ","px);height:calc(var(--innerHeight) * 0.45);z-index:10;overflow:hidden;display:grid;grid-template-rows:1fr 2fr;"," ",""],(function(e){return e.theme.dimensions.miniNavWidth}),(function(e){return e.theme.colors.cardAltBackground}),(function(e){return e.theme.dimensions.headerHeight}),c.a.tablet(V(),(function(e){return e.theme.dimensions.headerHeight})),c.a.mobile(F())),Y=a.d.div.withConfig({displayName:"ApiClient__SubmitWrapper",componentId:"sc-50le0s-1"})(["display:flex;align-items:center;justify-content:center;padding:12px 0;"])}}]);
//# sourceMappingURL=component---src-pages-chord-api-js-45bbd460479d18ae47ea.js.map