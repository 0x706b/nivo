"use strict";(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[295],{62370:function(e,t,r){r.d(t,{h8:function(){return l},h6:function(){return s},Ld:function(){return u}});var n=r(48159),a=r.n(n),i=r(76744),o=r.n(i),l=function(e,t){var r=(void 0===t?{}:t).exclude,n=void 0===r?[]:r;return function(t,r){void 0===r&&(r={});var i={};return Object.keys(t).forEach((function(n){e[n]&&(i[n]=e[n](t[n],t,r))})),Object.assign({},a()(t,n),i)}},s=function(e){return function(t,r){return r["axis"+o()(e)].enable?a()(t,["enable"]):null}},u=function(e){var t=e.format;return e.enabled?t:void 0}},35567:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var n=r(27378),a=r(73855),i=r(69857),o=r(13195),l=r(48159),s=r.n(l),u=r(62370),c=function(e){return function(t,r){return r[e].enable?s()(t,["enable"]):null}},d=(0,u.h8)({valueFormat:u.Ld,radialAxisStart:c("radialAxisStart"),radialAxisEnd:c("radialAxisEnd"),circularAxisInner:c("circularAxisInner"),circularAxisOuter:c("circularAxisOuter")}),p=r(649),g=r(30042),f=r(80169),m=[{key:"data",group:"Base",type:"object[]",required:!0,help:"Chart data.",description:"\n            Here is what the data for a single chart with 2 bars would look like:\n            \n            ```\n            [\n                {\n                    id: 'Fruits',\n                    data: [{ x: 'Apples', y: 32 }]\n                },\n                {\n                    id: 'Vegetables',\n                    data: [{ x: 'Eggplants', y: 27 }]\n                }\n            ]\n            ```\n            \n            You can add several metrics per group:\n            \n            ```\n            [\n                {\n                    id: 'Fruits',\n                    data: [\n                        { x: 'Apples', y: 32 },\n                        { x: 'Mangoes', y: 15 }\n                    ]\n                },\n                {\n                    id: 'Vegetables',\n                    data: [\n                        { x: 'Eggplants', y: 27 },\n                        { x: 'Avocados', y: 34 }\n                    ]\n                }\n            ]\n            ```\n            \n            When a bar is computed, the `id` is going to be added\n            as the `groupId`, `x` as the `category` and `y`\n            as the value, for example the first bar for the number of Apples\n            in the Fruits group would be:\n            \n            ```\n            {\n                groupId: 'Fruits',\n                category: 'Apples',\n                value: 32\n            }\n            ```\n            \n            You might read those values when adding an `onClick` handler\n            for example, or when customizing the tooltip.\n        ",flavors:["svg"]},{key:"maxValue",group:"Base",type:"'auto' | number",required:!1,help:"If 'auto', the max value is derived from the data, otherwise use a static value.",flavors:["svg"],defaultValue:a.XB.maxValue},{key:"valueFormat",group:"Base",type:"string | (value: number) => string",required:!1,help:"Optional formatter for values (`y`).",description:"\n            The formatted value can then be used for labels & tooltips.\n\n            Under the hood, nivo uses [d3-format](https://github.com/d3/d3-format),\n            please have a look at it for available formats, you can also pass a function\n            which will receive the raw value and should return the formatted one.\n        ",flavors:["svg"],controlType:"valueFormat"},{key:"width",group:"Base",type:"number",required:!0,help:"Chart width.",description:"\n            not required if using\n            `<ResponsiveRadialBar/>`.\n        ",flavors:["svg","api"],enableControlForFlavors:["api"],controlType:"range",controlOptions:{unit:"px",min:100,max:1e3,step:5}},{key:"height",group:"Base",type:"number",required:!0,help:"Chart height.",description:"\n            not required if using\n            `<ResponsiveRadialBar/>`.\n        ",flavors:["svg","api"],enableControlForFlavors:["api"],controlType:"range",controlOptions:{unit:"px",min:100,max:1e3,step:5}},{key:"margin",group:"Base",help:"Chart margin.",type:"object",required:!1,flavors:["svg"],controlType:"margin"},{key:"startAngle",group:"Base",type:"number",required:!1,help:"Start angle (in degrees).",flavors:["svg"],defaultValue:a.XB.startAngle,controlType:"angle",controlOptions:{min:-360,max:360,step:5}},{key:"endAngle",group:"Base",type:"number",required:!1,help:"End angle (in degrees).",flavors:["svg"],defaultValue:a.XB.endAngle,controlType:"angle",controlOptions:{min:-360,max:360,step:5}},{key:"innerRadius",group:"Base",help:"Donut if greater than 0. Value should be between 0~1 as it's a ratio from outer radius.",type:"number",required:!1,flavors:["svg"],defaultValue:a.XB.innerRadius,controlType:"range",controlOptions:{min:0,max:.95,step:.05}},{key:"padding",group:"Base",type:"number",required:!1,help:"Padding between each ring (ratio).",flavors:["svg"],defaultValue:a.XB.padding,controlType:"range",controlOptions:{min:0,max:.9,step:.05}},{key:"padAngle",group:"Base",type:"number",required:!1,help:"Padding between each bar.",flavors:["svg"],defaultValue:a.XB.padAngle,controlType:"range",controlOptions:{unit:"°",min:0,max:45,step:1}},{key:"cornerRadius",group:"Base",type:"number",required:!1,help:"Rounded corners.",flavors:["svg"],defaultValue:a.XB.cornerRadius,controlType:"range",controlOptions:{unit:"px",min:0,max:45,step:1}},(0,f.JR)(["svg"]),{key:"colors",group:"Style",type:"string | Function | string[]",required:!1,help:"Defines how to compute colors.",flavors:["svg"],defaultValue:a.XB.colors,controlType:"ordinalColors"},{key:"borderWidth",group:"Style",type:"number",required:!1,help:"Bars border width.",flavors:["svg"],defaultValue:a.XB.borderWidth,controlType:"lineWidth"},{key:"borderColor",group:"Style",type:"InheritedColorConfig<ComputedBar>",required:!1,help:"Method to compute border color.",description:"\n            how to compute border color,\n            [see dedicated documentation](self:/guides/colors).\n        ",flavors:["svg"],defaultValue:a.XB.borderColor,controlType:"inheritedColor"},{key:"enableTracks",group:"Tracks",type:"boolean",required:!1,help:"Enable/disable tracks.",flavors:["svg"],defaultValue:a.XB.enableTracks,controlType:"switch"},{key:"tracksColor",group:"Tracks",type:"string",required:!1,help:"Define tracks color.",flavors:["svg"],defaultValue:a.XB.tracksColor,controlType:"colorPicker"},{key:"enableRadialGrid",group:"Grid & Axes",type:"boolean",required:!1,help:"Enable radial grid (rays)",flavors:["svg"],defaultValue:a.XB.enableRadialGrid,controlType:"switch"},{key:"enableCircularGrid",group:"Grid & Axes",type:"boolean",required:!1,help:"Enable circular grid (rings)",flavors:["svg"],defaultValue:a.XB.enableCircularGrid,controlType:"switch"},(0,f.WZ)({key:"radialAxisStart",flavors:["svg"],tickComponent:"RadialAxisTickComponent"}),(0,f.WZ)({key:"radialAxisEnd",flavors:["svg"],tickComponent:"RadialAxisTickComponent"}),(0,f.WZ)({key:"circularAxisInner",flavors:["svg"],tickComponent:"CircularAxisTickComponent"}),(0,f.WZ)({key:"circularAxisOuter",flavors:["svg"],tickComponent:"CircularAxisTickComponent"}),{key:"enableLabels",group:"Labels",type:"boolean",required:!1,help:"Enable/disable labels.",flavors:["svg"],defaultValue:a.XB.enableLabels,controlType:"switch"},{key:"label",group:"Labels",type:"string | (bar: ComputedBar) => string",required:!1,help:"Defines how to get label text, can be a string (used to access current bar property) or a function which will receive the actual bar data.",flavors:["svg"],defaultValue:a.XB.label,controlType:"choices",controlOptions:{choices:["category","groupId","value","formattedValue"].map((function(e){return{label:e,value:e}}))}},{key:"labelsSkipAngle",group:"Labels",type:"number",required:!1,help:"Skip label if corresponding arc's angle is lower than provided value.",flavors:["svg"],defaultValue:a.XB.labelsSkipAngle,controlType:"range",controlOptions:{unit:"°",min:0,max:45,step:1}},{key:"labelsRadiusOffset",group:"Labels",type:"number",required:!1,help:"\n            Define the radius to use to determine the label position, starting from inner radius,\n            this is expressed as a ratio. Centered at 0.5 by default.\n        ",flavors:["svg"],defaultValue:a.XB.labelsRadiusOffset,controlType:"range",controlOptions:{min:0,max:2,step:.05}},{key:"labelsTextColor",group:"Labels",help:"Defines how to compute label text color.",type:"string | object | Function",required:!1,flavors:["svg"],defaultValue:a.XB.labelsTextColor,controlType:"inheritedColor"},{key:"layers",group:"Customization",type:"(RadialBarLayerId | RadialBarCustomLayer)[]",required:!1,help:"Defines the order of layers and add custom layers.",description:"\n            You can also use this to insert extra layers\n            to the chart, the extra layer should be a component.\n            \n            The component will receive properties as defined in\n            the `RadialBarCustomLayerProps` interface\n            and must return a valid SVG element.\n        ",flavors:["svg"],defaultValue:a.XB.layers},{key:"isInteractive",group:"Interactivity",type:"boolean",required:!1,help:"Enable/disable interactivity.",flavors:["svg"],defaultValue:a.XB.isInteractive,controlType:"switch"},{key:"tooltip",group:"Interactivity",type:"RadialBarTooltipComponent",required:!1,help:"Override default tooltip.",flavors:["svg"]},{key:"onClick",group:"Interactivity",type:"(bar: ComputedBar, event: MouseEvent) => void",required:!1,help:"onClick handler.",flavors:["svg"]},{key:"onMouseEnter",group:"Interactivity",type:"(bar: ComputedBar, event: MouseEvent) => void",required:!1,help:"onMouseEnter handler.",flavors:["svg"]},{key:"onMouseMove",group:"Interactivity",type:"(bar: ComputedBar, event: MouseEvent) => void",required:!1,help:"onMouseMove handler.",flavors:["svg"]},{key:"onMouseLeave",group:"Interactivity",type:"(bar: ComputedBar, event: MouseEvent) => void",required:!1,help:"onMouseLeave handler.",flavors:["svg"]},{key:"legends",group:"Legends",type:"LegendProps[]",required:!1,help:"Optional chart's legends.",flavors:["svg"],controlType:"array",controlOptions:{props:(0,f.y0)(["svg"]),shouldCreate:!0,addLabel:"add legend",shouldRemove:!0,getItemTitle:function(e,t){return"legend["+e+"]: "+t.anchor+", "+t.direction},svgDefaultProps:{dataFrom:"keys",anchor:"top-left",direction:"column",justify:!1,translateX:0,translateY:0,itemWidth:100,itemHeight:20,itemsSpacing:0,symbolSize:20,itemDirection:"left-to-right",onClick:function(e){alert(JSON.stringify(e,null,"    "))}}}},{key:"role",group:"Accessibility",type:"string",required:!1,help:"Main element role attribute.",flavors:["svg"]},{key:"ariaLabel",group:"Accessibility",type:"string",required:!1,help:"Main element [aria-label](https://www.w3.org/TR/wai-aria/#aria-label).",flavors:["svg"]},{key:"ariaLabelledBy",group:"Accessibility",type:"string",required:!1,help:"Main element [aria-labelledby](https://www.w3.org/TR/wai-aria/#aria-labelledby).",flavors:["svg"]},{key:"ariaDescribedBy",group:"Accessibility",type:"string",required:!1,help:"Main element [aria-describedby](https://www.w3.org/TR/wai-aria/#aria-describedby).",flavors:["svg"]}].concat((0,p.Z)((0,f.$j)(["svg"],a.XB,"react-spring")),[{key:"transitionMode",flavors:["svg"],help:"Define how transitions behave.",type:"string",required:!1,defaultValue:a.XB.transitionMode,controlType:"choices",group:"Motion",controlOptions:{choices:g.UV.map((function(e){return{label:e,value:e}}))}}]),v=(0,f.R2)(m),y={valueFormat:{format:">-.2f",enabled:!0},startAngle:a.XB.startAngle,endAngle:a.XB.endAngle,innerRadius:a.XB.innerRadius,padding:.4,padAngle:a.XB.padAngle,cornerRadius:2,margin:{top:40,right:120,bottom:40,left:40},colors:a.XB.colors,borderWidth:a.XB.borderWidth,borderColor:a.XB.borderColor,enableTracks:a.XB.enableTracks,tracksColor:a.XB.tracksColor,enableRadialGrid:a.XB.enableRadialGrid,enableCircularGrid:a.XB.enableCircularGrid,radialAxisStart:{enable:!0,tickSize:5,tickPadding:5,tickRotation:0},radialAxisEnd:{enable:!1,tickSize:5,tickPadding:5,tickRotation:0},circularAxisInner:{enable:!1,tickSize:5,tickPadding:12,tickRotation:0},circularAxisOuter:{enable:!0,tickSize:5,tickPadding:12,tickRotation:0},enableLabels:a.XB.enableLabels,label:a.XB.label,labelsSkipAngle:a.XB.labelsSkipAngle,labelsRadiusOffset:a.XB.labelsRadiusOffset,labelsTextColor:a.XB.labelsTextColor,animate:!0,motionConfig:"gentle",transitionMode:a.XB.transitionMode,isInteractive:a.XB.isInteractive,legends:[{anchor:"right",direction:"column",justify:!1,translateX:80,translateY:0,itemsSpacing:6,itemDirection:"left-to-right",itemWidth:100,itemHeight:18,itemTextColor:"#999",symbolSize:18,symbolShape:"square",onClick:function(e){alert(JSON.stringify(e,null,"    "))},effects:[{on:"hover",style:{itemTextColor:"#000"}}]}]},b=function(){var e=["Supermarket","Combini","Online"];Math.random()>.5&&e.push("Marché");var t=["Vegetables","Fruits","Meat"];return Math.random()<.5&&t.push("Fish"),e.map((function(e){return{id:e,data:t.map((function(e){return{x:e,y:Math.round(300*Math.random())}}))}}))},h=function(){return n.createElement(i.T,{name:"RadialBar",meta:o.G,icon:"radial-bar",flavors:o.K,currentFlavor:"svg",properties:v,initialProperties:y,defaultProperties:a.XB,propertiesMapper:d,generateData:b},(function(e,t,r,i){return n.createElement(a.W_,Object.assign({data:t},e,{theme:r,onClick:function(e){i({type:"click",label:e.category+" - "+e.groupId+": "+e.value,color:e.color,data:e})}}))}))}},73855:function(e,t,r){r.d(t,{Gm:function(){return q},W_:function(){return O},XB:function(){return M}});var n=r(89193),a=r(27378),i=r(45434),o=r(30042),l=r(47425),s=r(58493),u=r(770);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}var d=function(e){var t=e.label,r=e.animated,n=(0,i.Fg)();return React.createElement(s.q.g,{opacity:r.opacity},React.createElement(s.q.line,{x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,style:n.axis.ticks.line}),React.createElement(s.q.text,{dx:r.textX,dy:r.textY,dominantBaseline:"central",style:n.axis.ticks.text,textAnchor:"middle"},t))},p=function(e,t,r){var n=(0,i.re)((0,i.Ht)(e),t),a=(0,i.re)((0,i.Ht)(e),r);return{x1:n.x,y1:n.y,x2:a.x,y2:a.y}},g=function(e,t){var r=(0,i.re)((0,i.Ht)(e),t);return{textX:r.x,textY:r.y}},f=function(e){var t=e.type,r=e.center,n=void 0===r?[0,0]:r,l=e.radius,f=e.startAngle,m=e.endAngle,v=e.scale,y=e.tickSize,b=void 0===y?5:y,h=e.tickPadding,k=void 0===h?12:h,x=e.tickComponent,R=void 0===x?d:x,A=f-90,C=m-90,B=(0,i.Fg)(),M=(0,i.tf)(),E=M.animate,w=M.config,T=(0,s.useSpring)({radius:l,startAngle:A,endAngle:C,opacity:1,immediate:!E,config:w}),X=(0,a.useMemo)((function(){return(0,u.xX)(v).map((function(e,t){return{key:t,label:e,angle:v(e)-90}}))}),[v]),q="inner"===t?l-b:l+b,O="inner"===t?q-k:q+k,S=(0,s.useTransition)(X,{keys:function(e){return e.key},initial:function(e){return c({},p(e.angle,l,q),g(e.angle,O),{opacity:1})},from:function(e){return c({},p(e.angle,l,q),g(e.angle,O),{opacity:0})},enter:function(e){return c({},p(e.angle,l,q),g(e.angle,O),{opacity:1})},update:function(e){return c({},p(e.angle,l,q),g(e.angle,O),{opacity:1})},leave:function(e){return c({},p(e.angle,l,q),g(e.angle,O),{opacity:0})},immediate:!E,config:w});return React.createElement("g",{transform:"translate("+n[0]+", "+n[1]+")"},React.createElement(o.Ju,c({animated:T},B.axis.domain.line,{fill:"none"})),S((function(e,t){return(0,a.createElement)(R,{key:t.key,label:t.label,animated:e})})))},m=function(e){var t=e.scale,r=e.innerRadius,n=e.outerRadius,o=(0,i.Fg)(),l=(0,a.useMemo)((function(){return(0,u.xX)(t).map((function(e,r){return{id:r,angle:t(e)-90}}))}),[t]),d=(0,i.tf)(),p=d.animate,g=d.config,f=(0,s.useTransition)(l,{keys:function(e){return e.id},initial:function(e){return{angle:e.angle,opacity:1}},from:function(e){return{angle:e.angle,opacity:0}},enter:function(e){return{angle:e.angle,opacity:1}},update:function(e){return{angle:e.angle,opacity:1}},leave:function(e){return{angle:e.angle,opacity:0}},config:g,immediate:!p});return React.createElement(React.Fragment,null,f((function(e,t){return React.createElement(s.q.g,{key:t.id,transform:e.angle.to((function(e){return"rotate("+e+")"})),opacity:e.opacity},React.createElement("line",c({x1:r,x2:n},o.grid.line)))})))},v=function(e){var t=e.scale,r=e.startAngle,n=e.endAngle,l=(0,i.Fg)(),d=r-90,p=n-90,g=(0,a.useMemo)((function(){return(0,u.xX)(t).map((function(e,r){var n=t(e);return"bandwidth"in t&&(n+=t.bandwidth()/2),{id:r,radius:n}}))}),[t]),f=(0,i.tf)(),m=f.animate,v=f.config,y=(0,s.useTransition)(g,{keys:function(e){return e.id},initial:function(e){return{radius:e.radius,startAngle:d,endAngle:p,opacity:1}},from:function(e){return{radius:e.radius,startAngle:d,endAngle:p,opacity:0}},enter:function(e){return{radius:e.radius,startAngle:d,endAngle:p,opacity:1}},update:function(e){return{radius:e.radius,startAngle:d,endAngle:p,opacity:1}},leave:function(e){return{radius:e.radius,startAngle:d,endAngle:p,opacity:0}},config:v,immediate:!m});return React.createElement(React.Fragment,null,y((function(e,t){return React.createElement(o.Ju,c({key:t.id,animated:e},l.grid.line,{strokeOpacity:e.opacity,fill:"none"}))})))},y=function(e){var t=e.center,r=e.enableRadialGrid,n=e.enableCircularGrid,a=e.angleScale,i=e.radiusScale,o=e.startAngle,l=e.endAngle,s=Math.min.apply(Math,i.range()),u=Math.max.apply(Math,i.range());return React.createElement("g",{transform:"translate("+t[0]+","+t[1]+")"},r&&React.createElement(m,{scale:a,innerRadius:s,outerRadius:u}),n&&React.createElement(v,{scale:i,startAngle:o,endAngle:l}))},b=function(e){var t=e.label,r=e.textAnchor,n=e.animated,a=(0,i.Fg)();return React.createElement(s.q.g,{opacity:n.opacity,transform:(0,s.to)([n.y,n.rotation],(function(e,t){return"translate("+e+", 0) rotate("+t+")"}))},React.createElement(s.q.line,{x2:n.length,style:a.axis.ticks.line}),React.createElement(s.q.text,{dx:n.textX,textAnchor:r,dominantBaseline:"central",style:a.axis.ticks.text},t))},h=function(e){var t,r,n,o,l=e.type,c=e.center,d=e.angle,p=e.scale,g=e.tickSize,f=void 0===g?5:g,m=e.tickPadding,v=void 0===m?5:m,y=e.tickRotation,h=void 0===y?0:y,k=e.tickComponent,x=void 0===k?b:k,R=(0,i.LW)(d);"start"===l?(o=90+h,R<=90?(n=(r=-f)-v,t="end"):R<270?(n=(r=f)+v,t="start",o-=180):(n=(r=-f)-v,t="end")):(o=90+h,R<90?(n=(r=f)+v,t="start"):R<270?(n=(r=-f)-v,t="end",o-=180):(n=(r=f)+v,t="start"));var A=(0,a.useMemo)((function(){return(0,u.xX)(p).map((function(e,t){var r=p(e);return"bandwidth"in p&&(r+=p.bandwidth()/2),{key:t,label:e,position:r}}))}),[p]),C=(0,i.tf)(),B=C.animate,M=C.config,E=(0,s.useSpring)({rotation:d-90,immediate:!B,config:M}),w=(0,s.useTransition)(A,{keys:function(e){return e.key},initial:function(e){return{y:e.position,textX:n,rotation:o,length:r,opacity:1}},from:function(e){return{y:e.position,textX:n,rotation:o,length:r,opacity:0}},enter:function(e){return{y:e.position,textX:n,rotation:o,length:r,opacity:1}},update:function(e){return{y:e.position,textX:n,rotation:o,length:r,opacity:1}},leave:function(e){return{y:e.position,textX:n,rotation:o,length:r,opacity:0}},immediate:!B,config:M});return React.createElement("g",{transform:"translate("+c[0]+", "+c[1]+")"},React.createElement(s.q.g,{transform:E.rotation.to((function(e){return"rotate("+e+")"}))},w((function(e,i){return(0,a.createElement)(x,{key:i.key,label:i.label,y:i.position,textX:n,rotation:o,length:r,textAnchor:t,animated:e})}))))},k=r(9841),x=r(46448),R=r(29140),A=r(79234);function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C.apply(this,arguments)}var B={maxValue:"auto",layers:["grid","tracks","bars","labels","legends"],startAngle:0,endAngle:270,innerRadius:.3,padding:.2,padAngle:0,cornerRadius:0,enableTracks:!0,tracksColor:"rgba(0, 0, 0, .15)",enableRadialGrid:!0,enableCircularGrid:!0,radialAxisStart:{},radialAxisEnd:null,circularAxisInner:null,circularAxisOuter:{},colors:{scheme:"nivo"},borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableLabels:!1,label:"formattedValue",labelsSkipAngle:10,labelsRadiusOffset:.5,labelsTextColor:{theme:"labels.text.fill"},isInteractive:!0,tooltip:function(e){var t=e.bar;return React.createElement(n._5,{enableChip:!0,id:React.createElement("span",null,t.category," - ",t.groupId),value:t.formattedValue,color:t.color})},legends:[],animate:!0,motionConfig:"gentle",transitionMode:"centerRadius",renderWrapper:!0},M=C({},B),E=function(e){var t=e.center,r=e.bars,i=e.borderWidth,l=e.borderColor,s=e.arcGenerator,u=e.isInteractive,c=e.tooltip,d=e.onClick,p=e.onMouseEnter,g=e.onMouseMove,f=e.onMouseLeave,m=e.transitionMode,v=(0,n.lL)(),y=v.showTooltipFromEvent,b=v.hideTooltip,h=(0,a.useCallback)((function(e,t){null==d||d(e,t)}),[d]),k=(0,a.useCallback)((function(e,t){y((0,a.createElement)(c,{bar:e}),t),null==p||p(e,t)}),[y,c,p]),x=(0,a.useCallback)((function(e,t){y((0,a.createElement)(c,{bar:e}),t),null==g||g(e,t)}),[y,c,g]),R=(0,a.useCallback)((function(e,t){b(),null==f||f(e,t)}),[b,f]);return React.createElement(o.Bs,{center:t,data:r,arcGenerator:s,borderWidth:i,borderColor:l,transitionMode:m,onClick:u?h:void 0,onMouseEnter:u?k:void 0,onMouseMove:u?x:void 0,onMouseLeave:u?R:void 0})},w=function(e){var t=e.center,r=e.tracks,n=e.arcGenerator,a=e.transitionMode;return React.createElement(o.Bs,{center:t,data:r,arcGenerator:n,borderWidth:0,borderColor:"none",transitionMode:a})},T=["isInteractive","animate","motionConfig","theme","renderWrapper"],X=function(e){var t=e.data,r=e.maxValue,n=void 0===r?M.maxValue:r,s=e.valueFormat,c=e.startAngle,d=void 0===c?M.startAngle:c,p=e.endAngle,g=void 0===p?M.endAngle:p,m=e.innerRadius,v=void 0===m?M.innerRadius:m,b=e.padding,T=void 0===b?M.padding:b,X=e.padAngle,q=void 0===X?M.padAngle:X,O=e.cornerRadius,S=void 0===O?M.cornerRadius:O,V=e.width,I=e.height,L=e.margin,F=e.layers,G=void 0===F?M.layers:F,W=e.enableTracks,P=void 0===W?M.enableTracks:W,D=e.tracksColor,j=void 0===D?M.tracksColor:D,H=e.enableRadialGrid,z=void 0===H?M.enableRadialGrid:H,Z=e.enableCircularGrid,_=void 0===Z?M.enableCircularGrid:Z,Y=e.radialAxisStart,J=void 0===Y?M.radialAxisStart:Y,N=e.radialAxisEnd,U=void 0===N?M.radialAxisEnd:N,$=e.circularAxisInner,K=void 0===$?M.circularAxisInner:$,Q=e.circularAxisOuter,ee=void 0===Q?M.circularAxisOuter:Q,te=e.colors,re=void 0===te?M.colors:te,ne=e.borderWidth,ae=void 0===ne?M.borderWidth:ne,ie=e.borderColor,oe=void 0===ie?M.borderColor:ie,le=e.enableLabels,se=void 0===le?M.enableLabels:le,ue=e.label,ce=void 0===ue?M.label:ue,de=e.labelsSkipAngle,pe=void 0===de?M.labelsSkipAngle:de,ge=e.labelsRadiusOffset,fe=void 0===ge?M.labelsRadiusOffset:ge,me=e.labelsTextColor,ve=void 0===me?M.labelsTextColor:me,ye=e.isInteractive,be=void 0===ye?M.isInteractive:ye,he=e.tooltip,ke=void 0===he?M.tooltip:he,xe=e.onClick,Re=e.onMouseEnter,Ae=e.onMouseMove,Ce=e.onMouseLeave,Be=e.transitionMode,Me=void 0===Be?M.transitionMode:Be,Ee=e.legends,we=void 0===Ee?M.legends:Ee,Te=e.role,Xe=e.ariaLabel,qe=e.ariaLabelledBy,Oe=e.ariaDescribedBy,Se=(0,i.Bs)(V,I,L),Ve=Se.margin,Ie=Se.innerWidth,Le=Se.innerHeight,Fe=Se.outerWidth,Ge=Se.outerHeight,We=(0,i.zm)(d,g),Pe=We[0],De=We[1],je=function(e){var t=e.data,r=e.maxValue,n=void 0===r?M.maxValue:r,o=e.valueFormat,l=e.startAngle,s=void 0===l?B.startAngle:l,c=e.endAngle,d=void 0===c?B.endAngle:c,p=e.innerRadiusRatio,g=void 0===p?B.innerRadius:p,f=e.padding,m=void 0===f?B.padding:f,v=e.padAngle,y=void 0===v?B.padAngle:v,b=e.cornerRadius,h=void 0===b?B.cornerRadius:b,C=e.width,E=e.height,w=e.colors,T=void 0===w?B.colors:w,X=e.tracksColor,q=void 0===X?B.tracksColor:X,O=(0,a.useMemo)((function(){return[C/2,E/2]}),[C,E]),S=Math.min.apply(Math,O),V=S*Math.min(g,1),I=(0,A.U)(T,"category"),L=(0,a.useMemo)((function(){var e={serieIds:[],categories:[],groups:[],maxValue:0};return t.forEach((function(t){e.serieIds.push(t.id);var r=0;t.data.forEach((function(t){e.categories.includes(t.x)||e.categories.push(t.x),r+=t.y})),e.groups.push({id:t.id,total:r,data:t.data})})),e.maxValue="auto"===n?Math.max.apply(Math,e.groups.map((function(e){return e.total}))):n,e}),[t,n]),F=L.serieIds,G=L.categories,W=L.groups,P=L.maxValue,D=(0,a.useMemo)((function(){return(0,u.__)((0,k.Z)().domain([0,P]).range([s,d]))}),[P,s,d]),j=(0,a.useMemo)((function(){return(0,u.NB)((0,x.Z)().domain(F).range([V,S]).padding(m))}),[F,S,V,m]),H=(0,a.useMemo)((function(){return(0,R.Z)().startAngle((function(e){return e.startAngle})).endAngle((function(e){return e.endAngle})).innerRadius((function(e){return e.innerRadius})).outerRadius((function(e){return e.outerRadius})).cornerRadius(h).padAngle((0,i.Ht)(y))}),[h,y]),z=(0,i.O_)(o),Z=(0,a.useMemo)((function(){var e=[];return W.forEach((function(t){var r=0,n=j(t.id),a=n+j.bandwidth();t.data.forEach((function(o){var l=r+o.y,s={id:t.id+"."+o.x,data:o,groupId:t.id,category:o.x,value:o.y,formattedValue:z(o.y),color:"",stackedValue:l,arc:{startAngle:(0,i.Ht)(D(r)),endAngle:(0,i.Ht)(D(l)),innerRadius:n,outerRadius:a}};s.color=I(s),r+=o.y,e.push(s)}))})),e}),[W,j,D,I,z]),_=(0,i.Ht)(s),Y=(0,i.Ht)(d),J=(0,a.useMemo)((function(){return(0,u.xX)(j).map((function(e){var t=j(e);return{id:e,color:q,arc:{startAngle:_,endAngle:Y,innerRadius:t,outerRadius:t+j.bandwidth()}}}))}),[j,_,Y,q]),N=(0,a.useMemo)((function(){return G.map((function(e){var t=Z.find((function(t){return t.category===e})),r=t?t.color:void 0;return{id:e,label:e,color:r}}))}),[G,Z]),U=(0,a.useMemo)((function(){return{center:O,outerRadius:S,innerRadius:V,bars:Z,arcGenerator:H,radiusScale:j,valueScale:D}}),[O,S,V,Z,H,j,D]);return{center:O,outerRadius:S,innerRadius:V,bars:Z,arcGenerator:H,radiusScale:j,valueScale:D,tracks:J,legendData:N,customLayerProps:U}}({data:t,maxValue:n,valueFormat:s,startAngle:Pe,endAngle:De,innerRadiusRatio:v,padding:T,padAngle:q,cornerRadius:S,width:Ie,height:Le,colors:re,tracksColor:j}),He=je.center,ze=je.innerRadius,Ze=je.outerRadius,_e=je.bars,Ye=je.arcGenerator,Je=je.radiusScale,Ne=je.valueScale,Ue=je.tracks,$e=je.legendData,Ke=je.customLayerProps,Qe={grid:null,tracks:null,bars:null,labels:null,legends:null};return G.includes("grid")&&(Qe.grid=React.createElement(a.Fragment,{key:"grid"},React.createElement(y,{center:He,enableRadialGrid:z,enableCircularGrid:_,angleScale:Ne,radiusScale:Je,startAngle:Pe,endAngle:De}),J&&React.createElement(h,C({type:"start",center:He,angle:Math.min(Pe,De),scale:Je},J)),U&&React.createElement(h,C({type:"end",center:He,angle:Math.max(Pe,De),scale:Je},U)),K&&React.createElement(f,C({type:"inner",center:He,radius:ze,startAngle:Pe,endAngle:De,scale:Ne},K)),ee&&React.createElement(f,C({type:"outer",center:He,radius:Ze,startAngle:Pe,endAngle:De,scale:Ne},ee)))),G.includes("tracks")&&P&&(Qe.tracks=React.createElement(w,{key:"tracks",center:He,tracks:Ue,arcGenerator:Ye,transitionMode:Me})),G.includes("bars")&&(Qe.bars=React.createElement(E,{key:"bars",center:He,bars:_e,borderWidth:ae,borderColor:oe,arcGenerator:Ye,isInteractive:be,tooltip:ke,onClick:xe,onMouseEnter:Re,onMouseMove:Ae,onMouseLeave:Ce,transitionMode:Me})),G.includes("labels")&&se&&(Qe.labels=React.createElement(o.Xr,{key:"labels",center:He,data:_e,label:ce,radiusOffset:fe,skipAngle:pe,textColor:ve,transitionMode:Me})),G.includes("legends")&&we.length>0&&(Qe.legends=React.createElement(a.Fragment,{key:"legends"},we.map((function(e,t){return React.createElement(l.$6,C({key:t},e,{containerWidth:Ie,containerHeight:Le,data:$e}))})))),React.createElement(i.tM,{width:Fe,height:Ge,margin:Ve,role:Te,ariaLabel:Xe,ariaLabelledBy:qe,ariaDescribedBy:Oe},G.map((function(e,t){var r;return"function"==typeof e?React.createElement(a.Fragment,{key:t},(0,a.createElement)(e,Ke)):null!=(r=null==Qe?void 0:Qe[e])?r:null})))},q=function(e){var t=e.isInteractive,r=void 0===t?M.isInteractive:t,n=e.animate,a=void 0===n?M.animate:n,o=e.motionConfig,l=void 0===o?M.motionConfig:o,s=e.theme,u=e.renderWrapper,c=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,T);return React.createElement(i.W2,{animate:a,isInteractive:r,motionConfig:l,renderWrapper:u,theme:s},React.createElement(X,C({isInteractive:r},c)))},O=function(e){return React.createElement(i.d,null,(function(t){var r=t.width,n=t.height;return React.createElement(q,C({width:r,height:n},e))}))}}}]);
//# sourceMappingURL=component---src-pages-radial-bar-index-tsx-24e8a52eb2958fc7b91c.js.map