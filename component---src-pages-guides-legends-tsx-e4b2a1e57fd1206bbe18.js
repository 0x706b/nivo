"use strict";(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[77],{45395:function(t,e,i){var n,o,r=i(91542),l=i(51302);function a(t,e){return e||(e=t.slice(0)),t.raw=e,t}e.Z=r.default.div.withConfig({displayName:"PageContent",componentId:"sc-5c9r0p-0"})(["margin:0 50px;position:relative;"," ",""],l.Z.tablet(n||(n=a(["\n        & {\n            margin: 0 30px;\n        }\n    "]))),l.Z.mobile(o||(o=a(["\n        & {\n            margin: 0 15px;\n        }\n    "]))))},80500:function(t,e,i){i.d(e,{Xh:function(){return s},rm:function(){return c},Zb:function(){return d}});var n,o,r=i(91542),l=i(51302);function a(t,e){return e||(e=t.slice(0)),t.raw=e,t}var s=r.default.div.withConfig({displayName:"styled__FullWidthBanner",componentId:"sc-1aonzv1-0"})(["background:",";margin-bottom:40px;padding:20px;"],(function(t){return t.theme.colors.cardBackground})),c=r.default.div.withConfig({displayName:"styled__DescriptionBlock",componentId:"sc-1aonzv1-1"})(["max-width:800px;margin:0 auto 50px;"," ",""],l.Z.tablet(n||(n=a(["\n        & {\n            margin: 0 15px 50px;\n        }\n    "]))),l.Z.mobile(o||(o=a(["\n        & {\n            margin: 0 15px 50px;\n        }\n    "])))),d=r.default.div.withConfig({displayName:"styled__Card",componentId:"sc-1aonzv1-2"})(["background:",";box-shadow:",";"],(function(t){return t.theme.colors.cardBackground}),(function(t){return t.theme.cardShadow}))},76435:function(t,e,i){i.r(e),i.d(e,{default:function(){return Y}});var n=i(27378),o=i(91542),r=i(98383),l=i(81739),a=i(95546),s=i(45395),c=i(47425),d=i(24246);function h(){return h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},h.apply(this,arguments)}var g={containerWidth:800,containerHeight:90,itemWidth:70,itemHeight:24},u=function(){var t=(0,o.useTheme)();return(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"Legend direction"}),(0,d.jsxs)("p",{children:["Legends support two directions, using the ",(0,d.jsx)("code",{children:"direction"})," property,"," ",(0,d.jsx)("code",{children:"column"})," or ",(0,d.jsx)("code",{children:"row"}),"."]}),(0,d.jsxs)("svg",{width:g.containerWidth,height:g.containerHeight,children:[(0,d.jsx)(c.$6,h({},g,{itemTextColor:t.colors.text,anchor:"left",direction:"column",data:[{id:"a",label:"column",color:t.colors.accent},{id:"b",label:"column",color:t.colors.accent},{id:"c",label:"column",color:t.colors.accent}]})),(0,d.jsx)(c.$6,h({},g,{itemTextColor:t.colors.text,anchor:"left",translateX:260,direction:"row",data:[{id:"a",label:"row",color:t.colors.accent},{id:"b",label:"row",color:t.colors.accent},{id:"c",label:"row",color:t.colors.accent}]}))]})]})};function f(){return f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},f.apply(this,arguments)}var m=["left-to-right","right-to-left","top-to-bottom","bottom-to-top"],x=function(){var t=(0,o.useTheme)(),e={x:0,y:0,width:160,height:40,data:{id:"demo",color:t.colors.accent}};return(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"Legend item direction"}),(0,d.jsxs)("p",{children:["The ",(0,d.jsx)("code",{children:"itemDirection"})," property defines how symbol and label are positioned.",(0,d.jsx)("br",{}),"You have 4 available directives:"]}),(0,d.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:m.map((function(i){return(0,d.jsx)("div",{style:{background:t.colors.cardBackground,padding:"10px 15px",borderRadius:2,display:"flex",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:(0,d.jsx)("svg",{width:e.width,height:e.height,children:(0,d.jsx)(c.Ae,f({},e,{textColor:t.colors.text,data:f({},e.data,{label:i}),direction:i}))})},i)}))}),(0,d.jsxs)("p",{children:["The behavior is slightly different if you set ",(0,d.jsx)("code",{children:"justify"})," to"," ",(0,d.jsx)("code",{children:"true"})," as the label will be positioned at the opposite of the symbol, filling up the whole width/height of the legend's item."]}),(0,d.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:m.map((function(i){return(0,d.jsx)("div",{style:{background:t.colors.cardBackground,padding:"9px 12px",display:"flex",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},children:(0,d.jsx)("svg",{width:e.width,height:e.height,children:(0,d.jsx)(c.Ae,f({},e,{textColor:t.colors.text,data:f({},e.data,{label:i}),direction:i,justify:!0}))},i)},i)}))})]})},p=i(48159),b=i.n(p);function v(){return v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},v.apply(this,arguments)}var y=["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left","center"],k=[{anchor:"top",translateX:-160,translateY:-30},{anchor:"left",translateX:-30,translateY:50},{anchor:"right",translateX:-30,translateY:-60},{anchor:"bottom",translateX:160,translateY:30}],j=30,S={containerWidth:740,containerHeight:240,itemWidth:120,itemHeight:16,itemsSpacing:4,direction:"column"},w=function(){var t=(0,o.useTheme)();return(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"Legend position"}),(0,d.jsxs)("p",{children:["The legend can be positioned in your chart area using the ",(0,d.jsx)("code",{children:"anchor"})," ","property.",(0,d.jsx)("br",{}),"You have 9 available directives:"]}),(0,d.jsxs)("svg",{width:S.containerWidth+60,height:S.containerHeight+60,style:{background:t.colors.cardBackground},children:[(0,d.jsx)("text",{x:S.containerWidth/2+j,y:15,textAnchor:"middle",style:{alignmentBaseline:"middle",fill:t.colors.textLight,fontSize:"14px"},children:"margin"}),(0,d.jsxs)("g",{transform:"translate(30,30)",children:[(0,d.jsx)("rect",{fill:t.colors.background,width:S.containerWidth,height:S.containerHeight}),y.map((function(e){return(0,n.createElement)(c.$6,v({},S,{itemTextColor:t.colors.text,key:e,anchor:e,data:[{id:"a",label:e,color:t.colors.accent},{id:"b",label:"...",color:t.colors.accent},{id:"c",label:"...",color:t.colors.accent}]}))}))]})]}),(0,d.jsxs)("p",{children:["The legend's anchor is relative to the inner chart area (with margin applied), but depending on the chart type, you'll probably want to move it outside of this area.",(0,d.jsx)("br",{}),"That's where ",(0,d.jsx)("code",{children:"translateX"})," & ",(0,d.jsx)("code",{children:"translateY"})," come into play, allowing to adjust the legend position from its original anchor."]}),(0,d.jsxs)("svg",{width:S.containerWidth+60,height:S.containerHeight+60,style:{background:t.colors.cardBackground},children:[(0,d.jsx)("text",{x:S.containerWidth/2+j,y:15,textAnchor:"middle",style:{alignmentBaseline:"middle",fill:t.colors.textLight,fontSize:"14px"},children:"margin"}),(0,d.jsxs)("g",{transform:"translate(30,30)",children:[(0,d.jsx)("rect",{fill:t.colors.background,width:S.containerWidth,height:S.containerHeight}),k.map((function(e,i){return(0,d.jsx)(c.$6,v({},S,b()(e,["translateX","translateY"]),{itemTextColor:t.colors.text,data:[{id:e.anchor,label:e.anchor+" (regular)",color:t.colors.text}]}),i)})),k.map((function(e,i){return(0,d.jsx)(c.$6,v({},S,e,{itemTextColor:t.colors.text,data:[{id:"a",label:e.anchor+" (translated)",color:t.colors.accent},{id:"b",label:"translateX: "+e.translateX,color:t.colors.accent},{id:"c",label:"translateY: "+e.translateY,color:t.colors.accent}]}),i)}))]})]})]})},C=i(80398);function W(){return W=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},W.apply(this,arguments)}var A=["square","circle","triangle","diamond"],O="\nconst CustomSymbolShape = ({\n    x, y, size, fill, borderWidth, borderColor\n}) => (\n    <rect\n        x={x}\n        y={y}\n        transform={`rotate(45 ${size/2} ${size/2})`}\n        fill={fill}\n        strokeWidth={borderWidth}\n        stroke={borderColor}\n        width={size}\n        height={size}\n        style={{ pointerEvents: 'none' }}\n    />\n)\n".trim(),z=function(){var t=(0,o.useTheme)(),e={x:0,y:0,width:160,height:40,data:{id:"demo",color:t.colors.accent}};return(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"Symbol shape"}),(0,d.jsxs)("p",{children:["You can customize symbols using ",(0,d.jsx)("code",{children:"symbolShape"})," property."]}),(0,d.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:A.map((function(i){return(0,d.jsx)("div",{style:{background:t.colors.cardBackground,padding:"10px 15px",borderRadius:2,display:"flex",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:(0,d.jsx)("svg",{width:e.width,height:e.height,children:(0,d.jsx)(c.Ae,W({},e,{textColor:t.colors.text,data:W({},e.data,{label:i}),direction:"left-to-right",symbolShape:i}))})},i)}))}),(0,d.jsxs)("p",{children:["You can also use a custom shape passing a component to ",(0,d.jsx)("code",{children:"symbolShape"}),":"]}),(0,d.jsx)(C.y,{code:O,language:"jsx"})]})},B=i(80500),Y=function(){var t=(0,o.useTheme)();return(0,d.jsx)(l.Z,{children:(0,d.jsxs)(r.nN.Provider,{value:t.nivo,children:[(0,d.jsx)(a.p,{title:"Legends Guide",description:"How to add legends to your nivo charts?"}),(0,d.jsx)(s.Z,{children:(0,d.jsx)("div",{className:"guide__header",children:(0,d.jsx)("h1",{children:"Legends"})})}),(0,d.jsxs)(B.rm,{children:[(0,d.jsx)("p",{children:"Let's see how to add legends to your charts."}),(0,d.jsxs)("p",{children:["Legend components are available via the ",(0,d.jsx)("code",{children:"@nivo/legends"})," package, however it's added as a dependency for most chart packages supporting them, in most cases you won't have to add it as a direct dependency."]}),(0,d.jsx)(w,{}),(0,d.jsx)(u,{}),(0,d.jsx)(x,{}),(0,d.jsx)(z,{})]})]})})}},47425:function(t,e,i){i.d(e,{Bo:function(){return v},$6:function(){return S},iQ:function(){return O},Ae:function(){return k},aJ:function(){return W},as:function(){return C},_i:function(){return A}});var n=i(24246),o=i(9841),r=i(98383),l=i(14503),a=i(27378),s=i(23615),c=i.n(s);function d(){return d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},d.apply(this,arguments)}var h={length:200,thickness:16,direction:"row",tickPosition:"after",tickSize:4,tickSpacing:3,tickOverlap:!1,tickFormat:function(t){return""+t},titleAlign:"start",titleOffset:4},g={top:0,right:0,bottom:0,left:0},u=function(t){var e,i=t.direction,n=t.itemsSpacing,o=t.padding,r=t.itemCount,l=t.itemWidth,a=t.itemHeight;if("number"!=typeof o&&("object"!=typeof(e=o)||Array.isArray(e)||null===e))throw new Error("Invalid property padding, must be one of: number, object");var s="number"==typeof o?{top:o,right:o,bottom:o,left:o}:d({},g,o),c=s.left+s.right,h=s.top+s.bottom,u=l+c,f=a+h,m=(r-1)*n;return"row"===i?u=l*r+m+c:"column"===i&&(f=a*r+m+h),{width:u,height:f,padding:s}},f=function(t){var e=t.anchor,i=t.translateX,n=t.translateY,o=t.containerWidth,r=t.containerHeight,l=t.width,a=t.height,s=i,c=n;switch(e){case"top":s+=(o-l)/2;break;case"top-right":s+=o-l;break;case"right":s+=o-l,c+=(r-a)/2;break;case"bottom-right":s+=o-l,c+=r-a;break;case"bottom":s+=(o-l)/2,c+=r-a;break;case"bottom-left":c+=r-a;break;case"left":c+=(r-a)/2;break;case"center":s+=(o-l)/2,c+=(r-a)/2}return{x:s,y:c}},m=function(t){var e,i,n,o,r,l,a=t.direction,s=t.justify,c=t.symbolSize,d=t.symbolSpacing,h=t.width,g=t.height;switch(a){case"left-to-right":e=0,i=(g-c)/2,o=g/2,l="central",s?(n=h,r="end"):(n=c+d,r="start");break;case"right-to-left":e=h-c,i=(g-c)/2,o=g/2,l="central",s?(n=0,r="start"):(n=h-c-d,r="end");break;case"top-to-bottom":e=(h-c)/2,i=0,n=h/2,r="middle",s?(o=g,l="alphabetic"):(o=c+d,l="text-before-edge");break;case"bottom-to-top":e=(h-c)/2,i=g-c,n=h/2,r="middle",s?(o=0,l="text-before-edge"):(o=g-c-d,l="alphabetic")}return{symbolX:e,symbolY:i,labelX:n,labelY:o,labelAnchor:r,labelAlignment:l}},x=function(t){var e,i=t.scale,n=t.ticks,a=t.length,s=void 0===a?h.length:a,c=t.thickness,d=void 0===c?h.thickness:c,g=t.direction,u=void 0===g?h.direction:g,f=t.tickPosition,m=void 0===f?h.tickPosition:f,x=t.tickSize,p=void 0===x?h.tickSize:x,b=t.tickSpacing,v=void 0===b?h.tickSpacing:b,y=t.tickOverlap,k=void 0===y?h.tickOverlap:y,j=t.tickFormat,S=void 0===j?h.tickFormat:j,w=t.title,C=t.titleAlign,W=void 0===C?h.titleAlign:C,A=t.titleOffset,O=void 0===A?h.titleOffset:A,z="column"===u?[].concat(i.domain()).reverse():i.domain(),B=(0,o.Z)().domain(z);2===z.length?B.range([0,s]):3===z.length&&B.range([0,s/2,s]),e="thresholds"in i?[z[0]].concat(i.thresholds(),[z[1]]):Array.isArray(n)?n:i.ticks(n);var Y,X,H,T,L,E,F,M,P,R,_,q,Z,V,$=(0,l.TO)(i,32),D=(0,r.kZ)(S),N=[],I=0,G=0;"row"===u?(Y=s,X=d,G=1,L=0,H="start"===W?0:"middle"===W?s/2:s,"before"===m?(F=-p,M=k?d:0,P=-p-v,R="alphabetic",T=d+O,E="hanging"):(F=k?0:d,P=(M=d+p)+v,R="hanging",T=-O,E="alphabetic"),e.forEach((function(t){var e=B(t);N.push({x1:e,y1:F,x2:e,y2:M,text:D(t),textX:e,textY:P,textHorizontalAlign:"middle",textVerticalAlign:R})}))):(Y=d,X=s,I=1,L=-90,T="start"===W?s:"middle"===W?s/2:0,"before"===m?(q=k?d:0,Z=(_=-p)-v,V="end",H=d+O,E="hanging"):(_=k?0:d,Z=(q=d+p)+v,V="start",H=-O,E="alphabetic"),e.forEach((function(t){var e=B(t);N.push({x1:_,y1:e,x2:q,y2:e,text:D(t),textX:Z,textY:e,textHorizontalAlign:V,textVerticalAlign:"central"})})));return{width:Y,height:X,gradientX1:0,gradientY1:I,gradientX2:G,gradientY2:0,colorStops:$,ticks:N,titleText:w,titleX:H,titleY:T,titleRotation:L,titleHorizontalAlign:W,titleVerticalAlign:E}},p=function(t){var e=t.scale,i=t.ticks,o=t.length,l=void 0===o?h.length:o,s=t.thickness,c=void 0===s?h.thickness:s,g=t.direction,u=void 0===g?h.direction:g,f=t.tickPosition,m=void 0===f?h.tickPosition:f,p=t.tickSize,b=void 0===p?h.tickSize:p,v=t.tickSpacing,y=void 0===v?h.tickSpacing:v,k=t.tickOverlap,j=void 0===k?h.tickOverlap:k,S=t.tickFormat,w=void 0===S?h.tickFormat:S,C=t.title,W=t.titleAlign,A=void 0===W?h.titleAlign:W,O=t.titleOffset,z=x({scale:e,ticks:i,length:l,thickness:c,direction:u,tickPosition:m,tickSize:b,tickSpacing:y,tickOverlap:j,tickFormat:w,title:C,titleAlign:A,titleOffset:void 0===O?h.titleOffset:O}),B=z.width,Y=z.height,X=z.gradientX1,H=z.gradientY1,T=z.gradientX2,L=z.gradientY2,E=z.ticks,F=z.colorStops,M=z.titleText,P=z.titleX,R=z.titleY,_=z.titleRotation,q=z.titleVerticalAlign,Z=z.titleHorizontalAlign,V=(0,r.Fg)(),$="ContinuousColorsLegendSvgGradient."+u+"."+F.map((function(t){return t.offset})).join("_");return(0,n.jsxs)("g",{children:[(0,n.jsx)("defs",{children:(0,n.jsx)("linearGradient",{id:$,x1:X,y1:H,x2:T,y2:L,children:F.map((function(t){return(0,n.jsx)("stop",d({},t))}))})}),M&&(0,n.jsx)("text",{transform:"translate("+P+", "+R+") rotate("+_+")",textAnchor:Z,dominantBaseline:q,style:V.legends.title.text,children:M}),(0,n.jsx)("rect",{width:B,height:Y,fill:"url(#"+$}),E.map((function(t,e){return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)("line",{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,style:V.legends.ticks.line}),(0,n.jsx)("text",{x:t.textX,y:t.textY,textAnchor:t.textHorizontalAlign,dominantBaseline:t.textVerticalAlign,style:V.legends.ticks.text,children:t.text})]},e)}))]})},b=["containerWidth","containerHeight","anchor","translateX","translateY","length","thickness","direction"],v=function(t){var e,i,o=t.containerWidth,r=t.containerHeight,l=t.anchor,a=t.translateX,s=void 0===a?0:a,c=t.translateY,g=void 0===c?0:c,u=t.length,m=void 0===u?h.length:u,x=t.thickness,v=void 0===x?h.thickness:x,y=t.direction,k=void 0===y?h.direction:y,j=function(t,e){if(null==t)return{};var i,n,o={},r=Object.keys(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||(o[i]=t[i]);return o}(t,b);"row"===k?(e=m,i=v):(e=v,i=m);var S=f({anchor:l,translateX:s,translateY:g,containerWidth:o,containerHeight:r,width:e,height:i}),w=S.x,C=S.y;return(0,n.jsx)("g",{transform:"translate("+w+", "+C+")",children:(0,n.jsx)(p,d({length:m,thickness:v,direction:k},j))})},y={circle:function(t){var e=t.x,i=t.y,o=t.size,r=t.fill,l=t.opacity,a=void 0===l?1:l,s=t.borderWidth,c=void 0===s?0:s,d=t.borderColor;return(0,n.jsx)("circle",{r:o/2,cx:e+o/2,cy:i+o/2,fill:r,opacity:a,strokeWidth:c,stroke:void 0===d?"transparent":d,style:{pointerEvents:"none"}})},diamond:function(t){var e=t.x,i=t.y,o=t.size,r=t.fill,l=t.opacity,a=void 0===l?1:l,s=t.borderWidth,c=void 0===s?0:s,d=t.borderColor;return(0,n.jsx)("g",{transform:"translate("+e+","+i+")",children:(0,n.jsx)("path",{d:"\n                    M"+o/2+" 0\n                    L"+.8*o+" "+o/2+"\n                    L"+o/2+" "+o+"\n                    L"+.2*o+" "+o/2+"\n                    L"+o/2+" 0\n                ",fill:r,opacity:a,strokeWidth:c,stroke:void 0===d?"transparent":d,style:{pointerEvents:"none"}})})},square:function(t){var e=t.x,i=t.y,o=t.size,r=t.fill,l=t.opacity,a=void 0===l?1:l,s=t.borderWidth,c=void 0===s?0:s,d=t.borderColor;return(0,n.jsx)("rect",{x:e,y:i,fill:r,opacity:a,strokeWidth:c,stroke:void 0===d?"transparent":d,width:o,height:o,style:{pointerEvents:"none"}})},triangle:function(t){var e=t.x,i=t.y,o=t.size,r=t.fill,l=t.opacity,a=void 0===l?1:l,s=t.borderWidth,c=void 0===s?0:s,d=t.borderColor;return(0,n.jsx)("g",{transform:"translate("+e+","+i+")",children:(0,n.jsx)("path",{d:"\n                M"+o/2+" 0\n                L"+o+" "+o+"\n                L0 "+o+"\n                L"+o/2+" 0\n            ",fill:r,opacity:a,strokeWidth:c,stroke:void 0===d?"transparent":d,style:{pointerEvents:"none"}})})}},k=function(t){var e,i,o,l,s,c,h,g,u,f,x,p=t.x,b=t.y,v=t.width,k=t.height,j=t.data,S=t.direction,w=void 0===S?"left-to-right":S,C=t.justify,W=void 0!==C&&C,A=t.textColor,O=t.background,z=void 0===O?"transparent":O,B=t.opacity,Y=void 0===B?1:B,X=t.symbolShape,H=void 0===X?"square":X,T=t.symbolSize,L=void 0===T?16:T,E=t.symbolSpacing,F=void 0===E?8:E,M=t.symbolBorderWidth,P=void 0===M?0:M,R=t.symbolBorderColor,_=void 0===R?"transparent":R,q=t.onClick,Z=t.onMouseEnter,V=t.onMouseLeave,$=t.toggleSerie,D=t.effects,N=(0,a.useState)({}),I=N[0],G=N[1],J=(0,r.Fg)(),Q=(0,a.useCallback)((function(t){if(D){var e=D.filter((function(t){return"hover"===t.on})).reduce((function(t,e){return d({},t,e.style)}),{});G(e)}null==Z||Z(j,t)}),[Z,j,D]),K=(0,a.useCallback)((function(t){if(D){var e=D.filter((function(t){return"hover"!==t.on})).reduce((function(t,e){return d({},t,e.style)}),{});G(e)}null==V||V(j,t)}),[V,j,D]),U=m({direction:w,justify:W,symbolSize:null!=(e=I.symbolSize)?e:L,symbolSpacing:F,width:v,height:k}),tt=U.symbolX,et=U.symbolY,it=U.labelX,nt=U.labelY,ot=U.labelAnchor,rt=U.labelAlignment,lt=[q,Z,V,$].some((function(t){return void 0!==t})),at="function"==typeof H?H:y[H];return(0,n.jsxs)("g",{transform:"translate("+p+","+b+")",style:{opacity:null!=(i=I.itemOpacity)?i:Y},children:[(0,n.jsx)("rect",{width:v,height:k,fill:null!=(o=I.itemBackground)?o:z,style:{cursor:lt?"pointer":"auto"},onClick:function(t){null==q||q(j,t),null==$||$(j.id)},onMouseEnter:Q,onMouseLeave:K}),a.createElement(at,d({id:j.id,x:tt,y:et,size:null!=(l=I.symbolSize)?l:L,fill:null!=(s=null!=(c=j.fill)?c:j.color)?s:"black",borderWidth:null!=(h=I.symbolBorderWidth)?h:P,borderColor:null!=(g=I.symbolBorderColor)?g:_},j.hidden?J.legends.hidden.symbol:void 0)),(0,n.jsx)("text",{textAnchor:ot,style:d({},J.legends.text,{fill:null!=(u=null!=(f=null!=(x=I.itemTextColor)?x:A)?f:J.legends.text.fill)?u:"black",dominantBaseline:rt,pointerEvents:"none",userSelect:"none"},j.hidden?J.legends.hidden.text:void 0),x:it,y:nt,children:j.label})]})},j=function(t){var e=t.data,i=t.x,o=t.y,r=t.direction,l=t.padding,a=void 0===l?0:l,s=t.justify,c=t.effects,d=t.itemWidth,h=t.itemHeight,g=t.itemDirection,f=void 0===g?"left-to-right":g,m=t.itemsSpacing,x=void 0===m?0:m,p=t.itemTextColor,b=t.itemBackground,v=void 0===b?"transparent":b,y=t.itemOpacity,j=void 0===y?1:y,S=t.symbolShape,w=t.symbolSize,C=t.symbolSpacing,W=t.symbolBorderWidth,A=t.symbolBorderColor,O=t.onClick,z=t.onMouseEnter,B=t.onMouseLeave,Y=t.toggleSerie,X=u({itemCount:e.length,itemWidth:d,itemHeight:h,itemsSpacing:x,direction:r,padding:a}).padding,H="row"===r?d+x:0,T="column"===r?h+x:0;return(0,n.jsx)("g",{transform:"translate("+i+","+o+")",children:e.map((function(t,e){return(0,n.jsx)(k,{data:t,x:e*H+X.left,y:e*T+X.top,width:d,height:h,direction:f,justify:s,effects:c,textColor:p,background:v,opacity:j,symbolShape:S,symbolSize:w,symbolSpacing:C,symbolBorderWidth:W,symbolBorderColor:A,onClick:O,onMouseEnter:z,onMouseLeave:B,toggleSerie:Y},e)}))})},S=function(t){var e=t.data,i=t.containerWidth,o=t.containerHeight,r=t.translateX,l=void 0===r?0:r,a=t.translateY,s=void 0===a?0:a,c=t.anchor,d=t.direction,h=t.padding,g=void 0===h?0:h,m=t.justify,x=t.itemsSpacing,p=void 0===x?0:x,b=t.itemWidth,v=t.itemHeight,y=t.itemDirection,k=t.itemTextColor,S=t.itemBackground,w=t.itemOpacity,C=t.symbolShape,W=t.symbolSize,A=t.symbolSpacing,O=t.symbolBorderWidth,z=t.symbolBorderColor,B=t.onClick,Y=t.onMouseEnter,X=t.onMouseLeave,H=t.toggleSerie,T=t.effects,L=u({itemCount:e.length,itemsSpacing:p,itemWidth:b,itemHeight:v,direction:d,padding:g}),E=L.width,F=L.height,M=f({anchor:c,translateX:l,translateY:s,containerWidth:i,containerHeight:o,width:E,height:F}),P=M.x,R=M.y;return(0,n.jsx)(j,{data:e,x:P,y:R,direction:d,padding:g,justify:m,effects:T,itemsSpacing:p,itemWidth:b,itemHeight:v,itemDirection:y,itemTextColor:k,itemBackground:S,itemOpacity:w,symbolShape:C,symbolSize:W,symbolSpacing:A,symbolBorderWidth:O,symbolBorderColor:z,onClick:B,onMouseEnter:Y,onMouseLeave:X,toggleSerie:"boolean"==typeof H?void 0:H})},w={start:"left",middle:"center",end:"right"},C=function(t,e){var i=e.data,n=e.containerWidth,o=e.containerHeight,r=e.translateX,l=void 0===r?0:r,a=e.translateY,s=void 0===a?0:a,c=e.anchor,d=e.direction,h=e.padding,g=void 0===h?0:h,x=e.justify,p=void 0!==x&&x,b=e.itemsSpacing,v=void 0===b?0:b,y=e.itemWidth,k=e.itemHeight,j=e.itemDirection,S=void 0===j?"left-to-right":j,C=e.itemTextColor,W=e.symbolSize,A=void 0===W?16:W,O=e.symbolSpacing,z=void 0===O?8:O,B=e.theme,Y=u({itemCount:i.length,itemWidth:y,itemHeight:k,itemsSpacing:v,direction:d,padding:g}),X=Y.width,H=Y.height,T=Y.padding,L=f({anchor:c,translateX:l,translateY:s,containerWidth:n,containerHeight:o,width:X,height:H}),E=L.x,F=L.y,M="row"===d?y+v:0,P="column"===d?k+v:0;t.save(),t.translate(E,F),t.font=B.legends.text.fontSize+"px "+(B.legends.text.fontFamily||"sans-serif"),i.forEach((function(e,i){var n,o,r=i*M+T.left,l=i*P+T.top,a=m({direction:S,justify:p,symbolSize:A,symbolSpacing:z,width:y,height:k}),s=a.symbolX,c=a.symbolY,d=a.labelX,h=a.labelY,g=a.labelAnchor,u=a.labelAlignment;t.fillStyle=null!=(n=e.color)?n:"black",t.fillRect(r+s,l+c,A,A),t.textAlign=w[g],"central"===u&&(t.textBaseline="middle"),t.fillStyle=null!=(o=null!=C?C:B.legends.text.fill)?o:"black",t.fillText(String(e.label),r+d,l+h)})),t.restore()},W=function(t,e){var i=e.containerWidth,n=e.containerHeight,o=e.anchor,l=e.translateX,a=void 0===l?0:l,s=e.translateY,c=void 0===s?0:s,d=e.scale,g=e.length,u=void 0===g?h.length:g,m=e.thickness,p=void 0===m?h.thickness:m,b=e.direction,v=void 0===b?h.direction:b,y=e.ticks,k=e.tickPosition,j=void 0===k?h.tickPosition:k,S=e.tickSize,w=void 0===S?h.tickSize:S,C=e.tickSpacing,W=void 0===C?h.tickSpacing:C,A=e.tickOverlap,O=void 0===A?h.tickOverlap:A,z=e.tickFormat,B=void 0===z?h.tickFormat:z,Y=e.title,X=e.titleAlign,H=void 0===X?h.titleAlign:X,T=e.titleOffset,L=void 0===T?h.titleOffset:T,E=e.theme,F=x({scale:d,ticks:y,length:u,thickness:p,direction:v,tickPosition:j,tickSize:w,tickSpacing:W,tickOverlap:O,tickFormat:B,title:Y,titleAlign:H,titleOffset:L}),M=F.width,P=F.height,R=F.gradientX1,_=F.gradientY1,q=F.gradientX2,Z=F.gradientY2,V=F.colorStops,$=F.ticks,D=F.titleText,N=F.titleX,I=F.titleY,G=F.titleRotation,J=F.titleVerticalAlign,Q=F.titleHorizontalAlign,K=f({anchor:o,translateX:a,translateY:c,containerWidth:i,containerHeight:n,width:M,height:P}),U=K.x,tt=K.y,et={font:t.font,textAlign:t.textAlign,textBaseline:t.textBaseline};t.save(),t.translate(U,tt);var it=t.createLinearGradient(R*M,_*P,q*M,Z*P);V.forEach((function(t){it.addColorStop(t.offset,t.stopColor)})),t.fillStyle=it,t.fillRect(0,0,M,P),t.font=(E.legends.ticks.text.fontWeight?E.legends.ticks.text.fontWeight+" ":"")+E.legends.ticks.text.fontSize+"px "+E.legends.ticks.text.fontFamily,$.forEach((function(e){var i;(null!=(i=E.legends.ticks.line.strokeWidth)?i:0)>0&&(t.lineWidth=Number(E.axis.ticks.line.strokeWidth),E.axis.ticks.line.stroke&&(t.strokeStyle=E.axis.ticks.line.stroke),t.lineCap="square",t.beginPath(),t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.stroke()),E.legends.ticks.text.fill&&(t.fillStyle=E.legends.ticks.text.fill),t.textAlign="middle"===e.textHorizontalAlign?"center":e.textHorizontalAlign,t.textBaseline="central"===e.textVerticalAlign?"middle":e.textVerticalAlign,t.fillText(e.text,e.textX,e.textY)})),D&&(t.save(),t.translate(N,I),t.rotate((0,r.Ht)(G)),t.font=(E.legends.title.text.fontWeight?E.legends.title.text.fontWeight+" ":"")+E.legends.title.text.fontSize+"px "+E.legends.title.text.fontFamily,E.legends.title.text.fill&&(t.fillStyle=E.legends.title.text.fill),t.textAlign="middle"===Q?"center":Q,t.textBaseline=J,t.fillText(D,0,0),t.restore()),t.restore(),t.font=et.font,t.textAlign=et.textAlign,t.textBaseline=et.textBaseline},A=function(t){var e=t.scale,i=t.domain,n=t.reverse,o=void 0!==n&&n,r=t.valueFormat,l=void 0===r?function(t){return t}:r,s=t.separator,c=void 0===s?" - ":s;return(0,a.useMemo)((function(){var t=(null!=i?i:e.range()).map((function(t,i){var n=e.invertExtent(t),o=n[0],r=n[1];return{id:t,index:i,extent:[o,r],label:""+l(o)+c+l(r),value:e(o),color:t}}));return o&&t.reverse(),t}),[i,e,o,c,l])},O={data:c().arrayOf(c().object),anchor:c().oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,translateX:c().number,translateY:c().number,direction:c().oneOf(["row","column"]).isRequired,itemsSpacing:c().number,itemWidth:c().number.isRequired,itemHeight:c().number.isRequired,itemDirection:c().oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemTextColor:c().string,itemBackground:c().string,itemOpacity:c().number,symbolShape:c().oneOfType([c().oneOf(["circle","diamond","square","triangle"]),c().func]),symbolSize:c().number,symbolSpacing:c().number,symbolBorderWidth:c().number,symbolBorderColor:c().string,onClick:c().func,onMouseEnter:c().func,onMouseLeave:c().func,effects:c().arrayOf(c().shape({on:c().oneOfType([c().oneOf(["hover"])]).isRequired,style:c().shape({itemTextColor:c().string,itemBackground:c().string,itemOpacity:c().number,symbolSize:c().number,symbolBorderWidth:c().number,symbolBorderColor:c().string}).isRequired}))}}}]);
//# sourceMappingURL=component---src-pages-guides-legends-tsx-e4b2a1e57fd1206bbe18.js.map