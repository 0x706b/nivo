(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{"0q84":function(e,t,n){"use strict";var r=n("nLLr");t.a=Object(r.c)({label:function(e){return"node => `${node.id} (${node.formattedValue})`"===e?function(e){return e.id+" ("+e.formattedValue+")"}:e},parentLabel:function(e){return"node => node.pathComponents.join(' / ')"===e?function(e){return e.pathComponents.join(" / ")}:e},valueFormat:r.b})},"0wvI":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return p}));var r=n("6zZa"),o=n("q8Y+"),a=n.n(o),i=n("JCgZ"),l=n.n(i),s=function(){return{root:Object(r.f)()}},p=function(){return{root:{id:"root",children:a()(600).map((function(e){return{id:"node."+e,value:l()(10,1e5)}}))},nodeCount:600}}},DAMa:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("Eo5u"),o=n("myAg"),a=n("RQLE"),i=o.e,l=[{key:"data",group:"Base",help:"The hierarchical data object.",type:"object",required:!0},{key:"identity",group:"Base",help:"The key or function to use to retrieve nodes identity.",type:"string | Function",required:!1,defaultValue:i.identity},{key:"value",group:"Base",help:"The key or function to use to retrieve nodes value.",type:"string | Function",required:!1,defaultValue:"value"},{key:"valueFormat",help:"\n            Value format supporting d3-format notation, this formatted value\n            will then be used for labels and tooltips.\n        ",type:"string |Â Function",required:!1,controlType:"valueFormat",group:"Base"},{key:"tile",group:"Base",help:"Strategy used to compute nodes.",description:"\n            Strategy used to compute nodes, see\n            [official d3 documentation](https://github.com/mbostock/d3/wiki/Treemap-Layout#mode).\n        ",type:"string",required:!1,defaultValue:"squarify",controlType:"choices",controlOptions:{choices:[{label:"binary",value:"binary"},{label:"squarify",value:"squarify"},{label:"slice",value:"slice"},{label:"dice",value:"dice"},{label:"sliceDice",value:"sliceDice"},{label:"resquarify",value:"resquarify"}]}},{key:"leavesOnly",help:"Only render leaf nodes (no parent).",type:"boolean",required:!1,defaultValue:i.leavesOnly,controlType:"switch",group:"Base"},{key:"innerPadding",help:"Padding between parent and child node.",type:"number",required:!1,defaultValue:i.innerPadding,controlType:"range",group:"Base",controlOptions:{unit:"px",min:0,max:32}},{key:"outerPadding",help:"Padding between parent and child node.",type:"number",required:!1,defaultValue:i.outerPadding,controlType:"range",group:"Base",controlOptions:{unit:"px",min:0,max:32}},{key:"width",group:"Base",enableControlForFlavors:["api"],help:"Chart width.",description:"\n            not required if using responsive alternative\n            of the component `<Responsive*/>`.\n        ",type:"number",required:!0},{key:"height",group:"Base",enableControlForFlavors:["api"],help:"Chart height.",description:"\n            not required if using responsive alternative\n            of the component `<Responsive*/>`.\n        ",type:"number",required:!0},{key:"pixelRatio",flavors:["canvas"],help:"Adjust pixel ratio, useful for HiDPI screens.",required:!1,defaultValue:"Depends on device",type:"number",controlType:"range",group:"Base",controlOptions:{min:1,max:2}},{key:"margin",help:"Chart margin.",type:"object",required:!1,controlType:"margin",group:"Base"},{key:"colors",help:"Defines how to compute node color.",type:"string | Function | string[]",required:!1,defaultValue:i.colors,controlType:"ordinalColors",group:"Style"},{key:"nodeOpacity",help:"Node opacity (0~1).",required:!1,defaultValue:i.nodeOpacity,type:"number",controlType:"opacity",group:"Style"},{key:"borderWidth",help:"Control node border width.",type:"number",required:!1,defaultValue:i.borderWidth,controlType:"lineWidth",group:"Style"},{key:"borderColor",help:"Method to compute border color.",type:"string | object | Function",required:!1,defaultValue:i.borderColor,controlType:"inheritedColor",group:"Style"}].concat(Object(r.a)(Object(a.b)("Style",["svg"])),[{key:"enableLabel",help:"Enable/disable labels.",type:"boolean",required:!1,defaultValue:i.enableLabel,controlType:"switch",group:"Labels"},{key:"label",help:"Label accessor.",description:"Defines how to get label text, can be a string (used to access current node property) or a function which will receive the actual node and must return the desired label.",type:"string | Function",required:!1,controlType:"choices",group:"Labels",controlOptions:{choices:["formattedValue","id","node => `${node.id} (${node.formattedValue})`"].map((function(e){return{label:e,value:e}}))}},{key:"labelSkipSize",help:"Skip label rendering if node minimal side length is lower than given value, 0 to disable.",type:"number",required:!1,controlType:"range",group:"Labels",controlOptions:{unit:"px",min:0,max:100}},{key:"orientLabel",help:"Orient labels according to max node width/height.",type:"boolean",required:!1,defaultValue:i.orientLabel,controlType:"switch",group:"Labels"},{key:"labelTextColor",help:"Method to compute label text color.",type:"string | object | Function",required:!1,controlType:"inheritedColor",group:"Labels"},{key:"enableParentLabel",flavors:["svg","html","api"],help:"Enable/disable labels.",type:"boolean",required:!1,defaultValue:i.enableParentLabel,controlType:"switch",group:"Labels"},{key:"parentLabel",flavors:["svg","html","api"],help:"Parent label accessor.",description:"Defines how to get parent label text, can be a string (used to access current node property) or a function which will receive the actual node and must return the desired label.",type:"string | Function",required:!1,controlType:"choices",group:"Labels",controlOptions:{choices:["id","formattedValue","node => node.pathComponents.join(' / ')"].map((function(e){return{label:e,value:e}}))}},{key:"parentLabelSize",flavors:["svg","html","api"],help:"Parent label size.",required:!1,defaultValue:i.parentLabelSize,type:"number",controlType:"range",group:"Labels",controlOptions:{min:10,max:40}},{key:"parentLabelPosition",flavors:["svg","html","api"],help:"Parent label position.",type:"'top' | 'right' | 'bottom' | 'left'",required:!1,controlType:"choices",group:"Labels",defaultValue:i.parentLabelPosition,controlOptions:{choices:["top","right","bottom","left"].map((function(e){return{label:e,value:e}}))}},{key:"parentLabelPadding",flavors:["svg","html","api"],help:"Parent label padding.",required:!1,defaultValue:i.parentLabelPadding,type:"number",controlType:"range",group:"Labels",controlOptions:{min:0,max:20}},{key:"parentLabelTextColor",flavors:["svg","html","api"],help:"Method to compute parent label text color.",type:"string | object | Function",required:!1,controlType:"inheritedColor",group:"Labels"},{key:"isInteractive",flavors:["svg","html","canvas"],help:"Enable/disable interactivity.",type:"boolean",required:!1,defaultValue:i.isInteractive,controlType:"switch",group:"Interactivity"},{key:"onMouseEnter",flavors:["svg","html"],group:"Interactivity",type:"(node, event) => void",help:"onMouseEnter handler.",required:!1},{key:"onMouseMove",flavors:["svg","html","canvas"],group:"Interactivity",type:"(node, event) => void",help:"onMouseMove handler.",required:!1},{key:"onMouseLeave",flavors:["svg","html"],group:"Interactivity",type:"(node, event) => void",help:"onMouseLeave handler.",required:!1},{key:"onClick",flavors:["svg","html","canvas"],group:"Interactivity",type:"(node, event) => void",help:"onClick handler.",required:!1}],Object(r.a)(Object(a.e)(["svg","html","canvas"],i,"react-spring"))),s=Object(a.d)(l)},"N+Yx":function(e,t,n){"use strict";n.r(t);var r=n("Eo5u"),o=n("mXGw"),a=n.n(o),i=n("myAg"),l=n("vrFN"),s=n("vrO3"),p=n("DAMa"),c=n("0q84"),d=n("0wvI"),u=n("wZ6/"),h=n.n(u),m=Object(d.b)();t.default=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.a,{title:"TreeMap HTTP API",keywords:[].concat(Object(r.a)(h.a.TreeMap.tags),["HTTP API"])}),a.a.createElement(s.a,{componentName:"TreeMap",chartClass:"treemap",apiPath:"/charts/treemap",flavors:h.a.flavors,controlGroups:p.a,propsMapper:c.a,defaultProps:{root:JSON.stringify(m.root,null,"  "),identity:"name",value:"loc",valueFormat:{format:".02s",enabled:!0},tile:i.e.tile,leavesOnly:i.e.leavesOnly,innerPadding:i.e.innerPadding,outerPadding:i.e.outerPadding,margin:{top:10,right:10,bottom:10,left:10},enableLabel:i.e.enableLabel,label:i.e.label,labelSkipSize:12,labelTextColor:{from:"color",modifiers:[["darker",1.2]]},orientLabel:i.e.orientLabel,enableParentLabel:i.e.enableParentLabel,parentLabel:i.e.parentLabel,parentLabelSize:i.e.parentLabelSize,parentLabelPosition:i.e.parentLabelPosition,parentLabelPadding:i.e.parentLabelPadding,parentLabelTextColor:{from:"color",modifiers:[["darker",2]]},colors:{scheme:"nivo"},colorBy:"path.1",nodeOpacity:.5,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",.3]]}}}))}},vrO3:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var r=n("Z+yb"),o=n("hsa5"),a=n("mXGw"),i=n.n(a),l=n("UutA"),s=n("7oih"),p=n("UmRm"),c=n("QbkB"),d=n("1h20"),u=n("yHyT"),h=n("SBeK"),m=n("MF9i"),g=l.d.a.withConfig({displayName:"ApiPreview__Link",componentId:"sc-1tjndi9-0"})(["position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;"]),b=l.d.img.withConfig({displayName:"ApiPreview__Image",componentId:"sc-1tjndi9-1"})(["max-width:100%;max-height:100%;"]),f=l.d.div.withConfig({displayName:"ApiPreview__EmptyContainer",componentId:"sc-1tjndi9-2"})(["font-size:14px;line-height:1.6em;color:",";display:flex;align-items:center;justify-content:center;width:100%;height:100%;"],(function(e){return e.theme.colors.textLight})),y=function(e){var t=e.responseStatus,n=e.chartUrl;return 201===t&&n?i.a.createElement(g,{href:n,target:"_blank",rel:"noopener noreferrer"},i.a.createElement(b,{src:n,alt:"api result"})):i.a.createElement(f,null,"Click the generate button in order to generate the chart.",i.a.createElement("br",null),"You can customize settings by using dedicated controls.")},v=n("TurY"),x=n("DA+T");function w(){var e=Object(r.a)(["\n        & {\n            position: relative;\n            top: auto;\n            right: auto;\n            width: auto;\n            height: 460px;\n            z-index: 0;\n            border-top: 1px solid ",";\n        }\n    "]);return w=function(){return e},e}function k(){var e=Object(r.a)(["\n        & {\n            top: ","px;\n            right: 0;\n            width: 60%;\n            --innerHeight: calc(100% - ","px);\n            height: calc(var(--innerHeight) * 0.55);\n        }\n    "]);return k=function(){return e},e}var C=["preview","body","data"],L=function(e){var t=e.chartClass,n=e.data,r=e.body,o=e.isLoading,l=e.responseStatus,s=e.chartUrl,p=Object(v.b)(),c=Object(a.useState)("preview"),d=c[0],u=c[1],h=Object(a.useState)(null),m=h[0],g=h[1];return i.a.createElement(T,{className:"chart-tabs--"+d},i.a.createElement(P,null,C.map((function(e){var n=e===d,r="preview"===e?t:"data",o=n||m===e?"colored":"neutral";return i.a.createElement(E,{key:e,className:"no-select",isCurrent:n,onClick:function(){return u(e)},onMouseEnter:function(){return g(e)},onMouseLeave:function(){return g(null)}},i.a.createElement(O,{className:"sprite-icons-"+r+"-"+p.id+"-"+o}),e)}))),i.a.createElement(S,null,"preview"===d&&i.a.createElement(y,{isLoading:o,responseStatus:l,chartUrl:s}),"body"===d&&i.a.createElement(x.a,null,JSON.stringify(r,null,"  ")),"data"===d&&i.a.createElement(x.a,null,n),i.a.createElement(_,{isLoading:o})))},T=l.d.div.withConfig({displayName:"ApiTabs__Wrapper",componentId:"wcngb8-0"})(["position:fixed;top:","px;right:0;width:60%;--innerWidth:calc(100% - ","px);width:calc(var(--innerWidth) * 0.6);--innerHeight:calc(100% - ","px);height:calc(var(--innerHeight) * 0.55);z-index:10;overflow:hidden;background:",";border-bottom:1px solid ",";"," ",""],(function(e){return e.theme.dimensions.headerHeight}),(function(e){return e.theme.dimensions.miniNavWidth}),(function(e){return e.theme.dimensions.headerHeight}),(function(e){return e.theme.colors.cardBackground}),(function(e){return e.theme.colors.border}),p.a.tablet(k(),(function(e){return e.theme.dimensions.headerHeight}),(function(e){return e.theme.dimensions.headerHeight})),p.a.mobile(w(),(function(e){return e.theme.colors.border}))),P=l.d.nav.withConfig({displayName:"ApiTabs__Nav",componentId:"wcngb8-1"})(["height:46px;background:",";display:flex;font-size:15px;color:#aaa;position:relative;"],(function(e){return e.theme.colors.background})),E=l.d.span.withConfig({displayName:"ApiTabs__NavItem",componentId:"wcngb8-2"})(["cursor:pointer;height:46px;display:block;position:relative;padding-left:46px;padding-right:14px;padding-top:11px;background:",";&:hover{color:",";}"],(function(e){var t=e.isCurrent,n=e.theme;return t?n.colors.cardBackground:"transparent"}),(function(e){return e.theme.colors.text})),O=l.d.span.withConfig({displayName:"ApiTabs__Icon",componentId:"wcngb8-3"})(["position:absolute;top:0;left:0;display:block;transform:scale(0.44);transform-origin:top left;margin:12px 0 0 12px;"]),S=l.d.div.withConfig({displayName:"ApiTabs__Content",componentId:"wcngb8-4"})(["position:absolute;top:46px;bottom:0;width:100%;overflow-x:hidden;overflow-y:auto;"]),q=l.d.div.withConfig({displayName:"ApiTabs__LoaderContainer",componentId:"wcngb8-5"})(["position:absolute;top:50%;left:50%;width:100px;height:80px;margin-top:-40px;margin-left:-50px;background:",";display:grid;grid-template-columns:10px 10px 10px 10px 10px;grid-column-gap:6px;padding:10px 13px;border-radius:2px;box-shadow:0 1px 3px rgba(0,0,0,0.15);pointer-events:none;opacity:",";transform:translate3d(0,",",0);transition:transform 200ms,opacity 200ms;"],(function(e){return e.theme.colors.cardBackground}),(function(e){return e.isLoading?1:0}),(function(e){return e.isLoading?0:"20px"})),j=Object(l.e)(["0%,100%{transform:scale3d(1,0,1);}50%{transform:scale3d(1,1,1);}"]),I=l.d.span.withConfig({displayName:"ApiTabs__LoaderBar",componentId:"wcngb8-6"})(["display:block;background:",";width:100%;height:100%;transform:scale3d(1,0,1);transform-origin:100% 100%;animation-name:",";animation-duration:800ms;animation-iteration-count:infinite;animation-delay:","ms;"],(function(e){return e.theme.colors.accent}),j,(function(e){return 60*(e.index+1)})),_=function(e){var t=e.isLoading;return i.a.createElement(q,{isLoading:t},i.a.createElement("span",null,i.a.createElement(I,{index:0})),i.a.createElement("span",null,i.a.createElement(I,{index:1})),i.a.createElement("span",null,i.a.createElement(I,{index:2})),i.a.createElement("span",null,i.a.createElement(I,{index:3})),i.a.createElement("span",null,i.a.createElement(I,{index:4})))},A=l.d.span.withConfig({displayName:"ApiSubmit__Button",componentId:"y9yvg5-0"})(["display:block;background-color:",";color:#fff;text-align:center;padding:12px 24px;border-radius:2px;cursor:pointer;text-decoration:none;"],(function(e){return e.theme.colors.accent})),N=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.loading,n=e.onClick;return i.a.createElement(A,{onClick:n},t?"sending":"generate")},t}(a.Component);N.defaultProps={};var V=N,M=l.d.div.withConfig({displayName:"ApiResponse__Container",componentId:"usxrxs-0"})(["background:",";border-top:1px solid ",";overflow-x:hidden;overflow-y:auto;"],(function(e){return e.theme.colors.cardBackground}),(function(e){return e.theme.colors.border})),B=l.d.div.withConfig({displayName:"ApiResponse__Header",componentId:"usxrxs-1"})(["padding:12px 20px;border-bottom:1px solid ",";"],(function(e){return e.theme.colors.borderLight})),F=l.d.pre.withConfig({displayName:"ApiResponse__ResponseJson",componentId:"usxrxs-2"})(["padding:12px 20px;font-size:13px;line-height:1.6em;overflow:hidden;width:100%;margin:0;"]),H=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.responseStatus,n=e.response,r="no response available";return n&&(r=JSON.stringify(n,null,"  ")),i.a.createElement(M,null,i.a.createElement(B,null,"Response ",t?i.a.createElement("strong",null,t):"n/a"),i.a.createElement(F,null,r))},t}(a.Component);H.defaultProps={};var z=H,W=n("S6qR");function D(){var e=Object(r.a)(["\n        & {\n            position: relative;\n            right: auto;\n            bottom: auto;\n            width: auto;\n            height: auto;\n            border-left-width: 0;\n            z-index: 0;\n        }\n    "]);return D=function(){return e},e}function R(){var e=Object(r.a)(["\n        & {\n            right: 0;\n            bottom: 0;\n            --innerHeight: calc(100% - ","px);\n            height: calc(var(--innerHeight) * 0.45);\n            width: 60%;\n        }\n    "]);return R=function(){return e},e}var U=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleSettingsUpdate=function(e){n.setState({props:e})},n.handleDataUpdate=function(e){var t,r=n.props.dataProperty,o=n.state.props;n.setState({props:Object.assign({},o,(t={},t[r]=e.target.value,t))})},n.handleSubmit=function(){var e=n.props,t=e.apiPath,r=e.propsMapper,o=n.state.props;n.setState({loading:!0}),fetch(""+W.a.nivoApiUrl+t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r(o))}).then((function(e){return n.setState({loading:!1,responseStatus:e.status}),e.json()})).then((function(e){n.setState({response:e})})).catch((function(e){console.error(e)}))},n.state={props:t.defaultProps,loading:!1,responseStatus:null,response:null},n}return Object(o.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.componentName,r=t.chartClass,o=t.apiPath,a=t.controlGroups,l=t.dataProperty,p=t.propsMapper,g=t.flavors,b=this.state,f=b.props,y=b.loading,v=b.responseStatus,x=b.response,w=g.map((function(e){return e.flavor}));return i.a.createElement(s.a,null,i.a.createElement(c.a,null,i.a.createElement(d.a,{chartClass:n+" HTTP API",tags:["POST "+o]}),g&&i.a.createElement(u.a,{flavors:g,current:"api"}),i.a.createElement(h.a,{description:(e=n,"\nThe `"+e+"`component is available in the nivo\nHTTP rendering API.\nThe API generates a SVG and return a path to this SVG\nwhich can then be easily embedded.\n\nThe api accepts almost the same properties as the regular component,\nin json, however it's not interactive and you cannot use code\nin properties (functions).\n\nPlease note that the demo API server is installed on heroku\nusing a free plan, so it might be unavailable from times to times.\n")}),i.a.createElement(L,{chartClass:r,data:f[l],body:p(f),isLoading:y,responseStatus:v,chartUrl:x?x.url:null}),i.a.createElement(J,null,i.a.createElement(G,null,i.a.createElement(V,{loading:y,onClick:this.handleSubmit})),i.a.createElement(z,{responseStatus:v,response:x})),i.a.createElement(m.a,{component:n,settings:f,flavors:w,currentFlavor:"api",groups:a,onChange:this.handleSettingsUpdate})))},t}(a.Component);U.defaultProps={dataProperty:"data",propsMapper:function(e){return e}};var J=l.d.div.withConfig({displayName:"ApiClient__ControlPanel",componentId:"sc-50le0s-0"})(["position:fixed;right:0;bottom:0;--innerWidth:calc(100% - ","px);--partialWidth:calc(var(--innerWidth) * 0.6);width:var(--partialWidth);background:",";--innerHeight:calc(100% - ","px);height:calc(var(--innerHeight) * 0.45);z-index:10;overflow:hidden;display:grid;grid-template-rows:1fr 2fr;"," ",""],(function(e){return e.theme.dimensions.miniNavWidth}),(function(e){return e.theme.colors.cardAltBackground}),(function(e){return e.theme.dimensions.headerHeight}),p.a.tablet(R(),(function(e){return e.theme.dimensions.headerHeight})),p.a.mobile(D())),G=l.d.div.withConfig({displayName:"ApiClient__SubmitWrapper",componentId:"sc-50le0s-1"})(["display:flex;align-items:center;justify-content:center;padding:12px 0;"])}}]);
//# sourceMappingURL=component---src-pages-treemap-api-js-194ebaf6b4aa1e78cde8.js.map