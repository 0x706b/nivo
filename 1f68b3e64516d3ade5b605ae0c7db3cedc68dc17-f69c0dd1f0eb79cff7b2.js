(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[6194],{55930:function(e,r,t){"use strict";t.d(r,{VC:function(){return ne},Yr:function(){return N},LJ:function(){return le},Sy:function(){return ce}});var n=t(27378),o=t(45434),a=t(79234),i=t(47425),l=t(23615),c=t.n(l),u=t(89193),s=t(29140);function d(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}1===(b=d).length&&(f=b,b=function(e,r){return d(f(e),r)});var b,f,g=Array.prototype;g.slice,g.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function p(e,r,t){e=+e,r=+r,t=(o=arguments.length)<2?(r=e,e=0,1):o<3?1:+t;for(var n=-1,o=0|Math.max(0,Math.ceil((r-e)/t)),a=new Array(o);++n<o;)a[n]=e+n*t;return a}var v=Math.cos,h=Math.sin,m=Math.PI,y=m/2,R=2*m,A=Math.max;function M(e){return function(r,t){return e(r.source.value+r.target.value,t.source.value+t.target.value)}}var O=Array.prototype.slice;function E(e){return function(){return e}}var C=t(41584);function k(e){return e.source}function x(e){return e.target}function B(e){return e.radius}function w(e){return e.startAngle}function T(e){return e.endAngle}function q(){var e=k,r=x,t=B,n=w,o=T,a=null;function i(){var i,l=O.call(arguments),c=e.apply(this,l),u=r.apply(this,l),s=+t.apply(this,(l[0]=c,l)),d=n.apply(this,l)-y,b=o.apply(this,l)-y,f=s*v(d),g=s*h(d),p=+t.apply(this,(l[0]=u,l)),m=n.apply(this,l)-y,R=o.apply(this,l)-y;if(a||(a=i=(0,C.Z)()),a.moveTo(f,g),a.arc(0,0,s,d,b),d===m&&b===R||(a.quadraticCurveTo(0,0,p*v(m),p*h(m)),a.arc(0,0,p,m,R)),a.quadraticCurveTo(0,0,f,g),a.closePath(),i)return a=null,i+""||null}return i.radius=function(e){return arguments.length?(t="function"==typeof e?e:E(+e),i):t},i.startAngle=function(e){return arguments.length?(n="function"==typeof e?e:E(+e),i):n},i.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:E(+e),i):o},i.source=function(r){return arguments.length?(e=r,i):e},i.target=function(e){return arguments.length?(r=e,i):r},i.context=function(e){return arguments.length?(a=null==e?null:e,i):a},i}var H=t(25389),S=t.n(H),L=t(88692),G=t(30042);function W(){return W=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},W.apply(this,arguments)}var I=(0,n.memo)((function(e){var r=e.arc;return React.createElement(u._5,{id:r.label,value:r.formattedValue,color:r.color,enableChip:!0})}));I.displayName="ChordArcTooltip";var F=(0,n.memo)((function(e){var r=e.ribbon,t=(0,o.Fg)();return React.createElement(u.zI,{theme:t,rows:[[React.createElement(u.Af,{key:"chip",color:r.source.color}),React.createElement("strong",{key:"id"},r.source.label),r.source.formattedValue],[React.createElement(u.Af,{key:"chip",color:r.target.color}),React.createElement("strong",{key:"id"},r.target.label),r.target.formattedValue]]})}));F.displayName="ChordRibbonTooltip";var V={keys:c().arrayOf(c().string).isRequired,matrix:c().arrayOf(c().arrayOf(c().number)).isRequired,valueFormat:c().oneOfType([c().func,c().string]),padAngle:c().number.isRequired,innerRadiusRatio:c().number.isRequired,innerRadiusOffset:c().number.isRequired,layers:c().arrayOf(c().oneOfType([c().oneOf(["ribbons","arcs","labels","legends"]),c().func])).isRequired,arcOpacity:c().number.isRequired,arcHoverOpacity:c().number.isRequired,arcHoverOthersOpacity:c().number.isRequired,arcBorderWidth:c().number.isRequired,arcBorderColor:a.UO.isRequired,onArcMouseEnter:c().func,onArcMouseMove:c().func,onArcMouseLeave:c().func,onArcClick:c().func,arcTooltip:c().oneOfType([c().func,c().object]).isRequired,ribbonOpacity:c().number.isRequired,ribbonHoverOpacity:c().number.isRequired,ribbonHoverOthersOpacity:c().number.isRequired,ribbonBorderWidth:c().number.isRequired,ribbonBorderColor:a.UO.isRequired,ribbonBlendMode:o.wM.isRequired,onRibbonMouseEnter:c().func,onRibbonMouseMove:c().func,onRibbonMouseLeave:c().func,onRibbonClick:c().func,ribbonTooltip:c().oneOfType([c().func,c().object]).isRequired,enableLabel:c().bool.isRequired,label:c().oneOfType([c().string,c().func]).isRequired,labelOffset:c().number.isRequired,labelRotation:c().number.isRequired,labelTextColor:a.UO.isRequired,colors:a.qi.isRequired,isInteractive:c().bool.isRequired,legends:c().arrayOf(c().shape(i.iQ)).isRequired},P=(W({},V,o.w$,{role:c().string.isRequired}),W({pixelRatio:c().number.isRequired},V),{padAngle:0,innerRadiusRatio:.9,innerRadiusOffset:0,layers:["ribbons","arcs","labels","legends"],arcOpacity:1,arcHoverOpacity:1,arcHoverOthersOpacity:.15,arcBorderWidth:1,arcBorderColor:{from:"color",modifiers:[["darker",.4]]},arcTooltip:I,ribbonOpacity:.5,ribbonHoverOpacity:.85,ribbonHoverOthersOpacity:.15,ribbonBorderWidth:1,ribbonBorderColor:{from:"color",modifiers:[["darker",.4]]},ribbonBlendMode:"normal",ribbonTooltip:F,enableLabel:!0,label:"id",labelOffset:12,labelRotation:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},colors:{scheme:"nivo"},legends:[],isInteractive:!0}),N=W({},P,{animate:!0,motionStiffness:90,motionDamping:15,role:"img"}),j=W({},P,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),_=function(e){var r=e.padAngle;return function(){var e=0,r=null,t=null,n=null;function o(o){var a,i,l,c,u,s,d=o.length,b=[],f=p(d),g=[],v=[],h=v.groups=new Array(d),m=new Array(d*d);for(a=0,u=-1;++u<d;){for(i=0,s=-1;++s<d;)i+=o[u][s];b.push(i),g.push(p(d)),a+=i}for(r&&f.sort((function(e,t){return r(b[e],b[t])})),t&&g.forEach((function(e,r){e.sort((function(e,n){return t(o[r][e],o[r][n])}))})),c=(a=A(0,R-e*d)/a)?e:R/d,i=0,u=-1;++u<d;){for(l=i,s=-1;++s<d;){var y=f[u],M=g[y][s],O=o[y][M],E=i,C=i+=O*a;m[M*d+y]={index:y,subindex:M,startAngle:E,endAngle:C,value:O}}h[y]={index:y,startAngle:l,endAngle:i,value:b[y]},i+=c}for(u=-1;++u<d;)for(s=u-1;++s<d;){var k=m[s*d+u],x=m[u*d+s];(k.value||x.value)&&v.push(k.value<x.value?{source:x,target:k}:{source:k,target:x})}return n?v.sort(n):v}return o.padAngle=function(r){return arguments.length?(e=A(0,r),o):e},o.sortGroups=function(e){return arguments.length?(r=e,o):r},o.sortSubgroups=function(e){return arguments.length?(t=e,o):t},o.sortChords=function(e){return arguments.length?(null==e?n=null:(n=M(e))._=e,o):n&&n._},o}().padAngle(r)},$=function(e){var r=e.width,t=e.height,o=e.innerRadiusRatio,a=e.innerRadiusOffset;return(0,n.useMemo)((function(){return function(e){var r=e.width,t=e.height,n=e.innerRadiusRatio,o=e.innerRadiusOffset,a=[r/2,t/2],i=Math.min(r,t)/2,l=i*n,c=i*(n-o);return{center:a,radius:i,innerRadius:l,arcGenerator:(0,s.Z)().outerRadius(i).innerRadius(l),ribbonGenerator:q().radius(c)}}({width:r,height:t,innerRadiusRatio:o,innerRadiusOffset:a})}),[r,t,o,a])},U=function(e){var r=e.keys,t=e.matrix,i=e.label,l=e.valueFormat,c=e.width,u=e.height,s=e.innerRadiusRatio,d=e.innerRadiusOffset,b=e.padAngle,f=e.colors,g=function(e){var r=e.padAngle;return(0,n.useMemo)((function(){return _({padAngle:r})}),[r])}({padAngle:b}),p=$({width:c,height:u,innerRadiusRatio:s,innerRadiusOffset:d}),v=p.center,h=p.radius,m=p.innerRadius,y=p.arcGenerator,R=p.ribbonGenerator,A=(0,n.useMemo)((function(){return(0,o.ji)(i)}),[i]),M=(0,o.O_)(l),O=(0,a.U)(f,"id"),E=function(e){var r=e.chord,t=e.getColor,o=e.keys,a=e.matrix,i=e.getLabel,l=e.formatValue;return(0,n.useMemo)((function(){return function(e){var r=e.chord,t=e.getColor,n=e.keys,o=e.matrix,a=e.getLabel,i=e.formatValue,l=r(o),c=l.groups.map((function(e){return e.id=n[e.index],e.color=t(e),e.formattedValue=i(e.value),e.label=a(e),e}));return l.forEach((function(e){e.source.id=n[e.source.index],e.source.color=t(e.source),e.source.formattedValue=i(e.source.value),e.source.label=a(e.source),e.target.id=n[e.target.index],e.target.color=t(e.target),e.target.formattedValue=i(e.target.value),e.target.label=a(e.target),e.id=[e.source.id,e.target.id].sort().join(".")})),{arcs:c,ribbons:l}}({chord:r,getColor:t,keys:o,matrix:a,getLabel:i,formatValue:l})}),[r,t,o,a,i,l])}({chord:g,getColor:O,keys:r,matrix:t,getLabel:A,formatValue:M});return{center:v,chord:g,radius:h,innerRadius:m,arcGenerator:y,ribbonGenerator:R,getColor:O,arcs:E.arcs,ribbons:E.ribbons}},z=function(e){var r=e.arcs,t=e.arcOpacity,o=e.arcHoverOpacity,a=e.arcHoverOthersOpacity,i=e.ribbons,l=e.ribbonOpacity,c=e.ribbonHoverOpacity,u=e.ribbonHoverOthersOpacity,s=(0,n.useState)(null),d=s[0],b=s[1],f=(0,n.useState)(null),g=f[0],p=f[1],v=(0,n.useMemo)((function(){var e=[],r=[];return d&&(e.push(d.id),i.filter((function(e){return e.source.id===d.id||e.target.id===d.id})).forEach((function(e){r.push(e.id)}))),g&&(e.push(g.source.id),e.push(g.target.id),r.push(g.id)),{selectedArcIds:e,selectedRibbonIds:r}}),[d,g,r,i]),h=v.selectedArcIds.length>1||v.selectedRibbonIds.length>0,m=(0,n.useMemo)((function(){return function(e){return h?v.selectedArcIds.includes(e.id)?o:a:t}}),[v.selectedArcIds,t,o,a]),y=(0,n.useMemo)((function(){return function(e){return h?v.selectedRibbonIds.includes(e.id)?c:u:l}}),[v.selectedRibbonIds,l,c,u]);return W({currentArc:d,setCurrentArc:b,currentRibbon:g,setCurrentRibbon:p,hasSelection:h},v,{getArcOpacity:m,getRibbonOpacity:y})},Z=function(e){var r=e.center,t=e.radius,o=e.arcs,a=e.arcGenerator,i=e.ribbons,l=e.ribbonGenerator;return(0,n.useMemo)((function(){return{center:r,radius:t,arcs:o,arcGenerator:a,ribbons:i,ribbonGenerator:l}}),[r,t,o,a,i,l])},D=(0,n.memo)((function(e){var r=e.ribbon,t=e.ribbonGenerator,o=e.sourceStartAngle,a=e.sourceEndAngle,i=e.targetStartAngle,l=e.targetEndAngle,c=e.color,s=e.opacity,d=e.borderWidth,b=e.getBorderColor,f=e.blendMode,g=e.isInteractive,p=e.setCurrent,v=e.onMouseEnter,h=e.onMouseMove,m=e.onMouseLeave,y=e.onClick,R=e.tooltip,A=(0,u.lL)(),M=A.showTooltipFromEvent,O=A.hideTooltip,E=(0,n.useMemo)((function(){if(g)return function(e){p(r),M((0,n.createElement)(R,{ribbon:r}),e),v&&v(r,e)}}),[g,M,R,r,v]),C=(0,n.useMemo)((function(){if(g)return function(e){M((0,n.createElement)(R,{ribbon:r}),e),h&&h(r,e)}}),[g,M,R,r,h]),k=(0,n.useMemo)((function(){if(g)return function(e){p(null),O(),m&&m(r,e)}}),[g,O,r,m]),x=(0,n.useMemo)((function(){if(g&&y)return function(e){return y(r,e)}}),[g,r,y]);return React.createElement("path",{d:t({source:{startAngle:o,endAngle:a},target:{startAngle:i,endAngle:l}}),fill:c,fillOpacity:s,strokeWidth:d,stroke:b(W({},r,{color:c})),strokeOpacity:s,style:{mixBlendMode:f},onMouseEnter:E,onMouseMove:C,onMouseLeave:k,onClick:x})}));D.displayName="ChordRibbon";var J=function(e,r,t){var n,a,i,l=e.source,c=e.target;if(l.startAngle<c.startAngle?(n=l,a=c):(n=c,a=l),!0===r){var u=(0,o.Vp)(n),s=(0,o.Vp)(a);i={sourceStartAngle:u,sourceEndAngle:u,targetStartAngle:s,targetEndAngle:s}}else i={sourceStartAngle:n.startAngle,sourceEndAngle:n.endAngle,targetStartAngle:a.startAngle,targetEndAngle:a.endAngle};return t?S()(i,(function(e){return(0,L.ST)(e,t)})):i},Q=function(e){var r=e.data;return W({},J(r,!0),{opacity:0},(0,a.BM)(r.source.color))},Y=function(e){return function(r){var t=r.data;return W({},J(t,!0,e),{opacity:0},(0,a.BM)(t.source.color,e))}},K=(0,n.memo)((function(e){var r=e.ribbons,t=e.ribbonGenerator,n=e.borderWidth,i=e.getBorderColor,l=e.getOpacity,c=e.blendMode,u=e.isInteractive,s=e.setCurrent,d=e.onMouseEnter,b=e.onMouseMove,f=e.onMouseLeave,g=e.onClick,p=e.tooltip,v=(0,o.tf)(),h=v.animate,m=v.springConfig;if(!0!==h)return React.createElement("g",null,r.map((function(e){return React.createElement(D,{key:e.id,ribbon:e,ribbonGenerator:t,sourceStartAngle:e.source.startAngle,sourceEndAngle:e.source.endAngle,targetStartAngle:e.target.startAngle,targetEndAngle:e.target.endAngle,color:e.source.color,blendMode:c,opacity:l(e),borderWidth:n,getBorderColor:i,isInteractive:u,setCurrent:s,onMouseEnter:d,onMouseMove:b,onMouseLeave:f,onClick:g,tooltip:p})})));var y=W({},m,{precision:.001});return React.createElement(L.bg,{willEnter:Q,willLeave:Y(y),styles:r.map((function(e){return{key:e.id,data:e,style:W({},J(e,!1,y),{opacity:(0,L.ST)(l(e),y)},(0,a.BM)(e.source.color,y))}}))},(function(e){return React.createElement(React.Fragment,null,e.map((function(e){var r=e.key,o=e.style,l=e.data,v=(0,a.Tf)(o);return React.createElement(D,{key:r,ribbon:l,ribbonGenerator:t,sourceStartAngle:o.sourceStartAngle,sourceEndAngle:Math.max(o.sourceEndAngle,o.sourceStartAngle),targetStartAngle:o.targetStartAngle,targetEndAngle:Math.max(o.targetEndAngle,o.targetStartAngle),color:v,blendMode:c,opacity:o.opacity,borderWidth:n,getBorderColor:i,isInteractive:u,setCurrent:s,onMouseEnter:d,onMouseMove:b,onMouseLeave:f,onClick:g,tooltip:p})})))}))}));K.displayName="ChordRibbons";var X=(0,n.memo)((function(e){var r=e.arc,t=e.startAngle,o=e.endAngle,a=e.borderWidth,i=e.getBorderColor,l=e.opacity,c=e.arcGenerator,s=e.setCurrent,d=e.isInteractive,b=e.onMouseEnter,f=e.onMouseMove,g=e.onMouseLeave,p=e.onClick,v=e.tooltip,h=(0,u.lL)(),m=h.showTooltipFromEvent,y=h.hideTooltip,R=(0,n.useMemo)((function(){if(d)return function(e){s(r),m((0,n.createElement)(v,{arc:r}),e),b&&b(r,e)}}),[d,m,v,r,b]),A=(0,n.useMemo)((function(){if(d)return function(e){m((0,n.createElement)(v,{arc:r}),e),f&&f(r,e)}}),[d,m,v,r,f]),M=(0,n.useMemo)((function(){if(d)return function(e){s(null),y(),g&&g(r,e)}}),[d,y,r,g]),O=(0,n.useMemo)((function(){if(d&&p)return function(e){return p(r,e)}}),[d,r,p]);return React.createElement("path",{d:c({startAngle:t,endAngle:o}),fill:r.color,fillOpacity:l,strokeWidth:a,stroke:i(r),strokeOpacity:l,onMouseEnter:R,onMouseMove:A,onMouseLeave:M,onClick:O})}));X.displayName="ChordArc";var ee=(0,n.memo)((function(e){var r=e.arcs,t=e.borderWidth,n=e.getBorderColor,i=e.getOpacity,l=e.arcGenerator,c=e.setCurrent,u=e.isInteractive,s=e.onMouseEnter,d=e.onMouseMove,b=e.onMouseLeave,f=e.onClick,g=e.tooltip,p=(0,o.tf)(),v=p.animate,h=p.springConfig;if(!0!==v)return r.map((function(e){return React.createElement(X,{key:e.id,arc:e,arcGenerator:l,startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:i(e),borderWidth:t,getBorderColor:n,getOpacity:i,isInteractive:u,setCurrent:c,onMouseEnter:s,onMouseMove:d,onMouseLeave:b,onClick:f,tooltip:g})}));var m=W({},h,{precision:.001});return React.createElement(L.bg,{styles:r.map((function(e){return{key:e.id,data:e,style:W({startAngle:(0,L.ST)(e.startAngle,m),endAngle:(0,L.ST)(e.endAngle,m),opacity:(0,L.ST)(i(e),m)},(0,a.BM)(e.color,m))}}))},(function(e){return React.createElement(React.Fragment,null,e.map((function(e){var r=e.key,o=e.style,p=e.data,v=(0,a.Tf)(o);return React.createElement(X,{key:r,arc:p,arcGenerator:l,startAngle:o.startAngle,endAngle:o.endAngle,color:v,opacity:o.opacity,borderWidth:t,getBorderColor:n,getOpacity:i,isInteractive:u,setCurrent:c,onMouseEnter:s,onMouseMove:d,onMouseLeave:b,onClick:f,tooltip:g})})))}))}));ee.displayName="ChordArcs";var re=function(e){var r=e.arcs,t=e.radius,n=e.rotation,a=e.getColor,i=(0,o.Fg)(),l=(0,o.tf)(),c=l.animate,u=l.springConfig;return!0!==c?React.createElement(React.Fragment,null,r.map((function(e){var r=a(e,i),l=(0,o.Vp)(e),c=(0,o.$t)(t,l,n);return React.createElement("text",{key:e.id,transform:"translate("+c.x+", "+c.y+") rotate("+c.rotate+")",style:W({},i.labels.text,{pointerEvents:"none",fill:r}),textAnchor:c.align,dominantBaseline:c.baseline},e.label)}))):React.createElement(L.bg,{styles:r.map((function(e){var r=(0,o.Vp)(e);return{key:e.id,data:e,style:{angle:(0,L.ST)(r,u)}}}))},(function(e){return React.createElement(React.Fragment,null,e.map((function(e){var r=e.key,l=e.style,c=e.data,u=a(c,i),s=(0,o.$t)(t,l.angle,n);return React.createElement("text",{key:r,transform:"translate("+s.x+", "+s.y+") rotate("+s.rotate+")",style:W({},i.labels.text,{pointerEvents:"none",fill:u}),textAnchor:s.align,dominantBaseline:s.baseline},c.label)})))}))},te=function(e){var r=e.margin,t=e.width,l=e.height,c=e.keys,u=e.matrix,s=e.label,d=e.valueFormat,b=e.innerRadiusRatio,f=e.innerRadiusOffset,g=e.padAngle,p=e.layers,v=e.colors,h=e.arcBorderWidth,m=e.arcBorderColor,y=e.arcOpacity,R=e.arcHoverOpacity,A=e.arcHoverOthersOpacity,M=e.arcTooltip,O=e.ribbonBorderWidth,E=e.ribbonBorderColor,C=e.ribbonBlendMode,k=e.ribbonOpacity,x=e.ribbonHoverOpacity,B=e.ribbonHoverOthersOpacity,w=e.ribbonTooltip,T=e.enableLabel,q=e.labelOffset,H=e.labelRotation,S=e.labelTextColor,L=e.isInteractive,G=e.onArcMouseEnter,I=e.onArcMouseMove,F=e.onArcMouseLeave,V=e.onArcClick,P=e.onRibbonMouseEnter,N=e.onRibbonMouseMove,j=e.onRibbonMouseLeave,_=e.onRibbonClick,$=e.legends,D=e.role,J=(0,o.Bs)(t,l,r),Q=J.margin,Y=J.innerWidth,X=J.innerHeight,te=J.outerWidth,ne=J.outerHeight,oe=U({keys:c,matrix:u,label:s,valueFormat:d,width:Y,height:X,innerRadiusRatio:b,innerRadiusOffset:f,padAngle:g,colors:v}),ae=oe.center,ie=oe.radius,le=oe.arcGenerator,ce=oe.ribbonGenerator,ue=oe.arcs,se=oe.ribbons,de=z({arcs:ue,arcOpacity:y,arcHoverOpacity:R,arcHoverOthersOpacity:A,ribbons:se,ribbonOpacity:k,ribbonHoverOpacity:x,ribbonHoverOthersOpacity:B}),be=de.setCurrentArc,fe=de.setCurrentRibbon,ge=de.getArcOpacity,pe=de.getRibbonOpacity,ve=(0,o.Fg)(),he=(0,a.Bf)(S,ve),me=(0,a.Bf)(m,ve),ye=(0,a.Bf)(E,ve),Re=Z({center:ae,radius:ie,arcs:ue,arcGenerator:le,ribbons:se,ribbonGenerator:ce});if(ie<=0)return null;var Ae=ue.map((function(e){return{id:e.id,label:e.label,color:e.color}})),Me={ribbons:React.createElement("g",{key:"ribbons",transform:"translate("+ae[0]+", "+ae[1]+")"},React.createElement(K,{ribbons:se,ribbonGenerator:ce,borderWidth:O,getBorderColor:ye,getOpacity:pe,blendMode:C,setCurrent:fe,isInteractive:L,onMouseEnter:P,onMouseMove:N,onMouseLeave:j,onClick:_,tooltip:w})),arcs:React.createElement("g",{key:"arcs",transform:"translate("+ae[0]+", "+ae[1]+")"},React.createElement(ee,{arcs:ue,arcGenerator:le,borderWidth:h,getBorderColor:me,getOpacity:ge,setCurrent:be,isInteractive:L,onMouseEnter:G,onMouseMove:I,onMouseLeave:F,onClick:V,tooltip:M})),labels:null,legends:React.createElement(n.Fragment,{key:"legends"},$.map((function(e,r){return React.createElement(i.$6,W({key:r},e,{containerWidth:Y,containerHeight:X,data:Ae,theme:ve}))})))};return!0===T&&(Me.labels=React.createElement("g",{key:"labels",transform:"translate("+ae[0]+", "+ae[1]+")"},React.createElement(re,{arcs:ue,radius:ie+q,rotation:H,getColor:he}))),React.createElement(o.tM,{width:te,height:ne,margin:Q,theme:ve,role:D},p.map((function(e,r){return void 0!==Me[e]?Me[e]:"function"==typeof e?React.createElement(n.Fragment,{key:r},e(Re)):null})))};te.defaultProps=N;var ne=(0,o.li)(te),oe=function(e){var r=e.event,t=e.canvasEl,n=e.center,a=e.margin,i=e.radius,l=e.innerRadius,c=e.arcs,u=(0,o.P6)(t,r),s=u[0],d=u[1],b=a.left+n[0],f=a.top+n[1];return(0,G.oO)(b,f,i,l,c,s,d)},ae=(0,n.memo)((function(e){var r=e.pixelRatio,t=e.margin,l=e.width,c=e.height,s=e.keys,d=e.matrix,b=e.label,f=e.valueFormat,g=e.innerRadiusRatio,p=e.innerRadiusOffset,v=e.padAngle,h=e.layers,m=e.colors,y=e.arcBorderWidth,R=e.arcBorderColor,A=e.arcOpacity,M=e.arcHoverOpacity,O=e.arcHoverOthersOpacity,E=e.arcTooltip,C=e.ribbonBorderWidth,k=e.ribbonBorderColor,x=e.ribbonOpacity,B=e.ribbonHoverOpacity,w=e.ribbonHoverOthersOpacity,T=e.enableLabel,q=e.labelOffset,H=e.labelRotation,S=e.labelTextColor,L=e.isInteractive,G=e.onArcMouseEnter,I=e.onArcMouseMove,F=e.onArcMouseLeave,V=e.onArcClick,P=e.legends,N=(0,n.useRef)(null),j=(0,o.Bs)(l,c,t),_=j.innerWidth,$=j.innerHeight,D=j.outerWidth,J=j.outerHeight,Q=j.margin,Y=U({keys:s,matrix:d,label:b,valueFormat:f,width:_,height:$,innerRadiusRatio:g,innerRadiusOffset:p,padAngle:v,colors:m}),K=Y.center,X=Y.radius,ee=Y.innerRadius,re=Y.arcGenerator,te=Y.ribbonGenerator,ne=Y.arcs,ae=Y.ribbons,ie=z({arcs:ne,arcOpacity:A,arcHoverOpacity:M,arcHoverOthersOpacity:O,ribbons:ae,ribbonOpacity:x,ribbonHoverOpacity:B,ribbonHoverOthersOpacity:w}),le=ie.currentArc,ce=ie.setCurrentArc,ue=ie.getArcOpacity,se=ie.getRibbonOpacity,de=(0,o.Fg)(),be=(0,a.Bf)(S,de),fe=(0,a.Bf)(R,de),ge=(0,a.Bf)(k,de),pe=Z({center:K,radius:X,arcs:ne,arcGenerator:re,ribbons:ae,ribbonGenerator:te});(0,n.useEffect)((function(){N.current.width=D*r,N.current.height=J*r;var e=N.current.getContext("2d");e.scale(r,r),e.fillStyle=de.background,e.fillRect(0,0,D,J),X<=0||h.forEach((function(r){if("ribbons"===r&&(e.save(),e.translate(Q.left+K[0],Q.top+K[1]),te.context(e),ae.forEach((function(r){e.save(),e.globalAlpha=se(r),e.fillStyle=r.source.color,e.beginPath(),te(r),e.fill(),C>0&&(e.strokeStyle=ge(W({},r,{color:r.source.color})),e.lineWidth=C,e.stroke()),e.restore()})),e.restore()),"arcs"===r&&(e.save(),e.translate(Q.left+K[0],Q.top+K[1]),re.context(e),ne.forEach((function(r){e.save(),e.globalAlpha=ue(r),e.fillStyle=r.color,e.beginPath(),re(r),e.fill(),y>0&&(e.strokeStyle=fe(r),e.lineWidth=y,e.stroke()),e.restore()})),e.restore()),"labels"===r&&!0===T&&(e.save(),e.translate(Q.left+K[0],Q.top+K[1]),e.font=de.labels.text.fontSize+"px "+(de.labels.text.fontFamily||"sans-serif"),ne.forEach((function(r){var t=(0,o.Vp)(r),n=(0,o.$t)(X+q,t,H);e.save(),e.translate(n.x,n.y),e.rotate((0,o.Ht)(n.rotate)),e.textAlign=n.align,e.textBaseline=n.baseline,e.fillStyle=be(r,de),e.fillText(r.label,0,0),e.restore()})),e.restore()),"legends"===r){e.save(),e.translate(Q.left,Q.top);var t=ne.map((function(e){return{id:e.id,label:e.label,color:e.color}}));P.forEach((function(r){(0,i.as)(e,W({},r,{data:t,containerWidth:_,containerHeight:$,theme:de}))})),e.restore()}"function"==typeof r&&r(e,pe)}))}),[N,_,$,D,J,Q,r,de,h,ne,re,ue,y,fe,ae,te,se,C,ge,T,q,H,be,P,pe]);var ve=(0,u.lL)(),he=ve.showTooltipFromEvent,me=ve.hideTooltip,ye=(0,n.useCallback)((function(e){var r=oe({event:e,canvasEl:N.current,center:K,margin:Q,radius:X,innerRadius:ee,arcs:ne});r?(ce(r),he((0,n.createElement)(E,{arc:r}),e),!le&&G&&G(r,e),I&&I(r,e),le&&le.id!==r.id&&F&&F(r,e)):(ce(null),me(),le&&F&&F(le,e))}),[N,K,Q,X,ee,ne,ce,he,me,G,I,F]),Re=(0,n.useCallback)((function(){ce(null),me()}),[ce,me]),Ae=(0,n.useCallback)((function(e){if(V){var r=oe({event:e,canvasEl:N.current,center:K,margin:Q,radius:X,innerRadius:ee,arcs:ne});r&&V(r,e)}}),[N,K,Q,X,ee,ne,V]);return React.createElement("canvas",{ref:N,width:D*r,height:J*r,style:{width:D,height:J,cursor:L?"auto":"normal"},onMouseEnter:L?ye:void 0,onMouseMove:L?ye:void 0,onMouseLeave:L?Re:void 0,onClick:L?Ae:void 0})}));ae.defaultProps=j;var ie=(0,o.li)(ae),le=function(e){return React.createElement(o.d,null,(function(r){var t=r.width,n=r.height;return React.createElement(ne,W({width:t,height:n},e))}))},ce=function(e){return React.createElement(o.d,null,(function(r){var t=r.width,n=r.height;return React.createElement(ie,W({width:t,height:n},e))}))}},25389:function(e,r,t){var n=t(88799),o=t(26194),a=t(89278);e.exports=function(e,r){var t={};return r=a(r,3),o(e,(function(e,o,a){n(t,o,r(e,o,a))})),t}}}]);
//# sourceMappingURL=1f68b3e64516d3ade5b605ae0c7db3cedc68dc17-f69c0dd1f0eb79cff7b2.js.map