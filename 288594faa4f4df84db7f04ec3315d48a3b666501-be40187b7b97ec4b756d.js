(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{NNTJ:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return L})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return V})),r.d(t,"d",(function(){return I}));r("UKgA");var o=r("mXGw"),a=r.n(o),l=r("5QYd"),n=r("ySTC"),i=r("56Mt"),c=r("W0B4"),u=r.n(c),d=r("llhf"),s=r("wbYc"),f=r("FBQe"),b=r("w0VL");function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}m(m({},{data:u.a.arrayOf(u.a.object).isRequired,indexBy:u.a.oneOfType([u.a.string,u.a.func]).isRequired,keys:u.a.arrayOf(u.a.string).isRequired,minValue:u.a.oneOfType([u.a.oneOf(["auto"]),u.a.number]).isRequired,maxValue:u.a.oneOfType([u.a.oneOf(["auto"]),u.a.number]).isRequired,forceSquare:u.a.bool.isRequired,sizeVariation:u.a.number.isRequired,padding:u.a.number.isRequired,cellShape:u.a.oneOfType([u.a.oneOf(["rect","circle"]),u.a.func]).isRequired,cellOpacity:u.a.number.isRequired,cellBorderWidth:u.a.number.isRequired,cellBorderColor:d.k.isRequired,axisTop:n.d,axisRight:n.d,axisBottom:n.d,axisLeft:n.d,enableGridX:u.a.bool.isRequired,enableGridY:u.a.bool.isRequired,enableLabels:u.a.bool.isRequired,labelTextColor:d.k.isRequired,colors:l.ab.isRequired,nanColor:u.a.string,isInteractive:u.a.bool,onClick:u.a.func.isRequired,hoverTarget:u.a.oneOf(["cell","row","column","rowColumn"]).isRequired,cellHoverOpacity:u.a.number.isRequired,cellHoverOthersOpacity:u.a.number.isRequired,tooltipFormat:u.a.oneOfType([u.a.func,u.a.string]),tooltip:u.a.func,pixelRatio:u.a.number.isRequired}),{},{role:u.a.string.isRequired});var p={indexBy:"id",minValue:"auto",maxValue:"auto",forceSquare:!1,sizeVariation:0,padding:0,cellShape:"rect",cellOpacity:.85,cellBorderWidth:0,cellBorderColor:{from:"color"},axisTop:{},axisLeft:{},enableGridX:!1,enableGridY:!1,enableLabels:!0,labelTextColor:{from:"color",modifiers:[["darker",1.4]]},colors:"nivo",nanColor:"#000000",isInteractive:!0,onClick:l.V,hoverTarget:"rowColumn",cellHoverOpacity:1,cellHoverOthersOpacity:.35,pixelRatio:e.window&&e.window.devicePixelRatio?e.window.devicePixelRatio:1},O=m(m({},p),{},{role:"img"});function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function g(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function x(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,a=!1,l=void 0;try{for(var n,i=e[Symbol.iterator]();!(o=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);o=!0);}catch(c){a=!0,l=c}finally{try{o||null==i.return||i.return()}finally{if(a)throw l}}return r}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j={cell:function(e,t){return e.xKey===t.xKey&&e.yKey===t.yKey},row:function(e,t){return e.yKey===t.yKey},column:function(e,t){return e.xKey===t.xKey},rowColumn:function(e,t){return e.xKey===t.xKey||e.yKey===t.yKey}},w=function(e){var t=e.data,r=e.keys,a=e.indexBy,n=e.minValue,i=void 0===n?"auto":n,c=e.maxValue,u=void 0===c?"auto":c,f=e.width,b=e.height,h=e.padding,y=e.forceSquare,p=e.sizeVariation,O=e.colors,v=e.nanColor,g=e.cellOpacity,w=e.cellBorderColor,S=e.labelTextColor,T=e.hoverTarget,k=e.cellHoverOpacity,M=e.cellHoverOthersOpacity,R=C(Object(o.useState)(null),2),E=R[0],B=R[1],L=Object(o.useMemo)((function(){return Object(l.H)(a)}),[a]),q=Object(o.useMemo)((function(){return t.map(L)}),[t,L]),H=Object(o.useMemo)((function(){var e=r.length,o=t.length,a=Math.max((f-h*(e+1))/e,0),l=Math.max((b-h*(o+1))/o,0),n=0,i=0;if(!0===y){var c=Math.min(a,l);n=(f-(((a=c)+h)*e+h))/2,i=(b-(((l=c)+h)*o+h))/2}return{cellWidth:a,cellHeight:l,offsetX:n,offsetY:i}}),[t,r,f,b,h,y]),W=Object(o.useMemo)((function(){return{x:Object(s.d)(r.map((function(e,t){return function(e,t,r){return e*t+.5*t+r*e+r}(t,H.cellWidth,h)}))).domain(r),y:Object(s.d)(q.map((function(e,t){return function(e,t,r){return e*t+.5*t+r*e+r}(t,H.cellHeight,h)}))).domain(q)}}),[q,r,H,h]),V=Object(o.useMemo)((function(){var e=i,o=u;if("auto"===e||"auto"===o){var a=t.reduce((function(e,t){return e.concat(r.map((function(e){return t[e]})))}),[]);"auto"===e&&(e=Math.min.apply(Math,x(a))),"auto"===o&&(o=Math.max.apply(Math,x(a)))}return{min:Math.min(e,o),max:Math.max(o,e)}}),[t,r,i,u]),I=Object(o.useMemo)((function(){if(p>0)return Object(s.b)().range([1-p,1]).domain([V.min,V.max])}),[p,V]),K=Object(o.useMemo)((function(){return Object(l.N)(O).domain([V.min,V.max])}),[O,V]),A=Object(l.sb)(),P=Object(d.r)(w,A),z=Object(d.r)(S,A),F=Object(o.useMemo)((function(){return function(e){var t=e.data,r=e.keys,o=e.getIndex,a=e.xScale,l=e.yScale,n=e.sizeScale,i=e.cellOpacity,c=e.cellWidth,u=e.cellHeight,d=e.colorScale,s=e.nanColor,f=e.getLabelTextColor,b=[];return t.forEach((function(e){r.forEach((function(t){var r=e[t],h=o(e),y=n?n(r):1,m=y*c,p=y*u,O={id:"".concat(t,".").concat(h),xKey:t,yKey:h,x:a(t),y:l(h),width:m,height:p,value:r,color:isNaN(r)?s:d(r),opacity:i};O.labelTextColor=f(O),b.push(O)}))})),b}({data:t,keys:r,getIndex:L,xScale:W.x,yScale:W.y,sizeScale:I,cellOpacity:g,cellWidth:H.cellWidth,cellHeight:H.cellHeight,colorScale:K,nanColor:v,getLabelTextColor:z})}),[t,r,L,W,I,g,H,K,v,z]),Y=Object(o.useMemo)((function(){if(null===E)return F;var e=j[T],t=F.find((function(e){return e.id===E}));return F.map((function(r){var o=e(r,t)?k:M;return o===r.opacity?r:m(m({},r),{},{opacity:o})}))}),[F,E,T,k,M]);return m(m({cells:Y,getIndex:L,xScale:W.x,yScale:W.y},H),{},{sizeScale:I,setCurrentCellId:B,colorScale:K,getCellBorderColor:P,getLabelTextColor:z})},S=function(e){var t=e.cells,r=e.cellComponent,o=e.cellBorderWidth,l=e.getCellBorderColor,n=e.enableLabels,i=e.getLabelTextColor,c=e.handleCellHover,u=e.handleCellLeave,d=e.onClick;return t.map((function(e){return a.a.createElement(r,{key:e.id,data:e,value:e.value,x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,opacity:e.opacity,borderWidth:o,borderColor:l(e),enableLabel:n,textColor:i(e),onHover:c?function(t){return c(e,t)}:void 0,onLeave:u,onClick:d})}))},T=function(e){var t=e.data,r=e.value,o=e.x,n=e.y,i=e.width,c=e.height,u=e.color,d=e.opacity,s=e.borderWidth,h=e.borderColor,y=e.enableLabel,p=e.textColor,O=e.onHover,v=e.onLeave,g=e.onClick,x=Object(l.sb)(),C=Object(l.rb)(),j=C.animate,w=C.config,S=Object(f.useSpring)({transform:"translate(".concat(o,", ").concat(n,")"),width:i,height:c,xOffset:-.5*i,yOffset:-.5*c,color:u,opacity:d,textColor:p,borderWidth:s,borderColor:h,config:w,immediate:!j});return a.a.createElement(b.animated.g,{transform:S.transform,style:{cursor:"pointer"},onMouseEnter:O,onMouseMove:O,onMouseLeave:v,onClick:g?function(e){return g(t,e)}:void 0},a.a.createElement(b.animated.rect,{x:S.xOffset,y:S.yOffset,width:S.width,height:S.height,fill:S.color,fillOpacity:S.opacity,strokeWidth:S.borderWidth,stroke:S.borderColor,strokeOpacity:S.opacity}),y&&a.a.createElement(b.animated.text,{dominantBaseline:"central",textAnchor:"middle",style:m(m({},x.labels.text),{},{fill:S.textColor}),fillOpacity:S.opacity},r))},k=Object(o.memo)(T),M=function(e){var t=e.data,r=e.value,o=e.x,n=e.y,i=e.width,c=e.height,u=e.color,d=e.opacity,s=e.borderWidth,h=e.borderColor,y=e.enableLabel,p=e.textColor,O=e.onHover,v=e.onLeave,g=e.onClick,x=Object(l.sb)(),C=Object(l.rb)(),j=C.animate,w=C.config,S=Object(f.useSpring)({transform:"translate(".concat(o,", ").concat(n,")"),radius:Math.min(i,c)/2,color:u,opacity:d,textColor:p,borderWidth:s,borderColor:h,config:w,immediate:!j});return a.a.createElement(b.animated.g,{transform:S.transform,style:{cursor:"pointer"},onMouseEnter:O,onMouseMove:O,onMouseLeave:v,onClick:g?function(e){return g(t,e)}:void 0},a.a.createElement(b.animated.circle,{r:S.radius,fill:S.color,fillOpacity:S.opacity,strokeWidth:S.borderWidth,stroke:S.borderColor,strokeOpacity:S.opacity}),y&&a.a.createElement(b.animated.text,{dominantBaseline:"central",textAnchor:"middle",style:m(m({},x.labels.text),{},{fill:S.textColor}),fillOpacity:S.opacity},r))},R=Object(o.memo)(M),E=function(e){var t=e.cell,r=e.format,o=e.tooltip;return a.a.createElement(i.a,{id:"".concat(t.yKey," - ").concat(t.xKey),value:t.value,enableChip:!0,color:t.color,format:r,renderContent:"function"==typeof o?o.bind(null,m({},t)):null})},B=Object(o.memo)(E),L=Object(l.ub)((function(e){var t,r=e.data,c=e.keys,u=e.indexBy,d=e.minValue,s=e.maxValue,f=e.width,b=e.height,h=e.margin,y=e.forceSquare,m=e.padding,p=e.sizeVariation,O=e.cellShape,v=e.cellOpacity,g=e.cellBorderWidth,x=e.cellBorderColor,C=e.axisTop,j=e.axisRight,T=e.axisBottom,M=e.axisLeft,E=e.enableGridX,L=e.enableGridY,q=e.enableLabels,H=e.labelTextColor,W=e.colors,V=e.nanColor,I=e.isInteractive,K=e.onClick,A=e.hoverTarget,P=e.cellHoverOpacity,z=e.cellHoverOthersOpacity,F=e.tooltipFormat,Y=e.tooltip,G=e.role,X=Object(l.pb)(f,b,h),N=X.margin,D=X.innerWidth,J=X.innerHeight,Q=X.outerWidth,U=X.outerHeight,$=w({data:r,keys:c,indexBy:u,minValue:d,maxValue:s,width:D,height:J,padding:m,forceSquare:y,sizeVariation:p,colors:W,nanColor:V,cellOpacity:v,cellBorderColor:x,labelTextColor:H,hoverTarget:A,cellHoverOpacity:P,cellHoverOthersOpacity:z}),Z=$.cells,_=$.xScale,ee=$.yScale,te=$.offsetX,re=$.offsetY,oe=$.setCurrentCellId,ae=$.getCellBorderColor,le=$.getLabelTextColor,ne=Object(i.i)(),ie=ne.showTooltipFromEvent,ce=ne.hideTooltip,ue=Object(o.useCallback)((function(e,t){oe(e.id),ie(a.a.createElement(B,{cell:e,format:F,tooltip:Y}),t)}),[oe,ie,F,Y]),de=Object(o.useCallback)((function(){oe(null),ce()}),[oe,ce]);return t="rect"===O?k:"circle"===O?R:O,a.a.createElement(l.l,{width:Q,height:U,margin:Object.assign({},N,{top:N.top+re,left:N.left+te}),role:G},a.a.createElement(n.c,{width:D-2*te,height:J-2*re,xScale:E?_:null,yScale:L?ee:null}),a.a.createElement(n.a,{xScale:_,yScale:ee,width:D-2*te,height:J-2*re,top:C,right:j,bottom:T,left:M}),a.a.createElement(S,{cells:Z,cellComponent:t,cellBorderWidth:g,getCellBorderColor:ae,enableLabels:q,getLabelTextColor:le,handleCellHover:I?ue:void 0,handleCellLeave:I?de:void 0,onClick:I?K:void 0}))}));L.defaultProps=O;var q=function(e,t,r){var o=t.enableLabels,a=t.theme,l=r.x,n=r.y,i=r.width,c=r.height,u=r.color,d=r.opacity,s=r.labelTextColor,f=r.value;e.save(),e.globalAlpha=d,e.fillStyle=u,e.fillRect(l-i/2,n-c/2,i,c),!0===o&&(e.fillStyle=s,e.font="".concat(a.labels.text.fontSize,"px ").concat(a.labels.text.fontFamily),e.fillText(f,l,n)),e.restore()},H=function(e,t,r){var o=t.enableLabels,a=t.theme,l=r.x,n=r.y,i=r.width,c=r.height,u=r.color,d=r.opacity,s=r.labelTextColor,f=r.value;e.save(),e.globalAlpha=d;var b=Math.min(i,c)/2;e.fillStyle=u,e.beginPath(),e.arc(l,n,b,0,2*Math.PI),e.fill(),!0===o&&(e.fillStyle=s,e.font="".concat(a.labels.text.fontSize,"px ").concat(a.labels.text.fontFamily),e.fillText(f,l,n)),e.restore()},W=Object(l.ub)((function(e){var t=e.data,r=e.keys,c=e.indexBy,u=e.minValue,d=e.maxValue,s=e.width,f=e.height,b=e.margin,h=e.forceSquare,y=e.padding,m=e.sizeVariation,p=e.cellShape,O=e.cellOpacity,v=e.cellBorderColor,g=e.axisTop,x=e.axisRight,j=e.axisBottom,S=e.axisLeft,T=e.enableLabels,k=e.labelTextColor,M=e.colors,R=e.nanColor,E=e.isInteractive,L=e.onClick,W=e.hoverTarget,V=e.cellHoverOpacity,I=e.cellHoverOthersOpacity,K=e.tooltipFormat,A=e.tooltip,P=e.pixelRatio,z=Object(o.useRef)(null),F=Object(l.pb)(s,f,b),Y=F.margin,G=F.innerWidth,X=F.innerHeight,N=F.outerWidth,D=F.outerHeight,J=w({data:t,keys:r,indexBy:c,minValue:u,maxValue:d,width:G,height:X,padding:y,forceSquare:h,sizeVariation:m,colors:M,nanColor:R,cellOpacity:O,cellBorderColor:v,labelTextColor:k,hoverTarget:W,cellHoverOpacity:V,cellHoverOthersOpacity:I}),Q=J.cells,U=J.xScale,$=J.yScale,Z=J.offsetX,_=J.offsetY,ee=J.currentCellId,te=J.setCurrentCellId,re=Object(l.sb)();Object(o.useEffect)((function(){z.current.width=N*P,z.current.height=D*P;var e,t=z.current.getContext("2d");t.scale(P,P),t.fillStyle=re.background,t.fillRect(0,0,N,D),t.translate(Y.left+Z,Y.top+_),Object(n.e)(t,{xScale:U,yScale:$,width:G-2*Z,height:X-2*_,top:g,right:x,bottom:j,left:S,theme:re}),t.textAlign="center",t.textBaseline="middle",e="rect"===p?q:H,Q.forEach((function(r){e(t,{enableLabels:T,theme:re},r)}))}),[z,Q,N,D,G,X,Y,Z,_,p,g,x,j,S,re,T,P]);var oe=Object(i.i)(),ae=oe.showTooltipFromEvent,le=oe.hideTooltip,ne=Object(o.useCallback)((function(e){var t=C(Object(l.M)(z.current,e),2),r=t[0],o=t[1],n=Q.find((function(e){return Object(l.O)(e.x+Y.left+Z-e.width/2,e.y+Y.top+_-e.height/2,e.width,e.height,r,o)}));void 0!==n?(te(n.id),ae(a.a.createElement(B,{cell:n,tooltip:A,format:K}),e)):(te(null),le())}),[z,Q,Y,Z,_,te,ae,le,A]),ie=Object(o.useCallback)((function(){te(null),le()}),[te,le]),ce=Object(o.useCallback)((function(e){if(null!==ee){var t=Q.find((function(e){return e.id===ee}));t&&L(t,e)}}),[Q,ee,L]);return a.a.createElement("canvas",{ref:z,width:N*P,height:D*P,style:{width:N,height:D},onMouseEnter:E?ne:void 0,onMouseMove:E?ne:void 0,onMouseLeave:E?ie:void 0,onClick:E?ce:void 0})}));W.defaultProps=p;var V=function(e){return a.a.createElement(l.k,null,(function(t){var r=t.width,o=t.height;return a.a.createElement(L,Object.assign({width:r,height:o},e))}))},I=function(e){return a.a.createElement(l.k,null,(function(t){var r=t.width,o=t.height;return a.a.createElement(W,Object.assign({width:r,height:o},e))}))}}).call(this,r("pCvA"))}}]);
//# sourceMappingURL=288594faa4f4df84db7f04ec3315d48a3b666501-be40187b7b97ec4b756d.js.map