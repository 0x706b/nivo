{"version":3,"file":"cd24142c236cd3d411e63c2c4576ae38c7600b50-6d1b119fe5e34d7462b3.js","mappings":"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","sources":["webpack://nivo-website/../node_modules/d3-path/src/path.js","webpack://nivo-website/../node_modules/d3-shape/src/arc.js","webpack://nivo-website/../node_modules/d3-shape/src/constant.js","webpack://nivo-website/../node_modules/d3-shape/src/line.js","webpack://nivo-website/../node_modules/d3-shape/src/point.js","webpack://nivo-website/../src/arc_labels/ArcLabel.tsx","webpack://nivo-website/../src/utils.ts","webpack://nivo-website/../src/arcTransitionMode.ts","webpack://nivo-website/../src/centers.ts","webpack://nivo-website/../src/arc_labels/ArcLabelsLayer.tsx","webpack://nivo-website/../src/arc_labels/canvas.ts","webpack://nivo-website/../src/arc_labels/useArcLabels.ts","webpack://nivo-website/../src/arc_link_labels/ArcLinkLabel.tsx","webpack://nivo-website/../src/arc_link_labels/compute.ts","webpack://nivo-website/../src/arc_link_labels/useArcLinkLabelsTransition.ts","webpack://nivo-website/../src/arc_link_labels/ArcLinkLabelsLayer.tsx","webpack://nivo-website/../src/arc_link_labels/canvas.ts","webpack://nivo-website/../src/arc_link_labels/useArcLinkLabels.ts","webpack://nivo-website/../src/arc_link_labels/useArcLinks.ts","webpack://nivo-website/../src/arc_link_labels/index.ts","webpack://nivo-website/../src/ArcLine.tsx","webpack://nivo-website/../src/ArcShape.tsx","webpack://nivo-website/../src/interpolateArc.ts","webpack://nivo-website/../src/ArcsLayer.tsx","webpack://nivo-website/../src/useArcsTransition.ts","webpack://nivo-website/../src/boundingBox.ts","webpack://nivo-website/../src/interactivity.ts","webpack://nivo-website/../src/useArcGenerator.ts"],"sourcesContent":["var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path();\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function moveTo(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function lineTo(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function quadraticCurveTo(x1, y1, x, y) {\n    this._ += \"Q\" + +x1 + \",\" + +y1 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + +x1 + \",\" + +y1 + \",\" + +x2 + \",\" + +y2 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01; // Is the radius negative? Error.\n\n    if (r < 0) throw new Error(\"negative radius: \" + r); // Is this path empty? Move to (x1,y1).\n\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    } // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon)) ; // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    } // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21; // If the start tangent is not coincident with (x0,y0), line to.\n\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + +(y01 * x20 > x01 * y20) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0; // Is the radius negative? Error.\n\n    if (r < 0) throw new Error(\"negative radius: \" + r); // Is this path empty? Move to (x0,y0).\n\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    } // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    } // Is this arc empty? We’re done.\n\n\n    if (!r) return; // Does the angle go the wrong way? Flip the direction.\n\n    if (da < 0) da = da % tau + tau; // Is this a complete circle? Draw two arcs to complete the circle.\n\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    } // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + +(da >= pi) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function rect(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + +w + \"v\" + +h + \"h\" + -w + \"Z\";\n  },\n  toString: function toString() {\n    return this._;\n  }\n};\nexport default path;","import { path } from \"d3-path\";\nimport constant from \"./constant.js\";\nimport { abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau } from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0,\n      y10 = y1 - y0,\n      x32 = x3 - x2,\n      y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n} // Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\n\n\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00; // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function () {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n    if (!context) context = buffer = path(); // Ensure that the outer radius is always larger than the inner radius.\n\n    if (r1 < r0) r = r1, r1 = r0, r0 = r; // Is it a point?\n\n    if (!(r1 > epsilon)) context.moveTo(0, 0); // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    } // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = ap > epsilon && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1; // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= cw ? 1 : -1, a00 += p0, a10 -= p0;else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= cw ? 1 : -1, a01 += p1, a11 -= p1;else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10); // Apply rounded corners?\n\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc; // Restrict the corner radius according to the sector angle.\n\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      } // Is the sector collapsed to a line?\n\n\n      if (!(da1 > epsilon)) context.moveTo(x01, y01); // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01); // Have the corners merged?\n\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw); // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      } // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw); // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10); // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01); // Have the corners merged?\n\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw); // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      } // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n    context.closePath();\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function () {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function (_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function (_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function (_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function (_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function (_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function (_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function (_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function (_) {\n    return arguments.length ? (context = _ == null ? null : _, arc) : context;\n  };\n\n  return arc;\n}","export default function (x) {\n  return function constant() {\n    return x;\n  };\n}","import { path } from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport { x as pointX, y as pointY } from \"./point.js\";\nexport default function () {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();else output.lineEnd();\n      }\n\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function (_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function (_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}","export function x(p) {\n  return p[0];\n}\nexport function y(p) {\n  return p[1];\n}","import { CSSProperties } from 'react'\nimport { SpringValue, Interpolation, animated } from '@react-spring/web'\nimport { useTheme } from '@nivo/core'\nimport { DatumWithArcAndColor } from '../types'\n\nconst staticStyle: CSSProperties = {\n    pointerEvents: 'none',\n}\n\nexport interface ArcLabelProps<Datum extends DatumWithArcAndColor> {\n    datum: Datum\n    label: string\n    style: {\n        progress: SpringValue<number>\n        transform: Interpolation<string>\n        textColor: string\n    }\n}\n\nexport const ArcLabel = <Datum extends DatumWithArcAndColor>({\n    label,\n    style,\n}: ArcLabelProps<Datum>) => {\n    const theme = useTheme()\n\n    return (\n        <animated.g transform={style.transform} opacity={style.progress} style={staticStyle}>\n            <animated.text\n                textAnchor=\"middle\"\n                dominantBaseline=\"central\"\n                style={{\n                    ...theme.labels.text,\n                    fill: style.textColor,\n                }}\n            >\n                {label}\n            </animated.text>\n        </animated.g>\n    )\n}\n","import { useMemo } from 'react'\nimport { radiansToDegrees, positionFromAngle, degreesToRadians } from '@nivo/core'\nimport { DatumWithArc } from './types'\n\n/**\n * Make sure an angle (expressed in radians)\n * always falls in the range 0~2*PI.\n */\nexport const getNormalizedAngle = (angle: number) => {\n    let normalizedAngle = angle % (Math.PI * 2)\n    if (normalizedAngle < 0) {\n        normalizedAngle += Math.PI * 2\n    }\n\n    return normalizedAngle\n}\n\n/**\n * Filter out arcs with a length below `skipAngle`.\n */\nexport const filterDataBySkipAngle = <Datum extends DatumWithArc>(\n    data: Datum[],\n    skipAngle: number\n) =>\n    data.filter(\n        datum => Math.abs(radiansToDegrees(datum.arc.endAngle - datum.arc.startAngle)) >= skipAngle\n    )\n\n/**\n * Memoized version of `filterDataBySkipAngle`.\n */\nexport const useFilteredDataBySkipAngle = <Datum extends DatumWithArc>(\n    data: Datum[],\n    skipAngle: number\n) => useMemo(() => filterDataBySkipAngle(data, skipAngle), [data, skipAngle])\n\nexport const svgEllipticalArcCommand = (\n    radius: number,\n    largeArcFlag: 0 | 1,\n    sweepFlag: 0 | 1,\n    x: number,\n    y: number\n) =>\n    [\n        'A',\n        radius,\n        radius,\n        0, // x-axis-rotation\n        largeArcFlag,\n        sweepFlag,\n        x,\n        y,\n    ].join(' ')\n\nexport const generateSvgArc = (\n    radius: number,\n    originalStartAngle: number,\n    originalEndAngle: number\n): string => {\n    const startAngle = Math.min(originalStartAngle, originalEndAngle)\n    const endAngle = Math.max(originalStartAngle, originalEndAngle)\n\n    const start = positionFromAngle(degreesToRadians(endAngle), radius)\n    const end = positionFromAngle(degreesToRadians(startAngle), radius)\n\n    // we have a full circle, we cannot use a single elliptical arc\n    // to draw it, so we use 2 in that case.\n    if (endAngle - startAngle >= 360) {\n        const mid = positionFromAngle(degreesToRadians(startAngle + 180), radius)\n\n        return [\n            `M ${start.x} ${start.y}`,\n            svgEllipticalArcCommand(radius, 1, 1, mid.x, mid.y),\n            `M ${start.x} ${start.y}`,\n            svgEllipticalArcCommand(radius, 1, 0, mid.x, mid.y),\n        ].join(' ')\n    }\n\n    const largeArcFlag = endAngle - startAngle <= 180 ? 0 : 1\n\n    return [\n        `M ${start.x} ${start.y}`,\n        svgEllipticalArcCommand(radius, largeArcFlag, 0, end.x, end.y),\n    ].join(' ')\n}\n","import { Arc, DatumWithArc } from './types'\nimport { useMemo } from 'react'\n\nexport interface ArcTransitionModeConfig {\n    enter: (arc: Arc) => Arc\n    update: (arc: Arc) => Arc\n    leave: (arc: Arc) => Arc\n}\n\nexport const arcTransitionModes = [\n    'startAngle',\n    'middleAngle',\n    'endAngle',\n    'innerRadius',\n    'centerRadius',\n    'outerRadius',\n    'pushIn',\n    'pushOut',\n] as const\nexport type ArcTransitionMode = typeof arcTransitionModes[number]\n\nexport const arcTransitionModeById: Record<ArcTransitionMode, ArcTransitionModeConfig> = {\n    startAngle: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            endAngle: arc.startAngle,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            startAngle: arc.endAngle,\n        }),\n    },\n    middleAngle: {\n        enter: (arc: Arc) => {\n            const middleAngle = arc.startAngle + (arc.endAngle - arc.startAngle) / 2\n\n            return {\n                ...arc,\n                startAngle: middleAngle,\n                endAngle: middleAngle,\n            }\n        },\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => {\n            const middleAngle = arc.startAngle + (arc.endAngle - arc.startAngle) / 2\n\n            return {\n                ...arc,\n                startAngle: middleAngle,\n                endAngle: middleAngle,\n            }\n        },\n    },\n    endAngle: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            startAngle: arc.endAngle,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            endAngle: arc.startAngle,\n        }),\n    },\n    innerRadius: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            outerRadius: arc.innerRadius,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.outerRadius,\n        }),\n    },\n    centerRadius: {\n        enter: (arc: Arc) => {\n            const centerRadius = arc.innerRadius + (arc.outerRadius - arc.innerRadius) / 2\n\n            return {\n                ...arc,\n                innerRadius: centerRadius,\n                outerRadius: centerRadius,\n            }\n        },\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => {\n            const centerRadius = arc.innerRadius + (arc.outerRadius - arc.innerRadius) / 2\n\n            return {\n                ...arc,\n                innerRadius: centerRadius,\n                outerRadius: centerRadius,\n            }\n        },\n    },\n    outerRadius: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.outerRadius,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            outerRadius: arc.innerRadius,\n        }),\n    },\n    pushIn: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.innerRadius - arc.outerRadius + arc.innerRadius,\n            outerRadius: arc.innerRadius,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.outerRadius,\n            outerRadius: arc.outerRadius + arc.outerRadius - arc.innerRadius,\n        }),\n    },\n    pushOut: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.outerRadius,\n            outerRadius: arc.outerRadius + arc.outerRadius - arc.innerRadius,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.innerRadius - arc.outerRadius + arc.innerRadius,\n            outerRadius: arc.innerRadius,\n        }),\n    },\n}\n\nexport interface TransitionExtra<Datum extends DatumWithArc, ExtraProps> {\n    enter: (datum: Datum) => ExtraProps\n    update: (datum: Datum) => ExtraProps\n    leave: (datum: Datum) => ExtraProps\n}\n\nexport const useArcTransitionMode = <Datum extends DatumWithArc, ExtraProps>(\n    mode: ArcTransitionMode,\n    extraTransition?: TransitionExtra<Datum, ExtraProps>\n) =>\n    useMemo(() => {\n        const transitionMode = arcTransitionModeById[mode]\n\n        return {\n            enter: (datum: Datum) => ({\n                progress: 0,\n                ...transitionMode.enter(datum.arc),\n                ...(extraTransition ? extraTransition.enter(datum) : {}),\n            }),\n            update: (datum: Datum) => ({\n                progress: 1,\n                ...transitionMode.update(datum.arc),\n                ...(extraTransition ? extraTransition.update(datum) : {}),\n            }),\n            leave: (datum: Datum) => ({\n                progress: 0,\n                ...transitionMode.leave(datum.arc),\n                ...(extraTransition ? extraTransition.leave(datum) : {}),\n            }),\n        }\n    }, [mode, extraTransition])\n","import { useMemo } from 'react'\nimport { useTransition, to, SpringValue } from '@react-spring/web'\nimport {\n    // @ts-ignore\n    midAngle,\n    positionFromAngle,\n    useMotionConfig,\n} from '@nivo/core'\nimport { Arc, DatumWithArc, Point } from './types'\nimport { filterDataBySkipAngle } from './utils'\nimport { ArcTransitionMode, TransitionExtra, useArcTransitionMode } from './arcTransitionMode'\n\nexport const computeArcCenter = (arc: Arc, offset: number): Point => {\n    const angle = midAngle(arc) - Math.PI / 2\n    const radius = arc.innerRadius + (arc.outerRadius - arc.innerRadius) * offset\n\n    return positionFromAngle(angle, radius)\n}\n\nexport const interpolateArcCenter =\n    (offset: number) =>\n    (\n        startAngleValue: SpringValue<number>,\n        endAngleValue: SpringValue<number>,\n        innerRadiusValue: SpringValue<number>,\n        outerRadiusValue: SpringValue<number>\n    ) =>\n        to(\n            [startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue],\n            (startAngle, endAngle, innerRadius, outerRadius) => {\n                const centroid = computeArcCenter(\n                    { startAngle, endAngle, innerRadius, outerRadius },\n                    offset\n                )\n\n                return `translate(${centroid.x},${centroid.y})`\n            }\n        )\n\nexport const useArcCentersTransition = <Datum extends DatumWithArc, ExtraProps = unknown>(\n    data: Datum[],\n    // define where the centers should be placed,\n    // 0.0: inner radius\n    // 0.5: center\n    // 1.0: outer radius\n    offset = 0.5,\n    mode: ArcTransitionMode = 'innerRadius',\n    extra?: TransitionExtra<Datum, ExtraProps>\n) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const phases = useArcTransitionMode<Datum, ExtraProps>(mode, extra)\n\n    const transition = useTransition<\n        Datum,\n        {\n            progress: number\n            startAngle: number\n            endAngle: number\n            innerRadius: number\n            outerRadius: number\n        } & ExtraProps\n    >(data, {\n        keys: datum => datum.id,\n        initial: phases.update,\n        from: phases.enter,\n        enter: phases.update,\n        update: phases.update,\n        leave: phases.leave,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return {\n        transition,\n        interpolate: interpolateArcCenter(offset),\n    }\n}\n\nexport interface ArcCenter<Datum extends DatumWithArc> extends Point {\n    data: Datum\n}\n\n/**\n * Compute an array of arc centers from an array of data containing arcs.\n *\n * If you plan to animate those, you could use `useArcCentersTransition`\n * instead, you could use the returned array with react-spring `useTransition`,\n * but this would lead to cartesian transitions (x/y), while `useArcCentersTransition`\n * will generate proper transitions using radius/angle.\n */\nexport const useArcCenters = <\n    Datum extends DatumWithArc,\n    ExtraProps extends Record<string, any> = Record<string, any>\n>({\n    data,\n    offset = 0.5,\n    skipAngle = 0,\n    computeExtraProps = () => ({} as ExtraProps),\n}: {\n    data: Datum[]\n    // define where the centers should be placed,\n    // 0.0: inner radius\n    // 0.5: center\n    // 1.0: outer radius\n    offset?: number\n    // arcs with a length below this (end angle - start angle in degrees)\n    // are going to be excluded, this can typically be used to avoid having\n    // overlapping labels.\n    skipAngle?: number\n    // this can be used to append extra properties to the centers,\n    // can be used to compute a color/label for example.\n    computeExtraProps?: (datum: Datum) => ExtraProps\n}): (ArcCenter<Datum> & ExtraProps)[] =>\n    useMemo(\n        () =>\n            filterDataBySkipAngle<Datum>(data, skipAngle)\n                // compute position and extra props for each eligible datum\n                .map(datum => {\n                    const position = computeArcCenter(datum.arc, offset)\n\n                    return {\n                        ...computeExtraProps(datum),\n                        x: position.x,\n                        y: position.y,\n                        data: datum,\n                    }\n                }),\n        [data, offset, skipAngle, computeExtraProps]\n    )\n","import { createElement, useMemo } from 'react'\nimport { PropertyAccessor, usePropertyAccessor, radiansToDegrees, useTheme } from '@nivo/core'\nimport { useInheritedColor } from '@nivo/colors'\nimport { useArcCentersTransition } from '../centers'\nimport { ArcTransitionMode } from '../arcTransitionMode'\nimport { DatumWithArcAndColor } from '../types'\nimport { ArcLabelsProps } from './props'\nimport { ArcLabel, ArcLabelProps } from './ArcLabel'\n\nexport type ArcLabelComponent<Datum extends DatumWithArcAndColor> = (\n    props: ArcLabelProps<Datum>\n) => JSX.Element\n\ninterface ArcLabelsLayerProps<Datum extends DatumWithArcAndColor> {\n    center: [number, number]\n    data: Datum[]\n    label: PropertyAccessor<Datum, string>\n    radiusOffset: ArcLabelsProps<Datum>['arcLabelsRadiusOffset']\n    skipAngle: ArcLabelsProps<Datum>['arcLabelsSkipAngle']\n    textColor: ArcLabelsProps<Datum>['arcLabelsTextColor']\n    transitionMode: ArcTransitionMode\n    component?: ArcLabelsProps<Datum>['arcLabelsComponent']\n}\n\nexport const ArcLabelsLayer = <Datum extends DatumWithArcAndColor>({\n    center,\n    data,\n    transitionMode,\n    label: labelAccessor,\n    radiusOffset,\n    skipAngle,\n    textColor,\n    component = ArcLabel,\n}: ArcLabelsLayerProps<Datum>) => {\n    const getLabel = usePropertyAccessor<Datum, string>(labelAccessor)\n    const theme = useTheme()\n    const getTextColor = useInheritedColor<Datum>(textColor, theme)\n\n    const filteredData = useMemo(\n        () =>\n            data.filter(datum => {\n                return (\n                    Math.abs(radiansToDegrees(datum.arc.endAngle - datum.arc.startAngle)) >=\n                    skipAngle\n                )\n            }),\n        [data, skipAngle]\n    )\n\n    const { transition, interpolate } = useArcCentersTransition<Datum>(\n        filteredData,\n        radiusOffset,\n        transitionMode\n    )\n\n    const Label: ArcLabelComponent<Datum> = component\n\n    return (\n        <g transform={`translate(${center[0]},${center[1]})`}>\n            {transition((transitionProps, datum) => {\n                return createElement(Label, {\n                    key: datum.id,\n                    datum,\n                    label: getLabel(datum),\n                    style: {\n                        ...transitionProps,\n                        transform: interpolate(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius\n                        ),\n                        textColor: getTextColor(datum),\n                    },\n                })\n            })}\n        </g>\n    )\n}\n","import { CompleteTheme } from '@nivo/core'\nimport { DatumWithArcAndColor } from '../types'\nimport { ArcLabel } from './useArcLabels'\n\nexport const drawCanvasArcLabels = <Datum extends DatumWithArcAndColor>(\n    ctx: CanvasRenderingContext2D,\n    labels: ArcLabel<Datum>[],\n    theme: CompleteTheme\n) => {\n    ctx.textAlign = 'center'\n    ctx.textBaseline = 'middle'\n    ctx.font = `${theme.labels.text.fontSize}px ${theme.labels.text.fontFamily}`\n\n    labels.forEach(label => {\n        ctx.fillStyle = label.textColor\n        ctx.fillText(`${label.label}`, label.x, label.y)\n    })\n}\n","import { useCallback } from 'react'\nimport { PropertyAccessor, usePropertyAccessor, useTheme } from '@nivo/core'\nimport { InheritedColorConfig, useInheritedColor } from '@nivo/colors'\nimport { DatumWithArcAndColor } from '../types'\nimport { useArcCenters, ArcCenter } from '../centers'\n\nexport interface ArcLabel<Datum extends DatumWithArcAndColor> extends ArcCenter<Datum> {\n    label: string\n    textColor: string\n}\n\n/**\n * Compute arc labels, please note that the datum should\n * contain a color in order to be able to compute the label text color.\n *\n * Please see `useArcCenters` for a more detailed explanation\n * about the parameters.\n */\nexport const useArcLabels = <Datum extends DatumWithArcAndColor>({\n    data,\n    offset,\n    skipAngle,\n    label,\n    textColor,\n}: {\n    data: Datum[]\n    offset?: number\n    skipAngle?: number\n    label: PropertyAccessor<Datum, string>\n    textColor: InheritedColorConfig<Datum>\n}) => {\n    const getLabel = usePropertyAccessor<Datum, string>(label)\n\n    const theme = useTheme()\n    const getTextColor = useInheritedColor<Datum>(textColor, theme)\n\n    const computeExtraProps = useCallback(\n        (datum: Datum) => {\n            return {\n                label: getLabel(datum),\n                textColor: getTextColor(datum),\n            }\n        },\n        [getLabel, getTextColor]\n    )\n\n    return useArcCenters<Datum, Omit<ArcLabel<Datum>, keyof ArcCenter<Datum>>>({\n        data,\n        offset,\n        skipAngle,\n        computeExtraProps,\n    })\n}\n","import { useTheme } from '@nivo/core'\nimport { SpringValue, Interpolation, animated } from '@react-spring/web'\nimport { DatumWithArcAndColor } from '../types'\n\nexport interface ArcLinkLabelProps<Datum extends DatumWithArcAndColor> {\n    datum: Datum\n    label: string\n    style: {\n        path: Interpolation<string>\n        thickness: number\n        textPosition: Interpolation<string>\n        textAnchor: Interpolation<'start' | 'end'>\n        linkColor: SpringValue<string>\n        opacity: SpringValue<number>\n        textColor: SpringValue<string>\n    }\n}\n\nexport const ArcLinkLabel = <Datum extends DatumWithArcAndColor>({\n    label,\n    style,\n}: ArcLinkLabelProps<Datum>) => {\n    const theme = useTheme()\n\n    return (\n        <animated.g opacity={style.opacity}>\n            <animated.path\n                fill=\"none\"\n                stroke={style.linkColor}\n                strokeWidth={style.thickness}\n                d={style.path}\n            />\n            <animated.text\n                transform={style.textPosition}\n                textAnchor={style.textAnchor}\n                dominantBaseline=\"central\"\n                style={{\n                    ...theme.labels.text,\n                    fill: style.textColor,\n                }}\n            >\n                {label}\n            </animated.text>\n        </animated.g>\n    )\n}\n","import { positionFromAngle } from '@nivo/core'\nimport { Arc, Point } from '../types'\nimport { getNormalizedAngle } from '../utils'\nimport { ArcLink } from './types'\n\n/**\n * Compute text anchor for a given arc.\n *\n * `computeArcLink` already computes a `side`, but when using\n * `react-spring`, you cannot have a single interpolation\n * returning several output values, so we need to compute\n * them in separate interpolations.\n */\nexport const computeArcLinkTextAnchor = (arc: Arc): 'start' | 'end' => {\n    const centerAngle = getNormalizedAngle(\n        arc.startAngle + (arc.endAngle - arc.startAngle) / 2 - Math.PI / 2\n    )\n\n    if (centerAngle < Math.PI / 2 || centerAngle > Math.PI * 1.5) {\n        return 'start'\n    }\n\n    return 'end'\n}\n\n/**\n * Compute the link of a single arc, returning its points,\n * please note that points coordinates are relative to\n * the center of the arc.\n */\nexport const computeArcLink = (\n    arc: Arc,\n    offset: number,\n    diagonalLength: number,\n    straightLength: number\n): ArcLink => {\n    const centerAngle = getNormalizedAngle(\n        arc.startAngle + (arc.endAngle - arc.startAngle) / 2 - Math.PI / 2\n    )\n    const point0: Point = positionFromAngle(centerAngle, arc.outerRadius + offset)\n    const point1: Point = positionFromAngle(centerAngle, arc.outerRadius + offset + diagonalLength)\n\n    let side: ArcLink['side']\n    let point2: Point\n    if (centerAngle < Math.PI / 2 || centerAngle > Math.PI * 1.5) {\n        side = 'after'\n        point2 = {\n            x: point1.x + straightLength,\n            y: point1.y,\n        }\n    } else {\n        side = 'before'\n        point2 = {\n            x: point1.x - straightLength,\n            y: point1.y,\n        }\n    }\n\n    return {\n        side,\n        points: [point0, point1, point2],\n    }\n}\n","import { useMemo } from 'react'\nimport { SpringValue, useTransition, to } from '@react-spring/web'\nimport { line } from 'd3-shape'\nimport { useMotionConfig, useTheme } from '@nivo/core'\nimport { InheritedColorConfig, useInheritedColor } from '@nivo/colors'\nimport { DatumWithArcAndColor, Point } from '../types'\nimport { useFilteredDataBySkipAngle } from '../utils'\nimport { computeArcLink, computeArcLinkTextAnchor } from './compute'\n\nconst lineGenerator = line<Point>()\n    .x(d => d.x)\n    .y(d => d.y)\n\ntype AnimatedProps = {\n    startAngle: number\n    endAngle: number\n    innerRadius: number\n    outerRadius: number\n    offset: number\n    diagonalLength: number\n    straightLength: number\n    textOffset: number\n    linkColor: string\n    textColor: string\n    opacity: number\n}\n\nconst useTransitionPhases = <Datum extends DatumWithArcAndColor>({\n    offset,\n    diagonalLength,\n    straightLength,\n    textOffset,\n    getLinkColor,\n    getTextColor,\n}: Pick<AnimatedProps, 'offset' | 'diagonalLength' | 'straightLength' | 'textOffset'> & {\n    getLinkColor: (datum: Datum) => string\n    getTextColor: (datum: Datum) => string\n}): Record<'enter' | 'update' | 'leave', (datum: Datum) => AnimatedProps> =>\n    useMemo(\n        () => ({\n            enter: (datum: Datum) => ({\n                startAngle: datum.arc.startAngle,\n                endAngle: datum.arc.endAngle,\n                innerRadius: datum.arc.innerRadius,\n                outerRadius: datum.arc.outerRadius,\n                offset,\n                diagonalLength: 0,\n                straightLength: 0,\n                textOffset,\n                linkColor: getLinkColor(datum),\n                textColor: getTextColor(datum),\n                opacity: 0,\n            }),\n            update: (d: Datum) => ({\n                startAngle: d.arc.startAngle,\n                endAngle: d.arc.endAngle,\n                innerRadius: d.arc.innerRadius,\n                outerRadius: d.arc.outerRadius,\n                offset,\n                diagonalLength,\n                straightLength,\n                textOffset,\n                linkColor: getLinkColor(d),\n                textColor: getTextColor(d),\n                opacity: 1,\n            }),\n            leave: (d: Datum) => ({\n                startAngle: d.arc.startAngle,\n                endAngle: d.arc.endAngle,\n                innerRadius: d.arc.innerRadius,\n                outerRadius: d.arc.outerRadius,\n                offset,\n                diagonalLength: 0,\n                straightLength: 0,\n                textOffset,\n                linkColor: getLinkColor(d),\n                textColor: getTextColor(d),\n                opacity: 0,\n            }),\n        }),\n        [diagonalLength, straightLength, textOffset, getLinkColor, getTextColor]\n    )\n\nconst interpolateLink = (\n    startAngleValue: SpringValue<AnimatedProps['startAngle']>,\n    endAngleValue: SpringValue<AnimatedProps['endAngle']>,\n    innerRadiusValue: SpringValue<AnimatedProps['innerRadius']>,\n    outerRadiusValue: SpringValue<AnimatedProps['outerRadius']>,\n    offsetValue: SpringValue<AnimatedProps['offset']>,\n    diagonalLengthValue: SpringValue<AnimatedProps['diagonalLength']>,\n    straightLengthValue: SpringValue<AnimatedProps['straightLength']>\n) =>\n    to(\n        [\n            startAngleValue,\n            endAngleValue,\n            innerRadiusValue,\n            outerRadiusValue,\n            offsetValue,\n            diagonalLengthValue,\n            straightLengthValue,\n        ],\n        (\n            startAngle,\n            endAngle,\n            innerRadius,\n            outerRadius,\n            offset,\n            diagonalLengthAnimated,\n            straightLengthAnimated\n        ) => {\n            const { points } = computeArcLink(\n                {\n                    startAngle,\n                    endAngle,\n                    innerRadius,\n                    outerRadius,\n                },\n                offset,\n                diagonalLengthAnimated,\n                straightLengthAnimated\n            )\n\n            return lineGenerator(points)\n        }\n    )\n\nconst interpolateTextAnchor = (\n    startAngleValue: SpringValue<AnimatedProps['startAngle']>,\n    endAngleValue: SpringValue<AnimatedProps['endAngle']>,\n    innerRadiusValue: SpringValue<AnimatedProps['innerRadius']>,\n    outerRadiusValue: SpringValue<AnimatedProps['outerRadius']>\n) =>\n    to(\n        [startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue],\n        (startAngle, endAngle, innerRadius, outerRadius) => {\n            return computeArcLinkTextAnchor({\n                startAngle,\n                endAngle,\n                innerRadius,\n                outerRadius,\n            })\n        }\n    )\n\n/**\n * Interpolating the text position involves almost the same computation\n * as `interpolateLink`, unfortunately `react-spring` does not support\n * multiple output values from a single interpolation.\n *\n * We should revise this if `react-spring` adds this feature at some point.\n */\nconst interpolateTextPosition = (\n    startAngleValue: SpringValue<AnimatedProps['startAngle']>,\n    endAngleValue: SpringValue<AnimatedProps['endAngle']>,\n    innerRadiusValue: SpringValue<AnimatedProps['innerRadius']>,\n    outerRadiusValue: SpringValue<AnimatedProps['outerRadius']>,\n    offsetValue: SpringValue<AnimatedProps['offset']>,\n    diagonalLengthValue: SpringValue<AnimatedProps['diagonalLength']>,\n    straightLengthValue: SpringValue<AnimatedProps['straightLength']>,\n    textOffsetValue: SpringValue<AnimatedProps['textOffset']>\n) =>\n    to(\n        [\n            startAngleValue,\n            endAngleValue,\n            innerRadiusValue,\n            outerRadiusValue,\n            offsetValue,\n            diagonalLengthValue,\n            straightLengthValue,\n            textOffsetValue,\n        ],\n        (\n            startAngle,\n            endAngle,\n            innerRadius,\n            outerRadius,\n            offset,\n            diagonalLengthAnimated,\n            straightLengthAnimated,\n            textOffset\n        ) => {\n            const { points, side } = computeArcLink(\n                {\n                    startAngle,\n                    endAngle,\n                    innerRadius,\n                    outerRadius,\n                },\n                offset,\n                diagonalLengthAnimated,\n                straightLengthAnimated\n            )\n\n            const position = points[2]\n            if (side === 'before') {\n                position.x -= textOffset\n            } else {\n                position.x += textOffset\n            }\n\n            return `translate(${position.x},${position.y})`\n        }\n    )\n\n/**\n * This hook can be used to animate a group of arc link labels,\n * if you just want to compute the labels, please use `useArcLinkLabels`.\n */\nexport const useArcLinkLabelsTransition = <Datum extends DatumWithArcAndColor>({\n    data,\n    offset = 0,\n    diagonalLength,\n    straightLength,\n    skipAngle = 0,\n    textOffset,\n    linkColor,\n    textColor,\n}: {\n    data: Datum[]\n    offset?: number\n    diagonalLength: number\n    straightLength: number\n    skipAngle?: number\n    textOffset: number\n    linkColor: InheritedColorConfig<Datum>\n    textColor: InheritedColorConfig<Datum>\n}) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const theme = useTheme()\n    const getLinkColor = useInheritedColor<Datum>(linkColor, theme)\n    const getTextColor = useInheritedColor<Datum>(textColor, theme)\n\n    const filteredData = useFilteredDataBySkipAngle<Datum>(data, skipAngle)\n    const transitionPhases = useTransitionPhases<Datum>({\n        offset,\n        diagonalLength,\n        straightLength,\n        textOffset,\n        getLinkColor,\n        getTextColor,\n    })\n\n    const transition = useTransition<Datum, AnimatedProps>(filteredData, {\n        keys: datum => datum.id,\n        initial: transitionPhases.update,\n        from: transitionPhases.enter,\n        enter: transitionPhases.update,\n        update: transitionPhases.update,\n        leave: transitionPhases.leave,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return {\n        transition,\n        interpolateLink,\n        interpolateTextAnchor,\n        interpolateTextPosition,\n    }\n}\n","import { createElement } from 'react'\nimport { usePropertyAccessor } from '@nivo/core'\nimport { DatumWithArcAndColor } from '../types'\nimport { useArcLinkLabelsTransition } from './useArcLinkLabelsTransition'\nimport { ArcLinkLabelsProps } from './props'\nimport { ArcLinkLabel, ArcLinkLabelProps } from './ArcLinkLabel'\n\nexport type ArcLinkLabelComponent<Datum extends DatumWithArcAndColor> = (\n    props: ArcLinkLabelProps<Datum>\n) => JSX.Element\n\ninterface ArcLinkLabelsLayerProps<Datum extends DatumWithArcAndColor> {\n    center: [number, number]\n    data: Datum[]\n    label: ArcLinkLabelsProps<Datum>['arcLinkLabel']\n    skipAngle: ArcLinkLabelsProps<Datum>['arcLinkLabelsSkipAngle']\n    offset: ArcLinkLabelsProps<Datum>['arcLinkLabelsOffset']\n    diagonalLength: ArcLinkLabelsProps<Datum>['arcLinkLabelsDiagonalLength']\n    straightLength: ArcLinkLabelsProps<Datum>['arcLinkLabelsStraightLength']\n    strokeWidth: ArcLinkLabelsProps<Datum>['arcLinkLabelsThickness']\n    textOffset: ArcLinkLabelsProps<Datum>['arcLinkLabelsTextOffset']\n    textColor: ArcLinkLabelsProps<Datum>['arcLinkLabelsTextColor']\n    linkColor: ArcLinkLabelsProps<Datum>['arcLinkLabelsColor']\n    component?: ArcLinkLabelComponent<Datum>\n}\n\nexport const ArcLinkLabelsLayer = <Datum extends DatumWithArcAndColor>({\n    center,\n    data,\n    label: labelAccessor,\n    skipAngle,\n    offset,\n    diagonalLength,\n    straightLength,\n    strokeWidth,\n    textOffset,\n    textColor,\n    linkColor,\n    component = ArcLinkLabel,\n}: ArcLinkLabelsLayerProps<Datum>) => {\n    const getLabel = usePropertyAccessor<Datum, string>(labelAccessor)\n\n    const { transition, interpolateLink, interpolateTextAnchor, interpolateTextPosition } =\n        useArcLinkLabelsTransition<Datum>({\n            data,\n            skipAngle,\n            offset,\n            diagonalLength,\n            straightLength,\n            textOffset,\n            linkColor,\n            textColor,\n        })\n\n    const Label: ArcLinkLabelComponent<Datum> = component\n\n    return (\n        <g transform={`translate(${center[0]},${center[1]})`}>\n            {transition((transitionProps, datum) => {\n                return createElement(Label, {\n                    key: datum.id,\n                    datum,\n                    label: getLabel(datum),\n                    style: {\n                        ...transitionProps,\n                        thickness: strokeWidth,\n                        path: interpolateLink(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius,\n                            transitionProps.offset,\n                            transitionProps.diagonalLength,\n                            transitionProps.straightLength\n                        ),\n                        textAnchor: interpolateTextAnchor(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius\n                        ),\n                        textPosition: interpolateTextPosition(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius,\n                            transitionProps.offset,\n                            transitionProps.diagonalLength,\n                            transitionProps.straightLength,\n                            transitionProps.textOffset\n                        ),\n                    },\n                })\n            })}\n        </g>\n    )\n}\n","import {\n    // @ts-ignore\n    textPropsByEngine,\n    CompleteTheme,\n} from '@nivo/core'\nimport { DatumWithArcAndColor } from '../types'\nimport { ArcLinkLabel } from './types'\n\nexport const drawCanvasArcLinkLabels = <Datum extends DatumWithArcAndColor>(\n    ctx: CanvasRenderingContext2D,\n    labels: ArcLinkLabel<Datum>[],\n    theme: CompleteTheme,\n    strokeWidth: number\n) => {\n    ctx.textBaseline = 'middle'\n    ctx.font = `${theme.labels.text.fontSize}px ${theme.labels.text.fontFamily}`\n\n    labels.forEach(label => {\n        ctx.fillStyle = label.textColor\n        ctx.textAlign = textPropsByEngine.canvas.align[label.textAnchor]\n        ctx.fillText(`${label.label}`, label.x, label.y)\n\n        ctx.beginPath()\n        ctx.strokeStyle = label.linkColor\n        ctx.lineWidth = strokeWidth\n        label.points.forEach((point, index) => {\n            if (index === 0) ctx.moveTo(point.x, point.y)\n            else ctx.lineTo(point.x, point.y)\n        })\n        ctx.stroke()\n    })\n}\n","import { useCallback } from 'react'\nimport { PropertyAccessor, usePropertyAccessor, useTheme } from '@nivo/core'\nimport { InheritedColorConfig, useInheritedColor } from '@nivo/colors'\nimport { DatumWithArcAndColor } from '../types'\nimport { ArcLinkWithDatum, ArcLinkLabel } from './types'\nimport { useArcLinks } from './useArcLinks'\n\n/**\n * Compute arc link labels, please note that the datum should\n * contain a color in order to be able to compute the link/label text color.\n *\n * Please see `useArcLinks` for a more detailed explanation\n * about the parameters.\n */\nexport const useArcLinkLabels = <Datum extends DatumWithArcAndColor>({\n    data,\n    skipAngle,\n    offset,\n    diagonalLength,\n    straightLength,\n    textOffset = 0,\n    label,\n    linkColor,\n    textColor,\n}: {\n    data: Datum[]\n    skipAngle?: number\n    offset?: number\n    diagonalLength: number\n    straightLength: number\n    textOffset: number\n    label: PropertyAccessor<Datum, string>\n    linkColor: InheritedColorConfig<Datum>\n    textColor: InheritedColorConfig<Datum>\n}) => {\n    const getLabel = usePropertyAccessor<Datum, string>(label)\n\n    const theme = useTheme()\n    const getLinkColor = useInheritedColor<Datum>(linkColor, theme)\n    const getTextColor = useInheritedColor<Datum>(textColor, theme)\n\n    const computeExtraProps = useCallback(\n        (link: ArcLinkWithDatum<Datum>) => {\n            const position = {\n                x: link.points[2].x,\n                y: link.points[2].y,\n            }\n            let textAnchor: ArcLinkLabel<Datum>['textAnchor']\n            if (link.side === 'before') {\n                position.x -= textOffset\n                textAnchor = 'end'\n            } else {\n                position.x += textOffset\n                textAnchor = 'start'\n            }\n\n            return {\n                ...position,\n                label: getLabel(link.data),\n                linkColor: getLinkColor(link.data),\n                textAnchor,\n                textColor: getTextColor(link.data),\n            }\n        },\n        [getLabel, getLinkColor, getTextColor, textOffset]\n    )\n\n    return useArcLinks<Datum, Omit<ArcLinkLabel<Datum>, keyof ArcLinkWithDatum<Datum>>>({\n        data,\n        skipAngle,\n        offset,\n        diagonalLength,\n        straightLength,\n        computeExtraProps,\n    })\n}\n","import { useMemo } from 'react'\nimport { radiansToDegrees } from '@nivo/core'\nimport { DatumWithArc } from '../types'\nimport { ArcLinkWithDatum } from './types'\nimport { computeArcLink } from './compute'\n\n/**\n * Compute links for an array of data containing arcs.\n *\n * This is typically used to create labels for arcs,\n * and it's used for the `useArcLinkLabels` hook.\n */\nexport const useArcLinks = <\n    Datum extends DatumWithArc,\n    ExtraProps extends Record<string, any> = Record<string, any>\n>({\n    data,\n    skipAngle = 0,\n    offset = 0.5,\n    diagonalLength,\n    straightLength,\n    computeExtraProps = () => ({} as ExtraProps),\n}: {\n    data: Datum[]\n    // arcs with a length below this (end angle - start angle in degrees)\n    // are going to be excluded, this can typically be used to avoid having\n    // overlapping labels.\n    skipAngle?: number\n    // offset from arc outer radius in pixels\n    offset?: number\n    // length of the diagonal segment of the link\n    diagonalLength: number\n    // length of the straight segment of the link\n    straightLength: number\n    // this can be used to append extra properties to the links,\n    // can be used to compute a color/label for example.\n    computeExtraProps?: (datum: ArcLinkWithDatum<Datum>) => ExtraProps\n}): (ArcLinkWithDatum<Datum> & ExtraProps)[] => {\n    const links = useMemo(\n        () =>\n            data\n                // filter out arcs with a length below `skipAngle`\n                .filter(\n                    datum =>\n                        Math.abs(radiansToDegrees(datum.arc.endAngle - datum.arc.startAngle)) >=\n                        skipAngle\n                )\n                // compute the link for each eligible arc\n                .map(datum => ({\n                    ...computeArcLink(datum.arc, offset, diagonalLength, straightLength),\n                    data: datum,\n                })),\n        [data, skipAngle, offset, diagonalLength, straightLength]\n    )\n\n    // splitting memoization of links and extra props can be more efficient,\n    // this way if only `computeExtraProps` changes, we skip links computation.\n    return useMemo(\n        () =>\n            links.map(link => ({\n                ...computeExtraProps(link),\n                ...link,\n            })),\n        [links, computeExtraProps]\n    )\n}\n","import { ArcLinkLabel } from './ArcLinkLabel'\n\nexport const ArcLinkLabelComponent = ArcLinkLabel\nexport * from './ArcLinkLabelsLayer'\nexport * from './canvas'\nexport * from './compute'\nexport * from './props'\nexport * from './types'\nexport * from './useArcLinkLabels'\nexport * from './useArcLinkLabelsTransition'\nexport * from './useArcLinks'\n","import { animated, to, AnimatedProps } from '@react-spring/web'\nimport { ExtractProps } from '@nivo/core'\nimport { generateSvgArc } from './utils'\n\ntype ArcLineProps = {\n    animated: AnimatedProps<{\n        radius: number\n        startAngle: number\n        endAngle: number\n        opacity: number\n    }>\n} & ExtractProps<typeof animated.path>\n\nexport const ArcLine = ({ animated: animatedProps, ...rest }: ArcLineProps) => (\n    <animated.path\n        d={to(\n            [animatedProps.radius, animatedProps.startAngle, animatedProps.endAngle],\n            (radius, start, end) => generateSvgArc(radius, start, end)\n        )}\n        {...rest}\n    />\n)\n","import { useCallback } from 'react'\nimport * as React from 'react'\nimport { SpringValue, Interpolation, animated } from '@react-spring/web'\nimport { DatumWithArcAndColor } from './types'\n\nexport type ArcMouseHandler<Datum extends DatumWithArcAndColor> = (\n    datum: Datum,\n    event: React.MouseEvent<SVGPathElement>\n) => void\n\nexport interface ArcShapeProps<Datum extends DatumWithArcAndColor> {\n    datum: Datum\n    style: {\n        opacity: SpringValue<number>\n        color: SpringValue<string>\n        borderWidth: number\n        borderColor: SpringValue<string>\n        path: Interpolation<string>\n    }\n    onClick?: ArcMouseHandler<Datum>\n    onMouseEnter?: ArcMouseHandler<Datum>\n    onMouseMove?: ArcMouseHandler<Datum>\n    onMouseLeave?: ArcMouseHandler<Datum>\n}\n\n/**\n * A simple arc component to be used typically with an `ArcsLayer`.\n *\n * Please note that the component accepts `SpringValue`s instead of\n * regular values to support animations.\n */\nexport const ArcShape = <Datum extends DatumWithArcAndColor>({\n    datum,\n    style,\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n}: ArcShapeProps<Datum>) => {\n    const handleClick = useCallback(event => onClick?.(datum, event), [onClick, datum])\n\n    const handleMouseEnter = useCallback(\n        event => onMouseEnter?.(datum, event),\n        [onMouseEnter, datum]\n    )\n\n    const handleMouseMove = useCallback(event => onMouseMove?.(datum, event), [onMouseMove, datum])\n\n    const handleMouseLeave = useCallback(\n        event => onMouseLeave?.(datum, event),\n        [onMouseLeave, datum]\n    )\n\n    return (\n        <animated.path\n            d={style.path}\n            opacity={style.opacity}\n            fill={datum.fill || style.color}\n            stroke={style.borderColor}\n            strokeWidth={style.borderWidth}\n            onClick={onClick ? handleClick : undefined}\n            onMouseEnter={onMouseEnter ? handleMouseEnter : undefined}\n            onMouseMove={onMouseMove ? handleMouseMove : undefined}\n            onMouseLeave={onMouseLeave ? handleMouseLeave : undefined}\n        />\n    )\n}\n","import { to, SpringValue } from '@react-spring/web'\nimport { ArcGenerator } from './types'\n\n/**\n * Directly animating paths for arcs leads to sub-optimal results\n * as the interpolation is going to be linear while we deal with polar coordinates,\n * this interpolator is going to generate proper arc transitions.\n * It should be used with the `useAnimatedArc` or `useArcsTransition` hooks.\n */\nexport const interpolateArc = (\n    startAngleValue: SpringValue<number>,\n    endAngleValue: SpringValue<number>,\n    innerRadiusValue: SpringValue<number>,\n    outerRadiusValue: SpringValue<number>,\n    arcGenerator: ArcGenerator\n) =>\n    to(\n        [startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue],\n        (startAngle, endAngle, innerRadius, outerRadius) => {\n            return arcGenerator({\n                startAngle,\n                endAngle,\n                innerRadius: Math.max(0, innerRadius),\n                outerRadius: Math.max(0, outerRadius),\n            })\n        }\n    )\n","import { createElement } from 'react'\nimport { useTheme } from '@nivo/core'\nimport { InheritedColorConfig, useInheritedColor } from '@nivo/colors'\nimport { DatumWithArcAndColor, ArcGenerator } from './types'\nimport { useArcsTransition } from './useArcsTransition'\nimport { ArcTransitionMode } from './arcTransitionMode'\nimport { ArcMouseHandler, ArcShape, ArcShapeProps } from './ArcShape'\n\nexport type ArcComponent<Datum extends DatumWithArcAndColor> = (\n    props: ArcShapeProps<Datum>\n) => JSX.Element\n\ninterface ArcsLayerProps<Datum extends DatumWithArcAndColor> {\n    center: [number, number]\n    data: Datum[]\n    arcGenerator: ArcGenerator\n    borderWidth: number\n    borderColor: InheritedColorConfig<Datum>\n    onClick?: ArcMouseHandler<Datum>\n    onMouseEnter?: ArcMouseHandler<Datum>\n    onMouseMove?: ArcMouseHandler<Datum>\n    onMouseLeave?: ArcMouseHandler<Datum>\n    transitionMode: ArcTransitionMode\n    component?: ArcComponent<Datum>\n}\n\nexport const ArcsLayer = <Datum extends DatumWithArcAndColor>({\n    center,\n    data,\n    arcGenerator,\n    borderWidth,\n    borderColor,\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    transitionMode,\n    component = ArcShape,\n}: ArcsLayerProps<Datum>) => {\n    const theme = useTheme()\n    const getBorderColor = useInheritedColor<Datum>(borderColor, theme)\n\n    const { transition, interpolate } = useArcsTransition<\n        Datum,\n        {\n            opacity: number\n            color: string\n            borderColor: string\n        }\n    >(data, transitionMode, {\n        enter: datum => ({\n            opacity: 0,\n            color: datum.color,\n            borderColor: getBorderColor(datum),\n        }),\n        update: datum => ({\n            opacity: 1,\n            color: datum.color,\n            borderColor: getBorderColor(datum),\n        }),\n        leave: datum => ({\n            opacity: 0,\n            color: datum.color,\n            borderColor: getBorderColor(datum),\n        }),\n    })\n\n    const Arc: ArcComponent<Datum> = component\n\n    return (\n        <g transform={`translate(${center[0]},${center[1]})`}>\n            {transition((transitionProps, datum) => {\n                return createElement(Arc, {\n                    key: datum.id,\n                    datum,\n                    style: {\n                        ...transitionProps,\n                        borderWidth,\n                        path: interpolate(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius,\n                            arcGenerator\n                        ),\n                    },\n                    onClick,\n                    onMouseEnter,\n                    onMouseMove,\n                    onMouseLeave,\n                })\n            })}\n        </g>\n    )\n}\n","import { useTransition } from '@react-spring/web'\nimport { useMotionConfig } from '@nivo/core'\nimport { DatumWithArc } from './types'\nimport { ArcTransitionMode, useArcTransitionMode, TransitionExtra } from './arcTransitionMode'\nimport { interpolateArc } from './interpolateArc'\n\n/**\n * This hook can be used to animate a group of arcs,\n * if you want to animate a single arc,\n * please have a look at the `useAnimatedArc` hook.\n */\nexport const useArcsTransition = <Datum extends DatumWithArc, ExtraProps = unknown>(\n    data: Datum[],\n    mode: ArcTransitionMode = 'innerRadius',\n    extra?: TransitionExtra<Datum, ExtraProps>\n) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const phases = useArcTransitionMode<Datum, ExtraProps>(mode, extra)\n\n    const transition = useTransition<\n        Datum,\n        {\n            progress: number\n            startAngle: number\n            endAngle: number\n            innerRadius: number\n            outerRadius: number\n        } & ExtraProps\n    >(data, {\n        keys: datum => datum.id,\n        initial: phases.update,\n        from: phases.enter,\n        enter: phases.update,\n        update: phases.update,\n        leave: phases.leave,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return {\n        transition,\n        interpolate: interpolateArc,\n    }\n}\n","import { positionFromAngle, degreesToRadians } from '@nivo/core'\n\n/**\n * Computes the bounding box for a circle arc.\n *\n * Assumptions:\n *   - Anywhere the arc intersects an axis will be a max or a min.\n *   - If the arc doesn't intersect an axis, then the center\n *     will be one corner of the bounding rectangle,\n *     and this is the only case when it will be.\n *   - The only other possible extreme points of the sector to consider\n *     are the endpoints of the radii.\n *\n * This script was built within the help of this answer on stackoverflow:\n *   https://stackoverflow.com/questions/1336663/2d-bounding-box-of-a-sector\n */\nexport const computeArcBoundingBox = (\n    centerX: number,\n    centerY: number,\n    radius: number,\n    // in degrees\n    startAngle: number,\n    // in degrees\n    endAngle: number,\n    includeCenter = true\n) => {\n    let points: [number, number][] = []\n\n    const p0 = positionFromAngle(degreesToRadians(startAngle), radius)\n    points.push([p0.x, p0.y])\n\n    const p1 = positionFromAngle(degreesToRadians(endAngle), radius)\n    points.push([p1.x, p1.y])\n\n    for (\n        let angle = Math.round(Math.min(startAngle, endAngle));\n        angle <= Math.round(Math.max(startAngle, endAngle));\n        angle++\n    ) {\n        if (angle % 90 === 0) {\n            const p = positionFromAngle(degreesToRadians(angle), radius)\n            points.push([p.x, p.y])\n        }\n    }\n\n    points = points.map(([x, y]) => [centerX + x, centerY + y])\n    if (includeCenter) {\n        points.push([centerX, centerY])\n    }\n\n    const xs = points.map(([x]) => x)\n    const ys = points.map(([, y]) => y)\n\n    const x0 = Math.min(...xs)\n    const x1 = Math.max(...xs)\n\n    const y0 = Math.min(...ys)\n    const y1 = Math.max(...ys)\n\n    return {\n        points,\n        x: x0,\n        y: y0,\n        width: x1 - x0,\n        height: y1 - y0,\n    }\n}\n","import { getDistance, getAngle } from '@nivo/core'\nimport { Arc } from './types'\n\n/**\n * Check if cursor is in given ring.\n */\nexport const isCursorInRing = (\n    centerX: number,\n    centerY: number,\n    radius: number,\n    innerRadius: number,\n    cursorX: number,\n    cursorY: number\n) => {\n    const distance = getDistance(cursorX, cursorY, centerX, centerY)\n\n    return distance < radius && distance > innerRadius\n}\n\n/**\n * Search for an arc being under cursor.\n */\nexport const findArcUnderCursor = <A extends Arc = Arc>(\n    centerX: number,\n    centerY: number,\n    radius: number,\n    innerRadius: number,\n    arcs: A[],\n    cursorX: number,\n    cursorY: number\n): A | undefined => {\n    if (!isCursorInRing(centerX, centerY, radius, innerRadius, cursorX, cursorY)) {\n        return undefined\n    }\n\n    const cursorAngle = getAngle(cursorX, cursorY, centerX, centerY)\n\n    return arcs.find(\n        ({ startAngle, endAngle }) => cursorAngle >= startAngle && cursorAngle < endAngle\n    )\n}\n","import { useMemo } from 'react'\nimport { arc as d3Arc } from 'd3-shape'\nimport { ArcGenerator, Arc } from './types'\n\n/**\n * Memoize a d3 arc generator.\n *\n * Please note that both inner/outer radius aren't static\n * and should come from the arc itself, while it requires\n * more props on the arcs, it provides more flexibility\n * because it's not limited to pie then but can also work\n * with charts such as sunbursts.\n */\nexport const useArcGenerator = ({\n    cornerRadius = 0,\n    padAngle = 0,\n}: {\n    cornerRadius?: number\n    padAngle?: number\n} = {}): ArcGenerator =>\n    useMemo(\n        () =>\n            d3Arc<Arc>()\n                .innerRadius(arc => arc.innerRadius)\n                .outerRadius(arc => arc.outerRadius)\n                .cornerRadius(cornerRadius)\n                .padAngle(padAngle),\n        [cornerRadius, padAngle]\n    )\n"],"names":["pi","Math","PI","tau","epsilon","tauEpsilon","Path","this","_x0","_y0","_x1","_y1","_","path","prototype","constructor","moveTo","x","y","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","r","x0","y0","x21","y21","x01","y01","l01_2","Error","abs","x20","y20","l21_2","l20_2","l21","sqrt","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","dx","cos","dy","sin","cw","da","rect","w","h","toString","arcInnerRadius","d","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","intersect","x3","y3","x10","y10","x32","y32","t","cornerTangents","r1","rc","lo","ox","oy","x11","y11","x00","y00","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","cornerRadius","padRadius","context","buffer","r0","apply","arguments","t0","t1","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","p1","oc","ax","ay","bx","by","kc","lc","centroid","a","length","defined","curve","output","line","data","i","n","defined0","lineStart","lineEnd","point","p","staticStyle","pointerEvents","ArcLabel","label","style","theme","useTheme","transform","opacity","textAnchor","dominantBaseline","fill","textColor","getNormalizedAngle","angle","normalizedAngle","filterDataBySkipAngle","datum","radiansToDegrees","svgEllipticalArcCommand","arcTransitionModes","arcTransitionModeById","enter","update","leave","middleAngle","centerRadius","pushIn","pushOut","useArcTransitionMode","useMemo","transitionMode","progress","extraTransition","mode","computeArcCenter","midAngle","radius","positionFromAngle","interpolateArcCenter","offset","to","startAngleValue","ArcLabelsLayer","center","labelAccessor","radiusOffset","skipAngle","component","getLabel","usePropertyAccessor","getTextColor","useInheritedColor","useMotionConfig","animate","springConfig","phases","transition","useTransition","keys","initial","from","config","immediate","interpolate","useArcCentersTransition","Label","createElement","key","transitionProps","drawCanvasArcLabels","ctx","labels","useArcLabels","computeExtraProps","position","useArcCenters","useCallback","ArcLinkLabel","stroke","strokeWidth","computeArcLink","centerAngle","point0","point1","side","point2","points","lineGenerator","interpolateLink","interpolateTextAnchor","interpolateTextPosition","useArcLinkLabelsTransition","diagonalLength","straightLength","textOffset","linkColor","getLinkColor","filteredData","useFilteredDataBySkipAngle","transitionPhases","useTransitionPhases","ArcLinkLabelsLayer","thickness","textPosition","drawCanvasArcLinkLabels","textPropsByEngine","index","useArcLinkLabels","links","link","useArcLinks","ArcLine","animatedProps","rest","start","degreesToRadians","end","mid","largeArcFlag","generateSvgArc","ArcShape","onClick","onMouseEnter","onMouseMove","onMouseLeave","handleClick","event","handleMouseEnter","handleMouseMove","handleMouseLeave","undefined","interpolateArc","arcGenerator","ArcsLayer","borderWidth","borderColor","getBorderColor","useArcsTransition","color","Arc","computeArcBoundingBox","includeCenter","centerX","centerY","xs","ys","width","height","findArcUnderCursor","distance","getDistance","cursorX","isCursorInRing","cursorAngle","getAngle","arcs","useArcGenerator"],"sourceRoot":""}