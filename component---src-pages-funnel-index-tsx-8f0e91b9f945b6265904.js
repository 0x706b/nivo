(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[9236],{41584:function(t,e){"use strict";var n=Math.PI,r=2*n,o=1e-6,i=r-o;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new a}a.prototype=s.prototype={constructor:a,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,o,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(t,e,r,i,a){t=+t,e=+e,r=+r,i=+i,a=+a;var s=this._x1,l=this._y1,u=r-t,d=i-e,c=s-t,h=l-e,f=c*c+h*h;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>o)if(Math.abs(h*u-d*c)>o&&a){var p=r-s,y=i-l,v=u*u+d*d,x=p*p+y*y,g=Math.sqrt(v),b=Math.sqrt(f),m=a*Math.tan((n-Math.acos((v+f-x)/(2*g*b)))/2),S=m/b,k=m/g;Math.abs(S-1)>o&&(this._+="L"+(t+S*c)+","+(e+S*h)),this._+="A"+a+","+a+",0,0,"+ +(h*p>c*y)+","+(this._x1=t+k*u)+","+(this._y1=e+k*d)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,a,s,l,u){t=+t,e=+e,u=!!u;var d=(a=+a)*Math.cos(s),c=a*Math.sin(s),h=t+d,f=e+c,p=1^u,y=u?s-l:l-s;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+h+","+f:(Math.abs(this._x1-h)>o||Math.abs(this._y1-f)>o)&&(this._+="L"+h+","+f),a&&(y<0&&(y=y%r+r),y>i?this._+="A"+a+","+a+",0,1,"+p+","+(t-d)+","+(e-c)+"A"+a+","+a+",0,1,"+p+","+(this._x1=h)+","+(this._y1=f):y>o&&(this._+="A"+a+","+a+",0,"+ +(y>=n)+","+p+","+(this._x1=t+a*Math.cos(l))+","+(this._y1=e+a*Math.sin(l))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},e.Z=s},94942:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var r=n(41584),o=n(3583),i=n(30964),a=n(18091),s=n(92519);function l(){var t=s.x,e=null,n=(0,o.Z)(0),l=s.y,u=(0,o.Z)(!0),d=null,c=i.Z,h=null;function f(o){var i,a,s,f,p,y=o.length,v=!1,x=new Array(y),g=new Array(y);for(null==d&&(h=c(p=(0,r.Z)())),i=0;i<=y;++i){if(!(i<y&&u(f=o[i],i,o))===v)if(v=!v)a=i,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),s=i-1;s>=a;--s)h.point(x[s],g[s]);h.lineEnd(),h.areaEnd()}v&&(x[i]=+t(f,i,o),g[i]=+n(f,i,o),h.point(e?+e(f,i,o):x[i],l?+l(f,i,o):g[i]))}if(p)return h=null,p+""||null}function p(){return(0,a.Z)().defined(u).curve(c).context(d)}return f.x=function(n){return arguments.length?(t="function"==typeof n?n:(0,o.Z)(+n),e=null,f):t},f.x0=function(e){return arguments.length?(t="function"==typeof e?e:(0,o.Z)(+e),f):t},f.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:(0,o.Z)(+t),f):e},f.y=function(t){return arguments.length?(n="function"==typeof t?t:(0,o.Z)(+t),l=null,f):n},f.y0=function(t){return arguments.length?(n="function"==typeof t?t:(0,o.Z)(+t),f):n},f.y1=function(t){return arguments.length?(l=null==t?null:"function"==typeof t?t:(0,o.Z)(+t),f):l},f.lineX0=f.lineY0=function(){return p().x(t).y(n)},f.lineY1=function(){return p().x(t).y(l)},f.lineX1=function(){return p().x(e).y(n)},f.defined=function(t){return arguments.length?(u="function"==typeof t?t:(0,o.Z)(!!t),f):u},f.curve=function(t){return arguments.length?(c=t,null!=d&&(h=c(d)),f):c},f.context=function(t){return arguments.length?(null==t?d=h=null:h=c(d=t),f):d},f}},3583:function(t,e,n){"use strict";function r(t){return function(){return t}}n.d(e,{Z:function(){return r}})},18091:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(41584),o=n(3583),i=n(30964),a=n(92519);function s(){var t=a.x,e=a.y,n=(0,o.Z)(!0),s=null,l=i.Z,u=null;function d(o){var i,a,d,c=o.length,h=!1;for(null==s&&(u=l(d=(0,r.Z)())),i=0;i<=c;++i)!(i<c&&n(a=o[i],i,o))===h&&((h=!h)?u.lineStart():u.lineEnd()),h&&u.point(+t(a,i,o),+e(a,i,o));if(d)return u=null,d+""||null}return d.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,o.Z)(+e),d):t},d.y=function(t){return arguments.length?(e="function"==typeof t?t:(0,o.Z)(+t),d):e},d.defined=function(t){return arguments.length?(n="function"==typeof t?t:(0,o.Z)(!!t),d):n},d.curve=function(t){return arguments.length?(l=t,null!=s&&(u=l(s)),d):l},d.context=function(t){return arguments.length?(null==t?s=u=null:u=l(s=t),d):s},d}},92519:function(t,e,n){"use strict";function r(t){return t[0]}function o(t){return t[1]}n.d(e,{x:function(){return r},y:function(){return o}})},48176:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return C}});n(27378);var r=n(48159),o=n.n(r),i=n(15409),a=n.n(i),s=n(27570),l=n(69857),u=n(40499),d=n(62370),c=(0,d.h8)({valueFormat:d.Ld}),h=n(80169),f=n(18907),p=["svg"],y=[{key:"data",group:"Base",type:"Datum[]",required:!0,help:"Chart data.",flavors:["svg"],description:"\n            Chart data, which must conform to this structure:\n\n            ```\n            {\n                id:    string | number\n                label: string\n                value: number\n            }[]\n            ```\n            \n            Datum is a generic and can be overriden, this can be useful\n            to attach a color to each datum for example, and then use\n            this for the `colors` property.            \n        "}].concat((0,f.nk)(p),[{key:"direction",group:"Base",help:"Direction of the chart.",type:"string",required:!1,defaultValue:s.XB.direction,flavors:["svg"],control:{type:"radio",choices:[{label:"horizontal",value:"horizontal"},{label:"vertical",value:"vertical"}]}},{key:"interpolation",group:"Base",type:"string",required:!1,help:"Part shape interpolation.",defaultValue:s.XB.interpolation,flavors:["svg"],control:{type:"radio",choices:[{label:"smooth",value:"smooth"},{label:"linear",value:"linear"}]}},{key:"spacing",group:"Base",help:"Spacing between parts",type:"number",required:!1,defaultValue:s.XB.spacing,flavors:["svg"],control:{type:"range",min:0,max:30,unit:"px"}},{key:"shapeBlending",group:"Base",help:"Blend shapes.",type:"number",required:!1,defaultValue:s.XB.shapeBlending,flavors:["svg"],control:{type:"range",min:0,max:1,step:.01}},{key:"valueFormat",group:"Base",help:"\n            Value format supporting d3-format notation, this formatted value\n            will then be used for labels and tooltips.\n        ",type:"string | Function",required:!1,flavors:["svg"],control:{type:"valueFormat"}},(0,h.JR)(["svg"]),(0,f.at)({flavors:p,defaultValue:s.XB.colors}),{key:"fillOpacity",group:"Style",help:"Part background opacity.",required:!1,defaultValue:s.XB.fillOpacity,type:"number",flavors:["svg"],control:{type:"opacity"}},{key:"borderWidth",group:"Style",help:"Width of part border.",type:"number",required:!1,defaultValue:s.XB.borderWidth,flavors:["svg"],control:{type:"lineWidth"}},{key:"borderColor",group:"Style",help:"Method to compute border color.",description:"\n            how to compute border color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:s.XB.borderColor,flavors:["svg"],control:{type:"inheritedColor"}},{key:"borderOpacity",group:"Style",help:"Part border opacity.",required:!1,defaultValue:s.XB.borderOpacity,type:"number",flavors:["svg"],control:{type:"opacity"}},{key:"enableLabel",group:"Labels",help:"\n            Enable/disable labels. Use styles from\n            theme.labels.text.\n        ",type:"boolean",required:!1,defaultValue:s.XB.enableLabel,flavors:["svg"],control:{type:"switch"}},{key:"labelColor",group:"Labels",help:"Method to compute label color.",description:"\n            how to compute label color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:s.XB.labelColor,flavors:["svg"],control:{type:"inheritedColor"}},{key:"enableBeforeSeparators",group:"Separators",help:"\n            Enable/disable before separators.\n            Separators inherit styles from theme.grid.line.\n        ",type:"boolean",required:!1,defaultValue:s.XB.enableBeforeSeparators,flavors:["svg"],control:{type:"switch"}},{key:"beforeSeparatorLength",group:"Separators",help:"\n            Length of the before separator lines. You should add margin\n            for them to be visible if the value is greater than 0.\n        ",required:!1,defaultValue:s.XB.beforeSeparatorLength,type:"number",flavors:["svg"],control:{type:"range",unit:"px",min:0,max:100}},{key:"beforeSeparatorOffset",group:"Separators",help:"\n            Offset from the parts for the before separator lines.\n            You should add margin for them to be visible\n            if the value is greater than 0.\n        ",required:!1,defaultValue:s.XB.beforeSeparatorOffset,type:"number",flavors:["svg"],control:{type:"range",unit:"px",min:0,max:100}},{key:"enableAfterSeparators",group:"Separators",help:"\n            Enable/disable after separators.\n            Separators inherit styles from theme.grid.line.\n        ",type:"boolean",required:!1,defaultValue:s.XB.enableAfterSeparators,flavors:["svg"],control:{type:"switch"}},{key:"afterSeparatorLength",group:"Separators",help:"\n            Length of the after separator lines. You should add margin\n            for them to be visible if the value is greater than 0.\n        ",required:!1,defaultValue:s.XB.afterSeparatorLength,type:"number",flavors:["svg"],control:{type:"range",unit:"px",min:0,max:100}},{key:"afterSeparatorOffset",group:"Separators",help:"\n            Offset from the parts for the after separator lines.\n            You should add margin for them to be visible\n            if the value is greater than 0.\n        ",required:!1,defaultValue:s.XB.afterSeparatorOffset,type:"number",flavors:["svg"],control:{type:"range",unit:"px",min:0,max:100}},{key:"layers",group:"Customization",help:"Defines the order of layers and add custom layers.",description:"\n            You can also use this to insert extra layers\n            to the chart, the extra layer must be a function.\n            \n            The layer function which will receive the chart's\n            context & computed data and must return a valid SVG element.\n        ",required:!1,type:"Array<string | Function>",flavors:["svg"],defaultValue:s.XB.layers},(0,f.y1)({flavors:["svg"],defaultValue:s.XB.isInteractive}),{key:"currentPartSizeExtension",group:"Interactivity",help:"\n            Expand part size by this amount of pixels on each side\n            when it's active \n        ",required:!1,defaultValue:s.XB.currentPartSizeExtension,type:"number",flavors:["svg"],control:{type:"range",unit:"px",min:0,max:100}},{key:"currentBorderWidth",group:"Interactivity",help:"Override default border width when a part is active.",required:!1,type:"number",flavors:["svg"],control:{type:"range",unit:"px",min:0,max:100}},{key:"onMouseEnter",group:"Interactivity",help:"onMouseEnter handler.",type:"(part, event) => void",required:!1,flavors:["svg"]},{key:"onMouseMove",group:"Interactivity",help:"onMouseMove handler.",type:"(part, event) => void",required:!1,flavors:["svg"]},{key:"onMouseLeave",group:"Interactivity",help:"onMouseLeave handler.",type:"(part, event) => void",required:!1,flavors:["svg"]},{key:"onClick",group:"Interactivity",help:"onClick handler.",type:"(part, event) => void",required:!1,flavors:["svg"]}],(0,h.$j)(["svg"],s.XB,"react-spring")),v=(0,h.R2)(y),x=n(34981),g=n.n(x),b=n(91311),m=n.n(b),S=function(){var t=1e5;return["sent","viewed","clicked","add_to_card","purchased"].map((function(e){return{id:"step_"+e,value:t=Math.round(t*m()(.6,.95)),label:g()(e)}}))},k=n(24246);function M(){return M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M.apply(this,arguments)}var w={margin:{top:20,right:20,bottom:20,left:20},direction:s.XB.direction,interpolation:s.XB.interpolation,shapeBlending:s.XB.shapeBlending,spacing:s.XB.spacing,valueFormat:{format:">-.4s",enabled:!0},colors:{scheme:"spectral"},fillOpacity:s.XB.fillOpacity,borderWidth:20,borderColor:s.XB.borderColor,borderOpacity:s.XB.borderOpacity,enableLabel:s.XB.enableLabel,labelColor:{from:"color",modifiers:[["darker",3]]},enableBeforeSeparators:s.XB.enableBeforeSeparators,beforeSeparatorLength:100,beforeSeparatorOffset:20,enableAfterSeparators:s.XB.enableAfterSeparators,afterSeparatorLength:100,afterSeparatorOffset:20,isInteractive:!0,currentPartSizeExtension:10,currentBorderWidth:40,animate:!0,motionConfig:"wobbly"},C=function(){return(0,k.jsx)(l.T,{name:"Funnel",meta:u.o,icon:"funnel",flavors:u.K,currentFlavor:"svg",properties:v,initialProperties:w,defaultProperties:s.XB,propertiesMapper:c,generateData:S,children:function(t,e,n,r){return(0,k.jsx)(s.mj,M({data:e},t,{theme:a()({},n,{labels:{text:{fontSize:14}}}),onClick:function(t){r({type:"click",label:"[part] id: "+t.data.id+", value: "+t.formattedValue,color:t.color,data:o()(t,["points","areaPoints","borderPoints"])})}}))}})}},54358:function(t,e,n){"use strict";n.d(e,{q6:function(){return W},dS:function(){return j},O2:function(){return S},zs:function(){return k}});var r=n(27378),o=n(48159),i=n.n(o),a=n(78581),s=n.n(a),l=n(69238),u=n.n(l),d=n(45434),c=n(58493),h=n(24246);function f(){return f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f.apply(this,arguments)}var p=4,y=120,v=8,x=function(t){return"circle"===t.type},g=function(t){return"dot"===t.type},b=function(t){return"rect"===t.type},m=function(t){var e,n,r=t.x,o=t.y,i=t.noteX,a=t.noteY,l=t.noteWidth,u=void 0===l?y:l,c=t.noteTextOffset,h=void 0===c?v:c;if(s()(i))e=r+i;else{if(void 0===i.abs)throw new Error("noteX should be either a number or an object containing an 'abs' property");e=i.abs}if(s()(a))n=o+a;else{if(void 0===a.abs)throw new Error("noteY should be either a number or an object containing an 'abs' property");n=a.abs}var f=r,p=o,g=function(t,e,n,r){var o=Math.atan2(r-e,n-t);return(0,d.bt)((0,d.vi)(o))}(r,o,e,n);if(x(t)){var m=(0,d.re)((0,d.Ht)(g),t.size/2);f+=m.x,p+=m.y}if(b(t)){var S=Math.round((g+90)/45)%8;0===S&&(p-=t.height/2),1===S&&(f+=t.width/2,p-=t.height/2),2===S&&(f+=t.width/2),3===S&&(f+=t.width/2,p+=t.height/2),4===S&&(p+=t.height/2),5===S&&(f-=t.width/2,p+=t.height/2),6===S&&(f-=t.width/2),7===S&&(f-=t.width/2,p-=t.height/2)}var k=e,M=e;return(g+90)%360>180?(k-=u,M-=u):M+=u,{points:[[f,p],[e,n],[M,n]],text:[k,n-h],angle:g+90}},S=function(t){var e=t.data,n=t.annotations,o=t.getPosition,a=t.getDimensions;return(0,r.useMemo)((function(){return function(t){var e=t.data,n=t.annotations,r=t.getPosition,o=t.getDimensions;return n.reduce((function(t,n){var a=n.offset||0;return[].concat(t,u()(e,n.match).map((function(t){var e=r(t),s=o(t);return(x(n)||b(n))&&(s.size=s.size+2*a,s.width=s.width+2*a,s.height=s.height+2*a),f({},i()(n,["match","offset"]),e,s,{size:n.size||s.size,datum:t})})))}),[])}({data:e,annotations:n,getPosition:o,getDimensions:a})}),[e,n,o,a])},k=function(t){var e=t.annotations;return(0,r.useMemo)((function(){return e.map((function(t){return f({},t,{computed:m(f({},t))})}))}),[e])},M=function(t){var e=t.datum,n=t.x,o=t.y,a=t.note,s=(0,d.Fg)(),l=(0,d.tf)(),u=l.animate,p=l.config,y=(0,c.useSpring)({x:n,y:o,config:p,immediate:!u});return"function"==typeof a?(0,r.createElement)(a,{x:n,y:o,datum:e}):(0,h.jsxs)(h.Fragment,{children:[s.annotations.text.outlineWidth>0&&(0,h.jsx)(c.q.text,{x:y.x,y:y.y,style:f({},s.annotations.text,{strokeLinejoin:"round",strokeWidth:2*s.annotations.text.outlineWidth,stroke:s.annotations.text.outlineColor}),children:a}),(0,h.jsx)(c.q.text,{x:y.x,y:y.y,style:i()(s.annotations.text,["outlineWidth","outlineColor"]),children:a})]})},w=function(t){var e=t.points,n=t.isOutline,o=void 0!==n&&n,i=(0,d.Fg)(),a=(0,r.useMemo)((function(){var t=e[0];return e.slice(1).reduce((function(t,e){return t+" L"+e[0]+","+e[1]}),"M"+t[0]+","+t[1])}),[e]),s=(0,d.NS)(a);if(o&&i.annotations.link.outlineWidth<=0)return null;var l=f({},i.annotations.link);return o&&(l.strokeLinecap="square",l.strokeWidth=i.annotations.link.strokeWidth+2*i.annotations.link.outlineWidth,l.stroke=i.annotations.link.outlineColor),(0,h.jsx)(c.q.path,{fill:"none",d:s,style:l})},C=function(t){var e=t.x,n=t.y,r=t.size,o=(0,d.Fg)(),i=(0,d.tf)(),a=i.animate,s=i.config,l=(0,c.useSpring)({x:e,y:n,radius:r/2,config:s,immediate:!a});return(0,h.jsxs)(h.Fragment,{children:[o.annotations.outline.outlineWidth>0&&(0,h.jsx)(c.q.circle,{cx:l.x,cy:l.y,r:l.radius,style:f({},o.annotations.outline,{fill:"none",strokeWidth:o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor})}),(0,h.jsx)(c.q.circle,{cx:l.x,cy:l.y,r:l.radius,style:o.annotations.outline})]})},P=function(t){var e=t.x,n=t.y,r=t.size,o=void 0===r?p:r,i=(0,d.Fg)(),a=(0,d.tf)(),s=a.animate,l=a.config,u=(0,c.useSpring)({x:e,y:n,radius:o/2,config:l,immediate:!s});return(0,h.jsxs)(h.Fragment,{children:[i.annotations.outline.outlineWidth>0&&(0,h.jsx)(c.q.circle,{cx:u.x,cy:u.y,r:u.radius,style:f({},i.annotations.outline,{fill:"none",strokeWidth:2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor})}),(0,h.jsx)(c.q.circle,{cx:u.x,cy:u.y,r:u.radius,style:i.annotations.symbol})]})},B=function(t){var e=t.x,n=t.y,r=t.width,o=t.height,i=(0,d.Fg)(),a=(0,d.tf)(),s=a.animate,l=a.config,u=(0,c.useSpring)({x:e-r/2,y:n-o/2,width:r,height:o,config:l,immediate:!s});return(0,h.jsxs)(h.Fragment,{children:[i.annotations.outline.outlineWidth>0&&(0,h.jsx)(c.q.rect,{x:u.x,y:u.y,width:u.width,height:u.height,style:f({},i.annotations.outline,{fill:"none",strokeWidth:i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor})}),(0,h.jsx)(c.q.rect,{x:u.x,y:u.y,width:u.width,height:u.height,style:i.annotations.outline})]})},W=function(t){var e=t.datum,n=t.x,o=t.y,i=t.note,a=function(t){return(0,r.useMemo)((function(){return m(t)}),[t])}(t);if(!function(t){var e=typeof t;return(0,r.isValidElement)(t)||"string"===e||"function"===e||"object"===e}(i))throw new Error("note should be a valid react element");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(w,{points:a.points,isOutline:!0}),x(t)&&(0,h.jsx)(C,{x:n,y:o,size:t.size}),g(t)&&(0,h.jsx)(P,{x:n,y:o,size:t.size}),b(t)&&(0,h.jsx)(B,{x:n,y:o,width:t.width,height:t.height}),(0,h.jsx)(w,{points:a.points}),(0,h.jsx)(M,{datum:e,x:a.text[0],y:a.text[1],note:i})]})},O=function(t,e){e.forEach((function(e,n){var r=e[0],o=e[1];0===n?t.moveTo(r,o):t.lineTo(r,o)}))},j=function(t,e){var n=e.annotations,r=e.theme;0!==n.length&&(t.save(),n.forEach((function(e){if(!function(t){var e=typeof t;return"string"===e||"function"===e}(e.note))throw new Error("note is invalid for canvas implementation");r.annotations.link.outlineWidth>0&&(t.lineCap="square",t.strokeStyle=r.annotations.link.outlineColor,t.lineWidth=r.annotations.link.strokeWidth+2*r.annotations.link.outlineWidth,t.beginPath(),O(t,e.computed.points),t.stroke(),t.lineCap="butt"),x(e)&&r.annotations.outline.outlineWidth>0&&(t.strokeStyle=r.annotations.outline.outlineColor,t.lineWidth=r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,t.beginPath(),t.arc(e.x,e.y,e.size/2,0,2*Math.PI),t.stroke()),g(e)&&r.annotations.symbol.outlineWidth>0&&(t.strokeStyle=r.annotations.symbol.outlineColor,t.lineWidth=2*r.annotations.symbol.outlineWidth,t.beginPath(),t.arc(e.x,e.y,e.size/2,0,2*Math.PI),t.stroke()),b(e)&&r.annotations.outline.outlineWidth>0&&(t.strokeStyle=r.annotations.outline.outlineColor,t.lineWidth=r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,t.beginPath(),t.rect(e.x-e.width/2,e.y-e.height/2,e.width,e.height),t.stroke()),t.strokeStyle=r.annotations.link.stroke,t.lineWidth=r.annotations.link.strokeWidth,t.beginPath(),O(t,e.computed.points),t.stroke(),x(e)&&(t.strokeStyle=r.annotations.outline.stroke,t.lineWidth=r.annotations.outline.strokeWidth,t.beginPath(),t.arc(e.x,e.y,e.size/2,0,2*Math.PI),t.stroke()),g(e)&&(t.fillStyle=r.annotations.symbol.fill,t.beginPath(),t.arc(e.x,e.y,e.size/2,0,2*Math.PI),t.fill()),b(e)&&(t.strokeStyle=r.annotations.outline.stroke,t.lineWidth=r.annotations.outline.strokeWidth,t.beginPath(),t.rect(e.x-e.width/2,e.y-e.height/2,e.width,e.height),t.stroke()),"function"==typeof e.note?e.note(t,{datum:e.datum,x:e.computed.text[0],y:e.computed.text[1],theme:r}):(t.font=r.annotations.text.fontSize+"px "+r.annotations.text.fontFamily,t.fillStyle=r.annotations.text.fill,t.strokeStyle=r.annotations.text.outlineColor,t.lineWidth=2*r.annotations.text.outlineWidth,r.annotations.text.outlineWidth>0&&(t.lineJoin="round",t.strokeText(e.note,e.computed.text[0],e.computed.text[1]),t.lineJoin="miter"),t.fillText(e.note,e.computed.text[0],e.computed.text[1]))})),t.restore())}},27570:function(t,e,n){"use strict";n.d(e,{oe:function(){return O},mj:function(){return j},XB:function(){return v}});var r=n(27378),o=n(45434),i=n(94942),a=n(1520),s=n(30964),l=n(18091),u=n(9841),d=n(79234),c=n(54358),h=n(89193),f=n(24246),p=n(58493);function y(){return y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y.apply(this,arguments)}var v={layers:["separators","parts","labels","annotations"],direction:"vertical",interpolation:"smooth",spacing:0,shapeBlending:.66,colors:{scheme:"nivo"},fillOpacity:1,borderWidth:6,borderColor:{from:"color"},borderOpacity:.66,enableLabel:!0,labelColor:{theme:"background"},enableBeforeSeparators:!0,beforeSeparatorLength:0,beforeSeparatorOffset:0,enableAfterSeparators:!0,afterSeparatorLength:0,afterSeparatorOffset:0,annotations:[],isInteractive:!0,currentPartSizeExtension:0,role:"img",animate:o.FJ.defaultProps.animate,motionConfig:o.FJ.defaultProps.config},x=function(t){var e=t.part;return(0,f.jsx)(h._5,{id:e.data.label,value:e.formattedValue,color:e.color,enableChip:!0})},g=function(t){var e=t.parts,n=t.setCurrentPartId,o=t.isInteractive,i=t.onMouseEnter,a=t.onMouseLeave,s=t.onMouseMove,l=t.onClick,u=t.showTooltipFromEvent,d=t.hideTooltip;return o?e.map((function(t){return y({},t,{onMouseEnter:function(e){n(t.data.id),u((0,r.createElement)(x,{part:t}),e),void 0!==i&&i(t,e)},onMouseLeave:function(e){n(null),d(),void 0!==a&&a(t,e)},onMouseMove:function(e){u((0,r.createElement)(x,{part:t}),e),void 0!==s&&s(t,e)},onClick:void 0!==l?function(e){l(t,e)}:void 0})})):e},b=function(t){var e,n,c=t.data,f=t.width,p=t.height,x=t.direction,b=void 0===x?v.direction:x,m=t.interpolation,S=void 0===m?v.interpolation:m,k=t.spacing,M=void 0===k?v.spacing:k,w=t.shapeBlending,C=void 0===w?v.shapeBlending:w,P=t.valueFormat,B=t.colors,W=void 0===B?v.colors:B,O=t.fillOpacity,j=void 0===O?v.fillOpacity:O,_=t.borderWidth,L=void 0===_?v.borderWidth:_,E=t.borderColor,q=void 0===E?v.borderColor:E,I=t.borderOpacity,F=void 0===I?v.borderOpacity:I,X=t.labelColor,z=void 0===X?v.labelColor:X,Z=t.enableBeforeSeparators,V=void 0===Z?v.enableBeforeSeparators:Z,A=t.beforeSeparatorLength,T=void 0===A?v.beforeSeparatorLength:A,G=t.beforeSeparatorOffset,D=void 0===G?v.beforeSeparatorOffset:G,Y=t.enableAfterSeparators,J=void 0===Y?v.enableAfterSeparators:Y,H=t.afterSeparatorLength,N=void 0===H?v.afterSeparatorLength:H,R=t.afterSeparatorOffset,U=void 0===R?v.afterSeparatorOffset:R,K=t.isInteractive,Q=void 0===K?v.isInteractive:K,$=t.currentPartSizeExtension,tt=void 0===$?v.currentPartSizeExtension:$,et=t.currentBorderWidth,nt=t.onMouseEnter,rt=t.onMouseMove,ot=t.onMouseLeave,it=t.onClick,at=(0,o.Fg)(),st=(0,d.U)(W,"id"),lt=(0,d.Bf)(q,at),ut=(0,d.Bf)(z,at),dt=(0,o.O_)(P),ct=(0,r.useMemo)((function(){return function(t,e){var n=(0,i.Z)();return"vertical"===e?n.curve("smooth"===t?a.ZP:s.Z).x0((function(t){return t.x0})).x1((function(t){return t.x1})).y((function(t){return t.y})):n.curve("smooth"===t?a.ZP:s.Z).y0((function(t){return t.y0})).y1((function(t){return t.y1})).x((function(t){return t.x})),[n,(0,l.Z)().defined((function(t){return null!==t})).x((function(t){return t.x})).y((function(t){return t.y})).curve("smooth"===t?a.ZP:s.Z)]}(S,b)}),[S,b]),ht=ct[0],ft=ct[1],pt=V?T+D:0,yt=J?N+U:0;"vertical"===b?(e=f-pt-yt,n=p):(e=f,n=p-pt-yt);var vt=(0,r.useMemo)((function(){return function(t){var e,n,r=t.data,o=t.direction,i=t.width,a=t.height,s=t.spacing;"vertical"===o?(e=a,n=i):(e=i,n=a);var l=(e-s*(r.length-1))/r.length,d=function(t){return s*t+l*t};d.bandwidth=l;var c=r.map((function(t){return t.value}));return[d,(0,u.Z)().domain([0,Math.max.apply(Math,c)]).range([0,n])]}({data:c,direction:b,width:e,height:n,spacing:M})}),[c,b,e,n,M]),xt=vt[0],gt=vt[1],bt=(0,r.useState)(null),mt=bt[0],St=bt[1],kt=(0,r.useMemo)((function(){var t=c.map((function(t,r){var o,i,a,s,l=t.id===mt;"vertical"===b?(o=gt(t.value),i=xt.bandwidth,s=pt+.5*(e-o),a=xt(r)):(o=xt.bandwidth,i=gt(t.value),s=xt(r),a=pt+.5*(n-i));var u=s+o,d=s+.5*o,c=a+i,h=a+.5*i,f={data:t,width:o,height:i,color:st(t),fillOpacity:j,borderWidth:l&&void 0!==et?et:L,borderOpacity:F,formattedValue:dt(t.value),isCurrent:l,x:d,x0:s,x1:u,y:h,y0:a,y1:c,borderColor:"",labelColor:"",points:[],areaPoints:[],borderPoints:[]};return f.borderColor=lt(f),f.labelColor=ut(f),f})),r=C/2;return t.forEach((function(e,n){var o=t[n+1];if("vertical"===b){e.points.push({x:e.x0,y:e.y0}),e.points.push({x:e.x1,y:e.y0}),o?(e.points.push({x:o.x1,y:e.y1}),e.points.push({x:o.x0,y:e.y1})):(e.points.push({x:e.points[1].x,y:e.y1}),e.points.push({x:e.points[0].x,y:e.y1})),e.isCurrent&&(e.points[0].x-=tt,e.points[1].x+=tt,e.points[2].x+=tt,e.points[3].x-=tt),e.areaPoints=[{x:0,x0:e.points[0].x,x1:e.points[1].x,y:e.y0,y0:0,y1:0}],e.areaPoints.push(y({},e.areaPoints[0],{y:e.y0+e.height*r}));var i={x:0,x0:e.points[3].x,x1:e.points[2].x,y:e.y1,y0:0,y1:0};e.areaPoints.push(y({},i,{y:e.y1-e.height*r})),e.areaPoints.push(i),[0,1,2,3].map((function(t){e.borderPoints.push({x:e.areaPoints[t].x0,y:e.areaPoints[t].y})})),e.borderPoints.push(null),[3,2,1,0].map((function(t){e.borderPoints.push({x:e.areaPoints[t].x1,y:e.areaPoints[t].y})}))}else{e.points.push({x:e.x0,y:e.y0}),o?(e.points.push({x:e.x1,y:o.y0}),e.points.push({x:e.x1,y:o.y1})):(e.points.push({x:e.x1,y:e.y0}),e.points.push({x:e.x1,y:e.y1})),e.points.push({x:e.x0,y:e.y1}),e.isCurrent&&(e.points[0].y-=tt,e.points[1].y-=tt,e.points[2].y+=tt,e.points[3].y+=tt),e.areaPoints=[{x:e.x0,x0:0,x1:0,y:0,y0:e.points[0].y,y1:e.points[3].y}],e.areaPoints.push(y({},e.areaPoints[0],{x:e.x0+e.width*r}));var a={x:e.x1,x0:0,x1:0,y:0,y0:e.points[1].y,y1:e.points[2].y};e.areaPoints.push(y({},a,{x:e.x1-e.width*r})),e.areaPoints.push(a),[0,1,2,3].map((function(t){e.borderPoints.push({x:e.areaPoints[t].x,y:e.areaPoints[t].y0})})),e.borderPoints.push(null),[3,2,1,0].map((function(t){e.borderPoints.push({x:e.areaPoints[t].x,y:e.areaPoints[t].y1})}))}})),t}),[c,b,gt,xt,e,n,pt,yt,C,st,dt,lt,ut,mt]),Mt=(0,h.lL)(),wt=Mt.showTooltipFromEvent,Ct=Mt.hideTooltip,Pt=(0,r.useMemo)((function(){return g({parts:kt,setCurrentPartId:St,isInteractive:Q,onMouseEnter:nt,onMouseLeave:ot,onMouseMove:rt,onClick:it,showTooltipFromEvent:wt,hideTooltip:Ct})}),[kt,St,Q,nt,ot,rt,it,wt,Ct]),Bt=(0,r.useMemo)((function(){return function(t){var e=t.parts,n=t.direction,r=t.width,o=t.height,i=t.spacing,a=t.enableBeforeSeparators,s=t.beforeSeparatorOffset,l=t.enableAfterSeparators,u=t.afterSeparatorOffset,d=[],c=[],h=e[e.length-1];if("vertical"===n){e.forEach((function(t){var e=t.y0-i/2;a&&d.push({partId:t.data.id,x0:0,x1:t.x0-s,y0:e,y1:e}),l&&c.push({partId:t.data.id,x0:t.x1+u,x1:r,y0:e,y1:e})}));var f=h.y1;a&&d.push(y({},d[d.length-1],{partId:"none",y0:f,y1:f})),l&&c.push(y({},c[c.length-1],{partId:"none",y0:f,y1:f}))}else if("horizontal"===n){e.forEach((function(t){var e=t.x0-i/2;d.push({partId:t.data.id,x0:e,x1:e,y0:0,y1:t.y0-s}),c.push({partId:t.data.id,x0:e,x1:e,y0:t.y1+u,y1:o})}));var p=h.x1;d.push(y({},d[d.length-1],{partId:"none",x0:p,x1:p})),c.push(y({},c[c.length-1],{partId:"none",x0:p,x1:p}))}return[d,c]}({parts:kt,direction:b,width:f,height:p,spacing:M,enableBeforeSeparators:V,beforeSeparatorOffset:D,enableAfterSeparators:J,afterSeparatorOffset:U})}),[kt,b,f,p,M,V,D,J,U]),Wt=Bt[0],Ot=Bt[1],jt=(0,r.useMemo)((function(){return{width:f,height:p,parts:Pt,areaGenerator:ht,borderGenerator:ft,beforeSeparators:Wt,afterSeparators:Ot,setCurrentPartId:St}}),[f,p,Pt,ht,ft,Wt,Ot,St]);return{parts:Pt,areaGenerator:ht,borderGenerator:ft,beforeSeparators:Wt,afterSeparators:Ot,setCurrentPartId:St,currentPartId:mt,customLayerProps:jt}},m=function(t){var e=t.part,n=t.areaGenerator,r=t.borderGenerator,i=(0,o.tf)(),a=i.animate,s=i.config,l=(0,o.NS)(n(e.areaPoints)),u=(0,o.NS)(r(e.borderPoints)),d=(0,p.useSpring)({areaColor:e.color,borderWidth:e.borderWidth,borderColor:e.borderColor,config:s,immediate:!a});return(0,f.jsxs)(f.Fragment,{children:[e.borderWidth>0&&(0,f.jsx)(p.q.path,{d:u,stroke:d.borderColor,strokeWidth:d.borderWidth,strokeOpacity:e.borderOpacity,fill:"none"}),(0,f.jsx)(p.q.path,{d:l,fill:d.areaColor,fillOpacity:e.fillOpacity,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseMove:e.onMouseMove,onClick:e.onClick})]})},S=function(t){var e=t.parts,n=t.areaGenerator,r=t.borderGenerator;return(0,f.jsx)(f.Fragment,{children:e.map((function(t){return(0,f.jsx)(m,{part:t,areaGenerator:n,borderGenerator:r},t.data.id)}))})},k=function(t){var e=t.part,n=(0,o.Fg)(),r=(0,o.tf)(),i=r.animate,a=r.config,s=(0,p.useSpring)({transform:"translate("+e.x+", "+e.y+")",color:e.labelColor,config:a,immediate:!i});return(0,f.jsx)(p.q.g,{transform:s.transform,children:(0,f.jsx)(p.q.text,{textAnchor:"middle",dominantBaseline:"central",style:y({},n.labels.text,{fill:s.color,pointerEvents:"none"}),children:e.formattedValue})})},M=function(t){var e=t.parts;return(0,f.jsx)(f.Fragment,{children:e.map((function(t){return(0,f.jsx)(k,{part:t},t.data.id)}))})},w=function(t){var e=t.separator,n=(0,o.Fg)(),r=(0,o.tf)(),i=r.animate,a=r.config,s=(0,p.useSpring)({x1:e.x0,x2:e.x1,y1:e.y0,y2:e.y1,config:a,immediate:!i});return(0,f.jsx)(p.q.line,y({x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2,fill:"none"},n.grid.line))},C=function(t){var e=t.beforeSeparators,n=t.afterSeparators;return(0,f.jsxs)(f.Fragment,{children:[e.map((function(t){return(0,f.jsx)(w,{separator:t},t.partId)})),n.map((function(t){return(0,f.jsx)(w,{separator:t},t.partId)}))]})},P=function(t){var e=function(t,e){return(0,c.O2)({data:t,annotations:e,getPosition:function(t){return{x:t.x,y:t.y}},getDimensions:function(t){var e=t.width,n=t.height;return{size:Math.max(e,n),width:e,height:n}}})}(t.parts,t.annotations);return(0,f.jsx)(f.Fragment,{children:e.map((function(t,e){return(0,f.jsx)(c.q6,y({},t),e)}))})},B=["isInteractive","animate","motionConfig","theme","renderWrapper"],W=function(t){var e=t.data,n=t.width,i=t.height,a=t.margin,s=t.direction,l=void 0===s?v.direction:s,u=t.interpolation,d=void 0===u?v.interpolation:u,c=t.spacing,h=void 0===c?v.spacing:c,p=t.shapeBlending,y=void 0===p?v.shapeBlending:p,x=t.valueFormat,g=t.colors,m=void 0===g?v.colors:g,k=t.fillOpacity,w=void 0===k?v.fillOpacity:k,B=t.borderWidth,W=void 0===B?v.borderWidth:B,O=t.borderColor,j=void 0===O?v.borderColor:O,_=t.borderOpacity,L=void 0===_?v.borderOpacity:_,E=t.enableLabel,q=void 0===E?v.enableLabel:E,I=t.labelColor,F=void 0===I?v.labelColor:I,X=t.enableBeforeSeparators,z=void 0===X?v.enableBeforeSeparators:X,Z=t.beforeSeparatorLength,V=void 0===Z?v.beforeSeparatorLength:Z,A=t.beforeSeparatorOffset,T=void 0===A?v.beforeSeparatorOffset:A,G=t.enableAfterSeparators,D=void 0===G?v.enableAfterSeparators:G,Y=t.afterSeparatorLength,J=void 0===Y?v.afterSeparatorLength:Y,H=t.afterSeparatorOffset,N=void 0===H?v.afterSeparatorOffset:H,R=t.layers,U=void 0===R?v.layers:R,K=t.annotations,Q=void 0===K?v.annotations:K,$=t.isInteractive,tt=void 0===$?v.isInteractive:$,et=t.currentPartSizeExtension,nt=void 0===et?v.currentPartSizeExtension:et,rt=t.currentBorderWidth,ot=t.onMouseEnter,it=t.onMouseMove,at=t.onMouseLeave,st=t.onClick,lt=t.role,ut=void 0===lt?v.role:lt,dt=t.ariaLabel,ct=t.ariaLabelledBy,ht=t.ariaDescribedBy,ft=(0,o.Bs)(n,i,a),pt=ft.margin,yt=ft.innerWidth,vt=ft.innerHeight,xt=ft.outerWidth,gt=ft.outerHeight,bt=b({data:e,width:yt,height:vt,direction:l,interpolation:d,spacing:h,shapeBlending:y,valueFormat:x,colors:m,fillOpacity:w,borderWidth:W,borderColor:j,borderOpacity:L,labelColor:F,enableBeforeSeparators:z,beforeSeparatorLength:V,beforeSeparatorOffset:T,enableAfterSeparators:D,afterSeparatorLength:J,afterSeparatorOffset:N,isInteractive:tt,currentPartSizeExtension:nt,currentBorderWidth:rt,onMouseEnter:ot,onMouseMove:it,onMouseLeave:at,onClick:st}),mt=bt.areaGenerator,St=bt.borderGenerator,kt=bt.parts,Mt=bt.beforeSeparators,wt=bt.afterSeparators,Ct=bt.customLayerProps,Pt={separators:null,parts:null,annotations:null,labels:null};return U.includes("separators")&&(Pt.separators=(0,f.jsx)(C,{beforeSeparators:Mt,afterSeparators:wt},"separators")),U.includes("parts")&&(Pt.parts=(0,f.jsx)(S,{parts:kt,areaGenerator:mt,borderGenerator:St},"parts")),null!=U&&U.includes("annotations")&&(Pt.annotations=(0,f.jsx)(P,{parts:kt,annotations:Q},"annotations")),U.includes("labels")&&q&&(Pt.labels=(0,f.jsx)(M,{parts:kt},"labels")),(0,f.jsx)(o.tM,{width:xt,height:gt,margin:pt,role:ut,ariaLabel:dt,ariaLabelledBy:ct,ariaDescribedBy:ht,children:U.map((function(t,e){var n;return"function"==typeof t?(0,f.jsx)(r.Fragment,{children:(0,r.createElement)(t,Ct)},e):null!=(n=null==Pt?void 0:Pt[t])?n:null}))})},O=function(t){var e=t.isInteractive,n=void 0===e?v.isInteractive:e,r=t.animate,i=void 0===r?v.animate:r,a=t.motionConfig,s=void 0===a?v.motionConfig:a,l=t.theme,u=t.renderWrapper,d=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,B);return(0,f.jsx)(o.W2,{animate:i,isInteractive:n,motionConfig:s,renderWrapper:u,theme:l,children:(0,f.jsx)(W,y({isInteractive:n},d))})},j=function(t){return(0,f.jsx)(o.d,{children:function(e){var n=e.width,r=e.height;return(0,f.jsx)(O,y({width:n,height:r},t))}})}},98129:function(t,e,n){var r=n(52033);t.exports=function(t,e){var n=[];return r(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}},76418:function(t){var e=Math.floor,n=Math.random;t.exports=function(t,r){return t+e(n()*(r-t+1))}},69238:function(t,e,n){var r=n(10263),o=n(98129),i=n(89278),a=n(19785);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},91311:function(t,e,n){var r=n(76418),o=n(57535),i=n(94919),a=parseFloat,s=Math.min,l=Math.random;t.exports=function(t,e,n){if(n&&"boolean"!=typeof n&&o(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=i(t),void 0===e?(e=t,t=0):e=i(e)),t>e){var u=t;t=e,e=u}if(n||t%1||e%1){var d=l();return s(t+d*(e-t+a("1e-"+((d+"").length-1))),e)}return r(t,e)}},34981:function(t,e,n){var r=n(68267),o=n(76744),i=r((function(t,e,n){return t+(n?" ":"")+o(e)}));t.exports=i}}]);
//# sourceMappingURL=component---src-pages-funnel-index-tsx-8f0e91b9f945b6265904.js.map