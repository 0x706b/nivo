{"version":3,"sources":["webpack:///../node_modules/d3-array/src/ascending.js","webpack:///../node_modules/d3-array/src/bisect.js","webpack:///../node_modules/d3-array/src/bisector.js","webpack:///../node_modules/d3-array/src/cross.js","webpack:///../node_modules/d3-array/src/array.js","webpack:///../node_modules/d3-array/src/range.js","webpack:///../node_modules/d3-array/src/ticks.js","webpack:///../node_modules/d3-array/src/threshold/sturges.js","webpack:///../node_modules/d3-array/src/merge.js","webpack:///../node_modules/d3-array/src/index.js","webpack:///./src/pages/chord/index.js","webpack:///./src/data/components/chord/props.js","webpack:///../node_modules/d3-chord/src/math.js","webpack:///../node_modules/d3-chord/src/chord.js","webpack:///../node_modules/d3-chord/src/array.js","webpack:///../node_modules/d3-chord/src/constant.js","webpack:///../node_modules/d3-chord/src/ribbon.js","webpack:///../node_modules/d3-chord/src/index.js","webpack:///./src/data/components/chord/mapper.js","webpack:///../node_modules/lodash/mapValues.js","webpack:///../packages/chord/dist/nivo-chord.esm.js"],"names":["a","b","NaN","f","ascending","length","compare","d","x","Array","prototype","slice","map","start","stop","step","n","arguments","i","Math","max","ceil","range","sqrt","m","merged","array","arrays","j","initialProperties","margin","top","right","bottom","left","valueFormat","padAngle","innerRadiusRatio","innerRadiusOffset","arcOpacity","arcBorderWidth","arcBorderColor","from","modifiers","ribbonOpacity","ribbonBorderWidth","ribbonBorderColor","enableLabel","label","labelOffset","labelRotation","labelTextColor","colors","scheme","isInteractive","arcHoverOpacity","arcHoverOthersOpacity","ribbonHoverOpacity","ribbonHoverOthersOpacity","animate","motionStiffness","motionDamping","legends","anchor","direction","justify","translateX","translateY","itemWidth","itemHeight","itemsSpacing","itemTextColor","itemDirection","symbolSize","symbolShape","onClick","alert","JSON","stringify","effects","on","style","generateData","generateChordData","size","Chord","name","meta","icon","flavors","currentFlavor","properties","groups","propertiesMapper","mapper","codePropertiesMapper","data","keys","dataKey","getTabData","matrix","theme","logAction","onArcClick","arc","type","color","onRibbonClick","ribbon","source","target","props","key","group","help","description","required","enableControlForFlavors","controlType","controlOptions","unit","min","defaultValue","defaults","choices","choice","value","layers","getLegendsProps","shouldCreate","addLabel","shouldRemove","getItemTitle","index","legend","dataFrom","motionProperties","groupProperties","cos","sin","pi","PI","halfPi","tau","compareValue","sortGroups","sortSubgroups","sortChords","chord","k","x0","dx","groupSums","groupIndex","subgroupIndex","chords","subgroups","push","sort","forEach","di","dj","v","a0","a1","subindex","startAngle","endAngle","_","defaultSource","defaultTarget","defaultRadius","radius","defaultStartAngle","defaultEndAngle","context","buffer","argv","call","s","apply","this","t","sr","sa0","sa1","sx0","sy0","tr","ta0","ta1","moveTo","quadraticCurveTo","closePath","constant","settingsMapper","id","baseAssignValue","baseForOwn","baseIteratee","module","exports","object","iteratee","result","ChordArcTooltip","memo","_ref","React","createElement","BasicTooltip","formattedValue","enableChip","displayName","ChordRibbonTooltip","useTheme","TableTooltip","rows","Chip","_objectSpread","ownKeys","Object","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","_defineProperty","obj","defineProperty","configurable","writable","commonPropTypes","PropTypes","arrayOf","string","isRequired","number","oneOfType","func","oneOf","inheritedColorPropType","onArcMouseEnter","onArcMouseMove","onArcMouseLeave","arcTooltip","ribbonBlendMode","blendModePropType","onRibbonMouseEnter","onRibbonMouseMove","onRibbonMouseLeave","ribbonTooltip","bool","ordinalColorsPropType","shape","LegendPropShape","commonDefaultProps","motionPropTypes","pixelRatio","ChordDefaultProps","ChordCanvasDefaultProps","global","window","devicePixelRatio","_defineProperty$1","_slicedToArray","arr","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","err","_iterableToArrayLimit","TypeError","_nonIterableRest","useChordLayout","useMemo","computeChordLayout","useChordGenerators","_ref2","width","height","center","innerRadius","ribbonRadius","arcGenerator","outerRadius","ribbonGenerator","computeChordGenerators","useChord","_ref4","_useChordGenerators","getLabel","getLabelGenerator","formatValue","useValueFormatter","getColor","useOrdinalColorScale","_useChordArcsAndRibbo","_ref3","ribbons","arcs","join","computeChordArcsAndRibbons","useChordArcsAndRibbons","useChordSelection","_ref5","_useState2","useState","currentArc","setCurrentArc","_useState4","currentRibbon","setCurrentRibbon","selection","selectedArcIds","selectedRibbonIds","hasSelection","getArcOpacity","includes","getRibbonOpacity","_objectSpread$1","useChordLayerContext","_ref6","_objectSpread$2","_defineProperty$2","ChordRibbon","sourceStartAngle","sourceEndAngle","targetStartAngle","targetEndAngle","opacity","borderWidth","getBorderColor","blendMode","setCurrent","onMouseEnter","onMouseMove","onMouseLeave","tooltip","_useTooltip","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","event","handleMouseMove","handleMouseLeave","handleClick","fill","fillOpacity","strokeWidth","stroke","strokeOpacity","mixBlendMode","_objectSpread$3","_defineProperty$3","getRibbonAngles","useMiddleAngle","springConfig","firstArc","secondArc","angles","firstMiddleAngle","midAngle","secondMiddleAngle","mapValues","angle","spring","ribbonWillEnter","interpolateColor","ribbonWillLeave","ChordRibbons","getOpacity","_useMotionConfig","useMotionConfig","_springConfig","precision","TransitionMotion","willEnter","willLeave","styles","interpolatedStyles","Fragment","getInterpolatedColor","ChordArc","_objectSpread$4","_defineProperty$4","ChordArcs","_objectSpread$5","_defineProperty$5","ChordLabels","rotation","textProps","getPolarLabelProps","transform","y","rotate","labels","text","pointerEvents","textAnchor","align","dominantBaseline","baseline","_extends","assign","hasOwnProperty","partialMargin","_useDimensions","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","_useChord","_useChordSelection","getLabelTextColor","useInheritedColor","getArcBorderColor","getRibbonBorderColor","layerContext","legendData","layerById","BoxLegendSvg","containerWidth","containerHeight","SvgWrapper","layer","defaultProps","Chord$1","withContainer","_objectSpread$6","_defineProperty$6","_slicedToArray$1","_arrayWithHoles$1","_iterableToArrayLimit$1","_nonIterableRest$1","getArcFromMouseEvent","canvasEl","_getRelativeCursor2","getRelativeCursor","centerX","centerY","getHoveredArc","ChordCanvas","useRef","useEffect","current","ctx","getContext","scale","fillStyle","background","fillRect","save","translate","globalAlpha","beginPath","strokeStyle","lineWidth","restore","font","fontSize","fontFamily","degreesToRadians","textAlign","textBaseline","fillText","renderLegendToCanvas","handleMouseHover","useCallback","ref","cursor","ChordCanvas$1","_extends$1","ResponsiveChord","ResponsiveWrapper","_extends$2","ResponsiveChordCanvas"],"mappings":"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","file":"component---src-pages-chord-index-js-719b5ad17a461837c78c.js","sourcesContent":["export default function (a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;","import ascending from \"./ascending\";\nexport default function (compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function left(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n      }\n\n      return lo;\n    },\n    right: function right(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n      }\n\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function (d, x) {\n    return ascending(f(d), x);\n  };\n}","import { pair } from \"./pairs\";\nexport default function (values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}","import \"core-js/modules/es6.array.map\";\nvar array = Array.prototype;\nexport var slice = array.slice;\nexport var map = array.map;","export default function (start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\nexport default function (start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n\n    while (++i < n) {\n      ticks[i] = (start + i) * step;\n    }\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n\n    while (++i < n) {\n      ticks[i] = (start - i) / step;\n    }\n  }\n\n  if (reverse) ticks.reverse();\n  return ticks;\n}\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}","export default function (values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}","export default function (arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) {\n    j += arrays[i].length;\n  }\n\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}","export { default as bisect, bisectRight, bisectLeft } from \"./bisect\";\nexport { default as ascending } from \"./ascending\";\nexport { default as bisector } from \"./bisector\";\nexport { default as cross } from \"./cross\";\nexport { default as descending } from \"./descending\";\nexport { default as deviation } from \"./deviation\";\nexport { default as extent } from \"./extent\";\nexport { default as histogram } from \"./histogram\";\nexport { default as thresholdFreedmanDiaconis } from \"./threshold/freedmanDiaconis\";\nexport { default as thresholdScott } from \"./threshold/scott\";\nexport { default as thresholdSturges } from \"./threshold/sturges\";\nexport { default as max } from \"./max\";\nexport { default as mean } from \"./mean\";\nexport { default as median } from \"./median\";\nexport { default as merge } from \"./merge\";\nexport { default as min } from \"./min\";\nexport { default as pairs } from \"./pairs\";\nexport { default as permute } from \"./permute\";\nexport { default as quantile } from \"./quantile\";\nexport { default as range } from \"./range\";\nexport { default as scan } from \"./scan\";\nexport { default as shuffle } from \"./shuffle\";\nexport { default as sum } from \"./sum\";\nexport { default as ticks, tickIncrement, tickStep } from \"./ticks\";\nexport { default as transpose } from \"./transpose\";\nexport { default as variance } from \"./variance\";\nexport { default as zip } from \"./zip\";","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { generateChordData } from '@nivo/generators'\nimport { ResponsiveChord } from '@nivo/chord'\nimport ComponentTemplate from '../../components/components/ComponentTemplate'\nimport meta from '../../data/components/chord/meta.yml'\nimport mapper from '../../data/components/chord/mapper'\nimport { groups } from '../../data/components/chord/props'\n\nconst MATRIX_SIZE = 5\n\nconst initialProperties = {\n    margin: {\n        top: 60,\n        right: 60,\n        bottom: 90,\n        left: 60,\n    },\n\n    valueFormat: '.2f',\n\n    padAngle: 0.02,\n    innerRadiusRatio: 0.96,\n    innerRadiusOffset: 0.02,\n\n    arcOpacity: 1,\n    arcBorderWidth: 1,\n    arcBorderColor: {\n        from: 'color',\n        modifiers: [['darker', 0.4]],\n    },\n\n    ribbonOpacity: 0.5,\n    ribbonBorderWidth: 1,\n    ribbonBorderColor: {\n        from: 'color',\n        modifiers: [['darker', 0.4]],\n    },\n\n    enableLabel: true,\n    label: 'id',\n    labelOffset: 12,\n    labelRotation: -90,\n    labelTextColor: {\n        from: 'color',\n        modifiers: [['darker', 1]],\n    },\n\n    colors: { scheme: 'nivo' },\n\n    isInteractive: true,\n    arcHoverOpacity: 1,\n    arcHoverOthersOpacity: 0.25,\n    ribbonHoverOpacity: 0.75,\n    ribbonHoverOthersOpacity: 0.25,\n\n    animate: true,\n    motionStiffness: 90,\n    motionDamping: 7,\n\n    legends: [\n        {\n            anchor: 'bottom',\n            direction: 'row',\n            justify: false,\n            translateX: 0,\n            translateY: 70,\n            itemWidth: 80,\n            itemHeight: 14,\n            itemsSpacing: 0,\n            itemTextColor: '#999',\n            itemDirection: 'left-to-right',\n            symbolSize: 12,\n            symbolShape: 'circle',\n            onClick: d => {\n                alert(JSON.stringify(d, null, '    '))\n            },\n            effects: [\n                {\n                    on: 'hover',\n                    style: {\n                        itemTextColor: '#000',\n                    },\n                },\n            ],\n        },\n    ],\n}\n\nconst generateData = () => generateChordData({ size: MATRIX_SIZE })\n\nconst Chord = () => {\n    return (\n        <ComponentTemplate\n            name=\"Chord\"\n            meta={meta.Chord}\n            icon=\"chord\"\n            flavors={meta.flavors}\n            currentFlavor=\"svg\"\n            properties={groups}\n            initialProperties={initialProperties}\n            propertiesMapper={mapper}\n            codePropertiesMapper={(properties, data) => ({\n                keys: data.keys,\n                ...properties,\n            })}\n            generateData={generateData}\n            dataKey=\"matrix\"\n            getTabData={data => data.matrix}\n        >\n            {(properties, data, theme, logAction) => {\n                return (\n                    <ResponsiveChord\n                        matrix={data.matrix}\n                        keys={data.keys}\n                        {...properties}\n                        theme={theme}\n                        onArcClick={arc => {\n                            logAction({\n                                type: 'click',\n                                label: `[arc] ${arc.label}`,\n                                color: arc.color,\n                                data: arc,\n                            })\n                        }}\n                        onRibbonClick={ribbon => {\n                            logAction({\n                                type: 'click',\n                                label: `[ribbon] ${ribbon.source.label} —> ${ribbon.target.label}`,\n                                color: ribbon.source.color,\n                                data: ribbon,\n                            })\n                        }}\n                    />\n                )\n            }}\n        </ComponentTemplate>\n    )\n}\n\nexport default Chord\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { ChordDefaultProps as defaults } from '@nivo/chord'\nimport {\n    motionProperties,\n    groupProperties,\n    getLegendsProps,\n} from '../../../lib/componentProperties'\n\nconst props = [\n    {\n        key: 'keys',\n        group: 'Base',\n        help: 'Keys used to identify each cell in the matrix.',\n        description: `\n            Keys used to identify each cell in the matrix,\n            for example given this matrix:\n            \\`\\`\\`\n            [ [123, 37,  99 ],\n              [75,  103, 82 ],\n              [37,  65,  109] ]\n            \\`\\`\\`\n            and those keys:\n            \\`\\`\\`\n            ['John', 'Jane', 'Raoul']\n            \\`\\`\\`\n            it will result in the following mapping:\n            \\`\\`\\`\n            [ [null,    'John', 'Jane',  'Raoul']\n              ['John',   123,    37,      99    ],\n              ['Jane',   75,     103,     82    ],\n              ['Raoul',  37,     65,      109   ] ]\n            \\`\\`\\`\n        `,\n        required: true,\n        type: 'string[]',\n    },\n    {\n        key: 'matrix',\n        group: 'Base',\n        help: 'The matrix used to compute the chord diagram.',\n        description: `\n            The matrix used to compute the chord diagram,\n            it must be a square matrix, meaning each row length\n            must equal the row count.\n        `,\n        required: true,\n        type: 'Array<number[]>',\n    },\n    {\n        key: 'valueFormat',\n        group: 'Base',\n        type: 'string | Function',\n        required: false,\n        help: `Optional value formatter.`,\n    },\n    {\n        key: 'width',\n        enableControlForFlavors: ['api'],\n        help: 'Chart width.',\n        description: `\n            not required if using\n            \\`<ResponsiveChord/>\\`.\n            Also note that width does not include labels,\n            so you should add enough margin to display them.\n        `,\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1000,\n            step: 5,\n        },\n    },\n    {\n        key: 'height',\n        enableControlForFlavors: ['api'],\n        help: 'Chart height.',\n        description: `\n            not required if using\n            \\`<ResponsiveChord/>\\`.\n            Also note that width does not include labels,\n            so you should add enough margin to display them.\n        `,\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1000,\n            step: 5,\n        },\n    },\n    {\n        key: 'pixelRatio',\n        flavors: ['canvas'],\n        help: `Adjust pixel ratio, useful for HiDPI screens.`,\n        required: false,\n        defaultValue: 'Depends on device',\n        type: `number`,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            min: 1,\n            max: 2,\n        },\n    },\n    {\n        key: 'margin',\n        help: 'Chart margin.',\n        type: 'object',\n        required: false,\n        controlType: 'margin',\n        group: 'Base',\n    },\n    {\n        key: 'padAngle',\n        help: 'Padding angle.',\n        required: false,\n        defaultValue: defaults.padAngle,\n        type: 'number',\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            min: 0,\n            max: 1,\n            step: 0.01,\n        },\n    },\n    {\n        key: 'innerRadiusRatio',\n        help: 'Inner radius ratio.',\n        required: false,\n        defaultValue: defaults.innerRadiusRatio,\n        type: 'number',\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            min: 0,\n            max: 1,\n            step: 0.01,\n        },\n    },\n    {\n        key: 'innerRadiusOffset',\n        help: 'Inner radius offset (minus innerRadiusRatio).',\n        required: false,\n        defaultValue: defaults.innerRadiusOffset,\n        type: 'number',\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            min: 0,\n            max: 1,\n            step: 0.01,\n        },\n    },\n    {\n        key: 'colors',\n        help: 'Defines how to compute arc/ribbon color.',\n        type: 'string | Function | string[]',\n        required: false,\n        defaultValue: defaults.colors,\n        controlType: 'ordinalColors',\n        group: 'Style',\n    },\n    {\n        key: 'arcOpacity',\n        help: 'Arcs opacity.',\n        required: false,\n        defaultValue: defaults.arcOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Style',\n    },\n    {\n        key: 'arcBorderWidth',\n        help: 'Arcs border width.',\n        required: false,\n        defaultValue: defaults.arcBorderWidth,\n        type: 'number',\n        controlType: 'lineWidth',\n        group: 'Style',\n    },\n    {\n        key: 'arcBorderColor',\n        help: 'Arcs border color.',\n        required: false,\n        defaultValue: defaults.arcBorderColor,\n        type: 'string | object | Function',\n        controlType: 'inheritedColor',\n        group: 'Style',\n    },\n    {\n        key: 'ribbonOpacity',\n        help: 'Ribbons opacity.',\n        required: false,\n        defaultValue: defaults.ribbonOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Style',\n    },\n    {\n        key: 'ribbonBorderWidth',\n        help: 'Ribbons border width.',\n        required: false,\n        defaultValue: defaults.ribbonBorderWidth,\n        type: 'number',\n        controlType: 'lineWidth',\n        group: 'Style',\n    },\n    {\n        key: 'ribbonBorderColor',\n        help: 'Ribbons border color.',\n        required: false,\n        defaultValue: defaults.ribbonBorderColor,\n        type: 'string | object | Function',\n        controlType: 'inheritedColor',\n        group: 'Style',\n    },\n    {\n        key: 'enableLabel',\n        help: 'Enable/disable labels.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableLabel,\n        controlType: 'switch',\n        group: 'Labels',\n    },\n    {\n        key: 'label',\n        help:\n            'Defines how to get label text, can be a string (used to access current arc data property) or a function which will receive the actual arc data.',\n        type: 'string | Function',\n        required: false,\n        defaultValue: defaults.label,\n        controlType: 'choices',\n        group: 'Labels',\n        controlOptions: {\n            choices: ['id', 'value', `d => \\`\\${d.id} [\\${d.value}]\\``].map(choice => ({\n                label: choice,\n                value: choice,\n            })),\n        },\n    },\n    {\n        key: 'labelOffset',\n        help: 'Label offset from arc.',\n        required: false,\n        defaultValue: defaults.labelOffset,\n        type: 'number',\n        controlType: 'range',\n        group: 'Labels',\n        controlOptions: {\n            unit: 'px',\n            min: -80,\n            max: 80,\n        },\n    },\n    {\n        key: 'labelRotation',\n        help: 'Label rotation.',\n        required: false,\n        defaultValue: defaults.labelRotation,\n        type: 'number',\n        controlType: 'angle',\n        group: 'Labels',\n        controlOptions: {\n            min: -180,\n            max: 180,\n            step: 5,\n        },\n    },\n    {\n        key: 'labelTextColor',\n        help: 'Labels color.',\n        description: `\n            How to compute label text color,\n            [see dedicated documentation](self:/guides/colors).\n        `,\n        help: 'Method to compute label text color.',\n        type: 'string | object | Function',\n        required: false,\n        defaultValue: defaults.labelTextColor,\n        controlType: 'inheritedColor',\n        group: 'Labels',\n    },\n    {\n        key: 'layers',\n        group: 'Customization',\n        help: 'Defines the order of layers and add custom layers.',\n        description: `\n            You can also use this to insert extra layers\n            to the chart, the extra layer must be a function.\n            \n            The layer function which will receive the chart's\n            context & computed data and must return a valid SVG element\n            for the \\`Chord\\` component.\n\n            When using the canvas implementation, the function\n            will receive the canvas 2d context as first argument\n            and the chart's context and computed data as second.\n\n            Please make sure to use \\`context.save()\\` and\n            \\`context.restore()\\` if you make some global\n            modifications to the 2d context inside this function\n            to avoid side effects.\n        `,\n        required: false,\n        type: 'Array<string | Function>',\n        defaultValue: defaults.layers,\n    },\n    {\n        key: 'isInteractive',\n        flavors: ['svg', 'canvas'],\n        help: 'Enable/disable interactivity.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.isInteractive,\n        controlType: 'switch',\n        group: 'Interactivity',\n    },\n    {\n        key: 'arcHoverOpacity',\n        flavors: ['svg', 'canvas'],\n        help: 'Arc opacity when hover (0~1).',\n        required: false,\n        defaultValue: defaults.arcHoverOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Interactivity',\n    },\n    {\n        key: 'arcHoverOthersOpacity',\n        flavors: ['svg', 'canvas'],\n        help: 'Arc opacity when not hover (0~1).',\n        required: false,\n        defaultValue: defaults.arcHoverOthersOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Interactivity',\n    },\n    {\n        key: 'ribbonHoverOpacity',\n        flavors: ['svg', 'canvas'],\n        help: 'Ribbon opacity when hover (0~1).',\n        required: false,\n        defaultValue: defaults.ribbonHoverOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Interactivity',\n    },\n    {\n        key: 'ribbonHoverOthersOpacity',\n        flavors: ['svg', 'canvas'],\n        help: 'Ribbon opacity when not hover (0~1).',\n        required: false,\n        defaultValue: defaults.ribbonHoverOthersOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Interactivity',\n    },\n    {\n        key: 'onArcMouseEnter',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        help: 'onMouseEnter handler for arcs.',\n        type: '(arc, event) => void',\n        required: false,\n    },\n    {\n        key: 'onArcMouseMove',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        help: 'onMouseMove handler for arcs.',\n        type: '(arc, event) => void',\n        required: false,\n    },\n    {\n        key: 'onArcMouseLeave',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        help: 'onMouseLeave handler for arcs.',\n        type: '(arc, event) => void',\n        required: false,\n    },\n    {\n        key: 'onArcClick',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        help: 'onClick handler for arcs.',\n        type: '(arc, event) => void',\n        required: false,\n    },\n    {\n        key: 'arcTooltip',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        type: 'Function',\n        required: false,\n        help: 'Custom arc tooltip component.',\n        description: `\n            A function allowing complete arc tooltip customisation,\n            it must return a valid HTML\n            element and will receive the arcs's data.\n        `,\n    },\n    {\n        key: 'onRibbonMouseEnter',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        help: 'onMouseEnter handler for ribbons.',\n        type: '(ribbon, event) => void',\n        required: false,\n    },\n    {\n        key: 'onRibbonMouseMove',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        help: 'onMouseMove handler for ribbons.',\n        type: '(ribbon, event) => void',\n        required: false,\n    },\n    {\n        key: 'onRibbonMouseLeave',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        help: 'onMouseLeave handler for ribbons.',\n        type: '(ribbon, event) => void',\n        required: false,\n    },\n    {\n        key: 'onRibbonClick',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        help: 'onClick handler for ribbons.',\n        type: '(ribbon, event) => void',\n        required: false,\n    },\n    {\n        key: 'ribbonTooltip',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        type: 'Function',\n        required: false,\n        help: 'Custom ribbon tooltip component.',\n        description: `\n            A function allowing complete ribbon tooltip customisation,\n            it must return a valid HTML\n            element and will receive the ribbon's data.\n        `,\n    },\n    {\n        key: 'legends',\n        flavors: ['svg', 'canvas'],\n        type: 'object[]',\n        help: `Optional chart's legends.`,\n        group: 'Legends',\n        controlType: 'array',\n        controlOptions: {\n            props: getLegendsProps(['svg', 'canvas']),\n            shouldCreate: true,\n            addLabel: 'add legend',\n            shouldRemove: true,\n            getItemTitle: (index, legend) =>\n                `legend[${index}]: ${legend.anchor}, ${legend.direction}`,\n            defaults: {\n                dataFrom: 'keys',\n                anchor: 'top-left',\n                direction: 'column',\n                justify: false,\n                translateX: 0,\n                translateY: 0,\n                itemWidth: 100,\n                itemHeight: 20,\n                itemsSpacing: 0,\n                symbolSize: 20,\n                itemDirection: 'left-to-right',\n                onClick: data => {\n                    alert(JSON.stringify(data, null, '    '))\n                },\n            },\n        },\n    },\n    ...motionProperties(['svg'], defaults),\n]\n\nexport const groups = groupProperties(props)\n","export var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.sort\";\nimport { range } from \"d3-array\";\nimport { max, tau } from \"./math\";\n\nfunction compareValue(compare) {\n  return function (a, b) {\n    return compare(a.source.value + a.target.value, b.source.value + b.target.value);\n  };\n}\n\nexport default function () {\n  var padAngle = 0,\n      sortGroups = null,\n      sortSubgroups = null,\n      sortChords = null;\n\n  function chord(matrix) {\n    var n = matrix.length,\n        groupSums = [],\n        groupIndex = range(n),\n        subgroupIndex = [],\n        chords = [],\n        groups = chords.groups = new Array(n),\n        subgroups = new Array(n * n),\n        k,\n        x,\n        x0,\n        dx,\n        i,\n        j; // Compute the sum.\n\n    k = 0, i = -1;\n\n    while (++i < n) {\n      x = 0, j = -1;\n\n      while (++j < n) {\n        x += matrix[i][j];\n      }\n\n      groupSums.push(x);\n      subgroupIndex.push(range(n));\n      k += x;\n    } // Sort groups…\n\n\n    if (sortGroups) groupIndex.sort(function (a, b) {\n      return sortGroups(groupSums[a], groupSums[b]);\n    }); // Sort subgroups…\n\n    if (sortSubgroups) subgroupIndex.forEach(function (d, i) {\n      d.sort(function (a, b) {\n        return sortSubgroups(matrix[i][a], matrix[i][b]);\n      });\n    }); // Convert the sum to scaling factor for [0, 2pi].\n    // TODO Allow start and end angle to be specified?\n    // TODO Allow padding to be specified as percentage?\n\n    k = max(0, tau - padAngle * n) / k;\n    dx = k ? padAngle : tau / n; // Compute the start and end angle for each group and subgroup.\n    // Note: Opera has a bug reordering object literal properties!\n\n    x = 0, i = -1;\n\n    while (++i < n) {\n      x0 = x, j = -1;\n\n      while (++j < n) {\n        var di = groupIndex[i],\n            dj = subgroupIndex[di][j],\n            v = matrix[di][dj],\n            a0 = x,\n            a1 = x += v * k;\n        subgroups[dj * n + di] = {\n          index: di,\n          subindex: dj,\n          startAngle: a0,\n          endAngle: a1,\n          value: v\n        };\n      }\n\n      groups[di] = {\n        index: di,\n        startAngle: x0,\n        endAngle: x,\n        value: groupSums[di]\n      };\n      x += dx;\n    } // Generate chords for each (non-empty) subgroup-subgroup link.\n\n\n    i = -1;\n\n    while (++i < n) {\n      j = i - 1;\n\n      while (++j < n) {\n        var source = subgroups[j * n + i],\n            target = subgroups[i * n + j];\n\n        if (source.value || target.value) {\n          chords.push(source.value < target.value ? {\n            source: target,\n            target: source\n          } : {\n            source: source,\n            target: target\n          });\n        }\n      }\n    }\n\n    return sortChords ? chords.sort(sortChords) : chords;\n  }\n\n  chord.padAngle = function (_) {\n    return arguments.length ? (padAngle = max(0, _), chord) : padAngle;\n  };\n\n  chord.sortGroups = function (_) {\n    return arguments.length ? (sortGroups = _, chord) : sortGroups;\n  };\n\n  chord.sortSubgroups = function (_) {\n    return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;\n  };\n\n  chord.sortChords = function (_) {\n    return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;\n  };\n\n  return chord;\n}","export var slice = Array.prototype.slice;","export default function (x) {\n  return function () {\n    return x;\n  };\n}","import { slice } from \"./array\";\nimport constant from \"./constant\";\nimport { cos, halfPi, sin } from \"./math\";\nimport { path } from \"d3-path\";\n\nfunction defaultSource(d) {\n  return d.source;\n}\n\nfunction defaultTarget(d) {\n  return d.target;\n}\n\nfunction defaultRadius(d) {\n  return d.radius;\n}\n\nfunction defaultStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction defaultEndAngle(d) {\n  return d.endAngle;\n}\n\nexport default function () {\n  var source = defaultSource,\n      target = defaultTarget,\n      radius = defaultRadius,\n      startAngle = defaultStartAngle,\n      endAngle = defaultEndAngle,\n      context = null;\n\n  function ribbon() {\n    var buffer,\n        argv = slice.call(arguments),\n        s = source.apply(this, argv),\n        t = target.apply(this, argv),\n        sr = +radius.apply(this, (argv[0] = s, argv)),\n        sa0 = startAngle.apply(this, argv) - halfPi,\n        sa1 = endAngle.apply(this, argv) - halfPi,\n        sx0 = sr * cos(sa0),\n        sy0 = sr * sin(sa0),\n        tr = +radius.apply(this, (argv[0] = t, argv)),\n        ta0 = startAngle.apply(this, argv) - halfPi,\n        ta1 = endAngle.apply(this, argv) - halfPi;\n    if (!context) context = buffer = path();\n    context.moveTo(sx0, sy0);\n    context.arc(0, 0, sr, sa0, sa1);\n\n    if (sa0 !== ta0 || sa1 !== ta1) {\n      // TODO sr !== tr?\n      context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));\n      context.arc(0, 0, tr, ta0, ta1);\n    }\n\n    context.quadraticCurveTo(0, 0, sx0, sy0);\n    context.closePath();\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  ribbon.radius = function (_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : radius;\n  };\n\n  ribbon.startAngle = function (_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : startAngle;\n  };\n\n  ribbon.endAngle = function (_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : endAngle;\n  };\n\n  ribbon.source = function (_) {\n    return arguments.length ? (source = _, ribbon) : source;\n  };\n\n  ribbon.target = function (_) {\n    return arguments.length ? (target = _, ribbon) : target;\n  };\n\n  ribbon.context = function (_) {\n    return arguments.length ? (context = _ == null ? null : _, ribbon) : context;\n  };\n\n  return ribbon;\n}","export { default as chord } from \"./chord\";\nexport { default as ribbon } from \"./ribbon\";","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { settingsMapper } from '../../../lib/settings'\n\nexport default settingsMapper({\n    label: value => {\n        if (value === `d => \\`\\${d.id} [\\${d.value}]\\``) return d => `${d.id} [${d.value}]`\n        return value\n    },\n})\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\n\n\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n  baseForOwn(object, function (value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;","import React, { memo, useMemo, useState, Fragment, useRef, useEffect, useCallback } from 'react';\nimport { useTheme, blendModePropType, motionPropTypes, getLabelGenerator, useValueFormatter, useMotionConfig, midAngle, getPolarLabelProps, withContainer, useDimensions, SvgWrapper, degreesToRadians, getHoveredArc, getRelativeCursor, ResponsiveWrapper } from '@nivo/core';\nimport { inheritedColorPropType, ordinalColorsPropType, useOrdinalColorScale, interpolateColor, getInterpolatedColor, useInheritedColor } from '@nivo/colors';\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport PropTypes from 'prop-types';\nimport { BasicTooltip, TableTooltip, Chip, useTooltip } from '@nivo/tooltip';\nimport { arc } from 'd3-shape';\nimport { chord, ribbon } from 'd3-chord';\nimport mapValues from 'lodash/mapValues';\nimport { TransitionMotion, spring } from 'react-motion';\n\nvar ChordArcTooltip = memo(function (_ref) {\n  var arc = _ref.arc;\n  return React.createElement(BasicTooltip, {\n    id: arc.label,\n    value: arc.formattedValue,\n    color: arc.color,\n    enableChip: true\n  });\n});\nChordArcTooltip.displayName = 'ChordArcTooltip';\nChordArcTooltip.propTypes = {\n  arc: PropTypes.object.isRequired\n};\n\nvar ChordRibbonTooltip = memo(function (_ref) {\n  var ribbon = _ref.ribbon;\n  var theme = useTheme();\n  return React.createElement(TableTooltip, {\n    theme: theme,\n    rows: [[React.createElement(Chip, {\n      key: \"chip\",\n      color: ribbon.source.color\n    }), React.createElement(\"strong\", {\n      key: \"id\"\n    }, ribbon.source.label), ribbon.source.formattedValue], [React.createElement(Chip, {\n      key: \"chip\",\n      color: ribbon.target.color\n    }), React.createElement(\"strong\", {\n      key: \"id\"\n    }, ribbon.target.label), ribbon.target.formattedValue]]\n  });\n});\nChordRibbonTooltip.displayName = 'ChordRibbonTooltip';\nChordRibbonTooltip.propTypes = {\n  ribbon: PropTypes.object.isRequired\n};\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar commonPropTypes = {\n  keys: PropTypes.arrayOf(PropTypes.string).isRequired,\n  matrix: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)).isRequired,\n  valueFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  padAngle: PropTypes.number.isRequired,\n  innerRadiusRatio: PropTypes.number.isRequired,\n  innerRadiusOffset: PropTypes.number.isRequired,\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['ribbons', 'arcs', 'labels', 'legends']), PropTypes.func])).isRequired,\n  arcOpacity: PropTypes.number.isRequired,\n  arcHoverOpacity: PropTypes.number.isRequired,\n  arcHoverOthersOpacity: PropTypes.number.isRequired,\n  arcBorderWidth: PropTypes.number.isRequired,\n  arcBorderColor: inheritedColorPropType.isRequired,\n  onArcMouseEnter: PropTypes.func,\n  onArcMouseMove: PropTypes.func,\n  onArcMouseLeave: PropTypes.func,\n  onArcClick: PropTypes.func,\n  arcTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  ribbonOpacity: PropTypes.number.isRequired,\n  ribbonHoverOpacity: PropTypes.number.isRequired,\n  ribbonHoverOthersOpacity: PropTypes.number.isRequired,\n  ribbonBorderWidth: PropTypes.number.isRequired,\n  ribbonBorderColor: inheritedColorPropType.isRequired,\n  ribbonBlendMode: blendModePropType.isRequired,\n  onRibbonMouseEnter: PropTypes.func,\n  onRibbonMouseMove: PropTypes.func,\n  onRibbonMouseLeave: PropTypes.func,\n  onRibbonClick: PropTypes.func,\n  ribbonTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  enableLabel: PropTypes.bool.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  labelOffset: PropTypes.number.isRequired,\n  labelRotation: PropTypes.number.isRequired,\n  labelTextColor: inheritedColorPropType.isRequired,\n  colors: ordinalColorsPropType.isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired\n};\nvar ChordPropTypes = _objectSpread({}, commonPropTypes, motionPropTypes);\nvar ChordCanvasPropTypes = _objectSpread({\n  pixelRatio: PropTypes.number.isRequired\n}, commonPropTypes);\nvar commonDefaultProps = {\n  padAngle: 0,\n  innerRadiusRatio: 0.9,\n  innerRadiusOffset: 0,\n  layers: ['ribbons', 'arcs', 'labels', 'legends'],\n  arcOpacity: 1,\n  arcHoverOpacity: 1,\n  arcHoverOthersOpacity: 0.15,\n  arcBorderWidth: 1,\n  arcBorderColor: {\n    from: 'color',\n    modifiers: [['darker', 0.4]]\n  },\n  arcTooltip: ChordArcTooltip,\n  ribbonOpacity: 0.5,\n  ribbonHoverOpacity: 0.85,\n  ribbonHoverOthersOpacity: 0.15,\n  ribbonBorderWidth: 1,\n  ribbonBorderColor: {\n    from: 'color',\n    modifiers: [['darker', 0.4]]\n  },\n  ribbonBlendMode: 'normal',\n  ribbonTooltip: ChordRibbonTooltip,\n  enableLabel: true,\n  label: 'id',\n  labelOffset: 12,\n  labelRotation: 0,\n  labelTextColor: {\n    from: 'color',\n    modifiers: [['darker', 1]]\n  },\n  colors: {\n    scheme: 'nivo'\n  },\n  legends: [],\n  isInteractive: true\n};\nvar ChordDefaultProps = _objectSpread({}, commonDefaultProps, {\n  animate: true,\n  motionStiffness: 90,\n  motionDamping: 15\n});\nvar ChordCanvasDefaultProps = _objectSpread({}, commonDefaultProps, {\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n});\n\nvar computeChordLayout = function computeChordLayout(_ref) {\n  var padAngle = _ref.padAngle;\n  return chord().padAngle(padAngle);\n};\nvar computeChordGenerators = function computeChordGenerators(_ref2) {\n  var width = _ref2.width,\n      height = _ref2.height,\n      innerRadiusRatio = _ref2.innerRadiusRatio,\n      innerRadiusOffset = _ref2.innerRadiusOffset;\n  var center = [width / 2, height / 2];\n  var radius = Math.min(width, height) / 2;\n  var innerRadius = radius * innerRadiusRatio;\n  var ribbonRadius = radius * (innerRadiusRatio - innerRadiusOffset);\n  var arcGenerator = arc().outerRadius(radius).innerRadius(innerRadius);\n  var ribbonGenerator = ribbon().radius(ribbonRadius);\n  return {\n    center: center,\n    radius: radius,\n    innerRadius: innerRadius,\n    arcGenerator: arcGenerator,\n    ribbonGenerator: ribbonGenerator\n  };\n};\nvar computeChordArcsAndRibbons = function computeChordArcsAndRibbons(_ref3) {\n  var chord = _ref3.chord,\n      getColor = _ref3.getColor,\n      keys = _ref3.keys,\n      matrix = _ref3.matrix,\n      getLabel = _ref3.getLabel,\n      formatValue = _ref3.formatValue;\n  var ribbons = chord(matrix);\n  var arcs = ribbons.groups.map(function (arc) {\n    arc.id = keys[arc.index];\n    arc.color = getColor(arc);\n    arc.formattedValue = formatValue(arc.value);\n    arc.label = getLabel(arc);\n    return arc;\n  });\n  ribbons.forEach(function (ribbon) {\n    ribbon.source.id = keys[ribbon.source.index];\n    ribbon.source.color = getColor(ribbon.source);\n    ribbon.source.formattedValue = formatValue(ribbon.source.value);\n    ribbon.source.label = getLabel(ribbon.source);\n    ribbon.target.id = keys[ribbon.target.index];\n    ribbon.target.color = getColor(ribbon.target);\n    ribbon.target.formattedValue = formatValue(ribbon.target.value);\n    ribbon.target.label = getLabel(ribbon.target);\n    ribbon.id = [ribbon.source.id, ribbon.target.id].sort().join('.');\n  });\n  return {\n    arcs: arcs,\n    ribbons: ribbons\n  };\n};\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar useChordLayout = function useChordLayout(_ref) {\n  var padAngle = _ref.padAngle;\n  return useMemo(function () {\n    return computeChordLayout({\n      padAngle: padAngle\n    });\n  }, [padAngle]);\n};\nvar useChordGenerators = function useChordGenerators(_ref2) {\n  var width = _ref2.width,\n      height = _ref2.height,\n      innerRadiusRatio = _ref2.innerRadiusRatio,\n      innerRadiusOffset = _ref2.innerRadiusOffset;\n  return useMemo(function () {\n    return computeChordGenerators({\n      width: width,\n      height: height,\n      innerRadiusRatio: innerRadiusRatio,\n      innerRadiusOffset: innerRadiusOffset\n    });\n  }, [width, height, innerRadiusRatio, innerRadiusOffset]);\n};\nvar useChordArcsAndRibbons = function useChordArcsAndRibbons(_ref3) {\n  var chord = _ref3.chord,\n      getColor = _ref3.getColor,\n      keys = _ref3.keys,\n      matrix = _ref3.matrix,\n      getLabel = _ref3.getLabel,\n      formatValue = _ref3.formatValue;\n  return useMemo(function () {\n    return computeChordArcsAndRibbons({\n      chord: chord,\n      getColor: getColor,\n      keys: keys,\n      matrix: matrix,\n      getLabel: getLabel,\n      formatValue: formatValue\n    });\n  }, [chord, getColor, keys, matrix, getLabel, formatValue]);\n};\nvar useChord = function useChord(_ref4) {\n  var keys = _ref4.keys,\n      matrix = _ref4.matrix,\n      label = _ref4.label,\n      valueFormat = _ref4.valueFormat,\n      width = _ref4.width,\n      height = _ref4.height,\n      innerRadiusRatio = _ref4.innerRadiusRatio,\n      innerRadiusOffset = _ref4.innerRadiusOffset,\n      padAngle = _ref4.padAngle,\n      colors = _ref4.colors;\n  var chord = useChordLayout({\n    padAngle: padAngle\n  });\n  var _useChordGenerators = useChordGenerators({\n    width: width,\n    height: height,\n    innerRadiusRatio: innerRadiusRatio,\n    innerRadiusOffset: innerRadiusOffset\n  }),\n      center = _useChordGenerators.center,\n      radius = _useChordGenerators.radius,\n      innerRadius = _useChordGenerators.innerRadius,\n      arcGenerator = _useChordGenerators.arcGenerator,\n      ribbonGenerator = _useChordGenerators.ribbonGenerator;\n  var getLabel = useMemo(function () {\n    return getLabelGenerator(label);\n  }, [label]);\n  var formatValue = useValueFormatter(valueFormat);\n  var getColor = useOrdinalColorScale(colors, 'id');\n  var _useChordArcsAndRibbo = useChordArcsAndRibbons({\n    chord: chord,\n    getColor: getColor,\n    keys: keys,\n    matrix: matrix,\n    getLabel: getLabel,\n    formatValue: formatValue\n  }),\n      arcs = _useChordArcsAndRibbo.arcs,\n      ribbons = _useChordArcsAndRibbo.ribbons;\n  return {\n    center: center,\n    chord: chord,\n    radius: radius,\n    innerRadius: innerRadius,\n    arcGenerator: arcGenerator,\n    ribbonGenerator: ribbonGenerator,\n    getColor: getColor,\n    arcs: arcs,\n    ribbons: ribbons\n  };\n};\nvar useChordSelection = function useChordSelection(_ref5) {\n  var arcs = _ref5.arcs,\n      arcOpacity = _ref5.arcOpacity,\n      arcHoverOpacity = _ref5.arcHoverOpacity,\n      arcHoverOthersOpacity = _ref5.arcHoverOthersOpacity,\n      ribbons = _ref5.ribbons,\n      ribbonOpacity = _ref5.ribbonOpacity,\n      ribbonHoverOpacity = _ref5.ribbonHoverOpacity,\n      ribbonHoverOthersOpacity = _ref5.ribbonHoverOthersOpacity;\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentArc = _useState2[0],\n      setCurrentArc = _useState2[1];\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentRibbon = _useState4[0],\n      setCurrentRibbon = _useState4[1];\n  var selection = useMemo(function () {\n    var selectedArcIds = [];\n    var selectedRibbonIds = [];\n    if (currentArc) {\n      selectedArcIds.push(currentArc.id);\n      ribbons.filter(function (ribbon) {\n        return ribbon.source.id === currentArc.id || ribbon.target.id === currentArc.id;\n      }).forEach(function (ribbon) {\n        selectedRibbonIds.push(ribbon.id);\n      });\n    }\n    if (currentRibbon) {\n      selectedArcIds.push(currentRibbon.source.id);\n      selectedArcIds.push(currentRibbon.target.id);\n      selectedRibbonIds.push(currentRibbon.id);\n    }\n    return {\n      selectedArcIds: selectedArcIds,\n      selectedRibbonIds: selectedRibbonIds\n    };\n  }, [currentArc, currentRibbon, arcs, ribbons]);\n  var hasSelection = selection.selectedArcIds.length > 1 || selection.selectedRibbonIds.length > 0;\n  var getArcOpacity = useMemo(function () {\n    return function (arc) {\n      if (!hasSelection) return arcOpacity;\n      return selection.selectedArcIds.includes(arc.id) ? arcHoverOpacity : arcHoverOthersOpacity;\n    };\n  }, [selection.selectedArcIds, arcOpacity, arcHoverOpacity, arcHoverOthersOpacity]);\n  var getRibbonOpacity = useMemo(function () {\n    return function (ribbon) {\n      if (!hasSelection) return ribbonOpacity;\n      return selection.selectedRibbonIds.includes(ribbon.id) ? ribbonHoverOpacity : ribbonHoverOthersOpacity;\n    };\n  }, [selection.selectedRibbonIds, ribbonOpacity, ribbonHoverOpacity, ribbonHoverOthersOpacity]);\n  return _objectSpread$1({\n    currentArc: currentArc,\n    setCurrentArc: setCurrentArc,\n    currentRibbon: currentRibbon,\n    setCurrentRibbon: setCurrentRibbon,\n    hasSelection: hasSelection\n  }, selection, {\n    getArcOpacity: getArcOpacity,\n    getRibbonOpacity: getRibbonOpacity\n  });\n};\nvar useChordLayerContext = function useChordLayerContext(_ref6) {\n  var center = _ref6.center,\n      radius = _ref6.radius,\n      arcs = _ref6.arcs,\n      arcGenerator = _ref6.arcGenerator,\n      ribbons = _ref6.ribbons,\n      ribbonGenerator = _ref6.ribbonGenerator;\n  return useMemo(function () {\n    return {\n      center: center,\n      radius: radius,\n      arcs: arcs,\n      arcGenerator: arcGenerator,\n      ribbons: ribbons,\n      ribbonGenerator: ribbonGenerator\n    };\n  }, [center, radius, arcs, arcGenerator, ribbons, ribbonGenerator]);\n};\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar ChordRibbon = memo(function (_ref) {\n  var ribbon = _ref.ribbon,\n      ribbonGenerator = _ref.ribbonGenerator,\n      sourceStartAngle = _ref.sourceStartAngle,\n      sourceEndAngle = _ref.sourceEndAngle,\n      targetStartAngle = _ref.targetStartAngle,\n      targetEndAngle = _ref.targetEndAngle,\n      color = _ref.color,\n      opacity = _ref.opacity,\n      borderWidth = _ref.borderWidth,\n      getBorderColor = _ref.getBorderColor,\n      blendMode = _ref.blendMode,\n      isInteractive = _ref.isInteractive,\n      setCurrent = _ref.setCurrent,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip;\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseEnter = useMemo(function () {\n    if (!isInteractive) return undefined;\n    return function (event) {\n      setCurrent(ribbon);\n      showTooltipFromEvent(React.createElement(tooltip, {\n        ribbon: ribbon\n      }), event);\n      onMouseEnter && onMouseEnter(ribbon, event);\n    };\n  }, [isInteractive, showTooltipFromEvent, tooltip, ribbon, onMouseEnter]);\n  var handleMouseMove = useMemo(function () {\n    if (!isInteractive) return undefined;\n    return function (event) {\n      showTooltipFromEvent(React.createElement(tooltip, {\n        ribbon: ribbon\n      }), event);\n      onMouseMove && onMouseMove(ribbon, event);\n    };\n  }, [isInteractive, showTooltipFromEvent, tooltip, ribbon, onMouseMove]);\n  var handleMouseLeave = useMemo(function () {\n    if (!isInteractive) return undefined;\n    return function (event) {\n      setCurrent(null);\n      hideTooltip();\n      onMouseLeave && onMouseLeave(ribbon, event);\n    };\n  }, [isInteractive, hideTooltip, ribbon, onMouseLeave]);\n  var handleClick = useMemo(function () {\n    if (!isInteractive || !onClick) return undefined;\n    return function (event) {\n      return onClick(ribbon, event);\n    };\n  }, [isInteractive, ribbon, onClick]);\n  return React.createElement(\"path\", {\n    d: ribbonGenerator({\n      source: {\n        startAngle: sourceStartAngle,\n        endAngle: sourceEndAngle\n      },\n      target: {\n        startAngle: targetStartAngle,\n        endAngle: targetEndAngle\n      }\n    }),\n    fill: color,\n    fillOpacity: opacity,\n    strokeWidth: borderWidth,\n    stroke: getBorderColor(_objectSpread$2({}, ribbon, {\n      color: color\n    })),\n    strokeOpacity: opacity,\n    style: {\n      mixBlendMode: blendMode\n    },\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick\n  });\n});\nChordRibbon.displayName = 'ChordRibbon';\nChordRibbon.propTypes = {\n  ribbon: PropTypes.object.isRequired,\n  ribbonGenerator: PropTypes.func.isRequired,\n  sourceStartAngle: PropTypes.number.isRequired,\n  sourceEndAngle: PropTypes.number.isRequired,\n  targetStartAngle: PropTypes.number.isRequired,\n  targetEndAngle: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  blendMode: blendModePropType.isRequired,\n  opacity: PropTypes.number.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  setCurrent: PropTypes.func.isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired\n};\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$3(target, key, source[key]); }); } return target; }\nfunction _defineProperty$3(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar getRibbonAngles = function getRibbonAngles(_ref, useMiddleAngle, springConfig) {\n  var source = _ref.source,\n      target = _ref.target;\n  var firstArc;\n  var secondArc;\n  if (source.startAngle < target.startAngle) {\n    firstArc = source;\n    secondArc = target;\n  } else {\n    firstArc = target;\n    secondArc = source;\n  }\n  var angles;\n  if (useMiddleAngle === true) {\n    var firstMiddleAngle = midAngle(firstArc);\n    var secondMiddleAngle = midAngle(secondArc);\n    angles = {\n      sourceStartAngle: firstMiddleAngle,\n      sourceEndAngle: firstMiddleAngle,\n      targetStartAngle: secondMiddleAngle,\n      targetEndAngle: secondMiddleAngle\n    };\n  } else {\n    angles = {\n      sourceStartAngle: firstArc.startAngle,\n      sourceEndAngle: firstArc.endAngle,\n      targetStartAngle: secondArc.startAngle,\n      targetEndAngle: secondArc.endAngle\n    };\n  }\n  if (!springConfig) return angles;\n  return mapValues(angles, function (angle) {\n    return spring(angle, springConfig);\n  });\n};\nvar ribbonWillEnter = function ribbonWillEnter(_ref2) {\n  var ribbon = _ref2.data;\n  return _objectSpread$3({}, getRibbonAngles(ribbon, true), {\n    opacity: 0\n  }, interpolateColor(ribbon.source.color));\n};\nvar ribbonWillLeave = function ribbonWillLeave(springConfig) {\n  return function (_ref3) {\n    var ribbon = _ref3.data;\n    return _objectSpread$3({}, getRibbonAngles(ribbon, true, springConfig), {\n      opacity: 0\n    }, interpolateColor(ribbon.source.color, springConfig));\n  };\n};\nvar ChordRibbons = memo(function (_ref4) {\n  var ribbons = _ref4.ribbons,\n      ribbonGenerator = _ref4.ribbonGenerator,\n      borderWidth = _ref4.borderWidth,\n      getBorderColor = _ref4.getBorderColor,\n      getOpacity = _ref4.getOpacity,\n      blendMode = _ref4.blendMode,\n      isInteractive = _ref4.isInteractive,\n      setCurrent = _ref4.setCurrent,\n      onMouseEnter = _ref4.onMouseEnter,\n      onMouseMove = _ref4.onMouseMove,\n      onMouseLeave = _ref4.onMouseLeave,\n      onClick = _ref4.onClick,\n      tooltip = _ref4.tooltip;\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      _springConfig = _useMotionConfig.springConfig;\n  if (animate !== true) {\n    return React.createElement(\"g\", null, ribbons.map(function (ribbon) {\n      return React.createElement(ChordRibbon, {\n        key: ribbon.id,\n        ribbon: ribbon,\n        ribbonGenerator: ribbonGenerator,\n        sourceStartAngle: ribbon.source.startAngle,\n        sourceEndAngle: ribbon.source.endAngle,\n        targetStartAngle: ribbon.target.startAngle,\n        targetEndAngle: ribbon.target.endAngle,\n        color: ribbon.source.color,\n        blendMode: blendMode,\n        opacity: getOpacity(ribbon),\n        borderWidth: borderWidth,\n        getBorderColor: getBorderColor,\n        isInteractive: isInteractive,\n        setCurrent: setCurrent,\n        onMouseEnter: onMouseEnter,\n        onMouseMove: onMouseMove,\n        onMouseLeave: onMouseLeave,\n        onClick: onClick,\n        tooltip: tooltip\n      });\n    }));\n  }\n  var springConfig = _objectSpread$3({}, _springConfig, {\n    precision: 0.001\n  });\n  return React.createElement(TransitionMotion, {\n    willEnter: ribbonWillEnter,\n    willLeave: ribbonWillLeave(springConfig),\n    styles: ribbons.map(function (ribbon) {\n      return {\n        key: ribbon.id,\n        data: ribbon,\n        style: _objectSpread$3({}, getRibbonAngles(ribbon, false, springConfig), {\n          opacity: spring(getOpacity(ribbon), springConfig)\n        }, interpolateColor(ribbon.source.color, springConfig))\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(React.Fragment, null, interpolatedStyles.map(function (_ref5) {\n      var key = _ref5.key,\n          style = _ref5.style,\n          ribbon = _ref5.data;\n      var color = getInterpolatedColor(style);\n      return React.createElement(ChordRibbon, {\n        key: key,\n        ribbon: ribbon,\n        ribbonGenerator: ribbonGenerator,\n        sourceStartAngle: style.sourceStartAngle,\n        sourceEndAngle: Math.max(style.sourceEndAngle, style.sourceStartAngle),\n        targetStartAngle: style.targetStartAngle,\n        targetEndAngle: Math.max(style.targetEndAngle, style.targetStartAngle),\n        color: color,\n        blendMode: blendMode,\n        opacity: style.opacity,\n        borderWidth: borderWidth,\n        getBorderColor: getBorderColor,\n        isInteractive: isInteractive,\n        setCurrent: setCurrent,\n        onMouseEnter: onMouseEnter,\n        onMouseMove: onMouseMove,\n        onMouseLeave: onMouseLeave,\n        onClick: onClick,\n        tooltip: tooltip\n      });\n    }));\n  });\n});\nChordRibbons.displayName = 'ChordRibbons';\nChordRibbons.propTypes = {\n  ribbons: PropTypes.array.isRequired,\n  ribbonGenerator: PropTypes.func.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  getOpacity: PropTypes.func.isRequired,\n  blendMode: blendModePropType.isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  setCurrent: PropTypes.func.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func\n};\n\nvar ChordArc = memo(function (_ref) {\n  var arc = _ref.arc,\n      startAngle = _ref.startAngle,\n      endAngle = _ref.endAngle,\n      borderWidth = _ref.borderWidth,\n      getBorderColor = _ref.getBorderColor,\n      opacity = _ref.opacity,\n      arcGenerator = _ref.arcGenerator,\n      setCurrent = _ref.setCurrent,\n      isInteractive = _ref.isInteractive,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip;\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseEnter = useMemo(function () {\n    if (!isInteractive) return undefined;\n    return function (event) {\n      setCurrent(arc);\n      showTooltipFromEvent(React.createElement(tooltip, {\n        arc: arc\n      }), event);\n      onMouseEnter && onMouseEnter(arc, event);\n    };\n  }, [isInteractive, showTooltipFromEvent, tooltip, arc, onMouseEnter]);\n  var handleMouseMove = useMemo(function () {\n    if (!isInteractive) return undefined;\n    return function (event) {\n      showTooltipFromEvent(React.createElement(tooltip, {\n        arc: arc\n      }), event);\n      onMouseMove && onMouseMove(arc, event);\n    };\n  }, [isInteractive, showTooltipFromEvent, tooltip, arc, onMouseMove]);\n  var handleMouseLeave = useMemo(function () {\n    if (!isInteractive) return undefined;\n    return function (event) {\n      setCurrent(null);\n      hideTooltip();\n      onMouseLeave && onMouseLeave(arc, event);\n    };\n  }, [isInteractive, hideTooltip, arc, onMouseLeave]);\n  var handleClick = useMemo(function () {\n    if (!isInteractive || !onClick) return undefined;\n    return function (event) {\n      return onClick(arc, event);\n    };\n  }, [isInteractive, arc, onClick]);\n  return React.createElement(\"path\", {\n    d: arcGenerator({\n      startAngle: startAngle,\n      endAngle: endAngle\n    }),\n    fill: arc.color,\n    fillOpacity: opacity,\n    strokeWidth: borderWidth,\n    stroke: getBorderColor(arc),\n    strokeOpacity: opacity,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick\n  });\n});\nChordArc.displayName = 'ChordArc';\nChordArc.propTypes = {\n  arc: PropTypes.object.isRequired,\n  startAngle: PropTypes.number.isRequired,\n  endAngle: PropTypes.number.isRequired,\n  arcGenerator: PropTypes.func.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  opacity: PropTypes.number.isRequired,\n  setCurrent: PropTypes.func.isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired\n};\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$4(target, key, source[key]); }); } return target; }\nfunction _defineProperty$4(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar ChordArcs = memo(function (_ref) {\n  var arcs = _ref.arcs,\n      borderWidth = _ref.borderWidth,\n      getBorderColor = _ref.getBorderColor,\n      getOpacity = _ref.getOpacity,\n      arcGenerator = _ref.arcGenerator,\n      setCurrent = _ref.setCurrent,\n      isInteractive = _ref.isInteractive,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip;\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      _springConfig = _useMotionConfig.springConfig;\n  if (animate !== true) {\n    return arcs.map(function (arc) {\n      return React.createElement(ChordArc, {\n        key: arc.id,\n        arc: arc,\n        arcGenerator: arcGenerator,\n        startAngle: arc.startAngle,\n        endAngle: arc.endAngle,\n        color: arc.color,\n        opacity: getOpacity(arc),\n        borderWidth: borderWidth,\n        getBorderColor: getBorderColor,\n        getOpacity: getOpacity,\n        isInteractive: isInteractive,\n        setCurrent: setCurrent,\n        onMouseEnter: onMouseEnter,\n        onMouseMove: onMouseMove,\n        onMouseLeave: onMouseLeave,\n        onClick: onClick,\n        tooltip: tooltip\n      });\n    });\n  }\n  var springConfig = _objectSpread$4({}, _springConfig, {\n    precision: 0.001\n  });\n  return React.createElement(TransitionMotion, {\n    styles: arcs.map(function (arc) {\n      return {\n        key: arc.id,\n        data: arc,\n        style: _objectSpread$4({\n          startAngle: spring(arc.startAngle, springConfig),\n          endAngle: spring(arc.endAngle, springConfig),\n          opacity: spring(getOpacity(arc), springConfig)\n        }, interpolateColor(arc.color, springConfig))\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(React.Fragment, null, interpolatedStyles.map(function (_ref2) {\n      var key = _ref2.key,\n          style = _ref2.style,\n          arc = _ref2.data;\n      var color = getInterpolatedColor(style);\n      return React.createElement(ChordArc, {\n        key: key,\n        arc: arc,\n        arcGenerator: arcGenerator,\n        startAngle: style.startAngle,\n        endAngle: style.endAngle,\n        color: color,\n        opacity: style.opacity,\n        borderWidth: borderWidth,\n        getBorderColor: getBorderColor,\n        getOpacity: getOpacity,\n        isInteractive: isInteractive,\n        setCurrent: setCurrent,\n        onMouseEnter: onMouseEnter,\n        onMouseMove: onMouseMove,\n        onMouseLeave: onMouseLeave,\n        onClick: onClick,\n        tooltip: tooltip\n      });\n    }));\n  });\n});\nChordArcs.displayName = 'ChordArcs';\nChordArcs.propTypes = {\n  arcs: PropTypes.array.isRequired,\n  arcGenerator: PropTypes.func.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  getOpacity: PropTypes.func.isRequired,\n  setCurrent: PropTypes.func.isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired\n};\n\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$5(target, key, source[key]); }); } return target; }\nfunction _defineProperty$5(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar ChordLabels = function ChordLabels(_ref) {\n  var arcs = _ref.arcs,\n      radius = _ref.radius,\n      rotation = _ref.rotation,\n      getColor = _ref.getColor;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (animate !== true) {\n    return React.createElement(React.Fragment, null, arcs.map(function (arc) {\n      var color = getColor(arc, theme);\n      var angle = midAngle(arc);\n      var textProps = getPolarLabelProps(radius, angle, rotation);\n      return React.createElement(\"text\", {\n        key: arc.id,\n        transform: \"translate(\".concat(textProps.x, \", \").concat(textProps.y, \") rotate(\").concat(textProps.rotate, \")\"),\n        style: _objectSpread$5({}, theme.labels.text, {\n          pointerEvents: 'none',\n          fill: color\n        }),\n        textAnchor: textProps.align,\n        dominantBaseline: textProps.baseline\n      }, arc.label);\n    }));\n  }\n  return React.createElement(TransitionMotion, {\n    styles: arcs.map(function (arc) {\n      var angle = midAngle(arc);\n      return {\n        key: arc.id,\n        data: arc,\n        style: {\n          angle: spring(angle, springConfig)\n        }\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(React.Fragment, null, interpolatedStyles.map(function (_ref2) {\n      var key = _ref2.key,\n          style = _ref2.style,\n          arc = _ref2.data;\n      var color = getColor(arc, theme);\n      var textProps = getPolarLabelProps(radius, style.angle, rotation);\n      return React.createElement(\"text\", {\n        key: key,\n        transform: \"translate(\".concat(textProps.x, \", \").concat(textProps.y, \") rotate(\").concat(textProps.rotate, \")\"),\n        style: _objectSpread$5({}, theme.labels.text, {\n          pointerEvents: 'none',\n          fill: color\n        }),\n        textAnchor: textProps.align,\n        dominantBaseline: textProps.baseline\n      }, arc.label);\n    }));\n  });\n};\nChordLabels.propTypes = {\n  arcs: PropTypes.array.isRequired,\n  radius: PropTypes.number.isRequired,\n  rotation: PropTypes.number.isRequired,\n  getColor: PropTypes.func.isRequired\n};\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar Chord = function Chord(_ref) {\n  var partialMargin = _ref.margin,\n      width = _ref.width,\n      height = _ref.height,\n      keys = _ref.keys,\n      matrix = _ref.matrix,\n      label = _ref.label,\n      valueFormat = _ref.valueFormat,\n      innerRadiusRatio = _ref.innerRadiusRatio,\n      innerRadiusOffset = _ref.innerRadiusOffset,\n      padAngle = _ref.padAngle,\n      layers = _ref.layers,\n      colors = _ref.colors,\n      arcBorderWidth = _ref.arcBorderWidth,\n      arcBorderColor = _ref.arcBorderColor,\n      arcOpacity = _ref.arcOpacity,\n      arcHoverOpacity = _ref.arcHoverOpacity,\n      arcHoverOthersOpacity = _ref.arcHoverOthersOpacity,\n      arcTooltip = _ref.arcTooltip,\n      ribbonBorderWidth = _ref.ribbonBorderWidth,\n      ribbonBorderColor = _ref.ribbonBorderColor,\n      ribbonBlendMode = _ref.ribbonBlendMode,\n      ribbonOpacity = _ref.ribbonOpacity,\n      ribbonHoverOpacity = _ref.ribbonHoverOpacity,\n      ribbonHoverOthersOpacity = _ref.ribbonHoverOthersOpacity,\n      ribbonTooltip = _ref.ribbonTooltip,\n      enableLabel = _ref.enableLabel,\n      labelOffset = _ref.labelOffset,\n      labelRotation = _ref.labelRotation,\n      labelTextColor = _ref.labelTextColor,\n      isInteractive = _ref.isInteractive,\n      onArcMouseEnter = _ref.onArcMouseEnter,\n      onArcMouseMove = _ref.onArcMouseMove,\n      onArcMouseLeave = _ref.onArcMouseLeave,\n      onArcClick = _ref.onArcClick,\n      onRibbonMouseEnter = _ref.onRibbonMouseEnter,\n      onRibbonMouseMove = _ref.onRibbonMouseMove,\n      onRibbonMouseLeave = _ref.onRibbonMouseLeave,\n      onRibbonClick = _ref.onRibbonClick,\n      legends = _ref.legends;\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n  var _useChord = useChord({\n    keys: keys,\n    matrix: matrix,\n    label: label,\n    valueFormat: valueFormat,\n    width: innerWidth,\n    height: innerHeight,\n    innerRadiusRatio: innerRadiusRatio,\n    innerRadiusOffset: innerRadiusOffset,\n    padAngle: padAngle,\n    colors: colors\n  }),\n      center = _useChord.center,\n      radius = _useChord.radius,\n      arcGenerator = _useChord.arcGenerator,\n      ribbonGenerator = _useChord.ribbonGenerator,\n      arcs = _useChord.arcs,\n      ribbons = _useChord.ribbons;\n  var _useChordSelection = useChordSelection({\n    arcs: arcs,\n    arcOpacity: arcOpacity,\n    arcHoverOpacity: arcHoverOpacity,\n    arcHoverOthersOpacity: arcHoverOthersOpacity,\n    ribbons: ribbons,\n    ribbonOpacity: ribbonOpacity,\n    ribbonHoverOpacity: ribbonHoverOpacity,\n    ribbonHoverOthersOpacity: ribbonHoverOthersOpacity\n  }),\n      setCurrentArc = _useChordSelection.setCurrentArc,\n      setCurrentRibbon = _useChordSelection.setCurrentRibbon,\n      getArcOpacity = _useChordSelection.getArcOpacity,\n      getRibbonOpacity = _useChordSelection.getRibbonOpacity;\n  var theme = useTheme();\n  var getLabelTextColor = useInheritedColor(labelTextColor, theme);\n  var getArcBorderColor = useInheritedColor(arcBorderColor, theme);\n  var getRibbonBorderColor = useInheritedColor(ribbonBorderColor, theme);\n  var layerContext = useChordLayerContext({\n    center: center,\n    radius: radius,\n    arcs: arcs,\n    arcGenerator: arcGenerator,\n    ribbons: ribbons,\n    ribbonGenerator: ribbonGenerator\n  });\n  if (radius <= 0) return null;\n  var legendData = arcs.map(function (arc) {\n    return {\n      id: arc.id,\n      label: arc.label,\n      color: arc.color\n    };\n  });\n  var layerById = {\n    ribbons: React.createElement(\"g\", {\n      key: \"ribbons\",\n      transform: \"translate(\".concat(center[0], \", \").concat(center[1], \")\")\n    }, React.createElement(ChordRibbons, {\n      ribbons: ribbons,\n      ribbonGenerator: ribbonGenerator,\n      borderWidth: ribbonBorderWidth,\n      getBorderColor: getRibbonBorderColor,\n      getOpacity: getRibbonOpacity,\n      blendMode: ribbonBlendMode,\n      setCurrent: setCurrentRibbon,\n      isInteractive: isInteractive,\n      onMouseEnter: onRibbonMouseEnter,\n      onMouseMove: onRibbonMouseMove,\n      onMouseLeave: onRibbonMouseLeave,\n      onClick: onRibbonClick,\n      tooltip: ribbonTooltip\n    })),\n    arcs: React.createElement(\"g\", {\n      key: \"arcs\",\n      transform: \"translate(\".concat(center[0], \", \").concat(center[1], \")\")\n    }, React.createElement(ChordArcs, {\n      arcs: arcs,\n      arcGenerator: arcGenerator,\n      borderWidth: arcBorderWidth,\n      getBorderColor: getArcBorderColor,\n      getOpacity: getArcOpacity,\n      setCurrent: setCurrentArc,\n      isInteractive: isInteractive,\n      onMouseEnter: onArcMouseEnter,\n      onMouseMove: onArcMouseMove,\n      onMouseLeave: onArcMouseLeave,\n      onClick: onArcClick,\n      tooltip: arcTooltip\n    })),\n    labels: null,\n    legends: React.createElement(Fragment, {\n      key: \"legends\"\n    }, legends.map(function (legend, i) {\n      return React.createElement(BoxLegendSvg, _extends({\n        key: i\n      }, legend, {\n        containerWidth: innerWidth,\n        containerHeight: innerHeight,\n        data: legendData,\n        theme: theme\n      }));\n    }))\n  };\n  if (enableLabel === true) {\n    layerById.labels = React.createElement(\"g\", {\n      key: \"labels\",\n      transform: \"translate(\".concat(center[0], \", \").concat(center[1], \")\")\n    }, React.createElement(ChordLabels, {\n      arcs: arcs,\n      radius: radius + labelOffset,\n      rotation: labelRotation,\n      getColor: getLabelTextColor\n    }));\n  }\n  return React.createElement(SvgWrapper, {\n    width: outerWidth,\n    height: outerHeight,\n    margin: margin,\n    theme: theme\n  }, layers.map(function (layer, i) {\n    if (layerById[layer] !== undefined) {\n      return layerById[layer];\n    }\n    if (typeof layer === 'function') {\n      return React.createElement(Fragment, {\n        key: i\n      }, layer(layerContext));\n    }\n    return null;\n  }));\n};\nChord.propTypes = ChordPropTypes;\nChord.defaultProps = ChordDefaultProps;\nvar Chord$1 = withContainer(Chord);\n\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$6(target, key, source[key]); }); } return target; }\nfunction _defineProperty$6(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _slicedToArray$1(arr, i) { return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _nonIterableRest$1(); }\nfunction _nonIterableRest$1() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit$1(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles$1(arr) { if (Array.isArray(arr)) return arr; }\nvar getArcFromMouseEvent = function getArcFromMouseEvent(_ref) {\n  var event = _ref.event,\n      canvasEl = _ref.canvasEl,\n      center = _ref.center,\n      margin = _ref.margin,\n      radius = _ref.radius,\n      innerRadius = _ref.innerRadius,\n      arcs = _ref.arcs;\n  var _getRelativeCursor = getRelativeCursor(canvasEl, event),\n      _getRelativeCursor2 = _slicedToArray$1(_getRelativeCursor, 2),\n      x = _getRelativeCursor2[0],\n      y = _getRelativeCursor2[1];\n  var centerX = margin.left + center[0];\n  var centerY = margin.top + center[1];\n  return getHoveredArc(centerX, centerY, radius, innerRadius, arcs, x, y);\n};\nvar ChordCanvas = memo(function (_ref2) {\n  var pixelRatio = _ref2.pixelRatio,\n      partialMargin = _ref2.margin,\n      width = _ref2.width,\n      height = _ref2.height,\n      keys = _ref2.keys,\n      matrix = _ref2.matrix,\n      label = _ref2.label,\n      valueFormat = _ref2.valueFormat,\n      innerRadiusRatio = _ref2.innerRadiusRatio,\n      innerRadiusOffset = _ref2.innerRadiusOffset,\n      padAngle = _ref2.padAngle,\n      layers = _ref2.layers,\n      colors = _ref2.colors,\n      arcBorderWidth = _ref2.arcBorderWidth,\n      arcBorderColor = _ref2.arcBorderColor,\n      arcOpacity = _ref2.arcOpacity,\n      arcHoverOpacity = _ref2.arcHoverOpacity,\n      arcHoverOthersOpacity = _ref2.arcHoverOthersOpacity,\n      arcTooltip = _ref2.arcTooltip,\n      ribbonBorderWidth = _ref2.ribbonBorderWidth,\n      ribbonBorderColor = _ref2.ribbonBorderColor,\n      ribbonOpacity = _ref2.ribbonOpacity,\n      ribbonHoverOpacity = _ref2.ribbonHoverOpacity,\n      ribbonHoverOthersOpacity = _ref2.ribbonHoverOthersOpacity,\n      enableLabel = _ref2.enableLabel,\n      labelOffset = _ref2.labelOffset,\n      labelRotation = _ref2.labelRotation,\n      labelTextColor = _ref2.labelTextColor,\n      isInteractive = _ref2.isInteractive,\n      onArcMouseEnter = _ref2.onArcMouseEnter,\n      onArcMouseMove = _ref2.onArcMouseMove,\n      onArcMouseLeave = _ref2.onArcMouseLeave,\n      onArcClick = _ref2.onArcClick,\n      legends = _ref2.legends;\n  var canvasEl = useRef(null);\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight,\n      margin = _useDimensions.margin;\n  var _useChord = useChord({\n    keys: keys,\n    matrix: matrix,\n    label: label,\n    valueFormat: valueFormat,\n    width: innerWidth,\n    height: innerHeight,\n    innerRadiusRatio: innerRadiusRatio,\n    innerRadiusOffset: innerRadiusOffset,\n    padAngle: padAngle,\n    colors: colors\n  }),\n      center = _useChord.center,\n      radius = _useChord.radius,\n      innerRadius = _useChord.innerRadius,\n      arcGenerator = _useChord.arcGenerator,\n      ribbonGenerator = _useChord.ribbonGenerator,\n      arcs = _useChord.arcs,\n      ribbons = _useChord.ribbons;\n  var _useChordSelection = useChordSelection({\n    arcs: arcs,\n    arcOpacity: arcOpacity,\n    arcHoverOpacity: arcHoverOpacity,\n    arcHoverOthersOpacity: arcHoverOthersOpacity,\n    ribbons: ribbons,\n    ribbonOpacity: ribbonOpacity,\n    ribbonHoverOpacity: ribbonHoverOpacity,\n    ribbonHoverOthersOpacity: ribbonHoverOthersOpacity\n  }),\n      currentArc = _useChordSelection.currentArc,\n      setCurrentArc = _useChordSelection.setCurrentArc,\n      getArcOpacity = _useChordSelection.getArcOpacity,\n      getRibbonOpacity = _useChordSelection.getRibbonOpacity;\n  var theme = useTheme();\n  var getLabelTextColor = useInheritedColor(labelTextColor, theme);\n  var getArcBorderColor = useInheritedColor(arcBorderColor, theme);\n  var getRibbonBorderColor = useInheritedColor(ribbonBorderColor, theme);\n  var layerContext = useChordLayerContext({\n    center: center,\n    radius: radius,\n    arcs: arcs,\n    arcGenerator: arcGenerator,\n    ribbons: ribbons,\n    ribbonGenerator: ribbonGenerator\n  });\n  useEffect(function () {\n    canvasEl.current.width = outerWidth * pixelRatio;\n    canvasEl.current.height = outerHeight * pixelRatio;\n    var ctx = canvasEl.current.getContext('2d');\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.fillStyle = theme.background;\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\n    if (radius <= 0) return;\n    layers.forEach(function (layer) {\n      if (layer === 'ribbons') {\n        ctx.save();\n        ctx.translate(margin.left + center[0], margin.top + center[1]);\n        ribbonGenerator.context(ctx);\n        ribbons.forEach(function (ribbon) {\n          ctx.save();\n          ctx.globalAlpha = getRibbonOpacity(ribbon);\n          ctx.fillStyle = ribbon.source.color;\n          ctx.beginPath();\n          ribbonGenerator(ribbon);\n          ctx.fill();\n          if (ribbonBorderWidth > 0) {\n            ctx.strokeStyle = getRibbonBorderColor(_objectSpread$6({}, ribbon, {\n              color: ribbon.source.color\n            }));\n            ctx.lineWidth = ribbonBorderWidth;\n            ctx.stroke();\n          }\n          ctx.restore();\n        });\n        ctx.restore();\n      }\n      if (layer === 'arcs') {\n        ctx.save();\n        ctx.translate(margin.left + center[0], margin.top + center[1]);\n        arcGenerator.context(ctx);\n        arcs.forEach(function (arc) {\n          ctx.save();\n          ctx.globalAlpha = getArcOpacity(arc);\n          ctx.fillStyle = arc.color;\n          ctx.beginPath();\n          arcGenerator(arc);\n          ctx.fill();\n          if (arcBorderWidth > 0) {\n            ctx.strokeStyle = getArcBorderColor(arc);\n            ctx.lineWidth = arcBorderWidth;\n            ctx.stroke();\n          }\n          ctx.restore();\n        });\n        ctx.restore();\n      }\n      if (layer === 'labels' && enableLabel === true) {\n        ctx.save();\n        ctx.translate(margin.left + center[0], margin.top + center[1]);\n        ctx.font = \"\".concat(theme.labels.text.fontSize, \"px \").concat(theme.labels.text.fontFamily || 'sans-serif');\n        arcs.forEach(function (arc) {\n          var angle = midAngle(arc);\n          var props = getPolarLabelProps(radius + labelOffset, angle, labelRotation);\n          ctx.save();\n          ctx.translate(props.x, props.y);\n          ctx.rotate(degreesToRadians(props.rotate));\n          ctx.textAlign = props.align;\n          ctx.textBaseline = props.baseline;\n          ctx.fillStyle = getLabelTextColor(arc, theme);\n          ctx.fillText(arc.label, 0, 0);\n          ctx.restore();\n        });\n        ctx.restore();\n      }\n      if (layer === 'legends') {\n        ctx.save();\n        ctx.translate(margin.left, margin.top);\n        var legendData = arcs.map(function (arc) {\n          return {\n            id: arc.id,\n            label: arc.label,\n            color: arc.color\n          };\n        });\n        legends.forEach(function (legend) {\n          renderLegendToCanvas(ctx, _objectSpread$6({}, legend, {\n            data: legendData,\n            containerWidth: innerWidth,\n            containerHeight: innerHeight,\n            theme: theme\n          }));\n        });\n        ctx.restore();\n      }\n      if (typeof layer === 'function') {\n        layer(ctx, layerContext);\n      }\n    });\n  }, [canvasEl, innerWidth, innerHeight, outerWidth, outerHeight, margin, pixelRatio, theme, layers, arcs, arcGenerator, getArcOpacity, arcBorderWidth, getArcBorderColor, ribbons, ribbonGenerator, getRibbonOpacity, ribbonBorderWidth, getRibbonBorderColor, enableLabel, labelOffset, labelRotation, getLabelTextColor, legends, layerContext]);\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseHover = useCallback(function (event) {\n    var arc = getArcFromMouseEvent({\n      event: event,\n      canvasEl: canvasEl.current,\n      center: center,\n      margin: margin,\n      radius: radius,\n      innerRadius: innerRadius,\n      arcs: arcs\n    });\n    if (arc) {\n      setCurrentArc(arc);\n      showTooltipFromEvent(React.createElement(arcTooltip, {\n        arc: arc\n      }), event);\n      !currentArc && onArcMouseEnter && onArcMouseEnter(arc, event);\n      onArcMouseMove && onArcMouseMove(arc, event);\n      currentArc && currentArc.id !== arc.id && onArcMouseLeave && onArcMouseLeave(arc, event);\n    } else {\n      setCurrentArc(null);\n      hideTooltip();\n      currentArc && onArcMouseLeave && onArcMouseLeave(currentArc, event);\n    }\n  }, [canvasEl, center, margin, radius, innerRadius, arcs, setCurrentArc, showTooltipFromEvent, hideTooltip, onArcMouseEnter, onArcMouseMove, onArcMouseLeave]);\n  var handleMouseLeave = useCallback(function () {\n    setCurrentArc(null);\n    hideTooltip();\n  }, [setCurrentArc, hideTooltip]);\n  var handleClick = useCallback(function (event) {\n    if (!onArcClick) return;\n    var arc = getArcFromMouseEvent({\n      event: event,\n      canvasEl: canvasEl.current,\n      center: center,\n      margin: margin,\n      radius: radius,\n      innerRadius: innerRadius,\n      arcs: arcs\n    });\n    arc && onArcClick(arc, event);\n  }, [canvasEl, center, margin, radius, innerRadius, arcs, onArcClick]);\n  return React.createElement(\"canvas\", {\n    ref: canvasEl,\n    width: outerWidth * pixelRatio,\n    height: outerHeight * pixelRatio,\n    style: {\n      width: outerWidth,\n      height: outerHeight,\n      cursor: isInteractive ? 'auto' : 'normal'\n    },\n    onMouseEnter: isInteractive ? handleMouseHover : undefined,\n    onMouseMove: isInteractive ? handleMouseHover : undefined,\n    onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n    onClick: isInteractive ? handleClick : undefined\n  });\n});\nChordCanvas.propTypes = ChordCanvasPropTypes;\nChordCanvas.defaultProps = ChordCanvasDefaultProps;\nvar ChordCanvas$1 = withContainer(ChordCanvas);\n\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\nvar ResponsiveChord = function ResponsiveChord(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Chord$1, _extends$1({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\nvar ResponsiveChordCanvas = function ResponsiveChordCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(ChordCanvas$1, _extends$2({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { Chord$1 as Chord, ChordCanvas$1 as ChordCanvas, ChordCanvasDefaultProps, ChordCanvasPropTypes, ChordDefaultProps, ChordPropTypes, ResponsiveChord, ResponsiveChordCanvas, computeChordArcsAndRibbons, computeChordGenerators, computeChordLayout, useChord, useChordArcsAndRibbons, useChordGenerators, useChordLayerContext, useChordLayout, useChordSelection };\n"],"sourceRoot":""}