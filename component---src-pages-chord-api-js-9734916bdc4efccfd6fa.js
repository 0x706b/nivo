"use strict";(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[5411],{71157:function(e,t,n){n.d(t,{X:function(){return l}});var r=n(649),o=n(55930),i=n(80169),a=[{key:"keys",group:"Base",help:"Keys used to identify each cell in the matrix.",description:"\n            Keys used to identify each cell in the matrix,\n            for example given this matrix:\n            ```\n            [ [123, 37,  99 ],\n              [75,  103, 82 ],\n              [37,  65,  109] ]\n            ```\n            and those keys:\n            ```\n            ['John', 'Jane', 'Raoul']\n            ```\n            it will result in the following mapping:\n            ```\n            [ [null,    'John', 'Jane',  'Raoul']\n              ['John',   123,    37,      99    ],\n              ['Jane',   75,     103,     82    ],\n              ['Raoul',  37,     65,      109   ] ]\n            ```\n        ",required:!0,type:"string[]"},{key:"matrix",group:"Base",help:"The matrix used to compute the chord diagram.",description:"\n            The matrix used to compute the chord diagram,\n            it must be a square matrix, meaning each row length\n            must equal the row count.\n        ",required:!0,type:"Array<number[]>"},{key:"valueFormat",group:"Base",type:"string | Function",required:!1,help:"Optional value formatter."},{key:"width",enableControlForFlavors:["api"],help:"Chart width.",description:"\n            not required if using\n            `<ResponsiveChord/>`.\n            Also note that width does not include labels,\n            so you should add enough margin to display them.\n        ",type:"number",required:!0,controlType:"range",group:"Base",controlOptions:{unit:"px",min:100,max:1e3,step:5}},{key:"height",enableControlForFlavors:["api"],help:"Chart height.",description:"\n            not required if using\n            `<ResponsiveChord/>`.\n            Also note that width does not include labels,\n            so you should add enough margin to display them.\n        ",type:"number",required:!0,controlType:"range",group:"Base",controlOptions:{unit:"px",min:100,max:1e3,step:5}},{key:"pixelRatio",flavors:["canvas"],help:"Adjust pixel ratio, useful for HiDPI screens.",required:!1,defaultValue:"Depends on device",type:"number",controlType:"range",group:"Base",controlOptions:{min:1,max:2}},{key:"margin",help:"Chart margin.",type:"object",required:!1,controlType:"margin",group:"Base"},{key:"padAngle",help:"Padding angle.",required:!1,defaultValue:o.Yr.padAngle,type:"number",controlType:"range",group:"Base",controlOptions:{min:0,max:1,step:.01}},{key:"innerRadiusRatio",help:"Inner radius ratio.",required:!1,defaultValue:o.Yr.innerRadiusRatio,type:"number",controlType:"range",group:"Base",controlOptions:{min:0,max:1,step:.01}},{key:"innerRadiusOffset",help:"Inner radius offset (minus innerRadiusRatio).",required:!1,defaultValue:o.Yr.innerRadiusOffset,type:"number",controlType:"range",group:"Base",controlOptions:{min:0,max:1,step:.01}},(0,i.JR)(["svg","canvas","api"]),{key:"colors",help:"Defines how to compute arc/ribbon color.",type:"string | Function | string[]",required:!1,defaultValue:o.Yr.colors,flavors:["svg","canvas","api"],controlType:"ordinalColors",group:"Style"},{key:"arcOpacity",help:"Arcs opacity.",required:!1,defaultValue:o.Yr.arcOpacity,type:"number",controlType:"opacity",group:"Style"},{key:"arcBorderWidth",help:"Arcs border width.",required:!1,defaultValue:o.Yr.arcBorderWidth,type:"number",controlType:"lineWidth",group:"Style"},{key:"arcBorderColor",help:"Arcs border color.",required:!1,defaultValue:o.Yr.arcBorderColor,type:"string | object | Function",controlType:"inheritedColor",group:"Style"},{key:"ribbonOpacity",help:"Ribbons opacity.",required:!1,defaultValue:o.Yr.ribbonOpacity,type:"number",controlType:"opacity",group:"Style"},{key:"ribbonBorderWidth",help:"Ribbons border width.",required:!1,defaultValue:o.Yr.ribbonBorderWidth,type:"number",controlType:"lineWidth",group:"Style"},{key:"ribbonBorderColor",help:"Ribbons border color.",required:!1,defaultValue:o.Yr.ribbonBorderColor,type:"string | object | Function",controlType:"inheritedColor",group:"Style"},{key:"enableLabel",help:"Enable/disable labels.",type:"boolean",required:!1,defaultValue:o.Yr.enableLabel,controlType:"switch",group:"Labels"},{key:"label",help:"Defines how to get label text, can be a string (used to access current arc data property) or a function which will receive the actual arc data.",type:"string | Function",required:!1,defaultValue:o.Yr.label,controlType:"choices",group:"Labels",controlOptions:{choices:["id","value","d => `${d.id} [${d.value}]`"].map((function(e){return{label:e,value:e}}))}},{key:"labelOffset",help:"Label offset from arc.",required:!1,defaultValue:o.Yr.labelOffset,type:"number",controlType:"range",group:"Labels",controlOptions:{unit:"px",min:-80,max:80}},{key:"labelRotation",help:"Label rotation.",required:!1,defaultValue:o.Yr.labelRotation,type:"number",controlType:"angle",group:"Labels",controlOptions:{min:-180,max:180,step:5}},{key:"labelTextColor",description:"\n            How to compute label text color,\n            [see dedicated documentation](self:/guides/colors).\n        ",help:"Method to compute label text color.",type:"string | object | Function",required:!1,defaultValue:o.Yr.labelTextColor,controlType:"inheritedColor",group:"Labels"},{key:"layers",group:"Customization",help:"Defines the order of layers and add custom layers.",description:"\n            You can also use this to insert extra layers\n            to the chart, the extra layer must be a function.\n            \n            The layer function which will receive the chart's\n            context & computed data and must return a valid SVG element\n            for the `Chord` component.\n\n            When using the canvas implementation, the function\n            will receive the canvas 2d context as first argument\n            and the chart's context and computed data as second.\n\n            Please make sure to use `context.save()` and\n            `context.restore()` if you make some global\n            modifications to the 2d context inside this function\n            to avoid side effects.\n        ",required:!1,type:"Array<string | Function>",defaultValue:o.Yr.layers},{key:"isInteractive",flavors:["svg","canvas"],help:"Enable/disable interactivity.",type:"boolean",required:!1,defaultValue:o.Yr.isInteractive,controlType:"switch",group:"Interactivity"},{key:"arcHoverOpacity",flavors:["svg","canvas"],help:"Arc opacity when hover (0~1).",required:!1,defaultValue:o.Yr.arcHoverOpacity,type:"number",controlType:"opacity",group:"Interactivity"},{key:"arcHoverOthersOpacity",flavors:["svg","canvas"],help:"Arc opacity when not hover (0~1).",required:!1,defaultValue:o.Yr.arcHoverOthersOpacity,type:"number",controlType:"opacity",group:"Interactivity"},{key:"ribbonHoverOpacity",flavors:["svg","canvas"],help:"Ribbon opacity when hover (0~1).",required:!1,defaultValue:o.Yr.ribbonHoverOpacity,type:"number",controlType:"opacity",group:"Interactivity"},{key:"ribbonHoverOthersOpacity",flavors:["svg","canvas"],help:"Ribbon opacity when not hover (0~1).",required:!1,defaultValue:o.Yr.ribbonHoverOthersOpacity,type:"number",controlType:"opacity",group:"Interactivity"},{key:"onArcMouseEnter",flavors:["svg","canvas"],group:"Interactivity",help:"onMouseEnter handler for arcs.",type:"(arc, event) => void",required:!1},{key:"onArcMouseMove",flavors:["svg","canvas"],group:"Interactivity",help:"onMouseMove handler for arcs.",type:"(arc, event) => void",required:!1},{key:"onArcMouseLeave",flavors:["svg","canvas"],group:"Interactivity",help:"onMouseLeave handler for arcs.",type:"(arc, event) => void",required:!1},{key:"onArcClick",flavors:["svg","canvas"],group:"Interactivity",help:"onClick handler for arcs.",type:"(arc, event) => void",required:!1},{key:"arcTooltip",flavors:["svg","canvas"],group:"Interactivity",type:"Function",required:!1,help:"Custom arc tooltip component.",description:"\n            A function allowing complete arc tooltip customisation,\n            it must return a valid HTML\n            element and will receive the arcs's data.\n        "},{key:"onRibbonMouseEnter",flavors:["svg"],group:"Interactivity",help:"onMouseEnter handler for ribbons.",type:"(ribbon, event) => void",required:!1},{key:"onRibbonMouseMove",flavors:["svg"],group:"Interactivity",help:"onMouseMove handler for ribbons.",type:"(ribbon, event) => void",required:!1},{key:"onRibbonMouseLeave",flavors:["svg"],group:"Interactivity",help:"onMouseLeave handler for ribbons.",type:"(ribbon, event) => void",required:!1},{key:"onRibbonClick",flavors:["svg"],group:"Interactivity",help:"onClick handler for ribbons.",type:"(ribbon, event) => void",required:!1},{key:"ribbonTooltip",flavors:["svg"],group:"Interactivity",type:"Function",required:!1,help:"Custom ribbon tooltip component.",description:"\n            A function allowing complete ribbon tooltip customisation,\n            it must return a valid HTML\n            element and will receive the ribbon's data.\n        "},{key:"legends",flavors:["svg","canvas"],type:"object[]",help:"Optional chart's legends.",group:"Legends",controlType:"array",controlOptions:{props:(0,i.y0)(["svg","canvas"]),shouldCreate:!0,addLabel:"add legend",shouldRemove:!0,getItemTitle:function(e,t){return"legend["+e+"]: "+t.anchor+", "+t.direction},defaults:{dataFrom:"keys",anchor:"top-left",direction:"column",justify:!1,translateX:0,translateY:0,itemWidth:100,itemHeight:20,itemsSpacing:0,symbolSize:20,itemDirection:"left-to-right",onClick:function(e){alert(JSON.stringify(e,null,"    "))}}}}].concat((0,r.Z)((0,i.$j)(["svg"],o.Yr))),l=(0,i.R2)(a)},62370:function(e,t,n){n.d(t,{h8:function(){return l},h6:function(){return s},Ld:function(){return c}});var r=n(48159),o=n.n(r),i=n(76744),a=n.n(i),l=function(e,t){var n=(void 0===t?{}:t).exclude,r=void 0===n?[]:n;return function(t,n){void 0===n&&(n={});var i={};return Object.keys(t).forEach((function(r){e[r]&&(i[r]=e[r](t[r],t,n))})),Object.assign({},o()(t,r),i)}},s=function(e){return function(t,n){return n["axis"+a()(e)].enable?o()(t,["enable"]):null}},c=function(e){var t=e.format;return e.enabled?t:void 0}},73447:function(e,t,n){n.d(t,{Z:function(){return F}});var r,o,i=n(36732),a=n(93219),l=n(27378),s=n(91542),c=n(80757),p=n(51302),u=n(67231),d=n(79892),h=n(75801),m=n(91285),f=n(21815),g=s.default.a.withConfig({displayName:"ApiPreview__Link",componentId:"sc-1tjndi9-0"})(["position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;"]),y=s.default.img.withConfig({displayName:"ApiPreview__Image",componentId:"sc-1tjndi9-1"})(["max-width:100%;max-height:100%;"]),b=s.default.div.withConfig({displayName:"ApiPreview__EmptyContainer",componentId:"sc-1tjndi9-2"})(["font-size:14px;line-height:1.6em;color:",";display:flex;align-items:center;justify-content:center;width:100%;height:100%;"],(function(e){return e.theme.colors.textLight})),v=function(e){var t=e.responseStatus,n=e.chartUrl;return 201===t&&n?l.createElement(g,{href:n,target:"_blank",rel:"noopener noreferrer"},l.createElement(y,{src:n,alt:"api result"})):l.createElement(b,null,"Click the generate button in order to generate the chart.",l.createElement("br",null),"You can customize settings by using dedicated controls.")},x=n(90230),w=n(1914),k=["preview","body","data"],C=function(e){var t=e.chartClass,n=e.data,r=e.body,o=e.isLoading,i=e.responseStatus,a=e.chartUrl,s=(0,x.F)(),c=(0,l.useState)("preview"),p=c[0],u=c[1],d=(0,l.useState)(null),h=d[0],m=d[1];return l.createElement(T,{className:"chart-tabs--"+p},l.createElement(E,null,k.map((function(e){var n=e===p,r="preview"===e?t:"data",o=n||h===e?"colored":"neutral";return l.createElement(I,{key:e,className:"no-select",isCurrent:n,onClick:function(){return u(e)},onMouseEnter:function(){return m(e)},onMouseLeave:function(){return m(null)}},l.createElement(O,{className:"sprite-icons-"+r+"-"+s.id+"-"+o}),e)}))),l.createElement(A,null,"preview"===p&&l.createElement(v,{isLoading:o,responseStatus:i,chartUrl:a}),"body"===p&&l.createElement(w.d,null,JSON.stringify(r,null,"  ")),"data"===p&&l.createElement(w.d,null,n),l.createElement(_,{isLoading:o})))},T=s.default.div.withConfig({displayName:"ApiTabs__Wrapper",componentId:"sc-wcngb8-0"})(["position:fixed;top:","px;right:0;width:60%;--innerWidth:calc(100% - ","px);width:calc(var(--innerWidth) * 0.6);--innerHeight:calc(100% - ","px);height:calc(var(--innerHeight) * 0.55);z-index:10;overflow:hidden;background:",";border-bottom:1px solid ",";"," ",""],(function(e){return e.theme.dimensions.headerHeight}),(function(e){return e.theme.dimensions.miniNavWidth}),(function(e){return e.theme.dimensions.headerHeight}),(function(e){return e.theme.colors.cardBackground}),(function(e){return e.theme.colors.border}),p.Z.tablet(r||(r=(0,i.Z)(["\n        & {\n            top: ","px;\n            right: 0;\n            width: 60%;\n            --innerHeight: calc(100% - ","px);\n            height: calc(var(--innerHeight) * 0.55);\n        }\n    "])),(function(e){return e.theme.dimensions.headerHeight}),(function(e){return e.theme.dimensions.headerHeight})),p.Z.mobile(o||(o=(0,i.Z)(["\n        & {\n            position: relative;\n            top: auto;\n            right: auto;\n            width: auto;\n            height: 460px;\n            z-index: 0;\n            border-top: 1px solid ",";\n        }\n    "])),(function(e){return e.theme.colors.border}))),E=s.default.nav.withConfig({displayName:"ApiTabs__Nav",componentId:"sc-wcngb8-1"})(["height:46px;background:",";display:flex;font-size:15px;color:#aaa;position:relative;"],(function(e){return e.theme.colors.background})),I=s.default.span.withConfig({displayName:"ApiTabs__NavItem",componentId:"sc-wcngb8-2"})(["cursor:pointer;height:46px;display:block;position:relative;padding-left:46px;padding-right:14px;padding-top:11px;background:",";&:hover{color:",";}"],(function(e){var t=e.isCurrent,n=e.theme;return t?n.colors.cardBackground:"transparent"}),(function(e){return e.theme.colors.text})),O=s.default.span.withConfig({displayName:"ApiTabs__Icon",componentId:"sc-wcngb8-3"})(["position:absolute;top:0;left:0;display:block;transform:scale(0.44);transform-origin:top left;margin:12px 0 0 12px;"]),A=s.default.div.withConfig({displayName:"ApiTabs__Content",componentId:"sc-wcngb8-4"})(["position:absolute;top:46px;bottom:0;width:100%;overflow-x:hidden;overflow-y:auto;"]),q=s.default.div.withConfig({displayName:"ApiTabs__LoaderContainer",componentId:"sc-wcngb8-5"})(["position:absolute;top:50%;left:50%;width:100px;height:80px;margin-top:-40px;margin-left:-50px;background:",";display:grid;grid-template-columns:10px 10px 10px 10px 10px;grid-column-gap:6px;padding:10px 13px;border-radius:2px;box-shadow:0 1px 3px rgba(0,0,0,0.15);pointer-events:none;opacity:",";transform:translate3d(0,",",0);transition:transform 200ms,opacity 200ms;"],(function(e){return e.theme.colors.cardBackground}),(function(e){return e.isLoading?1:0}),(function(e){return e.isLoading?0:"20px"})),S=(0,s.keyframes)(["0%,100%{transform:scale3d(1,0,1);}50%{transform:scale3d(1,1,1);}"]),R=s.default.span.withConfig({displayName:"ApiTabs__LoaderBar",componentId:"sc-wcngb8-6"})(["display:block;background:",";width:100%;height:100%;transform:scale3d(1,0,1);transform-origin:100% 100%;animation-name:",";animation-duration:800ms;animation-iteration-count:infinite;animation-delay:","ms;"],(function(e){return e.theme.colors.accent}),S,(function(e){return 60*(e.index+1)})),_=function(e){var t=e.isLoading;return l.createElement(q,{isLoading:t},l.createElement("span",null,l.createElement(R,{index:0})),l.createElement("span",null,l.createElement(R,{index:1})),l.createElement("span",null,l.createElement(R,{index:2})),l.createElement("span",null,l.createElement(R,{index:3})),l.createElement("span",null,l.createElement(R,{index:4})))},L=s.default.span.withConfig({displayName:"ApiSubmit__Button",componentId:"sc-y9yvg5-0"})(["display:block;background-color:",";color:#fff;text-align:center;padding:12px 24px;border-radius:2px;cursor:pointer;text-decoration:none;"],(function(e){return e.theme.colors.accent})),H=function(e){function t(){return e.apply(this,arguments)||this}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.loading,n=e.onClick;return l.createElement(L,{onClick:n},t?"sending":"generate")},t}(l.Component);H.defaultProps={};var P=H,N=s.default.div.withConfig({displayName:"ApiResponse__Container",componentId:"sc-usxrxs-0"})(["background:",";border-top:1px solid ",";overflow-x:hidden;overflow-y:auto;"],(function(e){return e.theme.colors.cardBackground}),(function(e){return e.theme.colors.border})),B=s.default.div.withConfig({displayName:"ApiResponse__Header",componentId:"sc-usxrxs-1"})(["padding:12px 20px;border-bottom:1px solid ",";"],(function(e){return e.theme.colors.borderLight})),V=s.default.pre.withConfig({displayName:"ApiResponse__ResponseJson",componentId:"sc-usxrxs-2"})(["padding:12px 20px;font-size:13px;line-height:1.6em;overflow:hidden;width:100%;margin:0;"]),M=function(e){function t(){return e.apply(this,arguments)||this}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.responseStatus,n=e.response,r="no response available";return n&&(r=JSON.stringify(n,null,"  ")),l.createElement(N,null,l.createElement(B,null,"Response ",t?l.createElement("strong",null,t):"n/a"),l.createElement(V,null,r))},t}(l.Component);M.defaultProps={};var Y,j,Z=M,W=n(49047),F=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleSettingsUpdate=function(e){n.setState({props:e})},n.handleDataUpdate=function(e){var t,r=n.props.dataProperty,o=n.state.props;n.setState({props:Object.assign({},o,(t={},t[r]=e.target.value,t))})},n.handleSubmit=function(){var e=n.props,t=e.apiPath,r=e.propsMapper,o=n.state.props;n.setState({loading:!0}),fetch(""+W.Z.nivoApiUrl+t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r(o))}).then((function(e){return n.setState({loading:!1,responseStatus:e.status}),e.json()})).then((function(e){n.setState({response:e})})).catch((function(e){console.error(e)}))},n.state={props:t.defaultProps,loading:!1,responseStatus:null,response:null},n}return(0,a.Z)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.componentName,r=t.chartClass,o=t.apiPath,i=t.controlGroups,a=t.dataProperty,s=t.propsMapper,p=t.flavors,g=this.state,y=g.props,b=g.loading,v=g.responseStatus,x=g.response,w=p.map((function(e){return e.flavor}));return l.createElement(c.Z,null,l.createElement(u.L,null,l.createElement(d.y,{chartClass:n+" HTTP API",tags:["POST "+o]}),p&&l.createElement(h.Z,{flavors:p,current:"api"}),l.createElement(m.l,{description:(e=n,"\nThe `"+e+"`component is available in the nivo\nHTTP rendering API.\nThe API generates a SVG and return a path to this SVG\nwhich can then be easily embedded.\n\nThe api accepts almost the same properties as the regular component,\nin json, however it's not interactive and you cannot use code\nin properties (functions).\n\nPlease note that the demo API server is installed on heroku\nusing a free plan, so it might be unavailable from times to times.\n")}),l.createElement(C,{chartClass:r,data:y[a],body:s(y),isLoading:b,responseStatus:v,chartUrl:x?x.url:null}),l.createElement(J,null,l.createElement(z,null,l.createElement(P,{loading:b,onClick:this.handleSubmit})),l.createElement(Z,{responseStatus:v,response:x})),l.createElement(f.Z,{component:n,settings:y,flavors:w,currentFlavor:"api",groups:i,onChange:this.handleSettingsUpdate})))},t}(l.Component);F.defaultProps={dataProperty:"data",propsMapper:function(e){return e}};var J=s.default.div.withConfig({displayName:"ApiClient__ControlPanel",componentId:"sc-50le0s-0"})(["position:fixed;right:0;bottom:0;--innerWidth:calc(100% - ","px);--partialWidth:calc(var(--innerWidth) * 0.6);width:var(--partialWidth);background:",";--innerHeight:calc(100% - ","px);height:calc(var(--innerHeight) * 0.45);z-index:10;overflow:hidden;display:grid;grid-template-rows:1fr 2fr;"," ",""],(function(e){return e.theme.dimensions.miniNavWidth}),(function(e){return e.theme.colors.cardAltBackground}),(function(e){return e.theme.dimensions.headerHeight}),p.Z.tablet(Y||(Y=(0,i.Z)(["\n        & {\n            right: 0;\n            bottom: 0;\n            --innerHeight: calc(100% - ","px);\n            height: calc(var(--innerHeight) * 0.45);\n            width: 60%;\n        }\n    "])),(function(e){return e.theme.dimensions.headerHeight})),p.Z.mobile(j||(j=(0,i.Z)(["\n        & {\n            position: relative;\n            right: auto;\n            bottom: auto;\n            width: auto;\n            height: auto;\n            border-left-width: 0;\n            z-index: 0;\n        }\n    "])))),z=s.default.div.withConfig({displayName:"ApiClient__SubmitWrapper",componentId:"sc-50le0s-1"})(["display:flex;align-items:center;justify-content:center;padding:12px 0;"])},50938:function(e,t,n){var r=n(62370);t.Z=(0,r.h8)({label:function(e){return"d => `${d.id} [${d.value}]`"===e?function(e){return e.id+" ["+e.value+"]"}:e}})},46061:function(e,t,n){n.r(t);var r=n(649),o=n(27378),i=n(38681),a=n(95546),l=n(73447),s=n(71157),c=n(50938),p=n(82454),u=(0,i.wQ)({size:5});t.default=function(){return o.createElement(o.Fragment,null,o.createElement(a.p,{title:"Chord HTTP API",keywords:[].concat((0,r.Z)(p.VC.tags),["HTTP API"])}),o.createElement(l.Z,{componentName:"Chord",chartClass:"chord",apiPath:"/charts/chord",flavors:p.Kk,dataProperty:"matrix",controlGroups:s.X,propsMapper:c.Z,defaultProps:{width:800,height:800,matrix:JSON.stringify(u.matrix,null,"  "),keys:u.keys,margin:{top:40,right:40,bottom:40,left:40},padAngle:.02,innerRadiusRatio:.96,innerRadiusOffset:.01,colors:{scheme:"nivo"},arcOpacity:1,arcBorderWidth:1,arcBorderColor:{from:"color",modifiers:[["darker",.4]]},ribbonOpacity:.5,ribbonBorderWidth:1,ribbonBorderColor:{from:"color",modifiers:[["darker",.4]]},enableLabel:!0,label:"id",labelOffset:12,labelRotation:-90,labelTextColor:{from:"color",modifiers:[["darker",1]]}}}))}}}]);
//# sourceMappingURL=component---src-pages-chord-api-js-9734916bdc4efccfd6fa.js.map