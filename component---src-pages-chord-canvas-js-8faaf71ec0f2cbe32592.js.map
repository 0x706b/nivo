{"version":3,"sources":["webpack:///../node_modules/d3-array/src/ascending.js","webpack:///../node_modules/d3-array/src/bisect.js","webpack:///../node_modules/d3-array/src/bisector.js","webpack:///../node_modules/d3-array/src/cross.js","webpack:///../node_modules/d3-array/src/array.js","webpack:///../node_modules/d3-array/src/range.js","webpack:///../node_modules/d3-array/src/ticks.js","webpack:///../node_modules/d3-array/src/threshold/sturges.js","webpack:///../node_modules/d3-array/src/merge.js","webpack:///../node_modules/d3-array/src/index.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///../src/ChordArcTooltip.js","webpack:///../src/ChordRibbonTooltip.js","webpack:///../src/props.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///../src/hooks.js","webpack:///../src/compute.js","webpack:///../src/ChordRibbon.js","webpack:///../src/ChordRibbons.js","webpack:///../src/ChordArc.js","webpack:///../src/ChordArcs.js","webpack:///../src/ChordLabels.js","webpack:///../src/Chord.js","webpack:///../src/ChordCanvas.js","webpack:///../src/ResponsiveChord.js","webpack:///../src/ResponsiveChordCanvas.js","webpack:///./src/data/components/chord/props.js","webpack:///../node_modules/d3-chord/src/math.js","webpack:///../node_modules/d3-chord/src/chord.js","webpack:///../node_modules/d3-chord/src/array.js","webpack:///../node_modules/d3-chord/src/constant.js","webpack:///../node_modules/d3-chord/src/ribbon.js","webpack:///../node_modules/d3-chord/src/index.js","webpack:///./src/data/components/chord/mapper.js","webpack:///./src/pages/chord/canvas.js","webpack:///../node_modules/lodash/mapValues.js"],"names":["a","b","NaN","f","ascending","length","compare","d","x","Array","prototype","slice","map","start","stop","step","n","arguments","i","Math","max","ceil","range","sqrt","m","merged","array","arrays","j","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","source","forEach","getOwnPropertyDescriptors","defineProperties","ChordArcTooltip","memo","arc","id","color","enableChip","ChordRibbonTooltip","ribbon","theme","useTheme","rows","commonPropTypes","PropTypes","matrix","valueFormat","padAngle","innerRadiusRatio","innerRadiusOffset","layers","arcOpacity","arcHoverOpacity","arcHoverOthersOpacity","arcBorderWidth","arcBorderColor","inheritedColorPropType","onArcMouseEnter","onArcMouseMove","onArcMouseLeave","onArcClick","arcTooltip","ribbonOpacity","ribbonHoverOpacity","ribbonHoverOthersOpacity","ribbonBorderWidth","ribbonBorderColor","ribbonBlendMode","blendModePropType","onRibbonMouseEnter","onRibbonMouseMove","onRibbonMouseLeave","onRibbonClick","ribbonTooltip","enableLabel","label","labelOffset","labelRotation","labelTextColor","colors","ordinalColorsPropType","isInteractive","legends","isRequired","commonDefaultProps","role","pixelRatio","from","modifiers","scheme","ChordDefaultProps","animate","motionStiffness","motionDamping","ChordCanvasDefaultProps","global","_arrayLikeToArray","arr","len","arr2","_slicedToArray","isArray","arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","iterableToArrayLimit","o","minLen","arrayLikeToArray","toString","call","constructor","name","test","unsupportedIterableToArray","TypeError","nonIterableRest","useChordLayout","useMemo","d3Chord","computeChordLayout","useChordGenerators","width","height","center","radius","innerRadius","ribbonRadius","arcGenerator","d3Arc","ribbonGenerator","d3Ribbon","computeChordGenerators","useChord","chord","getLabel","getLabelGenerator","formatValue","useValueFormatter","getColor","useOrdinalColorScale","ribbons","arcs","computeChordArcsAndRibbons","useChordArcsAndRibbons","useChordSelection","useState","currentArc","setCurrentArc","currentRibbon","setCurrentRibbon","selection","selectedArcIds","selectedRibbonIds","hasSelection","getArcOpacity","getRibbonOpacity","useChordLayerContext","ChordRibbon","sourceStartAngle","sourceEndAngle","targetStartAngle","targetEndAngle","opacity","borderWidth","getBorderColor","blendMode","setCurrent","onMouseEnter","onMouseMove","onMouseLeave","onClick","tooltip","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","event","handleMouseMove","handleMouseLeave","handleClick","startAngle","endAngle","fill","fillOpacity","strokeWidth","stroke","strokeOpacity","style","mixBlendMode","getRibbonAngles","firstArc","secondArc","useMiddleAngle","firstMiddleAngle","midAngle","secondMiddleAngle","angles","mapValues","angle","spring","ribbonWillEnter","interpolateColor","ribbonWillLeave","springConfig","ChordRibbons","getOpacity","useMotionConfig","_springConfig","precision","willEnter","willLeave","styles","data","interpolatedStyles","getInterpolatedColor","ChordArc","ChordArcs","ChordLabels","rotation","textProps","getPolarLabelProps","transform","pointerEvents","textAnchor","dominantBaseline","baseline","Chord","partialMargin","margin","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","getLabelTextColor","useInheritedColor","getArcBorderColor","getRibbonBorderColor","layerContext","legendData","layerById","labels","containerWidth","containerHeight","layer","withContainer","getArcFromMouseEvent","canvasEl","getRelativeCursor","y","centerX","centerY","getHoveredArc","ChordCanvas","useRef","useEffect","ctx","props","degreesToRadians","legend","renderLegendToCanvas","handleMouseHover","useCallback","ref","cursor","ResponsiveChord","ResponsiveChordCanvas","group","help","description","required","type","enableControlForFlavors","controlType","controlOptions","unit","min","flavors","defaultValue","defaults","themeProperty","choices","choice","getLegendsProps","shouldCreate","addLabel","shouldRemove","getItemTitle","index","anchor","direction","dataFrom","justify","translateX","translateY","itemWidth","itemHeight","itemsSpacing","symbolSize","itemDirection","alert","JSON","stringify","motionProperties","groups","groupProperties","cos","sin","pi","PI","halfPi","tau","compareValue","sortGroups","sortSubgroups","sortChords","k","x0","dx","groupSums","groupIndex","subgroupIndex","chords","subgroups","sort","di","dj","v","a0","a1","subindex","_","defaultSource","defaultTarget","defaultRadius","defaultStartAngle","defaultEndAngle","context","buffer","argv","s","this","t","sr","sa0","sa1","sx0","sy0","tr","ta0","ta1","moveTo","quadraticCurveTo","closePath","constant","settingsMapper","initialProperties","top","right","bottom","left","window","devicePixelRatio","itemTextColor","effects","on","generateData","generateChordData","size","meta","icon","currentFlavor","properties","propertiesMapper","mapper","codePropertiesMapper","dataKey","getDataSize","MATRIX_SIZE","getTabData","logAction","baseAssignValue","baseForOwn","baseIteratee","module","exports","iteratee","result"],"mappings":"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","file":"component---src-pages-chord-canvas-js-8faaf71ec0f2cbe32592.js","sourcesContent":["export default function (a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;","import ascending from \"./ascending\";\nexport default function (compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function left(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n      }\n\n      return lo;\n    },\n    right: function right(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n      }\n\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function (d, x) {\n    return ascending(f(d), x);\n  };\n}","import { pair } from \"./pairs\";\nexport default function (values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}","import \"core-js/modules/es6.array.map\";\nvar array = Array.prototype;\nexport var slice = array.slice;\nexport var map = array.map;","export default function (start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\nexport default function (start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n\n    while (++i < n) {\n      ticks[i] = (start + i) * step;\n    }\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n\n    while (++i < n) {\n      ticks[i] = (start - i) / step;\n    }\n  }\n\n  if (reverse) ticks.reverse();\n  return ticks;\n}\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}","export default function (values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}","export default function (arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) {\n    j += arrays[i].length;\n  }\n\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}","export { default as bisect, bisectRight, bisectLeft } from \"./bisect\";\nexport { default as ascending } from \"./ascending\";\nexport { default as bisector } from \"./bisector\";\nexport { default as cross } from \"./cross\";\nexport { default as descending } from \"./descending\";\nexport { default as deviation } from \"./deviation\";\nexport { default as extent } from \"./extent\";\nexport { default as histogram } from \"./histogram\";\nexport { default as thresholdFreedmanDiaconis } from \"./threshold/freedmanDiaconis\";\nexport { default as thresholdScott } from \"./threshold/scott\";\nexport { default as thresholdSturges } from \"./threshold/sturges\";\nexport { default as max } from \"./max\";\nexport { default as mean } from \"./mean\";\nexport { default as median } from \"./median\";\nexport { default as merge } from \"./merge\";\nexport { default as min } from \"./min\";\nexport { default as pairs } from \"./pairs\";\nexport { default as permute } from \"./permute\";\nexport { default as quantile } from \"./quantile\";\nexport { default as range } from \"./range\";\nexport { default as scan } from \"./scan\";\nexport { default as shuffle } from \"./shuffle\";\nexport { default as sum } from \"./sum\";\nexport { default as ticks, tickIncrement, tickStep } from \"./ticks\";\nexport { default as transpose } from \"./transpose\";\nexport { default as variance } from \"./variance\";\nexport { default as zip } from \"./zip\";","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { BasicTooltip } from '@nivo/tooltip'\n\nconst ChordArcTooltip = memo(({ arc }) => {\n    return (\n        <BasicTooltip\n            id={arc.label}\n            value={arc.formattedValue}\n            color={arc.color}\n            enableChip={true}\n        />\n    )\n})\n\nChordArcTooltip.displayName = 'ChordArcTooltip'\nChordArcTooltip.propTypes = {\n    arc: PropTypes.object.isRequired,\n}\n\nexport default ChordArcTooltip\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTheme } from '@nivo/core'\nimport { TableTooltip, Chip } from '@nivo/tooltip'\n\nconst ChordRibbonTooltip = memo(({ ribbon }) => {\n    const theme = useTheme()\n\n    return (\n        <TableTooltip\n            theme={theme}\n            rows={[\n                [\n                    <Chip key=\"chip\" color={ribbon.source.color} />,\n                    <strong key=\"id\">{ribbon.source.label}</strong>,\n                    ribbon.source.formattedValue,\n                ],\n                [\n                    <Chip key=\"chip\" color={ribbon.target.color} />,\n                    <strong key=\"id\">{ribbon.target.label}</strong>,\n                    ribbon.target.formattedValue,\n                ],\n            ]}\n        />\n    )\n})\n\nChordRibbonTooltip.displayName = 'ChordRibbonTooltip'\nChordRibbonTooltip.propTypes = {\n    ribbon: PropTypes.object.isRequired,\n}\n\nexport default ChordRibbonTooltip\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { blendModePropType, motionPropTypes } from '@nivo/core'\nimport { ordinalColorsPropType, inheritedColorPropType } from '@nivo/colors'\nimport { LegendPropShape } from '@nivo/legends'\nimport ChordArcTooltip from './ChordArcTooltip'\nimport ChordRibbonTooltip from './ChordRibbonTooltip'\n\nconst commonPropTypes = {\n    keys: PropTypes.arrayOf(PropTypes.string).isRequired,\n    matrix: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)).isRequired,\n    valueFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\n    padAngle: PropTypes.number.isRequired,\n    innerRadiusRatio: PropTypes.number.isRequired,\n    innerRadiusOffset: PropTypes.number.isRequired,\n\n    layers: PropTypes.arrayOf(\n        PropTypes.oneOfType([\n            PropTypes.oneOf(['ribbons', 'arcs', 'labels', 'legends']),\n            PropTypes.func,\n        ])\n    ).isRequired,\n\n    arcOpacity: PropTypes.number.isRequired,\n    arcHoverOpacity: PropTypes.number.isRequired,\n    arcHoverOthersOpacity: PropTypes.number.isRequired,\n    arcBorderWidth: PropTypes.number.isRequired,\n    arcBorderColor: inheritedColorPropType.isRequired,\n    onArcMouseEnter: PropTypes.func,\n    onArcMouseMove: PropTypes.func,\n    onArcMouseLeave: PropTypes.func,\n    onArcClick: PropTypes.func,\n    arcTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n\n    ribbonOpacity: PropTypes.number.isRequired,\n    ribbonHoverOpacity: PropTypes.number.isRequired,\n    ribbonHoverOthersOpacity: PropTypes.number.isRequired,\n    ribbonBorderWidth: PropTypes.number.isRequired,\n    ribbonBorderColor: inheritedColorPropType.isRequired,\n    ribbonBlendMode: blendModePropType.isRequired,\n    onRibbonMouseEnter: PropTypes.func,\n    onRibbonMouseMove: PropTypes.func,\n    onRibbonMouseLeave: PropTypes.func,\n    onRibbonClick: PropTypes.func,\n    ribbonTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n\n    enableLabel: PropTypes.bool.isRequired,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n    labelOffset: PropTypes.number.isRequired,\n    labelRotation: PropTypes.number.isRequired,\n    labelTextColor: inheritedColorPropType.isRequired,\n\n    colors: ordinalColorsPropType.isRequired,\n\n    isInteractive: PropTypes.bool.isRequired,\n\n    legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired,\n}\n\nexport const ChordPropTypes = {\n    ...commonPropTypes,\n    ...motionPropTypes,\n    role: PropTypes.string.isRequired,\n}\n\nexport const ChordCanvasPropTypes = {\n    pixelRatio: PropTypes.number.isRequired,\n    ...commonPropTypes,\n}\n\nconst commonDefaultProps = {\n    padAngle: 0,\n    innerRadiusRatio: 0.9,\n    innerRadiusOffset: 0,\n\n    layers: ['ribbons', 'arcs', 'labels', 'legends'],\n\n    arcOpacity: 1,\n    arcHoverOpacity: 1,\n    arcHoverOthersOpacity: 0.15,\n    arcBorderWidth: 1,\n    arcBorderColor: {\n        from: 'color',\n        modifiers: [['darker', 0.4]],\n    },\n    arcTooltip: ChordArcTooltip,\n\n    ribbonOpacity: 0.5,\n    ribbonHoverOpacity: 0.85,\n    ribbonHoverOthersOpacity: 0.15,\n    ribbonBorderWidth: 1,\n    ribbonBorderColor: {\n        from: 'color',\n        modifiers: [['darker', 0.4]],\n    },\n    ribbonBlendMode: 'normal',\n    ribbonTooltip: ChordRibbonTooltip,\n\n    enableLabel: true,\n    label: 'id',\n    labelOffset: 12,\n    labelRotation: 0,\n    labelTextColor: {\n        from: 'color',\n        modifiers: [['darker', 1]],\n    },\n\n    colors: { scheme: 'nivo' },\n\n    legends: [],\n\n    isInteractive: true,\n}\n\nexport const ChordDefaultProps = {\n    ...commonDefaultProps,\n    animate: true,\n    motionStiffness: 90,\n    motionDamping: 15,\n    role: 'img',\n}\n\nexport const ChordCanvasDefaultProps = {\n    ...commonDefaultProps,\n    pixelRatio:\n        global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1,\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { useMemo, useState } from 'react'\nimport { useValueFormatter, getLabelGenerator } from '@nivo/core'\nimport { useOrdinalColorScale } from '@nivo/colors'\nimport { computeChordLayout, computeChordGenerators, computeChordArcsAndRibbons } from './compute'\n\nexport const useChordLayout = ({ padAngle }) =>\n    useMemo(() => computeChordLayout({ padAngle }), [padAngle])\n\nexport const useChordGenerators = ({ width, height, innerRadiusRatio, innerRadiusOffset }) =>\n    useMemo(\n        () =>\n            computeChordGenerators({\n                width,\n                height,\n                innerRadiusRatio,\n                innerRadiusOffset,\n            }),\n        [width, height, innerRadiusRatio, innerRadiusOffset]\n    )\n\nexport const useChordArcsAndRibbons = ({ chord, getColor, keys, matrix, getLabel, formatValue }) =>\n    useMemo(\n        () =>\n            computeChordArcsAndRibbons({\n                chord,\n                getColor,\n                keys,\n                matrix,\n                getLabel,\n                formatValue,\n            }),\n        [chord, getColor, keys, matrix, getLabel, formatValue]\n    )\n\nexport const useChord = ({\n    keys,\n    matrix,\n    label,\n    valueFormat,\n    width,\n    height,\n    innerRadiusRatio,\n    innerRadiusOffset,\n    padAngle,\n    colors,\n}) => {\n    const chord = useChordLayout({ padAngle })\n    const { center, radius, innerRadius, arcGenerator, ribbonGenerator } = useChordGenerators({\n        width,\n        height,\n        innerRadiusRatio,\n        innerRadiusOffset,\n    })\n    const getLabel = useMemo(() => getLabelGenerator(label), [label])\n    const formatValue = useValueFormatter(valueFormat)\n\n    const getColor = useOrdinalColorScale(colors, 'id')\n    const { arcs, ribbons } = useChordArcsAndRibbons({\n        chord,\n        getColor,\n        keys,\n        matrix,\n        getLabel,\n        formatValue,\n    })\n\n    return {\n        center,\n        chord,\n        radius,\n        innerRadius,\n        arcGenerator,\n        ribbonGenerator,\n        getColor,\n        arcs,\n        ribbons,\n    }\n}\n\nexport const useChordSelection = ({\n    arcs,\n    arcOpacity,\n    arcHoverOpacity,\n    arcHoverOthersOpacity,\n    ribbons,\n    ribbonOpacity,\n    ribbonHoverOpacity,\n    ribbonHoverOthersOpacity,\n}) => {\n    const [currentArc, setCurrentArc] = useState(null)\n    const [currentRibbon, setCurrentRibbon] = useState(null)\n\n    const selection = useMemo(() => {\n        const selectedArcIds = []\n        const selectedRibbonIds = []\n\n        if (currentArc) {\n            selectedArcIds.push(currentArc.id)\n            ribbons\n                .filter(\n                    ribbon =>\n                        ribbon.source.id === currentArc.id || ribbon.target.id === currentArc.id\n                )\n                .forEach(ribbon => {\n                    selectedRibbonIds.push(ribbon.id)\n                })\n        }\n\n        if (currentRibbon) {\n            selectedArcIds.push(currentRibbon.source.id)\n            selectedArcIds.push(currentRibbon.target.id)\n            selectedRibbonIds.push(currentRibbon.id)\n        }\n\n        return { selectedArcIds, selectedRibbonIds }\n    }, [currentArc, currentRibbon, arcs, ribbons])\n\n    const hasSelection =\n        selection.selectedArcIds.length > 1 || selection.selectedRibbonIds.length > 0\n\n    const getArcOpacity = useMemo(\n        () => arc => {\n            if (!hasSelection) return arcOpacity\n            return selection.selectedArcIds.includes(arc.id)\n                ? arcHoverOpacity\n                : arcHoverOthersOpacity\n        },\n        [selection.selectedArcIds, arcOpacity, arcHoverOpacity, arcHoverOthersOpacity]\n    )\n    const getRibbonOpacity = useMemo(\n        () => ribbon => {\n            if (!hasSelection) return ribbonOpacity\n            return selection.selectedRibbonIds.includes(ribbon.id)\n                ? ribbonHoverOpacity\n                : ribbonHoverOthersOpacity\n        },\n        [selection.selectedRibbonIds, ribbonOpacity, ribbonHoverOpacity, ribbonHoverOthersOpacity]\n    )\n\n    return {\n        currentArc,\n        setCurrentArc,\n        currentRibbon,\n        setCurrentRibbon,\n        hasSelection,\n        ...selection,\n        getArcOpacity,\n        getRibbonOpacity,\n    }\n}\n\nexport const useChordLayerContext = ({\n    center,\n    radius,\n    arcs,\n    arcGenerator,\n    ribbons,\n    ribbonGenerator,\n}) =>\n    useMemo(\n        () => ({\n            center,\n            radius,\n            arcs,\n            arcGenerator,\n            ribbons,\n            ribbonGenerator,\n        }),\n        [center, radius, arcs, arcGenerator, ribbons, ribbonGenerator]\n    )\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { arc as d3Arc } from 'd3-shape'\nimport { chord as d3Chord, ribbon as d3Ribbon } from 'd3-chord'\n\nexport const computeChordLayout = ({ padAngle }) => d3Chord().padAngle(padAngle)\n\nexport const computeChordGenerators = ({ width, height, innerRadiusRatio, innerRadiusOffset }) => {\n    const center = [width / 2, height / 2]\n    const radius = Math.min(width, height) / 2\n    const innerRadius = radius * innerRadiusRatio\n    const ribbonRadius = radius * (innerRadiusRatio - innerRadiusOffset)\n\n    const arcGenerator = d3Arc().outerRadius(radius).innerRadius(innerRadius)\n\n    const ribbonGenerator = d3Ribbon().radius(ribbonRadius)\n\n    return { center, radius, innerRadius, arcGenerator, ribbonGenerator }\n}\n\nexport const computeChordArcsAndRibbons = ({\n    chord,\n    getColor,\n    keys,\n    matrix,\n    getLabel,\n    formatValue,\n}) => {\n    const ribbons = chord(matrix)\n\n    const arcs = ribbons.groups.map(arc => {\n        arc.id = keys[arc.index]\n        arc.color = getColor(arc)\n        arc.formattedValue = formatValue(arc.value)\n        arc.label = getLabel(arc)\n\n        return arc\n    })\n\n    ribbons.forEach(ribbon => {\n        ribbon.source.id = keys[ribbon.source.index]\n        ribbon.source.color = getColor(ribbon.source)\n        ribbon.source.formattedValue = formatValue(ribbon.source.value)\n        ribbon.source.label = getLabel(ribbon.source)\n\n        ribbon.target.id = keys[ribbon.target.index]\n        ribbon.target.color = getColor(ribbon.target)\n        ribbon.target.formattedValue = formatValue(ribbon.target.value)\n        ribbon.target.label = getLabel(ribbon.target)\n\n        // ensure id remains the same even if source/target are reversed\n        ribbon.id = [ribbon.source.id, ribbon.target.id].sort().join('.')\n    })\n\n    return { arcs, ribbons }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { blendModePropType } from '@nivo/core'\nimport { useTooltip } from '@nivo/tooltip'\n\nconst ChordRibbon = memo(\n    ({\n        ribbon,\n        ribbonGenerator,\n        sourceStartAngle,\n        sourceEndAngle,\n        targetStartAngle,\n        targetEndAngle,\n        color,\n        opacity,\n        borderWidth,\n        getBorderColor,\n        blendMode,\n        isInteractive,\n        setCurrent,\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n        tooltip,\n    }) => {\n        const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n        const handleMouseEnter = useMemo(() => {\n            if (!isInteractive) return undefined\n            return event => {\n                setCurrent(ribbon)\n                showTooltipFromEvent(React.createElement(tooltip, { ribbon }), event)\n                onMouseEnter && onMouseEnter(ribbon, event)\n            }\n        }, [isInteractive, showTooltipFromEvent, tooltip, ribbon, onMouseEnter])\n        const handleMouseMove = useMemo(() => {\n            if (!isInteractive) return undefined\n            return event => {\n                showTooltipFromEvent(React.createElement(tooltip, { ribbon }), event)\n                onMouseMove && onMouseMove(ribbon, event)\n            }\n        }, [isInteractive, showTooltipFromEvent, tooltip, ribbon, onMouseMove])\n        const handleMouseLeave = useMemo(() => {\n            if (!isInteractive) return undefined\n            return event => {\n                setCurrent(null)\n                hideTooltip()\n                onMouseLeave && onMouseLeave(ribbon, event)\n            }\n        }, [isInteractive, hideTooltip, ribbon, onMouseLeave])\n        const handleClick = useMemo(() => {\n            if (!isInteractive || !onClick) return undefined\n            return event => onClick(ribbon, event)\n        }, [isInteractive, ribbon, onClick])\n\n        return (\n            <path\n                d={ribbonGenerator({\n                    source: {\n                        startAngle: sourceStartAngle,\n                        endAngle: sourceEndAngle,\n                    },\n                    target: {\n                        startAngle: targetStartAngle,\n                        endAngle: targetEndAngle,\n                    },\n                })}\n                fill={color}\n                fillOpacity={opacity}\n                strokeWidth={borderWidth}\n                stroke={getBorderColor({ ...ribbon, color })}\n                strokeOpacity={opacity}\n                style={{ mixBlendMode: blendMode }}\n                onMouseEnter={handleMouseEnter}\n                onMouseMove={handleMouseMove}\n                onMouseLeave={handleMouseLeave}\n                onClick={handleClick}\n            />\n        )\n    }\n)\n\nChordRibbon.displayName = 'ChordRibbon'\nChordRibbon.propTypes = {\n    ribbon: PropTypes.object.isRequired,\n    ribbonGenerator: PropTypes.func.isRequired,\n    sourceStartAngle: PropTypes.number.isRequired,\n    sourceEndAngle: PropTypes.number.isRequired,\n    targetStartAngle: PropTypes.number.isRequired,\n    targetEndAngle: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired,\n    blendMode: blendModePropType.isRequired,\n    opacity: PropTypes.number.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    getBorderColor: PropTypes.func.isRequired,\n    setCurrent: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    onMouseEnter: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onClick: PropTypes.func,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n}\n\nexport default ChordRibbon\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport mapValues from 'lodash/mapValues'\nimport { TransitionMotion, spring } from 'react-motion'\nimport { blendModePropType, midAngle, useMotionConfig } from '@nivo/core'\nimport { interpolateColor, getInterpolatedColor } from '@nivo/colors'\nimport ChordRibbon from './ChordRibbon'\n\n/**\n * Used to get ribbon angles, instead of using source and target arcs,\n * we sort arcs by value to have smooth transitions, otherwise,\n * if source|target arc value becomes greater than the other,\n * the ribbon will be reversed.\n *\n * @param {Object}  source\n * @param {Object}  target\n * @param {boolean} useMiddleAngle\n * @param {Object}  [springConfig]\n * @return {Object}\n */\nconst getRibbonAngles = ({ source, target }, useMiddleAngle, springConfig) => {\n    let firstArc\n    let secondArc\n    if (source.startAngle < target.startAngle) {\n        firstArc = source\n        secondArc = target\n    } else {\n        firstArc = target\n        secondArc = source\n    }\n\n    let angles\n    if (useMiddleAngle === true) {\n        const firstMiddleAngle = midAngle(firstArc)\n        const secondMiddleAngle = midAngle(secondArc)\n\n        angles = {\n            sourceStartAngle: firstMiddleAngle,\n            sourceEndAngle: firstMiddleAngle,\n            targetStartAngle: secondMiddleAngle,\n            targetEndAngle: secondMiddleAngle,\n        }\n    } else {\n        angles = {\n            sourceStartAngle: firstArc.startAngle,\n            sourceEndAngle: firstArc.endAngle,\n            targetStartAngle: secondArc.startAngle,\n            targetEndAngle: secondArc.endAngle,\n        }\n    }\n\n    if (!springConfig) return angles\n\n    return mapValues(angles, angle => spring(angle, springConfig))\n}\n\nconst ribbonWillEnter = ({ data: ribbon }) => ({\n    ...getRibbonAngles(ribbon, true),\n    opacity: 0,\n    ...interpolateColor(ribbon.source.color),\n})\n\nconst ribbonWillLeave = springConfig => ({ data: ribbon }) => ({\n    ...getRibbonAngles(ribbon, true, springConfig),\n    opacity: 0,\n    ...interpolateColor(ribbon.source.color, springConfig),\n})\n\nconst ChordRibbons = memo(\n    ({\n        ribbons,\n        ribbonGenerator,\n        borderWidth,\n        getBorderColor,\n        getOpacity,\n        blendMode,\n        isInteractive,\n        setCurrent,\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n        tooltip,\n    }) => {\n        const { animate, springConfig: _springConfig } = useMotionConfig()\n\n        if (animate !== true) {\n            return (\n                <g>\n                    {ribbons.map(ribbon => {\n                        return (\n                            <ChordRibbon\n                                key={ribbon.id}\n                                ribbon={ribbon}\n                                ribbonGenerator={ribbonGenerator}\n                                sourceStartAngle={ribbon.source.startAngle}\n                                sourceEndAngle={ribbon.source.endAngle}\n                                targetStartAngle={ribbon.target.startAngle}\n                                targetEndAngle={ribbon.target.endAngle}\n                                color={ribbon.source.color}\n                                blendMode={blendMode}\n                                opacity={getOpacity(ribbon)}\n                                borderWidth={borderWidth}\n                                getBorderColor={getBorderColor}\n                                isInteractive={isInteractive}\n                                setCurrent={setCurrent}\n                                onMouseEnter={onMouseEnter}\n                                onMouseMove={onMouseMove}\n                                onMouseLeave={onMouseLeave}\n                                onClick={onClick}\n                                tooltip={tooltip}\n                            />\n                        )\n                    })}\n                </g>\n            )\n        }\n\n        const springConfig = {\n            ..._springConfig,\n            precision: 0.001,\n        }\n\n        return (\n            <TransitionMotion\n                willEnter={ribbonWillEnter}\n                willLeave={ribbonWillLeave(springConfig)}\n                styles={ribbons.map(ribbon => {\n                    return {\n                        key: ribbon.id,\n                        data: ribbon,\n                        style: {\n                            ...getRibbonAngles(ribbon, false, springConfig),\n                            opacity: spring(getOpacity(ribbon), springConfig),\n                            ...interpolateColor(ribbon.source.color, springConfig),\n                        },\n                    }\n                })}\n            >\n                {interpolatedStyles => (\n                    <>\n                        {interpolatedStyles.map(({ key, style, data: ribbon }) => {\n                            const color = getInterpolatedColor(style)\n\n                            return (\n                                <ChordRibbon\n                                    key={key}\n                                    ribbon={ribbon}\n                                    ribbonGenerator={ribbonGenerator}\n                                    sourceStartAngle={style.sourceStartAngle}\n                                    sourceEndAngle={Math.max(\n                                        style.sourceEndAngle,\n                                        style.sourceStartAngle\n                                    )}\n                                    targetStartAngle={style.targetStartAngle}\n                                    targetEndAngle={Math.max(\n                                        style.targetEndAngle,\n                                        style.targetStartAngle\n                                    )}\n                                    color={color}\n                                    blendMode={blendMode}\n                                    opacity={style.opacity}\n                                    borderWidth={borderWidth}\n                                    getBorderColor={getBorderColor}\n                                    isInteractive={isInteractive}\n                                    setCurrent={setCurrent}\n                                    onMouseEnter={onMouseEnter}\n                                    onMouseMove={onMouseMove}\n                                    onMouseLeave={onMouseLeave}\n                                    onClick={onClick}\n                                    tooltip={tooltip}\n                                />\n                            )\n                        })}\n                    </>\n                )}\n            </TransitionMotion>\n        )\n    }\n)\n\nChordRibbons.displayName = 'ChordRibbons'\nChordRibbons.propTypes = {\n    ribbons: PropTypes.array.isRequired,\n    ribbonGenerator: PropTypes.func.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    getBorderColor: PropTypes.func.isRequired,\n    getOpacity: PropTypes.func.isRequired,\n    blendMode: blendModePropType.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    setCurrent: PropTypes.func.isRequired,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n    onMouseEnter: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onClick: PropTypes.func,\n}\n\nexport default ChordRibbons\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTooltip } from '@nivo/tooltip'\n\nconst ChordArc = memo(\n    ({\n        arc,\n        startAngle,\n        endAngle,\n        borderWidth,\n        getBorderColor,\n        opacity,\n        arcGenerator,\n        setCurrent,\n        isInteractive,\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n        tooltip,\n    }) => {\n        const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n        const handleMouseEnter = useMemo(() => {\n            if (!isInteractive) return undefined\n            return event => {\n                setCurrent(arc)\n                showTooltipFromEvent(React.createElement(tooltip, { arc }), event)\n                onMouseEnter && onMouseEnter(arc, event)\n            }\n        }, [isInteractive, showTooltipFromEvent, tooltip, arc, onMouseEnter])\n        const handleMouseMove = useMemo(() => {\n            if (!isInteractive) return undefined\n            return event => {\n                showTooltipFromEvent(React.createElement(tooltip, { arc }), event)\n                onMouseMove && onMouseMove(arc, event)\n            }\n        }, [isInteractive, showTooltipFromEvent, tooltip, arc, onMouseMove])\n        const handleMouseLeave = useMemo(() => {\n            if (!isInteractive) return undefined\n            return event => {\n                setCurrent(null)\n                hideTooltip()\n                onMouseLeave && onMouseLeave(arc, event)\n            }\n        }, [isInteractive, hideTooltip, arc, onMouseLeave])\n        const handleClick = useMemo(() => {\n            if (!isInteractive || !onClick) return undefined\n            return event => onClick(arc, event)\n        }, [isInteractive, arc, onClick])\n\n        return (\n            <path\n                d={arcGenerator({ startAngle, endAngle })}\n                fill={arc.color}\n                fillOpacity={opacity}\n                strokeWidth={borderWidth}\n                stroke={getBorderColor(arc)}\n                strokeOpacity={opacity}\n                onMouseEnter={handleMouseEnter}\n                onMouseMove={handleMouseMove}\n                onMouseLeave={handleMouseLeave}\n                onClick={handleClick}\n            />\n        )\n    }\n)\n\nChordArc.displayName = 'ChordArc'\nChordArc.propTypes = {\n    arc: PropTypes.object.isRequired,\n    startAngle: PropTypes.number.isRequired,\n    endAngle: PropTypes.number.isRequired,\n    arcGenerator: PropTypes.func.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    getBorderColor: PropTypes.func.isRequired,\n    opacity: PropTypes.number.isRequired,\n    setCurrent: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    onMouseEnter: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onClick: PropTypes.func,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n}\n\nexport default ChordArc\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { TransitionMotion, spring } from 'react-motion'\nimport { interpolateColor, getInterpolatedColor } from '@nivo/colors'\nimport { useMotionConfig } from '@nivo/core'\nimport ChordArc from './ChordArc'\n\nconst ChordArcs = memo(\n    ({\n        arcs,\n        borderWidth,\n        getBorderColor,\n        getOpacity,\n        arcGenerator,\n        setCurrent,\n        isInteractive,\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n        tooltip,\n    }) => {\n        const { animate, springConfig: _springConfig } = useMotionConfig()\n\n        if (animate !== true) {\n            return arcs.map(arc => {\n                return (\n                    <ChordArc\n                        key={arc.id}\n                        arc={arc}\n                        arcGenerator={arcGenerator}\n                        startAngle={arc.startAngle}\n                        endAngle={arc.endAngle}\n                        color={arc.color}\n                        opacity={getOpacity(arc)}\n                        borderWidth={borderWidth}\n                        getBorderColor={getBorderColor}\n                        getOpacity={getOpacity}\n                        isInteractive={isInteractive}\n                        setCurrent={setCurrent}\n                        onMouseEnter={onMouseEnter}\n                        onMouseMove={onMouseMove}\n                        onMouseLeave={onMouseLeave}\n                        onClick={onClick}\n                        tooltip={tooltip}\n                    />\n                )\n            })\n        }\n\n        const springConfig = {\n            ..._springConfig,\n            precision: 0.001,\n        }\n\n        return (\n            <TransitionMotion\n                styles={arcs.map(arc => {\n                    return {\n                        key: arc.id,\n                        data: arc,\n                        style: {\n                            startAngle: spring(arc.startAngle, springConfig),\n                            endAngle: spring(arc.endAngle, springConfig),\n                            opacity: spring(getOpacity(arc), springConfig),\n                            ...interpolateColor(arc.color, springConfig),\n                        },\n                    }\n                })}\n            >\n                {interpolatedStyles => (\n                    <>\n                        {interpolatedStyles.map(({ key, style, data: arc }) => {\n                            const color = getInterpolatedColor(style)\n\n                            return (\n                                <ChordArc\n                                    key={key}\n                                    arc={arc}\n                                    arcGenerator={arcGenerator}\n                                    startAngle={style.startAngle}\n                                    endAngle={style.endAngle}\n                                    color={color}\n                                    opacity={style.opacity}\n                                    borderWidth={borderWidth}\n                                    getBorderColor={getBorderColor}\n                                    getOpacity={getOpacity}\n                                    isInteractive={isInteractive}\n                                    setCurrent={setCurrent}\n                                    onMouseEnter={onMouseEnter}\n                                    onMouseMove={onMouseMove}\n                                    onMouseLeave={onMouseLeave}\n                                    onClick={onClick}\n                                    tooltip={tooltip}\n                                />\n                            )\n                        })}\n                    </>\n                )}\n            </TransitionMotion>\n        )\n    }\n)\n\nChordArcs.displayName = 'ChordArcs'\nChordArcs.propTypes = {\n    arcs: PropTypes.array.isRequired,\n    arcGenerator: PropTypes.func.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    getBorderColor: PropTypes.func.isRequired,\n    getOpacity: PropTypes.func.isRequired,\n    setCurrent: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    onMouseEnter: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onClick: PropTypes.func,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n}\n\nexport default ChordArcs\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { TransitionMotion, spring } from 'react-motion'\nimport { midAngle, getPolarLabelProps, useTheme } from '@nivo/core'\nimport { useMotionConfig } from '@nivo/core'\n\nconst ChordLabels = ({ arcs, radius, rotation, getColor }) => {\n    const theme = useTheme()\n    const { animate, springConfig } = useMotionConfig()\n\n    if (animate !== true) {\n        return (\n            <>\n                {arcs.map(arc => {\n                    const color = getColor(arc, theme)\n                    const angle = midAngle(arc)\n                    const textProps = getPolarLabelProps(radius, angle, rotation)\n\n                    return (\n                        <text\n                            key={arc.id}\n                            transform={`translate(${textProps.x}, ${textProps.y}) rotate(${textProps.rotate})`}\n                            style={{\n                                ...theme.labels.text,\n                                pointerEvents: 'none',\n                                fill: color,\n                            }}\n                            textAnchor={textProps.align}\n                            dominantBaseline={textProps.baseline}\n                        >\n                            {arc.label}\n                        </text>\n                    )\n                })}\n            </>\n        )\n    }\n\n    return (\n        <TransitionMotion\n            styles={arcs.map(arc => {\n                const angle = midAngle(arc)\n\n                return {\n                    key: arc.id,\n                    data: arc,\n                    style: {\n                        angle: spring(angle, springConfig),\n                    },\n                }\n            })}\n        >\n            {interpolatedStyles => (\n                <>\n                    {interpolatedStyles.map(({ key, style, data: arc }) => {\n                        const color = getColor(arc, theme)\n                        const textProps = getPolarLabelProps(radius, style.angle, rotation)\n\n                        return (\n                            <text\n                                key={key}\n                                transform={`translate(${textProps.x}, ${textProps.y}) rotate(${textProps.rotate})`}\n                                style={{\n                                    ...theme.labels.text,\n                                    pointerEvents: 'none',\n                                    fill: color,\n                                }}\n                                textAnchor={textProps.align}\n                                dominantBaseline={textProps.baseline}\n                            >\n                                {arc.label}\n                            </text>\n                        )\n                    })}\n                </>\n            )}\n        </TransitionMotion>\n    )\n}\n\nChordLabels.propTypes = {\n    arcs: PropTypes.array.isRequired,\n    radius: PropTypes.number.isRequired,\n    rotation: PropTypes.number.isRequired,\n    getColor: PropTypes.func.isRequired,\n}\n\nexport default ChordLabels\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Fragment } from 'react'\nimport { withContainer, SvgWrapper, useDimensions, useTheme } from '@nivo/core'\nimport { useInheritedColor } from '@nivo/colors'\nimport { BoxLegendSvg } from '@nivo/legends'\nimport { ChordPropTypes, ChordDefaultProps } from './props'\nimport { useChord, useChordSelection, useChordLayerContext } from './hooks'\nimport ChordRibbons from './ChordRibbons'\nimport ChordArcs from './ChordArcs'\nimport ChordLabels from './ChordLabels'\n\nconst Chord = ({\n    margin: partialMargin,\n    width,\n    height,\n\n    keys,\n    matrix,\n    label,\n    valueFormat,\n    innerRadiusRatio,\n    innerRadiusOffset,\n    padAngle,\n\n    layers,\n\n    colors,\n\n    arcBorderWidth,\n    arcBorderColor,\n    arcOpacity,\n    arcHoverOpacity,\n    arcHoverOthersOpacity,\n    arcTooltip,\n\n    ribbonBorderWidth,\n    ribbonBorderColor,\n    ribbonBlendMode,\n    ribbonOpacity,\n    ribbonHoverOpacity,\n    ribbonHoverOthersOpacity,\n    ribbonTooltip,\n\n    enableLabel,\n    labelOffset,\n    labelRotation,\n    labelTextColor,\n\n    isInteractive,\n    onArcMouseEnter,\n    onArcMouseMove,\n    onArcMouseLeave,\n    onArcClick,\n    onRibbonMouseEnter,\n    onRibbonMouseMove,\n    onRibbonMouseLeave,\n    onRibbonClick,\n\n    legends,\n    role,\n}) => {\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const { center, radius, arcGenerator, ribbonGenerator, arcs, ribbons } = useChord({\n        keys,\n        matrix,\n        label,\n        valueFormat,\n        width: innerWidth,\n        height: innerHeight,\n        innerRadiusRatio,\n        innerRadiusOffset,\n        padAngle,\n        colors,\n    })\n\n    const { setCurrentArc, setCurrentRibbon, getArcOpacity, getRibbonOpacity } = useChordSelection({\n        arcs,\n        arcOpacity,\n        arcHoverOpacity,\n        arcHoverOthersOpacity,\n        ribbons,\n        ribbonOpacity,\n        ribbonHoverOpacity,\n        ribbonHoverOthersOpacity,\n    })\n\n    const theme = useTheme()\n    const getLabelTextColor = useInheritedColor(labelTextColor, theme)\n    const getArcBorderColor = useInheritedColor(arcBorderColor, theme)\n    const getRibbonBorderColor = useInheritedColor(ribbonBorderColor, theme)\n\n    const layerContext = useChordLayerContext({\n        center,\n        radius,\n        arcs,\n        arcGenerator,\n        ribbons,\n        ribbonGenerator,\n    })\n\n    if (radius <= 0) return null\n\n    const legendData = arcs.map(arc => ({\n        id: arc.id,\n        label: arc.label,\n        color: arc.color,\n    }))\n\n    const layerById = {\n        ribbons: (\n            <g key=\"ribbons\" transform={`translate(${center[0]}, ${center[1]})`}>\n                <ChordRibbons\n                    ribbons={ribbons}\n                    ribbonGenerator={ribbonGenerator}\n                    borderWidth={ribbonBorderWidth}\n                    getBorderColor={getRibbonBorderColor}\n                    getOpacity={getRibbonOpacity}\n                    blendMode={ribbonBlendMode}\n                    setCurrent={setCurrentRibbon}\n                    isInteractive={isInteractive}\n                    onMouseEnter={onRibbonMouseEnter}\n                    onMouseMove={onRibbonMouseMove}\n                    onMouseLeave={onRibbonMouseLeave}\n                    onClick={onRibbonClick}\n                    tooltip={ribbonTooltip}\n                />\n            </g>\n        ),\n        arcs: (\n            <g key=\"arcs\" transform={`translate(${center[0]}, ${center[1]})`}>\n                <ChordArcs\n                    arcs={arcs}\n                    arcGenerator={arcGenerator}\n                    borderWidth={arcBorderWidth}\n                    getBorderColor={getArcBorderColor}\n                    getOpacity={getArcOpacity}\n                    setCurrent={setCurrentArc}\n                    isInteractive={isInteractive}\n                    onMouseEnter={onArcMouseEnter}\n                    onMouseMove={onArcMouseMove}\n                    onMouseLeave={onArcMouseLeave}\n                    onClick={onArcClick}\n                    tooltip={arcTooltip}\n                />\n            </g>\n        ),\n        labels: null,\n        legends: (\n            <Fragment key=\"legends\">\n                {legends.map((legend, i) => (\n                    <BoxLegendSvg\n                        key={i}\n                        {...legend}\n                        containerWidth={innerWidth}\n                        containerHeight={innerHeight}\n                        data={legendData}\n                        theme={theme}\n                    />\n                ))}\n            </Fragment>\n        ),\n    }\n\n    if (enableLabel === true) {\n        layerById.labels = (\n            <g key=\"labels\" transform={`translate(${center[0]}, ${center[1]})`}>\n                <ChordLabels\n                    arcs={arcs}\n                    radius={radius + labelOffset}\n                    rotation={labelRotation}\n                    getColor={getLabelTextColor}\n                />\n            </g>\n        )\n    }\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            theme={theme}\n            role={role}\n        >\n            {layers.map((layer, i) => {\n                if (layerById[layer] !== undefined) {\n                    return layerById[layer]\n                }\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{layer(layerContext)}</Fragment>\n                }\n\n                return null\n            })}\n        </SvgWrapper>\n    )\n}\n\nChord.propTypes = ChordPropTypes\nChord.defaultProps = ChordDefaultProps\n\nexport default withContainer(Chord)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useRef, useEffect, useCallback } from 'react'\nimport {\n    withContainer,\n    useDimensions,\n    useTheme,\n    midAngle,\n    getPolarLabelProps,\n    degreesToRadians,\n    getRelativeCursor,\n    getHoveredArc,\n} from '@nivo/core'\nimport { useInheritedColor } from '@nivo/colors'\nimport { renderLegendToCanvas } from '@nivo/legends'\nimport { useTooltip } from '@nivo/tooltip'\nimport { useChord, useChordSelection, useChordLayerContext } from './hooks'\nimport { ChordCanvasPropTypes, ChordCanvasDefaultProps } from './props'\n\nconst getArcFromMouseEvent = ({ event, canvasEl, center, margin, radius, innerRadius, arcs }) => {\n    const [x, y] = getRelativeCursor(canvasEl, event)\n    const centerX = margin.left + center[0]\n    const centerY = margin.top + center[1]\n\n    return getHoveredArc(centerX, centerY, radius, innerRadius, arcs, x, y)\n}\n\nconst ChordCanvas = memo(\n    ({\n        pixelRatio,\n        margin: partialMargin,\n        width,\n        height,\n        keys,\n        matrix,\n        label,\n        valueFormat,\n        innerRadiusRatio,\n        innerRadiusOffset,\n        padAngle,\n        layers,\n        colors,\n        arcBorderWidth,\n        arcBorderColor,\n        arcOpacity,\n        arcHoverOpacity,\n        arcHoverOthersOpacity,\n        arcTooltip,\n        ribbonBorderWidth,\n        ribbonBorderColor,\n        ribbonOpacity,\n        ribbonHoverOpacity,\n        ribbonHoverOthersOpacity,\n        enableLabel,\n        labelOffset,\n        labelRotation,\n        labelTextColor,\n        isInteractive,\n        onArcMouseEnter,\n        onArcMouseMove,\n        onArcMouseLeave,\n        onArcClick,\n        legends,\n    }) => {\n        const canvasEl = useRef(null)\n        const { innerWidth, innerHeight, outerWidth, outerHeight, margin } = useDimensions(\n            width,\n            height,\n            partialMargin\n        )\n\n        const {\n            center,\n            radius,\n            innerRadius,\n            arcGenerator,\n            ribbonGenerator,\n            arcs,\n            ribbons,\n        } = useChord({\n            keys,\n            matrix,\n            label,\n            valueFormat,\n            width: innerWidth,\n            height: innerHeight,\n            innerRadiusRatio,\n            innerRadiusOffset,\n            padAngle,\n            colors,\n        })\n\n        const { currentArc, setCurrentArc, getArcOpacity, getRibbonOpacity } = useChordSelection({\n            arcs,\n            arcOpacity,\n            arcHoverOpacity,\n            arcHoverOthersOpacity,\n            ribbons,\n            ribbonOpacity,\n            ribbonHoverOpacity,\n            ribbonHoverOthersOpacity,\n        })\n\n        const theme = useTheme()\n        const getLabelTextColor = useInheritedColor(labelTextColor, theme)\n        const getArcBorderColor = useInheritedColor(arcBorderColor, theme)\n        const getRibbonBorderColor = useInheritedColor(ribbonBorderColor, theme)\n\n        const layerContext = useChordLayerContext({\n            center,\n            radius,\n            arcs,\n            arcGenerator,\n            ribbons,\n            ribbonGenerator,\n        })\n\n        useEffect(() => {\n            canvasEl.current.width = outerWidth * pixelRatio\n            canvasEl.current.height = outerHeight * pixelRatio\n\n            const ctx = canvasEl.current.getContext('2d')\n\n            ctx.scale(pixelRatio, pixelRatio)\n\n            ctx.fillStyle = theme.background\n            ctx.fillRect(0, 0, outerWidth, outerHeight)\n\n            if (radius <= 0) return\n\n            layers.forEach(layer => {\n                if (layer === 'ribbons') {\n                    ctx.save()\n                    ctx.translate(margin.left + center[0], margin.top + center[1])\n\n                    ribbonGenerator.context(ctx)\n                    ribbons.forEach(ribbon => {\n                        ctx.save()\n\n                        ctx.globalAlpha = getRibbonOpacity(ribbon)\n                        ctx.fillStyle = ribbon.source.color\n                        ctx.beginPath()\n                        ribbonGenerator(ribbon)\n                        ctx.fill()\n\n                        if (ribbonBorderWidth > 0) {\n                            ctx.strokeStyle = getRibbonBorderColor({\n                                ...ribbon,\n                                color: ribbon.source.color,\n                            })\n                            ctx.lineWidth = ribbonBorderWidth\n                            ctx.stroke()\n                        }\n\n                        ctx.restore()\n                    })\n\n                    ctx.restore()\n                }\n\n                if (layer === 'arcs') {\n                    ctx.save()\n                    ctx.translate(margin.left + center[0], margin.top + center[1])\n\n                    arcGenerator.context(ctx)\n                    arcs.forEach(arc => {\n                        ctx.save()\n\n                        ctx.globalAlpha = getArcOpacity(arc)\n                        ctx.fillStyle = arc.color\n                        ctx.beginPath()\n                        arcGenerator(arc)\n                        ctx.fill()\n\n                        if (arcBorderWidth > 0) {\n                            ctx.strokeStyle = getArcBorderColor(arc)\n                            ctx.lineWidth = arcBorderWidth\n                            ctx.stroke()\n                        }\n\n                        ctx.restore()\n                    })\n\n                    ctx.restore()\n                }\n\n                if (layer === 'labels' && enableLabel === true) {\n                    ctx.save()\n                    ctx.translate(margin.left + center[0], margin.top + center[1])\n\n                    ctx.font = `${theme.labels.text.fontSize}px ${\n                        theme.labels.text.fontFamily || 'sans-serif'\n                    }`\n\n                    arcs.forEach(arc => {\n                        const angle = midAngle(arc)\n                        const props = getPolarLabelProps(radius + labelOffset, angle, labelRotation)\n\n                        ctx.save()\n                        ctx.translate(props.x, props.y)\n                        ctx.rotate(degreesToRadians(props.rotate))\n\n                        ctx.textAlign = props.align\n                        ctx.textBaseline = props.baseline\n                        ctx.fillStyle = getLabelTextColor(arc, theme)\n                        ctx.fillText(arc.label, 0, 0)\n\n                        ctx.restore()\n                    })\n\n                    ctx.restore()\n                }\n\n                if (layer === 'legends') {\n                    ctx.save()\n                    ctx.translate(margin.left, margin.top)\n\n                    const legendData = arcs.map(arc => ({\n                        id: arc.id,\n                        label: arc.label,\n                        color: arc.color,\n                    }))\n\n                    legends.forEach(legend => {\n                        renderLegendToCanvas(ctx, {\n                            ...legend,\n                            data: legendData,\n                            containerWidth: innerWidth,\n                            containerHeight: innerHeight,\n                            theme,\n                        })\n                    })\n\n                    ctx.restore()\n                }\n\n                if (typeof layer === 'function') {\n                    layer(ctx, layerContext)\n                }\n            })\n        }, [\n            canvasEl,\n            innerWidth,\n            innerHeight,\n            outerWidth,\n            outerHeight,\n            margin,\n            pixelRatio,\n            theme,\n            layers,\n            arcs,\n            arcGenerator,\n            getArcOpacity,\n            arcBorderWidth,\n            getArcBorderColor,\n            ribbons,\n            ribbonGenerator,\n            getRibbonOpacity,\n            ribbonBorderWidth,\n            getRibbonBorderColor,\n            enableLabel,\n            labelOffset,\n            labelRotation,\n            getLabelTextColor,\n            legends,\n            layerContext,\n        ])\n\n        const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n        const handleMouseHover = useCallback(\n            event => {\n                const arc = getArcFromMouseEvent({\n                    event,\n                    canvasEl: canvasEl.current,\n                    center,\n                    margin,\n                    radius,\n                    innerRadius,\n                    arcs,\n                })\n\n                if (arc) {\n                    setCurrentArc(arc)\n                    showTooltipFromEvent(React.createElement(arcTooltip, { arc }), event)\n                    !currentArc && onArcMouseEnter && onArcMouseEnter(arc, event)\n                    onArcMouseMove && onArcMouseMove(arc, event)\n                    currentArc &&\n                        currentArc.id !== arc.id &&\n                        onArcMouseLeave &&\n                        onArcMouseLeave(arc, event)\n                } else {\n                    setCurrentArc(null)\n                    hideTooltip()\n                    currentArc && onArcMouseLeave && onArcMouseLeave(currentArc, event)\n                }\n            },\n            [\n                canvasEl,\n                center,\n                margin,\n                radius,\n                innerRadius,\n                arcs,\n                setCurrentArc,\n                showTooltipFromEvent,\n                hideTooltip,\n                onArcMouseEnter,\n                onArcMouseMove,\n                onArcMouseLeave,\n            ]\n        )\n\n        const handleMouseLeave = useCallback(() => {\n            setCurrentArc(null)\n            hideTooltip()\n        }, [setCurrentArc, hideTooltip])\n\n        const handleClick = useCallback(\n            event => {\n                if (!onArcClick) return\n\n                const arc = getArcFromMouseEvent({\n                    event,\n                    canvasEl: canvasEl.current,\n                    center,\n                    margin,\n                    radius,\n                    innerRadius,\n                    arcs,\n                })\n\n                arc && onArcClick(arc, event)\n            },\n            [canvasEl, center, margin, radius, innerRadius, arcs, onArcClick]\n        )\n\n        return (\n            <canvas\n                ref={canvasEl}\n                width={outerWidth * pixelRatio}\n                height={outerHeight * pixelRatio}\n                style={{\n                    width: outerWidth,\n                    height: outerHeight,\n                    cursor: isInteractive ? 'auto' : 'normal',\n                }}\n                onMouseEnter={isInteractive ? handleMouseHover : undefined}\n                onMouseMove={isInteractive ? handleMouseHover : undefined}\n                onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n                onClick={isInteractive ? handleClick : undefined}\n            />\n        )\n    }\n)\n\nChordCanvas.propTypes = ChordCanvasPropTypes\nChordCanvas.defaultProps = ChordCanvasDefaultProps\n\nexport default withContainer(ChordCanvas)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport Chord from './Chord'\n\nconst ResponsiveChord = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Chord width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveChord\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport ChordCanvas from './ChordCanvas'\n\nconst ResponsiveChordCanvas = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <ChordCanvas width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveChordCanvas\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { ChordDefaultProps as defaults } from '@nivo/chord'\nimport {\n    themeProperty,\n    motionProperties,\n    groupProperties,\n    getLegendsProps,\n} from '../../../lib/componentProperties'\n\nconst props = [\n    {\n        key: 'keys',\n        group: 'Base',\n        help: 'Keys used to identify each cell in the matrix.',\n        description: `\n            Keys used to identify each cell in the matrix,\n            for example given this matrix:\n            \\`\\`\\`\n            [ [123, 37,  99 ],\n              [75,  103, 82 ],\n              [37,  65,  109] ]\n            \\`\\`\\`\n            and those keys:\n            \\`\\`\\`\n            ['John', 'Jane', 'Raoul']\n            \\`\\`\\`\n            it will result in the following mapping:\n            \\`\\`\\`\n            [ [null,    'John', 'Jane',  'Raoul']\n              ['John',   123,    37,      99    ],\n              ['Jane',   75,     103,     82    ],\n              ['Raoul',  37,     65,      109   ] ]\n            \\`\\`\\`\n        `,\n        required: true,\n        type: 'string[]',\n    },\n    {\n        key: 'matrix',\n        group: 'Base',\n        help: 'The matrix used to compute the chord diagram.',\n        description: `\n            The matrix used to compute the chord diagram,\n            it must be a square matrix, meaning each row length\n            must equal the row count.\n        `,\n        required: true,\n        type: 'Array<number[]>',\n    },\n    {\n        key: 'valueFormat',\n        group: 'Base',\n        type: 'string | Function',\n        required: false,\n        help: `Optional value formatter.`,\n    },\n    {\n        key: 'width',\n        enableControlForFlavors: ['api'],\n        help: 'Chart width.',\n        description: `\n            not required if using\n            \\`<ResponsiveChord/>\\`.\n            Also note that width does not include labels,\n            so you should add enough margin to display them.\n        `,\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1000,\n            step: 5,\n        },\n    },\n    {\n        key: 'height',\n        enableControlForFlavors: ['api'],\n        help: 'Chart height.',\n        description: `\n            not required if using\n            \\`<ResponsiveChord/>\\`.\n            Also note that width does not include labels,\n            so you should add enough margin to display them.\n        `,\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1000,\n            step: 5,\n        },\n    },\n    {\n        key: 'pixelRatio',\n        flavors: ['canvas'],\n        help: `Adjust pixel ratio, useful for HiDPI screens.`,\n        required: false,\n        defaultValue: 'Depends on device',\n        type: `number`,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            min: 1,\n            max: 2,\n        },\n    },\n    {\n        key: 'margin',\n        help: 'Chart margin.',\n        type: 'object',\n        required: false,\n        controlType: 'margin',\n        group: 'Base',\n    },\n    {\n        key: 'padAngle',\n        help: 'Padding angle.',\n        required: false,\n        defaultValue: defaults.padAngle,\n        type: 'number',\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            min: 0,\n            max: 1,\n            step: 0.01,\n        },\n    },\n    {\n        key: 'innerRadiusRatio',\n        help: 'Inner radius ratio.',\n        required: false,\n        defaultValue: defaults.innerRadiusRatio,\n        type: 'number',\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            min: 0,\n            max: 1,\n            step: 0.01,\n        },\n    },\n    {\n        key: 'innerRadiusOffset',\n        help: 'Inner radius offset (minus innerRadiusRatio).',\n        required: false,\n        defaultValue: defaults.innerRadiusOffset,\n        type: 'number',\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            min: 0,\n            max: 1,\n            step: 0.01,\n        },\n    },\n    themeProperty,\n    {\n        key: 'colors',\n        help: 'Defines how to compute arc/ribbon color.',\n        type: 'string | Function | string[]',\n        required: false,\n        defaultValue: defaults.colors,\n        controlType: 'ordinalColors',\n        group: 'Style',\n    },\n    {\n        key: 'arcOpacity',\n        help: 'Arcs opacity.',\n        required: false,\n        defaultValue: defaults.arcOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Style',\n    },\n    {\n        key: 'arcBorderWidth',\n        help: 'Arcs border width.',\n        required: false,\n        defaultValue: defaults.arcBorderWidth,\n        type: 'number',\n        controlType: 'lineWidth',\n        group: 'Style',\n    },\n    {\n        key: 'arcBorderColor',\n        help: 'Arcs border color.',\n        required: false,\n        defaultValue: defaults.arcBorderColor,\n        type: 'string | object | Function',\n        controlType: 'inheritedColor',\n        group: 'Style',\n    },\n    {\n        key: 'ribbonOpacity',\n        help: 'Ribbons opacity.',\n        required: false,\n        defaultValue: defaults.ribbonOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Style',\n    },\n    {\n        key: 'ribbonBorderWidth',\n        help: 'Ribbons border width.',\n        required: false,\n        defaultValue: defaults.ribbonBorderWidth,\n        type: 'number',\n        controlType: 'lineWidth',\n        group: 'Style',\n    },\n    {\n        key: 'ribbonBorderColor',\n        help: 'Ribbons border color.',\n        required: false,\n        defaultValue: defaults.ribbonBorderColor,\n        type: 'string | object | Function',\n        controlType: 'inheritedColor',\n        group: 'Style',\n    },\n    {\n        key: 'enableLabel',\n        help: 'Enable/disable labels.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableLabel,\n        controlType: 'switch',\n        group: 'Labels',\n    },\n    {\n        key: 'label',\n        help:\n            'Defines how to get label text, can be a string (used to access current arc data property) or a function which will receive the actual arc data.',\n        type: 'string | Function',\n        required: false,\n        defaultValue: defaults.label,\n        controlType: 'choices',\n        group: 'Labels',\n        controlOptions: {\n            choices: ['id', 'value', `d => \\`\\${d.id} [\\${d.value}]\\``].map(choice => ({\n                label: choice,\n                value: choice,\n            })),\n        },\n    },\n    {\n        key: 'labelOffset',\n        help: 'Label offset from arc.',\n        required: false,\n        defaultValue: defaults.labelOffset,\n        type: 'number',\n        controlType: 'range',\n        group: 'Labels',\n        controlOptions: {\n            unit: 'px',\n            min: -80,\n            max: 80,\n        },\n    },\n    {\n        key: 'labelRotation',\n        help: 'Label rotation.',\n        required: false,\n        defaultValue: defaults.labelRotation,\n        type: 'number',\n        controlType: 'angle',\n        group: 'Labels',\n        controlOptions: {\n            min: -180,\n            max: 180,\n            step: 5,\n        },\n    },\n    {\n        key: 'labelTextColor',\n        description: `\n            How to compute label text color,\n            [see dedicated documentation](self:/guides/colors).\n        `,\n        help: 'Method to compute label text color.',\n        type: 'string | object | Function',\n        required: false,\n        defaultValue: defaults.labelTextColor,\n        controlType: 'inheritedColor',\n        group: 'Labels',\n    },\n    {\n        key: 'layers',\n        group: 'Customization',\n        help: 'Defines the order of layers and add custom layers.',\n        description: `\n            You can also use this to insert extra layers\n            to the chart, the extra layer must be a function.\n            \n            The layer function which will receive the chart's\n            context & computed data and must return a valid SVG element\n            for the \\`Chord\\` component.\n\n            When using the canvas implementation, the function\n            will receive the canvas 2d context as first argument\n            and the chart's context and computed data as second.\n\n            Please make sure to use \\`context.save()\\` and\n            \\`context.restore()\\` if you make some global\n            modifications to the 2d context inside this function\n            to avoid side effects.\n        `,\n        required: false,\n        type: 'Array<string | Function>',\n        defaultValue: defaults.layers,\n    },\n    {\n        key: 'isInteractive',\n        flavors: ['svg', 'canvas'],\n        help: 'Enable/disable interactivity.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.isInteractive,\n        controlType: 'switch',\n        group: 'Interactivity',\n    },\n    {\n        key: 'arcHoverOpacity',\n        flavors: ['svg', 'canvas'],\n        help: 'Arc opacity when hover (0~1).',\n        required: false,\n        defaultValue: defaults.arcHoverOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Interactivity',\n    },\n    {\n        key: 'arcHoverOthersOpacity',\n        flavors: ['svg', 'canvas'],\n        help: 'Arc opacity when not hover (0~1).',\n        required: false,\n        defaultValue: defaults.arcHoverOthersOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Interactivity',\n    },\n    {\n        key: 'ribbonHoverOpacity',\n        flavors: ['svg', 'canvas'],\n        help: 'Ribbon opacity when hover (0~1).',\n        required: false,\n        defaultValue: defaults.ribbonHoverOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Interactivity',\n    },\n    {\n        key: 'ribbonHoverOthersOpacity',\n        flavors: ['svg', 'canvas'],\n        help: 'Ribbon opacity when not hover (0~1).',\n        required: false,\n        defaultValue: defaults.ribbonHoverOthersOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Interactivity',\n    },\n    {\n        key: 'onArcMouseEnter',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        help: 'onMouseEnter handler for arcs.',\n        type: '(arc, event) => void',\n        required: false,\n    },\n    {\n        key: 'onArcMouseMove',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        help: 'onMouseMove handler for arcs.',\n        type: '(arc, event) => void',\n        required: false,\n    },\n    {\n        key: 'onArcMouseLeave',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        help: 'onMouseLeave handler for arcs.',\n        type: '(arc, event) => void',\n        required: false,\n    },\n    {\n        key: 'onArcClick',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        help: 'onClick handler for arcs.',\n        type: '(arc, event) => void',\n        required: false,\n    },\n    {\n        key: 'arcTooltip',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        type: 'Function',\n        required: false,\n        help: 'Custom arc tooltip component.',\n        description: `\n            A function allowing complete arc tooltip customisation,\n            it must return a valid HTML\n            element and will receive the arcs's data.\n        `,\n    },\n    {\n        key: 'onRibbonMouseEnter',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        help: 'onMouseEnter handler for ribbons.',\n        type: '(ribbon, event) => void',\n        required: false,\n    },\n    {\n        key: 'onRibbonMouseMove',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        help: 'onMouseMove handler for ribbons.',\n        type: '(ribbon, event) => void',\n        required: false,\n    },\n    {\n        key: 'onRibbonMouseLeave',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        help: 'onMouseLeave handler for ribbons.',\n        type: '(ribbon, event) => void',\n        required: false,\n    },\n    {\n        key: 'onRibbonClick',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        help: 'onClick handler for ribbons.',\n        type: '(ribbon, event) => void',\n        required: false,\n    },\n    {\n        key: 'ribbonTooltip',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        type: 'Function',\n        required: false,\n        help: 'Custom ribbon tooltip component.',\n        description: `\n            A function allowing complete ribbon tooltip customisation,\n            it must return a valid HTML\n            element and will receive the ribbon's data.\n        `,\n    },\n    {\n        key: 'legends',\n        flavors: ['svg', 'canvas'],\n        type: 'object[]',\n        help: `Optional chart's legends.`,\n        group: 'Legends',\n        controlType: 'array',\n        controlOptions: {\n            props: getLegendsProps(['svg', 'canvas']),\n            shouldCreate: true,\n            addLabel: 'add legend',\n            shouldRemove: true,\n            getItemTitle: (index, legend) =>\n                `legend[${index}]: ${legend.anchor}, ${legend.direction}`,\n            defaults: {\n                dataFrom: 'keys',\n                anchor: 'top-left',\n                direction: 'column',\n                justify: false,\n                translateX: 0,\n                translateY: 0,\n                itemWidth: 100,\n                itemHeight: 20,\n                itemsSpacing: 0,\n                symbolSize: 20,\n                itemDirection: 'left-to-right',\n                onClick: data => {\n                    alert(JSON.stringify(data, null, '    '))\n                },\n            },\n        },\n    },\n    ...motionProperties(['svg'], defaults),\n]\n\nexport const groups = groupProperties(props)\n","export var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.sort\";\nimport { range } from \"d3-array\";\nimport { max, tau } from \"./math\";\n\nfunction compareValue(compare) {\n  return function (a, b) {\n    return compare(a.source.value + a.target.value, b.source.value + b.target.value);\n  };\n}\n\nexport default function () {\n  var padAngle = 0,\n      sortGroups = null,\n      sortSubgroups = null,\n      sortChords = null;\n\n  function chord(matrix) {\n    var n = matrix.length,\n        groupSums = [],\n        groupIndex = range(n),\n        subgroupIndex = [],\n        chords = [],\n        groups = chords.groups = new Array(n),\n        subgroups = new Array(n * n),\n        k,\n        x,\n        x0,\n        dx,\n        i,\n        j; // Compute the sum.\n\n    k = 0, i = -1;\n\n    while (++i < n) {\n      x = 0, j = -1;\n\n      while (++j < n) {\n        x += matrix[i][j];\n      }\n\n      groupSums.push(x);\n      subgroupIndex.push(range(n));\n      k += x;\n    } // Sort groups…\n\n\n    if (sortGroups) groupIndex.sort(function (a, b) {\n      return sortGroups(groupSums[a], groupSums[b]);\n    }); // Sort subgroups…\n\n    if (sortSubgroups) subgroupIndex.forEach(function (d, i) {\n      d.sort(function (a, b) {\n        return sortSubgroups(matrix[i][a], matrix[i][b]);\n      });\n    }); // Convert the sum to scaling factor for [0, 2pi].\n    // TODO Allow start and end angle to be specified?\n    // TODO Allow padding to be specified as percentage?\n\n    k = max(0, tau - padAngle * n) / k;\n    dx = k ? padAngle : tau / n; // Compute the start and end angle for each group and subgroup.\n    // Note: Opera has a bug reordering object literal properties!\n\n    x = 0, i = -1;\n\n    while (++i < n) {\n      x0 = x, j = -1;\n\n      while (++j < n) {\n        var di = groupIndex[i],\n            dj = subgroupIndex[di][j],\n            v = matrix[di][dj],\n            a0 = x,\n            a1 = x += v * k;\n        subgroups[dj * n + di] = {\n          index: di,\n          subindex: dj,\n          startAngle: a0,\n          endAngle: a1,\n          value: v\n        };\n      }\n\n      groups[di] = {\n        index: di,\n        startAngle: x0,\n        endAngle: x,\n        value: groupSums[di]\n      };\n      x += dx;\n    } // Generate chords for each (non-empty) subgroup-subgroup link.\n\n\n    i = -1;\n\n    while (++i < n) {\n      j = i - 1;\n\n      while (++j < n) {\n        var source = subgroups[j * n + i],\n            target = subgroups[i * n + j];\n\n        if (source.value || target.value) {\n          chords.push(source.value < target.value ? {\n            source: target,\n            target: source\n          } : {\n            source: source,\n            target: target\n          });\n        }\n      }\n    }\n\n    return sortChords ? chords.sort(sortChords) : chords;\n  }\n\n  chord.padAngle = function (_) {\n    return arguments.length ? (padAngle = max(0, _), chord) : padAngle;\n  };\n\n  chord.sortGroups = function (_) {\n    return arguments.length ? (sortGroups = _, chord) : sortGroups;\n  };\n\n  chord.sortSubgroups = function (_) {\n    return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;\n  };\n\n  chord.sortChords = function (_) {\n    return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;\n  };\n\n  return chord;\n}","export var slice = Array.prototype.slice;","export default function (x) {\n  return function () {\n    return x;\n  };\n}","import { slice } from \"./array\";\nimport constant from \"./constant\";\nimport { cos, halfPi, sin } from \"./math\";\nimport { path } from \"d3-path\";\n\nfunction defaultSource(d) {\n  return d.source;\n}\n\nfunction defaultTarget(d) {\n  return d.target;\n}\n\nfunction defaultRadius(d) {\n  return d.radius;\n}\n\nfunction defaultStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction defaultEndAngle(d) {\n  return d.endAngle;\n}\n\nexport default function () {\n  var source = defaultSource,\n      target = defaultTarget,\n      radius = defaultRadius,\n      startAngle = defaultStartAngle,\n      endAngle = defaultEndAngle,\n      context = null;\n\n  function ribbon() {\n    var buffer,\n        argv = slice.call(arguments),\n        s = source.apply(this, argv),\n        t = target.apply(this, argv),\n        sr = +radius.apply(this, (argv[0] = s, argv)),\n        sa0 = startAngle.apply(this, argv) - halfPi,\n        sa1 = endAngle.apply(this, argv) - halfPi,\n        sx0 = sr * cos(sa0),\n        sy0 = sr * sin(sa0),\n        tr = +radius.apply(this, (argv[0] = t, argv)),\n        ta0 = startAngle.apply(this, argv) - halfPi,\n        ta1 = endAngle.apply(this, argv) - halfPi;\n    if (!context) context = buffer = path();\n    context.moveTo(sx0, sy0);\n    context.arc(0, 0, sr, sa0, sa1);\n\n    if (sa0 !== ta0 || sa1 !== ta1) {\n      // TODO sr !== tr?\n      context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));\n      context.arc(0, 0, tr, ta0, ta1);\n    }\n\n    context.quadraticCurveTo(0, 0, sx0, sy0);\n    context.closePath();\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  ribbon.radius = function (_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : radius;\n  };\n\n  ribbon.startAngle = function (_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : startAngle;\n  };\n\n  ribbon.endAngle = function (_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : endAngle;\n  };\n\n  ribbon.source = function (_) {\n    return arguments.length ? (source = _, ribbon) : source;\n  };\n\n  ribbon.target = function (_) {\n    return arguments.length ? (target = _, ribbon) : target;\n  };\n\n  ribbon.context = function (_) {\n    return arguments.length ? (context = _ == null ? null : _, ribbon) : context;\n  };\n\n  return ribbon;\n}","export { default as chord } from \"./chord\";\nexport { default as ribbon } from \"./ribbon\";","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { settingsMapper } from '../../../lib/settings'\n\nexport default settingsMapper({\n    label: value => {\n        if (value === `d => \\`\\${d.id} [\\${d.value}]\\``) return d => `${d.id} [${d.value}]`\n        return value\n    },\n})\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { generateChordData } from '@nivo/generators'\nimport { ResponsiveChordCanvas } from '@nivo/chord'\nimport ComponentTemplate from '../../components/components/ComponentTemplate'\nimport meta from '../../data/components/chord/meta.yml'\nimport mapper from '../../data/components/chord/mapper'\nimport { groups } from '../../data/components/chord/props'\n\nconst MATRIX_SIZE = 38\n\nconst initialProperties = {\n    margin: {\n        top: 60,\n        right: 200,\n        bottom: 60,\n        left: 60,\n    },\n\n    valueFormat: '.2f',\n\n    pixelRatio:\n        typeof window !== 'undefined' && window.devicePixelRatio ? window.devicePixelRatio : 1,\n\n    padAngle: 0.006,\n    innerRadiusRatio: 0.86,\n    innerRadiusOffset: 0,\n\n    arcOpacity: 1,\n    arcBorderWidth: 0,\n    arcBorderColor: {\n        from: 'color',\n        modifiers: [['darker', 0.4]],\n    },\n\n    ribbonOpacity: 0.5,\n    ribbonBorderWidth: 0,\n    ribbonBorderColor: {\n        from: 'color',\n        modifiers: [['darker', 0.4]],\n    },\n\n    enableLabel: true,\n    label: 'id',\n    labelOffset: 9,\n    labelRotation: -90,\n    labelTextColor: {\n        from: 'color',\n        modifiers: [['darker', 1]],\n    },\n\n    colors: { scheme: 'paired' },\n\n    isInteractive: true,\n    arcHoverOpacity: 1,\n    arcHoverOthersOpacity: 0.4,\n    ribbonHoverOpacity: 0.75,\n    ribbonHoverOthersOpacity: 0,\n\n    legends: [\n        {\n            anchor: 'right',\n            direction: 'column',\n            justify: false,\n            translateX: 120,\n            translateY: 0,\n            itemWidth: 80,\n            itemHeight: 11,\n            itemsSpacing: 0,\n            itemTextColor: '#999',\n            itemDirection: 'left-to-right',\n            symbolSize: 12,\n            onClick: d => {\n                alert(JSON.stringify(d, null, '    '))\n            },\n            effects: [\n                {\n                    on: 'hover',\n                    style: {\n                        itemTextColor: '#000',\n                    },\n                },\n            ],\n        },\n    ],\n}\n\nconst generateData = () => generateChordData({ size: MATRIX_SIZE })\n\nconst ChordCanvas = () => {\n    return (\n        <ComponentTemplate\n            name=\"ChordCanvas\"\n            meta={meta.ChordCanvas}\n            icon=\"chord\"\n            flavors={meta.flavors}\n            currentFlavor=\"canvas\"\n            properties={groups}\n            initialProperties={initialProperties}\n            propertiesMapper={mapper}\n            codePropertiesMapper={(properties, data) => ({\n                keys: data.keys,\n                ...properties,\n            })}\n            generateData={generateData}\n            dataKey=\"matrix\"\n            getDataSize={() => MATRIX_SIZE * MATRIX_SIZE + MATRIX_SIZE}\n            getTabData={data => data.matrix}\n        >\n            {(properties, data, theme, logAction) => {\n                return (\n                    <ResponsiveChordCanvas\n                        matrix={data.matrix}\n                        keys={data.keys}\n                        {...properties}\n                        theme={theme}\n                        onArcClick={arc => {\n                            logAction({\n                                type: 'click',\n                                label: `[arc] ${arc.label}`,\n                                color: arc.color,\n                                data: arc,\n                            })\n                        }}\n                    />\n                )\n            }}\n        </ComponentTemplate>\n    )\n}\n\nexport default ChordCanvas\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\n\n\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n  baseForOwn(object, function (value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;"],"sourceRoot":""}