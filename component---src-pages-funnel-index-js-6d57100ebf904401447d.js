(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{JCgZ:function(e,t,n){var o=n("VPOt"),r=n("/Qyy"),a=n("UzdM"),i=parseFloat,l=Math.min,u=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&r(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=a(e),void 0===t?(t=e,e=0):t=a(t)),e>t){var s=e;e=t,t=s}if(n||e%1||t%1){var c=u();return l(e+c*(t-e+i("1e-"+((c+"").length-1))),t)}return o(e,t)}},QRkI:function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return B})),n.d(t,"c",(function(){return E}));n("UKgA");var o=n("mXGw"),r=n.n(o),a=n("PWxN"),i=n.n(a),l=n("XQLF"),u=n.n(l),s=n("eeCi"),c=n.n(s),d=n("5QYd"),p=n("g4kd");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function m(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function g(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function v(e){return function(e){if(Array.isArray(e))return y(e)}(e)||m(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=4,k=120,O=8,w=function(e){return"circle"===e.type},S=function(e){return"dot"===e.type},j=function(e){return"rect"===e.type},W=function(e){var t,n,o=e.x,r=e.y,a=e.noteX,i=e.noteY,l=e.noteWidth,s=void 0===l?k:l,c=e.noteTextOffset,p=void 0===c?O:c;if(u()(a))t=o+a;else{if(void 0===a.abs)throw new Error("noteX should be either a number or an object containing an 'abs' property");t=a.abs}if(u()(i))n=r+i;else{if(void 0===i.abs)throw new Error("noteY should be either a number or an object containing an 'abs' property");n=i.abs}var h=o,f=r,b=function(e,t,n,o){var r=Math.atan2(o-t,n-e);return Object(d.n)(Object(d.bb)(r))}(o,r,t,n);if(w(e)){var y=Object(d.Y)(Object(d.E)(b),e.size/2);h+=y.x,f+=y.y}if(j(e)){var m=Math.round((b+90)/45)%8;0===m&&(f-=e.height/2),1===m&&(h+=e.width/2,f-=e.height/2),2===m&&(h+=e.width/2),3===m&&(h+=e.width/2,f+=e.height/2),4===m&&(f+=e.height/2),5===m&&(h-=e.width/2,f+=e.height/2),6===m&&(h-=e.width/2),7===m&&(h-=e.width/2,f-=e.height/2)}var g=t,v=t;return(b+90)%360>180?(g-=s,v-=s):v+=s,{points:[[h,f],[t,n],[v,n]],text:[g,n-p],angle:b+90}},E=function(e){var t=e.data,n=e.annotations,r=e.getPosition,a=e.getDimensions;return Object(o.useMemo)((function(){return function(e){var t=e.data,n=e.annotations,o=e.getPosition,r=e.getDimensions;return n.reduce((function(e,n){var a=n.offset||0;return[].concat(v(e),v(c()(t,n.match).map((function(e){var t=o(e),l=r(e);return(w(n)||j(n))&&(l.size=l.size+2*a,l.width=l.width+2*a,l.height=l.height+2*a),b(b(b(b({},i()(n,["match","offset"])),t),l),{},{size:n.size||l.size,datum:e})}))))}),[])}({data:t,annotations:n,getPosition:r,getDimensions:a})}),[t,n,r,a])},P=function(e){var t=e.datum,n=e.x,a=e.y,l=e.note,u=Object(d.sb)(),s=Object(d.qb)(),c=s.animate,h=s.config,f=Object(p.useSpring)({x:n,y:a,config:h,immediate:!c});return"function"==typeof l?Object(o.createElement)(l,{x:n,y:a,datum:t}):r.a.createElement(r.a.Fragment,null,u.annotations.text.outlineWidth>0&&r.a.createElement(p.animated.text,{x:f.x,y:f.y,style:b(b({},u.annotations.text),{},{strokeLinejoin:"round",strokeWidth:2*u.annotations.text.outlineWidth,stroke:u.annotations.text.outlineColor})},l),r.a.createElement(p.animated.text,{x:f.x,y:f.y,style:i()(u.annotations.text,["outlineWidth","outlineColor"])},l))};function C(e){if(Array.isArray(e))return e}function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e,t){return C(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(u){r=!0,a=u}finally{try{o||null==l.return||l.return()}finally{if(r)throw a}}return n}}(e,t)||g(e,t)||q()}var z=function(e){var t=e.points,n=e.isOutline,a=void 0!==n&&n,i=Object(d.sb)(),l=Object(o.useMemo)((function(){var e,n=C(e=t)||m(e)||g(e)||q(),o=n[0];return n.slice(1).reduce((function(e,t){var n=T(t,2),o=n[0],r=n[1];return"".concat(e," L").concat(o,",").concat(r)}),"M".concat(o[0],",").concat(o[1]))}),[t]),u=Object(d.mb)(l);if(a&&i.annotations.link.outlineWidth<=0)return null;var s=b({},i.annotations.link);return a&&(s.strokeLinecap="square",s.strokeWidth=i.annotations.link.strokeWidth+2*i.annotations.link.outlineWidth,s.stroke=i.annotations.link.outlineColor),r.a.createElement(p.animated.path,{fill:"none",d:u,style:s})},M=function(e){var t=e.x,n=e.y,o=e.size,a=Object(d.sb)(),i=Object(d.qb)(),l=i.animate,u=i.config,s=Object(p.useSpring)({x:t,y:n,radius:o/2,config:u,immediate:!l});return r.a.createElement(r.a.Fragment,null,a.annotations.outline.outlineWidth>0&&r.a.createElement(p.animated.circle,{cx:s.x,cy:s.y,r:s.radius,style:b(b({},a.annotations.outline),{},{fill:"none",strokeWidth:a.annotations.outline.strokeWidth+2*a.annotations.outline.outlineWidth,stroke:a.annotations.outline.outlineColor})}),r.a.createElement(p.animated.circle,{cx:s.x,cy:s.y,r:s.radius,style:a.annotations.outline}))},V=function(e){var t=e.x,n=e.y,o=e.size,a=void 0===o?x:o,i=Object(d.sb)(),l=Object(d.qb)(),u=l.animate,s=l.config,c=Object(p.useSpring)({x:t,y:n,radius:a/2,config:s,immediate:!u});return r.a.createElement(r.a.Fragment,null,i.annotations.outline.outlineWidth>0&&r.a.createElement(p.animated.circle,{cx:c.x,cy:c.y,r:c.radius,style:b(b({},i.annotations.outline),{},{fill:"none",strokeWidth:2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor})}),r.a.createElement(p.animated.circle,{cx:c.x,cy:c.y,r:c.radius,style:i.annotations.symbol}))},L=function(e){var t=e.x,n=e.y,o=e.width,a=e.height,i=Object(d.sb)(),l=Object(d.qb)(),u=l.animate,s=l.config,c=Object(p.useSpring)({x:t-o/2,y:n-a/2,width:o,height:a,config:s,immediate:!u});return r.a.createElement(r.a.Fragment,null,i.annotations.outline.outlineWidth>0&&r.a.createElement(p.animated.rect,{x:c.x,y:c.y,width:c.width,height:c.height,style:b(b({},i.annotations.outline),{},{fill:"none",strokeWidth:i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor})}),r.a.createElement(p.animated.rect,{x:c.x,y:c.y,width:c.width,height:c.height,style:i.annotations.outline}))},F=function(e){var t=e.datum,n=e.x,a=e.y,i=e.note,l=function(e){return Object(o.useMemo)((function(){return W(e)}),[e])}(e);if(!function(e){var t=typeof e;return Object(o.isValidElement)(e)||"string"===t||"function"===t||"object"===t}(i))throw new Error("note should be a valid react element");return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{points:l.points,isOutline:!0}),w(e)&&r.a.createElement(M,{x:n,y:a,size:e.size}),S(e)&&r.a.createElement(V,{x:n,y:a,size:e.size}),j(e)&&r.a.createElement(L,{x:n,y:a,width:e.width,height:e.height}),r.a.createElement(z,{points:l.points}),r.a.createElement(P,{datum:t,x:l.text[0],y:l.text[1],note:i}))},I=function(e,t){t.forEach((function(t,n){var o=T(t,2),r=o[0],a=o[1];0===n?e.moveTo(r,a):e.lineTo(r,a)}))},B=function(e,t){var n=t.annotations,o=t.theme;0!==n.length&&(e.save(),n.forEach((function(t){if(n=t.note,"string"!==(r=typeof n)&&"function"!==r)throw new Error("note is invalid for canvas implementation");var n,r;o.annotations.link.outlineWidth>0&&(e.lineCap="square",e.strokeStyle=o.annotations.link.outlineColor,e.lineWidth=o.annotations.link.strokeWidth+2*o.annotations.link.outlineWidth,e.beginPath(),I(e,t.computed.points),e.stroke(),e.lineCap="butt"),w(t)&&o.annotations.outline.outlineWidth>0&&(e.strokeStyle=o.annotations.outline.outlineColor,e.lineWidth=o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),S(t)&&o.annotations.symbol.outlineWidth>0&&(e.strokeStyle=o.annotations.symbol.outlineColor,e.lineWidth=2*o.annotations.symbol.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),j(t)&&o.annotations.outline.outlineWidth>0&&(e.strokeStyle=o.annotations.outline.outlineColor,e.lineWidth=o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),e.strokeStyle=o.annotations.link.stroke,e.lineWidth=o.annotations.link.strokeWidth,e.beginPath(),I(e,t.computed.points),e.stroke(),w(t)&&(e.strokeStyle=o.annotations.outline.stroke,e.lineWidth=o.annotations.outline.strokeWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),S(t)&&(e.fillStyle=o.annotations.symbol.fill,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.fill()),j(t)&&(e.strokeStyle=o.annotations.outline.stroke,e.lineWidth=o.annotations.outline.strokeWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),"function"==typeof t.note?t.note(e,{datum:t.datum,x:t.computed.text[0],y:t.computed.text[1],theme:o}):(e.font="".concat(o.annotations.text.fontSize,"px ").concat(o.annotations.text.fontFamily),e.fillStyle=o.annotations.text.fill,e.strokeStyle=o.annotations.text.outlineColor,e.lineWidth=2*o.annotations.text.outlineWidth,o.annotations.text.outlineWidth>0&&(e.lineJoin="round",e.strokeText(t.note,t.computed.text[0],t.computed.text[1]),e.lineJoin="miter"),e.fillText(t.note,t.computed.text[0],t.computed.text[1]))})),e.restore())}},VPOt:function(e,t){var n=Math.floor,o=Math.random;e.exports=function(e,t){return e+n(o()*(t-e+1))}},XgN0:function(e,t,n){var o=n("O76R"),r=n("KXzt"),a=o((function(e,t,n){return e+(n?" ":"")+r(t)}));e.exports=a},cBF7:function(e,t,n){"use strict";n.r(t);var o=n("mXGw"),r=n.n(o),a=n("HVn3"),i=n.n(a),l=n("Qd/H"),u=n("ZS2m"),s=n("P9Va"),c=n.n(s),d=n("nLLr"),p=Object(d.c)({valueFormat:d.b}),h=n("Eo5u"),f=n("RQLE"),b=[{key:"data",type:"Array<Datum>",group:"Base",help:"Chart data.",description:"\n            Chart data, which must conform to this structure:\n            ```\n            Array<{\n                id:    string | number\n                label: string\n                value: number\n            }>\n            ```\n        ",required:!0},{key:"margin",group:"Base",type:"object",help:"Chart margin.",controlType:"margin"},{key:"direction",help:"Direction of the chart.",type:"string",required:!1,defaultValue:l.b.direction,controlType:"radio",group:"Base",controlOptions:{choices:[{label:"horizontal",value:"horizontal"},{label:"vertical",value:"vertical"}]}},{key:"interpolation",group:"Base",type:"string",help:"Part shape interpolation.",required:!1,defaultValue:l.b.interpolation,controlType:"radio",controlOptions:{choices:[{label:"smooth",value:"smooth"},{label:"linear",value:"linear"}]}},{key:"spacing",help:"Spacing between parts",type:"number",required:!1,defaultValue:l.b.spacing,controlType:"range",group:"Base",controlOptions:{min:0,max:30,unit:"px"}},{key:"shapeBlending",help:"Blend shapes.",type:"number",required:!1,defaultValue:l.b.shapeBlending,controlType:"range",group:"Base",controlOptions:{min:0,max:1,step:.01}},{key:"valueFormat",help:"\n            Value format supporting d3-format notation, this formatted value\n            will then be used for labels and tooltips.\n        ",type:"string | Function",required:!1,controlType:"valueFormat",group:"Base"},f.f,{key:"colors",help:"Defines how to compute parts color.",type:"string | Function | string[]",required:!1,defaultValue:l.b.colors,controlType:"ordinalColors",group:"Style"},{key:"fillOpacity",help:"Part background opacity.",required:!1,defaultValue:l.b.fillOpacity,type:"number",controlType:"opacity",group:"Style"},{key:"borderWidth",help:"Width of part border.",type:"number",required:!1,defaultValue:l.b.borderWidth,controlType:"lineWidth",group:"Style"},{key:"borderColor",help:"Method to compute border color.",description:"\n            how to compute border color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:l.b.borderColor,controlType:"inheritedColor",group:"Style"},{key:"borderOpacity",help:"Part border opacity.",required:!1,defaultValue:l.b.borderOpacity,type:"number",controlType:"opacity",group:"Style"},{key:"enableLabel",help:"\n            Enable/disable labels. Use styles from\n            theme.labels.text.\n        ",type:"boolean",required:!1,defaultValue:l.b.enableLabel,controlType:"switch",group:"Labels"},{key:"labelColor",help:"Method to compute label color.",description:"\n            how to compute label color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:l.b.labelColor,controlType:"inheritedColor",group:"Labels"},{key:"enableBeforeSeparators",help:"\n            Enable/disable before separators.\n            Separators inherit styles from theme.grid.line.\n        ",type:"boolean",required:!1,defaultValue:l.b.enableBeforeSeparators,controlType:"switch",group:"Separators"},{key:"beforeSeparatorLength",help:"\n            Length of the before separator lines. You should add margin\n            for them to be visible if the value is greater than 0.\n        ",required:!1,defaultValue:l.b.beforeSeparatorLength,type:"number",controlType:"range",group:"Separators",controlOptions:{unit:"px",min:0,max:100}},{key:"beforeSeparatorOffset",help:"\n            Offset from the parts for the before separator lines.\n            You should add margin for them to be visible\n            if the value is greater than 0.\n        ",required:!1,defaultValue:l.b.beforeSeparatorOffset,type:"number",controlType:"range",group:"Separators",controlOptions:{unit:"px",min:0,max:100}},{key:"enableAfterSeparators",help:"\n            Enable/disable after separators.\n            Separators inherit styles from theme.grid.line.\n        ",type:"boolean",required:!1,defaultValue:l.b.enableAfterSeparators,controlType:"switch",group:"Separators"},{key:"afterSeparatorLength",help:"\n            Length of the after separator lines. You should add margin\n            for them to be visible if the value is greater than 0.\n        ",required:!1,defaultValue:l.b.afterSeparatorLength,type:"number",controlType:"range",group:"Separators",controlOptions:{unit:"px",min:0,max:100}},{key:"afterSeparatorOffset",help:"\n            Offset from the parts for the after separator lines.\n            You should add margin for them to be visible\n            if the value is greater than 0.\n        ",required:!1,defaultValue:l.b.afterSeparatorOffset,type:"number",controlType:"range",group:"Separators",controlOptions:{unit:"px",min:0,max:100}},{key:"layers",group:"Customization",help:"Defines the order of layers and add custom layers.",description:"\n            You can also use this to insert extra layers\n            to the chart, the extra layer must be a function.\n            \n            The layer function which will receive the chart's\n            context & computed data and must return a valid SVG element.\n        ",required:!1,type:"Array<string | Function>",defaultValue:l.b.layers},{key:"isInteractive",group:"Interactivity",type:"boolean",help:"Enable/disable interactivity.",required:!1,defaultValue:l.b.isInteractive,controlType:"switch"},{key:"currentPartSizeExtension",help:"\n            Expand part size by this amount of pixels on each side\n            when it's active \n        ",required:!1,defaultValue:l.b.currentPartSizeExtension,type:"number",controlType:"range",group:"Interactivity",controlOptions:{unit:"px",min:0,max:100}},{key:"currentBorderWidth",help:"Override default border width when a part is active.",required:!1,type:"number",controlType:"range",group:"Interactivity",controlOptions:{unit:"px",min:0,max:100}},{key:"onMouseEnter",group:"Interactivity",help:"onMouseEnter handler.",type:"(part, event) => void",required:!1},{key:"onMouseMove",group:"Interactivity",help:"onMouseMove handler.",type:"(part, event) => void",required:!1},{key:"onMouseLeave",group:"Interactivity",help:"onMouseLeave handler.",type:"(part, event) => void",required:!1},{key:"onClick",group:"Interactivity",help:"onClick handler.",type:"(part, event) => void",required:!1}].concat(Object(h.a)(Object(f.e)(["svg"],l.b,"react-spring"))),y=Object(f.d)(b),m=n("XgN0"),g=n.n(m),v=n("JCgZ"),x=n.n(v),k=function(){var e=1e5;return["sent","viewed","clicked","add_to_card","purchased"].map((function(t){return{id:"step_"+t,value:e=Math.round(e*x()(.6,.95)),label:g()(t)}}))},O={margin:{top:20,right:20,bottom:20,left:20},direction:l.b.direction,interpolation:l.b.interpolation,shapeBlending:l.b.shapeBlending,spacing:l.b.spacing,valueFormat:{format:">-.4s",enabled:!0},colors:{scheme:"spectral"},fillOpacity:l.b.fillOpacity,borderWidth:20,borderColor:l.b.borderColor,borderOpacity:l.b.borderOpacity,enableLabel:l.b.enableLabel,labelColor:{from:"color",modifiers:[["darker",3]]},enableBeforeSeparators:l.b.enableBeforeSeparators,beforeSeparatorLength:100,beforeSeparatorOffset:20,enableAfterSeparators:l.b.enableAfterSeparators,afterSeparatorLength:100,afterSeparatorOffset:20,isInteractive:!0,currentPartSizeExtension:10,currentBorderWidth:40,animate:!0,motionConfig:"wobbly"};t.default=function(){return r.a.createElement(u.a,{name:"Funnel",meta:c.a.Funnel,icon:"funnel",flavors:c.a.flavors,currentFlavor:"svg",properties:y,initialProperties:O,defaultProperties:l.b,propertiesMapper:p,generateData:k},(function(e,t,n,o){return r.a.createElement(l.c,Object.assign({data:t},e,{theme:i()({},n,{labels:{text:{fontSize:14}}}),onClick:function(e){o({type:"click",label:"[part] id: "+e.data.id+", value: "+e.data.value,color:e.color,data:e.data})}}))}))}},eeCi:function(e,t,n){var o=n("07F0"),r=n("lJjI"),a=n("tDyL"),i=n("PqlX");e.exports=function(e,t){return(i(e)?o:r)(e,a(t,3))}},lJjI:function(e,t,n){var o=n("T0uz");e.exports=function(e,t){var n=[];return o(e,(function(e,o,r){t(e,o,r)&&n.push(e)})),n}}}]);
//# sourceMappingURL=component---src-pages-funnel-index-js-6d57100ebf904401447d.js.map