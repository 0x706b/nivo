(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{JtK8:function(e,n,t){"use strict";t.r(n);var o=t("Eo5u"),r=t("mXGw"),a=t.n(r),i=t("6zZa"),l=t("vrFN"),s=t("vrO3"),d=t("UZ39"),c=t("doP5"),p=t("0l5g"),u=t.n(p),h=Object(i.k)({nodeCount:6,maxIterations:8});n.default=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.a,{title:"Sankey HTTP API",keywords:[].concat(Object(o.a)(u.a.Sankey.tags),["HTTP API"])}),a.a.createElement(s.a,{componentName:"Sankey",chartClass:"sankey",apiPath:"/charts/sankey",flavors:u.a.flavors,dataProperty:"data",controlGroups:d.a,propsMapper:c.a,defaultProps:{width:1200,height:800,data:JSON.stringify(h,null,"  "),margin:{top:20,right:20,bottom:20,left:20},layout:"horizontal",align:"justify",sort:"auto",colors:{scheme:"category10"},nodeOpacity:1,nodeHoverOpacity:1,nodeThickness:18,nodeInnerPadding:3,nodeSpacing:24,nodeBorderWidth:0,nodeBorderColor:{from:"color",modifiers:[["darker",.8]]},linkOpacity:.5,linkHoverOpacity:.6,linkHoverOthersOpacity:.1,linkContract:0,linkBlendMode:"multiply",enableLinkGradient:!0,enableLabels:!0,labelPosition:"outside",labelOrientation:"vertical",labelPadding:16,labelTextColor:{from:"color",modifiers:[["darker",1]]}}}))}},UZ39:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var o=t("Eo5u"),r=t("ospQ"),a=t("RQLE"),i=[{key:"data",group:"Base",help:"Chart data.",description:"\n            Chart data, which must conform to this structure:\n            ```\n            {\n                nodes: Array<{\n                    id: string | number\n                }>,\n                links: Array<{\n                    source: string | number, // ref to node id\n                    target: string | number, // ref to node id\n                    value:  number\n                }}>\n            }\n            ```\n        ",type:"{ nodes: object[], links: object[] }",required:!0},{key:"layout",help:"Control sankey layout direction.",type:"string",required:!1,defaultValue:r.b.layout,controlType:"radio",group:"Base",controlOptions:{choices:[{label:"horizontal",value:"horizontal"},{label:"vertical",value:"vertical"}]}},{key:"align",group:"Base",help:"Node alignment method.",description:"\n            Defines node alignment method.\n            Please have a look at the\n            [official d3 documentation](https://github.com/d3/d3-sankey#sankey_nodeAlign)\n            for further information.\n        ",type:"string",required:!1,defaultValue:r.b.align,controlType:"choices",controlOptions:{choices:r.c.map((function(e){return{label:e,value:e}}))}},{key:"sort",description:"\n            Defines node sorting method. Must be one of:\n\n            - **'auto'** order of nodes within each\n              column is determined automatically by the layout.\n            - **'input'** order is fixed by the input.\n            - **'ascending'** node with lower values on top.\n            - **'descending'** node with higher values on top.\n            - `(nodeA, nodeB) => number` user defined function.\n\n            Please have a look at the\n            [official d3 documentation](https://github.com/d3/d3-sankey#sankey_nodeSort)\n            for further information.\n        ",help:"Node sorting method.",type:"string | Function",required:!1,defaultValue:r.b.sort,controlType:"choices",group:"Base",controlOptions:{choices:["auto","input","ascending","descending"].map((function(e){return{label:e,value:e}}))}},{key:"width",enableControlForFlavors:["api"],description:"\n            not required if using\n            `<ResponsiveSankey/>`.\n        ",help:"Chart width.",type:"number",required:!0,controlType:"range",group:"Base",controlOptions:{unit:"px",min:100,max:1200,step:5}},{key:"height",enableControlForFlavors:["api"],description:"\n            not required if using\n            `<ResponsiveSankey/>`.\n        ",help:"Chart height.",type:"number",required:!0,controlType:"range",group:"Base",controlOptions:{unit:"px",min:100,max:1200,step:5}},{key:"margin",help:"Chart margin.",type:"object",required:!1,controlType:"margin",group:"Base"},a.f,{key:"colors",help:"Defines how to compute nodes color.",type:"string | Function | string[]",required:!1,defaultValue:r.b.colors,controlType:"ordinalColors",group:"Style"},{key:"nodeThickness",help:"Node thickness.",required:!1,defaultValue:r.b.nodeThickness,type:"number",controlType:"range",group:"Nodes",controlOptions:{unit:"px",min:2,max:100}},{key:"nodeOpacity",help:"Node opacity (0~1).",required:!1,defaultValue:r.b.nodeOpacity,type:"number",controlType:"opacity",group:"Nodes"},{key:"nodeHoverOpacity",flavors:["svg"],help:"Node opacity on hover (0~1).",required:!1,defaultValue:r.b.nodeHoverOpacity,type:"number",controlType:"opacity",group:"Nodes"},{key:"nodeSpacing",help:"Spacing between nodes at an identical level.",required:!1,defaultValue:r.b.nodeSpacing,type:"number",controlType:"range",group:"Nodes",controlOptions:{unit:"px",min:0,max:60}},{key:"nodeInnerPadding",help:"Node inner padding, distance from link, substracted from nodeThickness.",required:!1,defaultValue:r.b.nodePaddingX,type:"number",controlType:"range",group:"Nodes",controlOptions:{unit:"px",min:0,max:20}},{key:"nodeBorderWidth",help:"Node border width.",required:!1,defaultValue:r.b.nodeBorderWidth,type:"number",controlType:"lineWidth",group:"Nodes"},{key:"nodeBorderColor",description:"\n            how to compute node border color,\n            [see dedicated documentation](self:/guides/colors).\n        ",help:"Method to compute node border color.",type:"string | object | Function",required:!1,defaultValue:r.b.nodeBorderColor,controlType:"inheritedColor",group:"Nodes"},{key:"linkOpacity",help:"Link opacity (0~1).",required:!1,defaultValue:r.b.linkOpacity,type:"number",controlType:"opacity",group:"Links"},{key:"linkHoverOpacity",flavors:["svg"],help:"Link opacity on hover(0~1).",required:!1,defaultValue:r.b.linkHoverOpacity,type:"number",controlType:"opacity",group:"Links"},{key:"linkContract",help:"Contract link width.",required:!1,defaultValue:r.b.linkContract,type:"number",controlType:"range",group:"Links",controlOptions:{unit:"px",min:0,max:60}},{key:"linkBlendMode",flavors:["svg"],help:"Defines CSS mix-blend-mode property for links.",description:"\n            Defines CSS `mix-blend-mode` property for links, see\n            [MDN documentation](https://developer.mozilla.org/fr/docs/Web/CSS/mix-blend-mode).\n        ",type:"string",required:!1,defaultValue:r.b.linkBlendMode,controlType:"blendMode",group:"Links"},{key:"enableLinkGradient",help:"Enable/disable gradient from source/target nodes instead of plain color.",type:"boolean",required:!1,defaultValue:r.b.enableLinkGradient,controlType:"switch",group:"Links"},{key:"enableLabels",help:"Enable/disable labels.",type:"boolean",required:!1,defaultValue:r.b.enableLabels,controlType:"switch",group:"Labels"},{key:"labelPosition",help:"Label position.",type:"string",required:!1,defaultValue:r.b.labelPosition,controlType:"radio",group:"Labels",controlOptions:{choices:["inside","outside"].map((function(e){return{label:e,value:e}}))}},{key:"labelPadding",help:"Label padding from node.",required:!1,defaultValue:r.b.labelPadding,type:"number",controlType:"range",group:"Labels",controlOptions:{unit:"px",min:0,max:60}},{key:"labelTextColor",help:"Method to compute label text color.",description:"\n            how to compute label text color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:r.b.labelTextColor,controlType:"inheritedColor",group:"Labels"},{key:"labelOrientation",help:"Label orientation.",type:"string",required:!1,defaultValue:r.b.labelOrientation,controlType:"radio",group:"Labels",controlOptions:{choices:["horizontal","vertical"].map((function(e){return{label:e,value:e}}))}},{key:"isInteractive",flavors:["svg"],help:"Enable/disable interactivity.",type:"boolean",required:!1,defaultValue:r.b.isInteractive,controlType:"switch",group:"Interactivity"}].concat(Object(o.a)(Object(a.e)(["svg"],r.b,"react-spring"))),l=Object(a.d)(i)},doP5:function(e,n,t){"use strict";var o=t("nLLr");n.a=Object(o.c)({})},vrO3:function(e,n,t){"use strict";t.d(n,"a",(function(){return G}));var o=t("Z+yb"),r=t("hsa5"),a=t("mXGw"),i=t.n(a),l=t("UutA"),s=t("7oih"),d=t("UmRm"),c=t("QbkB"),p=t("1h20"),u=t("yHyT"),h=t("SBeK"),m=t("MF9i"),g=l.d.a.withConfig({displayName:"ApiPreview__Link",componentId:"sc-1tjndi9-0"})(["position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;"]),f=l.d.img.withConfig({displayName:"ApiPreview__Image",componentId:"sc-1tjndi9-1"})(["max-width:100%;max-height:100%;"]),b=l.d.div.withConfig({displayName:"ApiPreview__EmptyContainer",componentId:"sc-1tjndi9-2"})(["font-size:14px;line-height:1.6em;color:",";display:flex;align-items:center;justify-content:center;width:100%;height:100%;"],(function(e){return e.theme.colors.textLight})),y=function(e){var n=e.responseStatus,t=e.chartUrl;return 201===n&&t?i.a.createElement(g,{href:t,target:"_blank",rel:"noopener noreferrer"},i.a.createElement(f,{src:t,alt:"api result"})):i.a.createElement(b,null,"Click the generate button in order to generate the chart.",i.a.createElement("br",null),"You can customize settings by using dedicated controls.")},v=t("TurY"),k=t("DA+T");function x(){var e=Object(o.a)(["\n        & {\n            position: relative;\n            top: auto;\n            right: auto;\n            width: auto;\n            height: 460px;\n            z-index: 0;\n            border-top: 1px solid ",";\n        }\n    "]);return x=function(){return e},e}function w(){var e=Object(o.a)(["\n        & {\n            top: ","px;\n            right: 0;\n            width: 60%;\n            --innerHeight: calc(100% - ","px);\n            height: calc(var(--innerHeight) * 0.55);\n        }\n    "]);return w=function(){return e},e}var C=["preview","body","data"],O=function(e){var n=e.chartClass,t=e.data,o=e.body,r=e.isLoading,l=e.responseStatus,s=e.chartUrl,d=Object(v.b)(),c=Object(a.useState)("preview"),p=c[0],u=c[1],h=Object(a.useState)(null),m=h[0],g=h[1];return i.a.createElement(T,{className:"chart-tabs--"+p},i.a.createElement(E,null,C.map((function(e){var t=e===p,o="preview"===e?n:"data",r=t||m===e?"colored":"neutral";return i.a.createElement(S,{key:e,className:"no-select",isCurrent:t,onClick:function(){return u(e)},onMouseEnter:function(){return g(e)},onMouseLeave:function(){return g(null)}},i.a.createElement(N,{className:"sprite-icons-"+o+"-"+d.id+"-"+r}),e)}))),i.a.createElement(P,null,"preview"===p&&i.a.createElement(y,{isLoading:r,responseStatus:l,chartUrl:s}),"body"===p&&i.a.createElement(k.a,null,JSON.stringify(o,null,"  ")),"data"===p&&i.a.createElement(k.a,null,t),i.a.createElement(A,{isLoading:r})))},T=l.d.div.withConfig({displayName:"ApiTabs__Wrapper",componentId:"wcngb8-0"})(["position:fixed;top:","px;right:0;width:60%;--innerWidth:calc(100% - ","px);width:calc(var(--innerWidth) * 0.6);--innerHeight:calc(100% - ","px);height:calc(var(--innerHeight) * 0.55);z-index:10;overflow:hidden;background:",";border-bottom:1px solid ",";"," ",""],(function(e){return e.theme.dimensions.headerHeight}),(function(e){return e.theme.dimensions.miniNavWidth}),(function(e){return e.theme.dimensions.headerHeight}),(function(e){return e.theme.colors.cardBackground}),(function(e){return e.theme.colors.border}),d.a.tablet(w(),(function(e){return e.theme.dimensions.headerHeight}),(function(e){return e.theme.dimensions.headerHeight})),d.a.mobile(x(),(function(e){return e.theme.colors.border}))),E=l.d.nav.withConfig({displayName:"ApiTabs__Nav",componentId:"wcngb8-1"})(["height:46px;background:",";display:flex;font-size:15px;color:#aaa;position:relative;"],(function(e){return e.theme.colors.background})),S=l.d.span.withConfig({displayName:"ApiTabs__NavItem",componentId:"wcngb8-2"})(["cursor:pointer;height:46px;display:block;position:relative;padding-left:46px;padding-right:14px;padding-top:11px;background:",";&:hover{color:",";}"],(function(e){var n=e.isCurrent,t=e.theme;return n?t.colors.cardBackground:"transparent"}),(function(e){return e.theme.colors.text})),N=l.d.span.withConfig({displayName:"ApiTabs__Icon",componentId:"wcngb8-3"})(["position:absolute;top:0;left:0;display:block;transform:scale(0.44);transform-origin:top left;margin:12px 0 0 12px;"]),P=l.d.div.withConfig({displayName:"ApiTabs__Content",componentId:"wcngb8-4"})(["position:absolute;top:46px;bottom:0;width:100%;overflow-x:hidden;overflow-y:auto;"]),L=l.d.div.withConfig({displayName:"ApiTabs__LoaderContainer",componentId:"wcngb8-5"})(["position:absolute;top:50%;left:50%;width:100px;height:80px;margin-top:-40px;margin-left:-50px;background:",";display:grid;grid-template-columns:10px 10px 10px 10px 10px;grid-column-gap:6px;padding:10px 13px;border-radius:2px;box-shadow:0 1px 3px rgba(0,0,0,0.15);pointer-events:none;opacity:",";transform:translate3d(0,",",0);transition:transform 200ms,opacity 200ms;"],(function(e){return e.theme.colors.cardBackground}),(function(e){return e.isLoading?1:0}),(function(e){return e.isLoading?0:"20px"})),_=Object(l.e)(["0%,100%{transform:scale3d(1,0,1);}50%{transform:scale3d(1,1,1);}"]),j=l.d.span.withConfig({displayName:"ApiTabs__LoaderBar",componentId:"wcngb8-6"})(["display:block;background:",";width:100%;height:100%;transform:scale3d(1,0,1);transform-origin:100% 100%;animation-name:",";animation-duration:800ms;animation-iteration-count:infinite;animation-delay:","ms;"],(function(e){return e.theme.colors.accent}),_,(function(e){return 60*(e.index+1)})),A=function(e){var n=e.isLoading;return i.a.createElement(L,{isLoading:n},i.a.createElement("span",null,i.a.createElement(j,{index:0})),i.a.createElement("span",null,i.a.createElement(j,{index:1})),i.a.createElement("span",null,i.a.createElement(j,{index:2})),i.a.createElement("span",null,i.a.createElement(j,{index:3})),i.a.createElement("span",null,i.a.createElement(j,{index:4})))},I=l.d.span.withConfig({displayName:"ApiSubmit__Button",componentId:"y9yvg5-0"})(["display:block;background-color:",";color:#fff;text-align:center;padding:12px 24px;border-radius:2px;cursor:pointer;text-decoration:none;"],(function(e){return e.theme.colors.accent})),q=function(e){function n(){return e.apply(this,arguments)||this}return Object(r.a)(n,e),n.prototype.render=function(){var e=this.props,n=e.loading,t=e.onClick;return i.a.createElement(I,{onClick:t},n?"sending":"generate")},n}(a.Component);q.defaultProps={};var H=q,B=l.d.div.withConfig({displayName:"ApiResponse__Container",componentId:"usxrxs-0"})(["background:",";border-top:1px solid ",";overflow-x:hidden;overflow-y:auto;"],(function(e){return e.theme.colors.cardBackground}),(function(e){return e.theme.colors.border})),V=l.d.div.withConfig({displayName:"ApiResponse__Header",componentId:"usxrxs-1"})(["padding:12px 20px;border-bottom:1px solid ",";"],(function(e){return e.theme.colors.borderLight})),M=l.d.pre.withConfig({displayName:"ApiResponse__ResponseJson",componentId:"usxrxs-2"})(["padding:12px 20px;font-size:13px;line-height:1.6em;overflow:hidden;width:100%;margin:0;"]),W=function(e){function n(){return e.apply(this,arguments)||this}return Object(r.a)(n,e),n.prototype.render=function(){var e=this.props,n=e.responseStatus,t=e.response,o="no response available";return t&&(o=JSON.stringify(t,null,"  ")),i.a.createElement(B,null,i.a.createElement(V,null,"Response ",n?i.a.createElement("strong",null,n):"n/a"),i.a.createElement(M,null,o))},n}(a.Component);W.defaultProps={};var z=W,F=t("S6qR");function U(){var e=Object(o.a)(["\n        & {\n            position: relative;\n            right: auto;\n            bottom: auto;\n            width: auto;\n            height: auto;\n            border-left-width: 0;\n            z-index: 0;\n        }\n    "]);return U=function(){return e},e}function R(){var e=Object(o.a)(["\n        & {\n            right: 0;\n            bottom: 0;\n            --innerHeight: calc(100% - ","px);\n            height: calc(var(--innerHeight) * 0.45);\n            width: 60%;\n        }\n    "]);return R=function(){return e},e}var G=function(e){function n(n){var t;return(t=e.call(this,n)||this).handleSettingsUpdate=function(e){t.setState({props:e})},t.handleDataUpdate=function(e){var n,o=t.props.dataProperty,r=t.state.props;t.setState({props:Object.assign({},r,(n={},n[o]=e.target.value,n))})},t.handleSubmit=function(){var e=t.props,n=e.apiPath,o=e.propsMapper,r=t.state.props;t.setState({loading:!0}),fetch(""+F.a.nivoApiUrl+n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o(r))}).then((function(e){return t.setState({loading:!1,responseStatus:e.status}),e.json()})).then((function(e){t.setState({response:e})})).catch((function(e){console.error(e)}))},t.state={props:n.defaultProps,loading:!1,responseStatus:null,response:null},t}return Object(r.a)(n,e),n.prototype.render=function(){var e,n=this.props,t=n.componentName,o=n.chartClass,r=n.apiPath,a=n.controlGroups,l=n.dataProperty,d=n.propsMapper,g=n.flavors,f=this.state,b=f.props,y=f.loading,v=f.responseStatus,k=f.response,x=g.map((function(e){return e.flavor}));return i.a.createElement(s.a,null,i.a.createElement(c.a,null,i.a.createElement(p.a,{chartClass:t+" HTTP API",tags:["POST "+r]}),g&&i.a.createElement(u.a,{flavors:g,current:"api"}),i.a.createElement(h.a,{description:(e=t,"\nThe `"+e+"`component is available in the nivo\nHTTP rendering API.\nThe API generates a SVG and return a path to this SVG\nwhich can then be easily embedded.\n\nThe api accepts almost the same properties as the regular component,\nin json, however it's not interactive and you cannot use code\nin properties (functions).\n\nPlease note that the demo API server is installed on heroku\nusing a free plan, so it might be unavailable from times to times.\n")}),i.a.createElement(O,{chartClass:o,data:b[l],body:d(b),isLoading:y,responseStatus:v,chartUrl:k?k.url:null}),i.a.createElement(D,null,i.a.createElement(J,null,i.a.createElement(H,{loading:y,onClick:this.handleSubmit})),i.a.createElement(z,{responseStatus:v,response:k})),i.a.createElement(m.a,{component:t,settings:b,flavors:x,currentFlavor:"api",groups:a,onChange:this.handleSettingsUpdate})))},n}(a.Component);G.defaultProps={dataProperty:"data",propsMapper:function(e){return e}};var D=l.d.div.withConfig({displayName:"ApiClient__ControlPanel",componentId:"sc-50le0s-0"})(["position:fixed;right:0;bottom:0;--innerWidth:calc(100% - ","px);--partialWidth:calc(var(--innerWidth) * 0.6);width:var(--partialWidth);background:",";--innerHeight:calc(100% - ","px);height:calc(var(--innerHeight) * 0.45);z-index:10;overflow:hidden;display:grid;grid-template-rows:1fr 2fr;"," ",""],(function(e){return e.theme.dimensions.miniNavWidth}),(function(e){return e.theme.colors.cardAltBackground}),(function(e){return e.theme.dimensions.headerHeight}),d.a.tablet(R(),(function(e){return e.theme.dimensions.headerHeight})),d.a.mobile(U())),J=l.d.div.withConfig({displayName:"ApiClient__SubmitWrapper",componentId:"sc-50le0s-1"})(["display:flex;align-items:center;justify-content:center;padding:12px 0;"])},yEOx:function(e,n,t){var o=t("0711");e.exports=function(e){return o(e,5)}}}]);
//# sourceMappingURL=component---src-pages-sankey-api-js-900c01f5cf26bdb0a362.js.map