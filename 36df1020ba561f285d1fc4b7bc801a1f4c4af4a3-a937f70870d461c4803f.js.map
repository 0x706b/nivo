{"version":3,"file":"36df1020ba561f285d1fc4b7bc801a1f4c4af4a3-a937f70870d461c4803f.js","mappings":"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","sources":["webpack://nivo-website/../node_modules/d3-array/src/min.js","webpack://nivo-website/../node_modules/d3-sankey/src/align.js","webpack://nivo-website/../node_modules/d3-array/src/sum.js","webpack://nivo-website/../node_modules/d3-array/src/max.js","webpack://nivo-website/../node_modules/d3-sankey/src/constant.js","webpack://nivo-website/../node_modules/d3-sankey/src/sankey.js","webpack://nivo-website/../src/SankeyNodeTooltip.tsx","webpack://nivo-website/../src/SankeyLinkTooltip.tsx","webpack://nivo-website/../src/props.ts","webpack://nivo-website/../src/hooks.ts","webpack://nivo-website/../src/SankeyNodesItem.tsx","webpack://nivo-website/../src/SankeyNodes.tsx","webpack://nivo-website/../src/SankeyLinkGradient.tsx","webpack://nivo-website/../src/SankeyLinksItem.tsx","webpack://nivo-website/../src/SankeyLinks.tsx","webpack://nivo-website/../src/links.ts","webpack://nivo-website/../src/SankeyLabels.tsx","webpack://nivo-website/../src/Sankey.tsx","webpack://nivo-website/../src/ResponsiveSankey.tsx"],"sourcesContent":["function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nexport default function min(values, valueof) {\n  var min;\n\n  if (valueof === undefined) {\n    var _iterator = _createForOfIteratorHelper(values),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var value = _step.value;\n\n        if (value != null && (min > value || min === undefined && value >= value)) {\n          min = value;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else {\n    var index = -1;\n\n    var _iterator2 = _createForOfIteratorHelper(values),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _value = _step2.value;\n\n        if ((_value = valueof(_value, ++index, values)) != null && (min > _value || min === undefined && _value >= _value)) {\n          min = _value;\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n\n  return min;\n}","import { min } from \"d3-array\";\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? min(node.sourceLinks, targetDepth) - 1 : 0;\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nexport default function sum(values, valueof) {\n  var sum = 0;\n\n  if (valueof === undefined) {\n    var _iterator = _createForOfIteratorHelper(values),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var value = _step.value;\n\n        if (value = +value) {\n          sum += value;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else {\n    var index = -1;\n\n    var _iterator2 = _createForOfIteratorHelper(values),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _value = _step2.value;\n\n        if (_value = +valueof(_value, ++index, values)) {\n          sum += _value;\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n\n  return sum;\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nexport default function max(values, valueof) {\n  var max;\n\n  if (valueof === undefined) {\n    var _iterator = _createForOfIteratorHelper(values),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var value = _step.value;\n\n        if (value != null && (max < value || max === undefined && value >= value)) {\n          max = value;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else {\n    var index = -1;\n\n    var _iterator2 = _createForOfIteratorHelper(values),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _value = _step2.value;\n\n        if ((_value = valueof(_value, ++index, values)) != null && (max < _value || max === undefined && _value >= _value)) {\n          max = _value;\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n\n  return max;\n}","export default function constant(x) {\n  return function () {\n    return x;\n  };\n}","import _slicedToArray from \"/Users/raph/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { max, min, sum } from \"d3-array\";\nimport { justify } from \"./align.js\";\nimport constant from \"./constant.js\";\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  var node = nodeById.get(id);\n  if (!node) throw new Error(\"missing: \" + id);\n  return node;\n}\n\nfunction computeLinkBreadths(_ref) {\n  var nodes = _ref.nodes;\n\n  var _iterator = _createForOfIteratorHelper(nodes),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var node = _step.value;\n      var y0 = node.y0;\n      var y1 = y0;\n\n      var _iterator2 = _createForOfIteratorHelper(node.sourceLinks),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var link = _step2.value;\n          link.y0 = y0 + link.width / 2;\n          y0 += link.width;\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      var _iterator3 = _createForOfIteratorHelper(node.targetLinks),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var _link = _step3.value;\n          _link.y1 = y1 + _link.width / 2;\n          y1 += _link.width;\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\n\nexport default function Sankey() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 1,\n      y1 = 1; // extent\n\n  var dx = 24; // nodeWidth\n\n  var dy = 8,\n      py; // nodePadding\n\n  var id = defaultId;\n  var align = justify;\n  var sort;\n  var linkSort;\n  var nodes = defaultNodes;\n  var links = defaultLinks;\n  var iterations = 6;\n\n  function sankey() {\n    var graph = {\n      nodes: nodes.apply(null, arguments),\n      links: links.apply(null, arguments)\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? (id = typeof _ === \"function\" ? _ : constant(_), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? (align = typeof _ === \"function\" ? _ : constant(_), sankey) : align;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? (sort = _, sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? (dx = +_, sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? (dy = py = +_, sankey) : dy;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? (nodes = typeof _ === \"function\" ? _ : constant(_), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? (links = typeof _ === \"function\" ? _ : constant(_), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? (linkSort = _, sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], sankey) : [[x0, y0], [x1, y1]];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? (iterations = +_, sankey) : iterations;\n  };\n\n  function computeNodeLinks(_ref2) {\n    var nodes = _ref2.nodes,\n        links = _ref2.links;\n\n    var _iterator4 = _createForOfIteratorHelper(nodes.entries()),\n        _step4;\n\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var _step4$value = _slicedToArray(_step4.value, 2),\n            i = _step4$value[0],\n            node = _step4$value[1];\n\n        node.index = i;\n        node.sourceLinks = [];\n        node.targetLinks = [];\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n\n    var nodeById = new Map(nodes.map(function (d, i) {\n      return [id(d, i, nodes), d];\n    }));\n\n    var _iterator5 = _createForOfIteratorHelper(links.entries()),\n        _step5;\n\n    try {\n      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n        var _step5$value = _slicedToArray(_step5.value, 2),\n            _i = _step5$value[0],\n            link = _step5$value[1];\n\n        link.index = _i;\n        var source = link.source,\n            target = link.target;\n        if (typeof source !== \"object\") source = link.source = find(nodeById, source);\n        if (typeof target !== \"object\") target = link.target = find(nodeById, target);\n        source.sourceLinks.push(link);\n        target.targetLinks.push(link);\n      }\n    } catch (err) {\n      _iterator5.e(err);\n    } finally {\n      _iterator5.f();\n    }\n\n    if (linkSort != null) {\n      var _iterator6 = _createForOfIteratorHelper(nodes),\n          _step6;\n\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var _step6$value = _step6.value,\n              sourceLinks = _step6$value.sourceLinks,\n              targetLinks = _step6$value.targetLinks;\n          sourceLinks.sort(linkSort);\n          targetLinks.sort(linkSort);\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n    }\n  }\n\n  function computeNodeValues(_ref3) {\n    var nodes = _ref3.nodes;\n\n    var _iterator7 = _createForOfIteratorHelper(nodes),\n        _step7;\n\n    try {\n      for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n        var node = _step7.value;\n        node.value = node.fixedValue === undefined ? Math.max(sum(node.sourceLinks, value), sum(node.targetLinks, value)) : node.fixedValue;\n      }\n    } catch (err) {\n      _iterator7.e(err);\n    } finally {\n      _iterator7.f();\n    }\n  }\n\n  function computeNodeDepths(_ref4) {\n    var nodes = _ref4.nodes;\n    var n = nodes.length;\n    var current = new Set(nodes);\n    var next = new Set();\n    var x = 0;\n\n    while (current.size) {\n      var _iterator8 = _createForOfIteratorHelper(current),\n          _step8;\n\n      try {\n        for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n          var node = _step8.value;\n          node.depth = x;\n\n          var _iterator9 = _createForOfIteratorHelper(node.sourceLinks),\n              _step9;\n\n          try {\n            for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n              var target = _step9.value.target;\n              next.add(target);\n            }\n          } catch (err) {\n            _iterator9.e(err);\n          } finally {\n            _iterator9.f();\n          }\n        }\n      } catch (err) {\n        _iterator8.e(err);\n      } finally {\n        _iterator8.f();\n      }\n\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeHeights(_ref5) {\n    var nodes = _ref5.nodes;\n    var n = nodes.length;\n    var current = new Set(nodes);\n    var next = new Set();\n    var x = 0;\n\n    while (current.size) {\n      var _iterator10 = _createForOfIteratorHelper(current),\n          _step10;\n\n      try {\n        for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n          var node = _step10.value;\n          node.height = x;\n\n          var _iterator11 = _createForOfIteratorHelper(node.targetLinks),\n              _step11;\n\n          try {\n            for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n              var source = _step11.value.source;\n              next.add(source);\n            }\n          } catch (err) {\n            _iterator11.e(err);\n          } finally {\n            _iterator11.f();\n          }\n        }\n      } catch (err) {\n        _iterator10.e(err);\n      } finally {\n        _iterator10.f();\n      }\n\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers(_ref6) {\n    var nodes = _ref6.nodes;\n    var x = max(nodes, function (d) {\n      return d.depth;\n    }) + 1;\n    var kx = (x1 - x0 - dx) / (x - 1);\n    var columns = new Array(x);\n\n    var _iterator12 = _createForOfIteratorHelper(nodes),\n        _step12;\n\n    try {\n      for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n        var node = _step12.value;\n        var i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n        node.layer = i;\n        node.x0 = x0 + i * kx;\n        node.x1 = node.x0 + dx;\n        if (columns[i]) columns[i].push(node);else columns[i] = [node];\n      }\n    } catch (err) {\n      _iterator12.e(err);\n    } finally {\n      _iterator12.f();\n    }\n\n    if (sort) {\n      var _iterator13 = _createForOfIteratorHelper(columns),\n          _step13;\n\n      try {\n        for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n          var column = _step13.value;\n          column.sort(sort);\n        }\n      } catch (err) {\n        _iterator13.e(err);\n      } finally {\n        _iterator13.f();\n      }\n    }\n\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    var ky = min(columns, function (c) {\n      return (y1 - y0 - (c.length - 1) * py) / sum(c, value);\n    });\n\n    var _iterator14 = _createForOfIteratorHelper(columns),\n        _step14;\n\n    try {\n      for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n        var _nodes = _step14.value;\n        var y = y0;\n\n        var _iterator15 = _createForOfIteratorHelper(_nodes),\n            _step15;\n\n        try {\n          for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n            var _node = _step15.value;\n            _node.y0 = y;\n            _node.y1 = y + _node.value * ky;\n            y = _node.y1 + py;\n\n            var _iterator16 = _createForOfIteratorHelper(_node.sourceLinks),\n                _step16;\n\n            try {\n              for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\n                var link = _step16.value;\n                link.width = link.value * ky;\n              }\n            } catch (err) {\n              _iterator16.e(err);\n            } finally {\n              _iterator16.f();\n            }\n          }\n        } catch (err) {\n          _iterator15.e(err);\n        } finally {\n          _iterator15.f();\n        }\n\n        y = (y1 - y + py) / (_nodes.length + 1);\n\n        for (var i = 0; i < _nodes.length; ++i) {\n          var node = _nodes[i];\n          node.y0 += y * (i + 1);\n          node.y1 += y * (i + 1);\n        }\n\n        reorderLinks(_nodes);\n      }\n    } catch (err) {\n      _iterator14.e(err);\n    } finally {\n      _iterator14.f();\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    var columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / (max(columns, function (c) {\n      return c.length;\n    }) - 1));\n    initializeNodeBreadths(columns);\n\n    for (var i = 0; i < iterations; ++i) {\n      var alpha = Math.pow(0.99, i);\n      var beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  } // Reposition each node based on its incoming (target) links.\n\n\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (var i = 1, n = columns.length; i < n; ++i) {\n      var column = columns[i];\n\n      var _iterator17 = _createForOfIteratorHelper(column),\n          _step17;\n\n      try {\n        for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {\n          var target = _step17.value;\n          var y = 0;\n          var w = 0;\n\n          var _iterator18 = _createForOfIteratorHelper(target.targetLinks),\n              _step18;\n\n          try {\n            for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {\n              var _step18$value = _step18.value,\n                  source = _step18$value.source,\n                  _value = _step18$value.value;\n              var v = _value * (target.layer - source.layer);\n              y += targetTop(source, target) * v;\n              w += v;\n            }\n          } catch (err) {\n            _iterator18.e(err);\n          } finally {\n            _iterator18.f();\n          }\n\n          if (!(w > 0)) continue;\n\n          var _dy = (y / w - target.y0) * alpha;\n\n          target.y0 += _dy;\n          target.y1 += _dy;\n          reorderNodeLinks(target);\n        }\n      } catch (err) {\n        _iterator17.e(err);\n      } finally {\n        _iterator17.f();\n      }\n\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  } // Reposition each node based on its outgoing (source) links.\n\n\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (var n = columns.length, i = n - 2; i >= 0; --i) {\n      var column = columns[i];\n\n      var _iterator19 = _createForOfIteratorHelper(column),\n          _step19;\n\n      try {\n        for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {\n          var source = _step19.value;\n          var y = 0;\n          var w = 0;\n\n          var _iterator20 = _createForOfIteratorHelper(source.sourceLinks),\n              _step20;\n\n          try {\n            for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {\n              var _step20$value = _step20.value,\n                  target = _step20$value.target,\n                  _value2 = _step20$value.value;\n              var v = _value2 * (target.layer - source.layer);\n              y += sourceTop(source, target) * v;\n              w += v;\n            }\n          } catch (err) {\n            _iterator20.e(err);\n          } finally {\n            _iterator20.f();\n          }\n\n          if (!(w > 0)) continue;\n\n          var _dy2 = (y / w - source.y0) * alpha;\n\n          source.y0 += _dy2;\n          source.y1 += _dy2;\n          reorderNodeLinks(source);\n        }\n      } catch (err) {\n        _iterator19.e(err);\n      } finally {\n        _iterator19.f();\n      }\n\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    var i = nodes.length >> 1;\n    var subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  } // Push any overlapping nodes down.\n\n\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      var node = nodes[i];\n\n      var _dy3 = (y - node.y0) * alpha;\n\n      if (_dy3 > 1e-6) node.y0 += _dy3, node.y1 += _dy3;\n      y = node.y1 + py;\n    }\n  } // Push any overlapping nodes up.\n\n\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      var node = nodes[i];\n\n      var _dy4 = (node.y1 - y) * alpha;\n\n      if (_dy4 > 1e-6) node.y0 -= _dy4, node.y1 -= _dy4;\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks(_ref7) {\n    var sourceLinks = _ref7.sourceLinks,\n        targetLinks = _ref7.targetLinks;\n\n    if (linkSort === undefined) {\n      var _iterator21 = _createForOfIteratorHelper(targetLinks),\n          _step21;\n\n      try {\n        for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {\n          var _sourceLinks = _step21.value.source.sourceLinks;\n\n          _sourceLinks.sort(ascendingTargetBreadth);\n        }\n      } catch (err) {\n        _iterator21.e(err);\n      } finally {\n        _iterator21.f();\n      }\n\n      var _iterator22 = _createForOfIteratorHelper(sourceLinks),\n          _step22;\n\n      try {\n        for (_iterator22.s(); !(_step22 = _iterator22.n()).done;) {\n          var _targetLinks = _step22.value.target.targetLinks;\n\n          _targetLinks.sort(ascendingSourceBreadth);\n        }\n      } catch (err) {\n        _iterator22.e(err);\n      } finally {\n        _iterator22.f();\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      var _iterator23 = _createForOfIteratorHelper(nodes),\n          _step23;\n\n      try {\n        for (_iterator23.s(); !(_step23 = _iterator23.n()).done;) {\n          var _step23$value = _step23.value,\n              sourceLinks = _step23$value.sourceLinks,\n              targetLinks = _step23$value.targetLinks;\n          sourceLinks.sort(ascendingTargetBreadth);\n          targetLinks.sort(ascendingSourceBreadth);\n        }\n      } catch (err) {\n        _iterator23.e(err);\n      } finally {\n        _iterator23.f();\n      }\n    }\n  } // Returns the target.y0 that would produce an ideal link from source to target.\n\n\n  function targetTop(source, target) {\n    var y = source.y0 - (source.sourceLinks.length - 1) * py / 2;\n\n    var _iterator24 = _createForOfIteratorHelper(source.sourceLinks),\n        _step24;\n\n    try {\n      for (_iterator24.s(); !(_step24 = _iterator24.n()).done;) {\n        var _step24$value = _step24.value,\n            node = _step24$value.target,\n            width = _step24$value.width;\n        if (node === target) break;\n        y += width + py;\n      }\n    } catch (err) {\n      _iterator24.e(err);\n    } finally {\n      _iterator24.f();\n    }\n\n    var _iterator25 = _createForOfIteratorHelper(target.targetLinks),\n        _step25;\n\n    try {\n      for (_iterator25.s(); !(_step25 = _iterator25.n()).done;) {\n        var _step25$value = _step25.value,\n            _node2 = _step25$value.source,\n            _width = _step25$value.width;\n        if (_node2 === source) break;\n        y -= _width;\n      }\n    } catch (err) {\n      _iterator25.e(err);\n    } finally {\n      _iterator25.f();\n    }\n\n    return y;\n  } // Returns the source.y0 that would produce an ideal link from source to target.\n\n\n  function sourceTop(source, target) {\n    var y = target.y0 - (target.targetLinks.length - 1) * py / 2;\n\n    var _iterator26 = _createForOfIteratorHelper(target.targetLinks),\n        _step26;\n\n    try {\n      for (_iterator26.s(); !(_step26 = _iterator26.n()).done;) {\n        var _step26$value = _step26.value,\n            node = _step26$value.source,\n            width = _step26$value.width;\n        if (node === source) break;\n        y += width + py;\n      }\n    } catch (err) {\n      _iterator26.e(err);\n    } finally {\n      _iterator26.f();\n    }\n\n    var _iterator27 = _createForOfIteratorHelper(source.sourceLinks),\n        _step27;\n\n    try {\n      for (_iterator27.s(); !(_step27 = _iterator27.n()).done;) {\n        var _step27$value = _step27.value,\n            _node3 = _step27$value.target,\n            _width2 = _step27$value.width;\n        if (_node3 === target) break;\n        y -= _width2;\n      }\n    } catch (err) {\n      _iterator27.e(err);\n    } finally {\n      _iterator27.f();\n    }\n\n    return y;\n  }\n\n  return sankey;\n}","import { BasicTooltip } from '@nivo/tooltip'\nimport { DefaultLink, DefaultNode, SankeyNodeDatum } from './types'\n\nexport interface SankeyNodeTooltipProps<N extends DefaultNode, L extends DefaultLink> {\n    node: SankeyNodeDatum<N, L>\n}\n\nexport const SankeyNodeTooltip = <N extends DefaultNode, L extends DefaultLink>({\n    node,\n}: SankeyNodeTooltipProps<N, L>) => (\n    <BasicTooltip id={node.label} enableChip={true} color={node.color} />\n)\n","import { BasicTooltip, Chip } from '@nivo/tooltip'\nimport { DefaultLink, DefaultNode, SankeyLinkDatum } from './types'\n\nconst tooltipStyles = {\n    container: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    sourceChip: {\n        marginRight: 7,\n    },\n    targetChip: {\n        marginLeft: 7,\n        marginRight: 7,\n    },\n}\n\nexport interface SankeyLinkTooltipProps<N extends DefaultNode, L extends DefaultLink> {\n    link: SankeyLinkDatum<N, L>\n}\n\nexport const SankeyLinkTooltip = <N extends DefaultNode, L extends DefaultLink>({\n    link,\n}: SankeyLinkTooltipProps<N, L>) => (\n    <BasicTooltip\n        id={\n            <span style={tooltipStyles.container}>\n                <Chip color={link.source.color} style={tooltipStyles.sourceChip} />\n                <strong>{link.source.label}</strong>\n                {' > '}\n                <strong>{link.target.label}</strong>\n                <Chip color={link.target.color} style={tooltipStyles.targetChip} />\n                <strong>{link.formattedValue}</strong>\n            </span>\n        }\n    />\n)\n","import { sankeyCenter, sankeyJustify, sankeyLeft, sankeyRight } from 'd3-sankey'\nimport { SankeyLayerId, SankeyNodeDatum, SankeyAlignType } from './types'\nimport { InheritedColorConfig } from '@nivo/colors'\nimport { SankeyNodeTooltip } from './SankeyNodeTooltip'\nimport { SankeyLinkTooltip } from './SankeyLinkTooltip'\n\nexport const sankeyAlignmentPropMapping = {\n    center: sankeyCenter,\n    justify: sankeyJustify,\n    start: sankeyLeft,\n    end: sankeyRight,\n}\n\nexport const sankeyAlignmentPropKeys = Object.keys(sankeyAlignmentPropMapping) as SankeyAlignType[]\n\nexport const sankeyAlignmentFromProp = (prop: SankeyAlignType) => sankeyAlignmentPropMapping[prop]\n\nexport const svgDefaultProps = {\n    layout: 'horizontal' as const,\n    align: 'center' as const,\n    sort: 'auto' as const,\n\n    colors: { scheme: 'nivo' as const },\n\n    nodeOpacity: 0.75,\n    nodeHoverOpacity: 1,\n    nodeHoverOthersOpacity: 0.15,\n    nodeThickness: 12,\n    nodeSpacing: 12,\n    nodeInnerPadding: 0,\n    nodeBorderWidth: 1,\n    nodeBorderColor: { from: 'color', modifiers: [['darker', 0.5]] } as InheritedColorConfig<\n        SankeyNodeDatum<any, any>\n    >,\n    nodeBorderRadius: 0,\n\n    linkOpacity: 0.25,\n    linkHoverOpacity: 0.6,\n    linkHoverOthersOpacity: 0.15,\n    linkContract: 0,\n    linkBlendMode: 'multiply' as const,\n    enableLinkGradient: false,\n\n    enableLabels: true,\n    label: 'id',\n    labelPosition: 'inside' as const,\n    labelPadding: 9,\n    labelOrientation: 'horizontal' as const,\n    labelTextColor: { from: 'color', modifiers: [['darker', 0.8]] } as InheritedColorConfig<\n        SankeyNodeDatum<any, any>\n    >,\n\n    isInteractive: true,\n    nodeTooltip: SankeyNodeTooltip,\n    linkTooltip: SankeyLinkTooltip,\n\n    legends: [],\n\n    layers: ['links', 'nodes', 'labels', 'legends'] as SankeyLayerId[],\n\n    role: 'img',\n\n    animate: true,\n    motionConfig: 'gentle',\n}\n","import { useState, useMemo } from 'react'\nimport { cloneDeep } from 'lodash'\nimport { sankey as d3Sankey } from 'd3-sankey'\nimport { useTheme, usePropertyAccessor, useValueFormatter } from '@nivo/core'\nimport { useOrdinalColorScale, useInheritedColor } from '@nivo/colors'\nimport { sankeyAlignmentFromProp } from './props'\nimport {\n    DefaultLink,\n    DefaultNode,\n    SankeyAlignFunction,\n    SankeyCommonProps,\n    SankeyDataProps,\n    SankeyLinkDatum,\n    SankeyNodeDatum,\n    SankeySortFunction,\n} from './types'\n\nconst getId = <N extends DefaultNode>(node: N) => node.id\n\nexport const computeNodeAndLinks = <N extends DefaultNode, L extends DefaultLink>({\n    data: _data,\n    formatValue,\n    layout,\n    alignFunction,\n    sortFunction,\n    linkSortMode,\n    nodeThickness,\n    nodeSpacing,\n    nodeInnerPadding,\n    width,\n    height,\n    getColor,\n    getLabel,\n}: {\n    data: SankeyDataProps<N, L>['data']\n    formatValue: (value: number) => string\n    layout: SankeyCommonProps<N, L>['layout']\n    alignFunction: SankeyAlignFunction\n    sortFunction: null | undefined | SankeySortFunction<N, L>\n    linkSortMode: null | undefined\n    nodeThickness: SankeyCommonProps<N, L>['nodeThickness']\n    nodeSpacing: SankeyCommonProps<N, L>['nodeSpacing']\n    nodeInnerPadding: SankeyCommonProps<N, L>['nodeInnerPadding']\n    width: number\n    height: number\n    getColor: (node: Omit<SankeyNodeDatum<N, L>, 'color' | 'label'>) => string\n    getLabel: (node: Omit<SankeyNodeDatum<N, L>, 'color' | 'label'>) => string\n}) => {\n    const sankey = d3Sankey()\n        .nodeAlign(alignFunction)\n        // @ts-ignore: this method signature is incorrect in current @types/d3-sankey\n        .nodeSort(sortFunction)\n        // @ts-ignore: this method is not available in current @types/d3-sankey\n        .linkSort(linkSortMode)\n        .nodeWidth(nodeThickness)\n        .nodePadding(nodeSpacing)\n        .size(layout === 'horizontal' ? [width, height] : [height, width])\n        .nodeId(getId)\n\n    // deep clone is required as the sankey diagram mutates data\n    // we need a different identity for correct updates\n    const data = cloneDeep(_data) as unknown as {\n        nodes: SankeyNodeDatum<N, L>[]\n        links: SankeyLinkDatum<N, L>[]\n    }\n    sankey(data)\n\n    data.nodes.forEach(node => {\n        node.color = getColor(node)\n        node.label = getLabel(node)\n        node.formattedValue = formatValue(node.value)\n\n        if (layout === 'horizontal') {\n            node.x = node.x0 + nodeInnerPadding\n            node.y = node.y0\n            node.width = Math.max(node.x1 - node.x0 - nodeInnerPadding * 2, 0)\n            node.height = Math.max(node.y1 - node.y0, 0)\n        } else {\n            node.x = node.y0\n            node.y = node.x0 + nodeInnerPadding\n            node.width = Math.max(node.y1 - node.y0, 0)\n            node.height = Math.max(node.x1 - node.x0 - nodeInnerPadding * 2, 0)\n\n            const oldX0 = node.x0\n            const oldX1 = node.x1\n\n            node.x0 = node.y0\n            node.x1 = node.y1\n            node.y0 = oldX0\n            node.y1 = oldX1\n        }\n    })\n\n    data.links.forEach(link => {\n        link.formattedValue = formatValue(link.value)\n        link.color = link.source.color\n        // @ts-ignore\n        link.pos0 = link.y0\n        // @ts-ignore\n        link.pos1 = link.y1\n        // @ts-ignore\n        link.thickness = link.width\n        // @ts-ignore\n        delete link.y0\n        // @ts-ignore\n        delete link.y1\n        // @ts-ignore\n        delete link.width\n    })\n\n    return data\n}\n\nexport const useSankey = <N extends DefaultNode, L extends DefaultLink>({\n    data,\n    valueFormat,\n    layout,\n    width,\n    height,\n    sort,\n    align,\n    colors,\n    nodeThickness,\n    nodeSpacing,\n    nodeInnerPadding,\n    nodeBorderColor,\n    label,\n    labelTextColor,\n}: {\n    data: SankeyDataProps<N, L>['data']\n    valueFormat?: SankeyCommonProps<N, L>['valueFormat']\n    layout: SankeyCommonProps<N, L>['layout']\n    width: number\n    height: number\n    sort: SankeyCommonProps<N, L>['sort']\n    align: SankeyCommonProps<N, L>['align']\n    colors: SankeyCommonProps<N, L>['colors']\n    nodeThickness: SankeyCommonProps<N, L>['nodeThickness']\n    nodeSpacing: SankeyCommonProps<N, L>['nodeSpacing']\n    nodeInnerPadding: SankeyCommonProps<N, L>['nodeInnerPadding']\n    nodeBorderColor: SankeyCommonProps<N, L>['nodeBorderColor']\n    label: SankeyCommonProps<N, L>['label']\n    labelTextColor: SankeyCommonProps<N, L>['labelTextColor']\n}) => {\n    const [currentNode, setCurrentNode] = useState<SankeyNodeDatum<N, L> | null>(null)\n    const [currentLink, setCurrentLink] = useState<SankeyLinkDatum<N, L> | null>(null)\n\n    const sortFunction = useMemo(() => {\n        if (sort === 'auto') return undefined\n        if (sort === 'input') return null\n        if (sort === 'ascending') {\n            return (a: SankeyNodeDatum<N, L>, b: SankeyNodeDatum<N, L>) => a.value - b.value\n        }\n        if (sort === 'descending') {\n            return (a: SankeyNodeDatum<N, L>, b: SankeyNodeDatum<N, L>) => b.value - a.value\n        }\n\n        return sort\n    }, [sort])\n\n    // If \"input\" sorting is used, apply this setting to links, too.\n    // (In d3, `null` means input sorting and `undefined` is the default)\n    const linkSortMode = sort === 'input' ? null : undefined\n\n    const alignFunction = useMemo(() => {\n        if (typeof align === 'function') return align\n        return sankeyAlignmentFromProp(align)\n    }, [align])\n\n    const theme = useTheme()\n\n    const getColor = useOrdinalColorScale(colors, 'id')\n    const getNodeBorderColor = useInheritedColor(nodeBorderColor, theme)\n\n    const getLabel = usePropertyAccessor<Omit<SankeyNodeDatum<N, L>, 'color' | 'label'>, string>(\n        label\n    )\n    const getLabelTextColor = useInheritedColor(labelTextColor, theme)\n    const formatValue = useValueFormatter<number>(valueFormat)\n\n    const { nodes, links } = useMemo(\n        () =>\n            computeNodeAndLinks<N, L>({\n                data,\n                formatValue,\n                layout,\n                alignFunction,\n                sortFunction,\n                linkSortMode,\n                nodeThickness,\n                nodeSpacing,\n                nodeInnerPadding,\n                width,\n                height,\n                getColor,\n                getLabel,\n            }),\n        [\n            data,\n            formatValue,\n            layout,\n            alignFunction,\n            sortFunction,\n            linkSortMode,\n            nodeThickness,\n            nodeSpacing,\n            nodeInnerPadding,\n            width,\n            height,\n            getColor,\n            getLabel,\n        ]\n    )\n\n    const legendData = useMemo(\n        () =>\n            nodes.map(node => ({\n                id: node.id,\n                label: node.label,\n                color: node.color,\n            })),\n        [nodes]\n    )\n\n    return {\n        nodes,\n        links,\n        legendData,\n        getNodeBorderColor,\n        currentNode,\n        setCurrentNode,\n        currentLink,\n        setCurrentLink,\n        getLabelTextColor,\n    }\n}\n","import { createElement, useCallback } from 'react'\nimport { useSpring, animated } from '@react-spring/web'\nimport { useMotionConfig } from '@nivo/core'\nimport { useTooltip } from '@nivo/tooltip'\nimport { DefaultLink, DefaultNode, SankeyCommonProps, SankeyNodeDatum } from './types'\n\ninterface SankeyNodesItemProps<N extends DefaultNode, L extends DefaultLink> {\n    node: SankeyNodeDatum<N, L>\n    x: number\n    y: number\n    width: number\n    height: number\n    color: string\n    opacity: number\n    borderWidth: SankeyCommonProps<N, L>['nodeBorderWidth']\n    borderColor: string\n    borderRadius: SankeyCommonProps<N, L>['nodeBorderRadius']\n    setCurrent: (node: SankeyNodeDatum<N, L> | null) => void\n    isInteractive: SankeyCommonProps<N, L>['isInteractive']\n    onClick?: SankeyCommonProps<N, L>['onClick']\n    tooltip: SankeyCommonProps<N, L>['nodeTooltip']\n}\n\nexport const SankeyNodesItem = <N extends DefaultNode, L extends DefaultLink>({\n    node,\n    x,\n    y,\n    width,\n    height,\n    color,\n    opacity,\n    borderWidth,\n    borderColor,\n    borderRadius,\n    setCurrent,\n    isInteractive,\n    onClick,\n    tooltip,\n}: SankeyNodesItemProps<N, L>) => {\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        x,\n        y,\n        width,\n        height,\n        opacity,\n        color,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseEnter = useCallback(\n        event => {\n            setCurrent(node)\n            showTooltipFromEvent(createElement(tooltip, { node }), event, 'left')\n        },\n        [setCurrent, node, showTooltipFromEvent, tooltip]\n    )\n\n    const handleMouseMove = useCallback(\n        event => {\n            showTooltipFromEvent(createElement(tooltip, { node }), event, 'left')\n        },\n        [showTooltipFromEvent, node, tooltip]\n    )\n\n    const handleMouseLeave = useCallback(() => {\n        setCurrent(null)\n        hideTooltip()\n    }, [setCurrent, hideTooltip])\n\n    const handleClick = useCallback(\n        event => {\n            onClick?.(node, event)\n        },\n        [onClick, node]\n    )\n\n    return (\n        <animated.rect\n            x={animatedProps.x}\n            y={animatedProps.y}\n            rx={borderRadius}\n            ry={borderRadius}\n            width={animatedProps.width.to(v => Math.max(v, 0))}\n            height={animatedProps.height.to(v => Math.max(v, 0))}\n            fill={animatedProps.color}\n            fillOpacity={animatedProps.opacity}\n            strokeWidth={borderWidth}\n            stroke={borderColor}\n            strokeOpacity={opacity}\n            onMouseEnter={isInteractive ? handleMouseEnter : undefined}\n            onMouseMove={isInteractive ? handleMouseMove : undefined}\n            onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n            onClick={isInteractive ? handleClick : undefined}\n        />\n    )\n}\n","import {\n    DefaultLink,\n    DefaultNode,\n    SankeyCommonProps,\n    SankeyLinkDatum,\n    SankeyNodeDatum,\n} from './types'\nimport { SankeyNodesItem } from './SankeyNodesItem'\n\ninterface SankeyNodesProps<N extends DefaultNode, L extends DefaultLink> {\n    nodes: SankeyNodeDatum<N, L>[]\n    nodeOpacity: SankeyCommonProps<N, L>['nodeOpacity']\n    nodeHoverOpacity: SankeyCommonProps<N, L>['nodeHoverOpacity']\n    nodeHoverOthersOpacity: SankeyCommonProps<N, L>['nodeHoverOthersOpacity']\n    borderWidth: SankeyCommonProps<N, L>['nodeBorderWidth']\n    getBorderColor: (node: SankeyNodeDatum<N, L>) => string\n    borderRadius: SankeyCommonProps<N, L>['nodeBorderRadius']\n    setCurrentNode: (node: SankeyNodeDatum<N, L> | null) => void\n    currentNode: SankeyNodeDatum<N, L> | null\n    currentLink: SankeyLinkDatum<N, L> | null\n    isCurrentNode: (node: SankeyNodeDatum<N, L>) => boolean\n    isInteractive: SankeyCommonProps<N, L>['isInteractive']\n    onClick?: SankeyCommonProps<N, L>['onClick']\n    tooltip: SankeyCommonProps<N, L>['nodeTooltip']\n}\n\nexport const SankeyNodes = <N extends DefaultNode, L extends DefaultLink>({\n    nodes,\n    nodeOpacity,\n    nodeHoverOpacity,\n    nodeHoverOthersOpacity,\n    borderWidth,\n    getBorderColor,\n    borderRadius,\n    setCurrentNode,\n    currentNode,\n    currentLink,\n    isCurrentNode,\n    isInteractive,\n    onClick,\n    tooltip,\n}: SankeyNodesProps<N, L>) => {\n    const getOpacity = (node: SankeyNodeDatum<N, L>) => {\n        if (!currentNode && !currentLink) return nodeOpacity\n        if (isCurrentNode(node)) return nodeHoverOpacity\n        return nodeHoverOthersOpacity\n    }\n\n    return (\n        <>\n            {nodes.map(node => (\n                <SankeyNodesItem<N, L>\n                    key={node.id}\n                    node={node}\n                    x={node.x}\n                    y={node.y}\n                    width={node.width}\n                    height={node.height}\n                    color={node.color}\n                    opacity={getOpacity(node)}\n                    borderWidth={borderWidth}\n                    borderColor={getBorderColor(node)}\n                    borderRadius={borderRadius}\n                    setCurrent={setCurrentNode}\n                    isInteractive={isInteractive}\n                    onClick={onClick}\n                    tooltip={tooltip}\n                />\n            ))}\n        </>\n    )\n}\n","import { SankeyCommonProps } from './types'\n\ninterface SankeyLinkGradientProps {\n    id: string\n    layout: SankeyCommonProps<any, any>['layout']\n    startColor: string\n    endColor: string\n}\n\nexport const SankeyLinkGradient = ({\n    id,\n    layout,\n    startColor,\n    endColor,\n}: SankeyLinkGradientProps) => {\n    let gradientProps: {\n        x1: string\n        x2: string\n        y1: string\n        y2: string\n    }\n    if (layout === 'horizontal') {\n        gradientProps = {\n            x1: '0%',\n            x2: '100%',\n            y1: '0%',\n            y2: '0%',\n        }\n    } else {\n        gradientProps = {\n            x1: '0%',\n            x2: '0%',\n            y1: '0%',\n            y2: '100%',\n        }\n    }\n\n    return (\n        <linearGradient id={id} spreadMethod=\"pad\" {...gradientProps}>\n            <stop offset=\"0%\" stopColor={startColor} />\n            <stop offset=\"100%\" stopColor={endColor} />\n        </linearGradient>\n    )\n}\n","import { createElement, useCallback } from 'react'\nimport { useSpring, animated } from '@react-spring/web'\nimport { useAnimatedPath, useMotionConfig } from '@nivo/core'\nimport { useTooltip } from '@nivo/tooltip'\nimport { SankeyLinkGradient } from './SankeyLinkGradient'\nimport { DefaultLink, DefaultNode, SankeyCommonProps, SankeyLinkDatum } from './types'\n\ninterface SankeyLinksItemProps<N extends DefaultNode, L extends DefaultLink> {\n    link: SankeyLinkDatum<N, L>\n    layout: SankeyCommonProps<N, L>['layout']\n    path: string\n    color: string\n    opacity: number\n    blendMode: SankeyCommonProps<N, L>['linkBlendMode']\n    enableGradient: SankeyCommonProps<N, L>['enableLinkGradient']\n    setCurrent: (link: SankeyLinkDatum<N, L> | null) => void\n    isInteractive: SankeyCommonProps<N, L>['isInteractive']\n    onClick?: SankeyCommonProps<N, L>['onClick']\n    tooltip: SankeyCommonProps<N, L>['linkTooltip']\n}\n\nexport const SankeyLinksItem = <N extends DefaultNode, L extends DefaultLink>({\n    link,\n    layout,\n    path,\n    color,\n    opacity,\n    blendMode,\n    enableGradient,\n    setCurrent,\n    tooltip,\n    isInteractive,\n    onClick,\n}: SankeyLinksItemProps<N, L>) => {\n    const linkId = `${link.source.id}.${link.target.id}`\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedPath = useAnimatedPath(path)\n    const animatedProps = useSpring({\n        color,\n        opacity,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseEnter = useCallback(\n        event => {\n            setCurrent(link)\n            showTooltipFromEvent(createElement(tooltip, { link }), event, 'left')\n        },\n        [setCurrent, link, showTooltipFromEvent, tooltip]\n    )\n\n    const handleMouseMove = useCallback(\n        event => {\n            showTooltipFromEvent(createElement(tooltip, { link }), event, 'left')\n        },\n        [showTooltipFromEvent, link, tooltip]\n    )\n\n    const handleMouseLeave = useCallback(() => {\n        setCurrent(null)\n        hideTooltip()\n    }, [setCurrent, hideTooltip])\n\n    const handleClick = useCallback(\n        event => {\n            onClick?.(link, event)\n        },\n        [onClick, link]\n    )\n\n    return (\n        <>\n            {enableGradient && (\n                <SankeyLinkGradient\n                    id={linkId}\n                    layout={layout}\n                    startColor={link.startColor || link.source.color}\n                    endColor={link.endColor || link.target.color}\n                />\n            )}\n            <animated.path\n                fill={enableGradient ? `url(\"#${encodeURI(linkId)}\")` : animatedProps.color}\n                d={animatedPath}\n                fillOpacity={animatedProps.opacity}\n                onMouseEnter={isInteractive ? handleMouseEnter : undefined}\n                onMouseMove={isInteractive ? handleMouseMove : undefined}\n                onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n                onClick={isInteractive ? handleClick : undefined}\n                style={{ mixBlendMode: blendMode }}\n            />\n        </>\n    )\n}\n","import { sankeyLinkHorizontal, sankeyLinkVertical } from './links'\nimport {\n    DefaultLink,\n    DefaultNode,\n    SankeyCommonProps,\n    SankeyLinkDatum,\n    SankeyNodeDatum,\n} from './types'\nimport { SankeyLinksItem } from './SankeyLinksItem'\nimport { useMemo } from 'react'\n\ninterface SankeyLinksProps<N extends DefaultNode, L extends DefaultLink> {\n    layout: SankeyCommonProps<N, L>['layout']\n    links: SankeyLinkDatum<N, L>[]\n    linkOpacity: SankeyCommonProps<N, L>['linkOpacity']\n    linkHoverOpacity: SankeyCommonProps<N, L>['linkHoverOpacity']\n    linkHoverOthersOpacity: SankeyCommonProps<N, L>['linkHoverOthersOpacity']\n    linkContract: SankeyCommonProps<N, L>['linkContract']\n    linkBlendMode: SankeyCommonProps<N, L>['linkBlendMode']\n    enableLinkGradient: SankeyCommonProps<N, L>['enableLinkGradient']\n    tooltip: SankeyCommonProps<N, L>['linkTooltip']\n    setCurrentLink: (link: SankeyLinkDatum<N, L> | null) => void\n    currentLink: SankeyLinkDatum<N, L> | null\n    currentNode: SankeyNodeDatum<N, L> | null\n    isCurrentLink: (link: SankeyLinkDatum<N, L>) => boolean\n    isInteractive: SankeyCommonProps<N, L>['isInteractive']\n    onClick?: SankeyCommonProps<N, L>['onClick']\n}\n\nexport const SankeyLinks = <N extends DefaultNode, L extends DefaultLink>({\n    links,\n    layout,\n    linkOpacity,\n    linkHoverOpacity,\n    linkHoverOthersOpacity,\n    linkContract,\n    linkBlendMode,\n    enableLinkGradient,\n    setCurrentLink,\n    currentLink,\n    currentNode,\n    isCurrentLink,\n    isInteractive,\n    onClick,\n    tooltip,\n}: SankeyLinksProps<N, L>) => {\n    const getOpacity = (link: SankeyLinkDatum<N, L>) => {\n        if (!currentNode && !currentLink) return linkOpacity\n        if (isCurrentLink(link)) return linkHoverOpacity\n        return linkHoverOthersOpacity\n    }\n\n    const getLinkPath = useMemo(\n        () => (layout === 'horizontal' ? sankeyLinkHorizontal() : sankeyLinkVertical()),\n        [layout]\n    )\n\n    return (\n        <>\n            {links.map(link => (\n                <SankeyLinksItem<N, L>\n                    key={`${link.source.id}.${link.target.id}`}\n                    link={link}\n                    layout={layout}\n                    path={getLinkPath(link, linkContract)}\n                    color={link.color}\n                    opacity={getOpacity(link)}\n                    blendMode={linkBlendMode}\n                    enableGradient={enableLinkGradient}\n                    setCurrent={setCurrentLink}\n                    isInteractive={isInteractive}\n                    onClick={onClick}\n                    tooltip={tooltip}\n                />\n            ))}\n        </>\n    )\n}\n","import { line, curveMonotoneX, curveMonotoneY } from 'd3-shape'\nimport { DefaultLink, DefaultNode, SankeyLinkDatum } from './types'\n\nexport const sankeyLinkHorizontal = <N extends DefaultNode, L extends DefaultLink>() => {\n    const lineGenerator = line().curve(curveMonotoneX)\n\n    return (link: SankeyLinkDatum<N, L>, contract: number) => {\n        const thickness = Math.max(1, link.thickness - contract * 2)\n        const halfThickness = thickness / 2\n        const linkLength = link.target.x0 - link.source.x1\n        const padLength = linkLength * 0.12\n\n        const dots: [number, number][] = [\n            [link.source.x1, link.pos0 - halfThickness],\n            [link.source.x1 + padLength, link.pos0 - halfThickness],\n            [link.target.x0 - padLength, link.pos1 - halfThickness],\n            [link.target.x0, link.pos1 - halfThickness],\n            [link.target.x0, link.pos1 + halfThickness],\n            [link.target.x0 - padLength, link.pos1 + halfThickness],\n            [link.source.x1 + padLength, link.pos0 + halfThickness],\n            [link.source.x1, link.pos0 + halfThickness],\n            [link.source.x1, link.pos0 - halfThickness],\n        ]\n\n        return lineGenerator(dots) + 'Z'\n    }\n}\n\nexport const sankeyLinkVertical = <N extends DefaultNode, L extends DefaultLink>() => {\n    const lineGenerator = line().curve(curveMonotoneY)\n\n    return (link: SankeyLinkDatum<N, L>, contract: number) => {\n        const thickness = Math.max(1, link.thickness - contract * 2)\n        const halfThickness = thickness / 2\n        const linkLength = link.target.y0 - link.source.y1\n        const padLength = linkLength * 0.12\n\n        const dots: [number, number][] = [\n            [link.pos0 + halfThickness, link.source.y1],\n            [link.pos0 + halfThickness, link.source.y1 + padLength],\n            [link.pos1 + halfThickness, link.target.y0 - padLength],\n            [link.pos1 + halfThickness, link.target.y0],\n            [link.pos1 - halfThickness, link.target.y0],\n            [link.pos1 - halfThickness, link.target.y0 - padLength],\n            [link.pos0 - halfThickness, link.source.y1 + padLength],\n            [link.pos0 - halfThickness, link.source.y1],\n            [link.pos0 + halfThickness, link.source.y1],\n        ]\n\n        return lineGenerator(dots) + 'Z'\n    }\n}\n","import { useSprings, animated } from '@react-spring/web'\nimport { useTheme, useMotionConfig } from '@nivo/core'\nimport { DefaultLink, DefaultNode, SankeyCommonProps, SankeyNodeDatum } from './types'\n\ninterface SankeyLabelsProps<N extends DefaultNode, L extends DefaultLink> {\n    nodes: SankeyNodeDatum<N, L>[]\n    layout: SankeyCommonProps<N, L>['layout']\n    width: number\n    height: number\n    labelPosition: SankeyCommonProps<N, L>['labelPosition']\n    labelPadding: SankeyCommonProps<N, L>['labelPadding']\n    labelOrientation: SankeyCommonProps<N, L>['labelOrientation']\n    getLabelTextColor: (node: SankeyNodeDatum<N, L>) => string\n}\n\nexport const SankeyLabels = <N extends DefaultNode, L extends DefaultLink>({\n    nodes,\n    layout,\n    width,\n    height,\n    labelPosition,\n    labelPadding,\n    labelOrientation,\n    getLabelTextColor,\n}: SankeyLabelsProps<N, L>) => {\n    const theme = useTheme()\n\n    const labelRotation = labelOrientation === 'vertical' ? -90 : 0\n    const labels = nodes.map(node => {\n        let x\n        let y\n        let textAnchor\n        if (layout === 'horizontal') {\n            y = node.y + node.height / 2\n            if (node.x < width / 2) {\n                if (labelPosition === 'inside') {\n                    x = node.x1 + labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'middle' : 'start'\n                } else {\n                    x = node.x - labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'middle' : 'end'\n                }\n            } else {\n                if (labelPosition === 'inside') {\n                    x = node.x - labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'middle' : 'end'\n                } else {\n                    x = node.x1 + labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'middle' : 'start'\n                }\n            }\n        } else if (layout === 'vertical') {\n            x = node.x + node.width / 2\n            if (node.y < height / 2) {\n                if (labelPosition === 'inside') {\n                    y = node.y1 + labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'end' : 'middle'\n                } else {\n                    y = node.y - labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'start' : 'middle'\n                }\n            } else {\n                if (labelPosition === 'inside') {\n                    y = node.y - labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'start' : 'middle'\n                } else {\n                    y = node.y1 + labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'end' : 'middle'\n                }\n            }\n        }\n\n        return {\n            id: node.id,\n            label: node.label,\n            x,\n            y,\n            textAnchor,\n            color: getLabelTextColor(node),\n        }\n    })\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const springs = useSprings(\n        labels.length,\n        labels.map(label => ({\n            transform: `translate(${label.x}, ${label.y}) rotate(${labelRotation})`,\n            color: label.color,\n            config: springConfig,\n            immediate: !animate,\n        }))\n    )\n\n    return (\n        <>\n            {springs.map((animatedProps, index) => {\n                const label = labels[index]\n\n                return (\n                    <animated.text\n                        key={label.id}\n                        dominantBaseline=\"central\"\n                        textAnchor={label.textAnchor}\n                        transform={animatedProps.transform}\n                        style={{\n                            ...theme.labels.text,\n                            fill: animatedProps.color,\n                            pointerEvents: 'none',\n                        }}\n                    >\n                        {label.label}\n                    </animated.text>\n                )\n            })}\n        </>\n    )\n}\n","import { createElement, Fragment, ReactNode } from 'react'\nimport { uniq } from 'lodash'\nimport { SvgWrapper, useDimensions, Container } from '@nivo/core'\nimport { BoxLegendSvg } from '@nivo/legends'\nimport { svgDefaultProps } from './props'\nimport { useSankey } from './hooks'\nimport { SankeyNodes } from './SankeyNodes'\nimport { SankeyLinks } from './SankeyLinks'\nimport { SankeyLabels } from './SankeyLabels'\nimport {\n    DefaultLink,\n    DefaultNode,\n    SankeyLayerId,\n    SankeyLinkDatum,\n    SankeyNodeDatum,\n    SankeySvgProps,\n} from './types'\n\ntype InnerSankeyProps<N extends DefaultNode, L extends DefaultLink> = Omit<\n    SankeySvgProps<N, L>,\n    'animate' | 'motionConfig' | 'renderWrapper' | 'theme'\n>\n\nconst InnerSankey = <N extends DefaultNode, L extends DefaultLink>({\n    data,\n    valueFormat,\n    layout = svgDefaultProps.layout,\n    sort = svgDefaultProps.sort,\n    align = svgDefaultProps.align,\n    width,\n    height,\n    margin: partialMargin,\n    colors = svgDefaultProps.colors,\n    nodeThickness = svgDefaultProps.nodeThickness,\n    nodeSpacing = svgDefaultProps.nodeThickness,\n    nodeInnerPadding = svgDefaultProps.nodeInnerPadding,\n    nodeBorderColor = svgDefaultProps.nodeBorderColor,\n    nodeOpacity = svgDefaultProps.nodeOpacity,\n    nodeHoverOpacity = svgDefaultProps.nodeHoverOpacity,\n    nodeHoverOthersOpacity = svgDefaultProps.nodeHoverOthersOpacity,\n    nodeBorderWidth = svgDefaultProps.nodeBorderWidth,\n    nodeBorderRadius = svgDefaultProps.nodeBorderRadius,\n    linkOpacity = svgDefaultProps.linkOpacity,\n    linkHoverOpacity = svgDefaultProps.linkHoverOpacity,\n    linkHoverOthersOpacity = svgDefaultProps.linkHoverOthersOpacity,\n    linkContract = svgDefaultProps.linkContract,\n    linkBlendMode = svgDefaultProps.linkBlendMode,\n    enableLinkGradient = svgDefaultProps.enableLinkGradient,\n    enableLabels = svgDefaultProps.enableLabels,\n    labelPosition = svgDefaultProps.labelPosition,\n    labelPadding = svgDefaultProps.labelPadding,\n    labelOrientation = svgDefaultProps.labelOrientation,\n    label = svgDefaultProps.label,\n    labelTextColor = svgDefaultProps.labelTextColor,\n    nodeTooltip = svgDefaultProps.nodeTooltip,\n    linkTooltip = svgDefaultProps.linkTooltip,\n    isInteractive = svgDefaultProps.isInteractive,\n    onClick,\n    legends = svgDefaultProps.legends,\n    layers = svgDefaultProps.layers,\n    role = svgDefaultProps.role,\n    ariaLabel,\n    ariaLabelledBy,\n    ariaDescribedBy,\n}: InnerSankeyProps<N, L>) => {\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const {\n        nodes,\n        links,\n        legendData,\n        getNodeBorderColor,\n        currentNode,\n        setCurrentNode,\n        currentLink,\n        setCurrentLink,\n        getLabelTextColor,\n    } = useSankey<N, L>({\n        data,\n        valueFormat,\n        layout,\n        width: innerWidth,\n        height: innerHeight,\n        sort,\n        align,\n        colors,\n        nodeThickness,\n        nodeSpacing,\n        nodeInnerPadding,\n        nodeBorderColor,\n        label,\n        labelTextColor,\n    })\n\n    let isCurrentNode: (node: SankeyNodeDatum<N, L>) => boolean = () => false\n    let isCurrentLink: (link: SankeyLinkDatum<N, L>) => boolean = () => false\n\n    if (currentLink) {\n        isCurrentNode = ({ id }: SankeyNodeDatum<N, L>) =>\n            id === currentLink.source.id || id === currentLink.target.id\n        isCurrentLink = ({ source, target }: SankeyLinkDatum<N, L>) =>\n            source.id === currentLink.source.id && target.id === currentLink.target.id\n    }\n\n    if (currentNode) {\n        let currentNodeIds = [currentNode.id]\n        links\n            .filter(\n                ({ source, target }) => source.id === currentNode.id || target.id === currentNode.id\n            )\n            .forEach(({ source, target }) => {\n                currentNodeIds.push(source.id)\n                currentNodeIds.push(target.id)\n            })\n\n        currentNodeIds = uniq(currentNodeIds)\n        isCurrentNode = ({ id }) => currentNodeIds.includes(id)\n        isCurrentLink = ({ source, target }) =>\n            source.id === currentNode.id || target.id === currentNode.id\n    }\n\n    const layerProps = {\n        links,\n        nodes,\n        margin,\n        width,\n        height,\n        outerWidth,\n        outerHeight,\n    }\n\n    const layerById: Record<SankeyLayerId, ReactNode> = {\n        links: null,\n        nodes: null,\n        labels: null,\n        legends: null,\n    }\n\n    if (layers.includes('links')) {\n        layerById.links = (\n            <SankeyLinks<N, L>\n                key=\"links\"\n                links={links}\n                layout={layout}\n                linkContract={linkContract}\n                linkOpacity={linkOpacity}\n                linkHoverOpacity={linkHoverOpacity}\n                linkHoverOthersOpacity={linkHoverOthersOpacity}\n                linkBlendMode={linkBlendMode}\n                enableLinkGradient={enableLinkGradient}\n                setCurrentLink={setCurrentLink}\n                currentNode={currentNode}\n                currentLink={currentLink}\n                isCurrentLink={isCurrentLink}\n                isInteractive={isInteractive}\n                onClick={onClick}\n                tooltip={linkTooltip}\n            />\n        )\n    }\n\n    if (layers.includes('nodes')) {\n        layerById.nodes = (\n            <SankeyNodes<N, L>\n                key=\"nodes\"\n                nodes={nodes}\n                nodeOpacity={nodeOpacity}\n                nodeHoverOpacity={nodeHoverOpacity}\n                nodeHoverOthersOpacity={nodeHoverOthersOpacity}\n                borderWidth={nodeBorderWidth}\n                borderRadius={nodeBorderRadius}\n                getBorderColor={getNodeBorderColor}\n                setCurrentNode={setCurrentNode}\n                currentNode={currentNode}\n                currentLink={currentLink}\n                isCurrentNode={isCurrentNode}\n                isInteractive={isInteractive}\n                onClick={onClick}\n                tooltip={nodeTooltip}\n            />\n        )\n    }\n\n    if (layers.includes('labels') && enableLabels) {\n        layerById.labels = (\n            <SankeyLabels<N, L>\n                key=\"labels\"\n                nodes={nodes}\n                layout={layout}\n                width={innerWidth}\n                height={innerHeight}\n                labelPosition={labelPosition}\n                labelPadding={labelPadding}\n                labelOrientation={labelOrientation}\n                getLabelTextColor={getLabelTextColor}\n            />\n        )\n    }\n\n    if (layers.includes('legends')) {\n        layerById.legends = (\n            <Fragment key=\"legends\">\n                {legends.map((legend, i) => (\n                    <BoxLegendSvg\n                        key={`legend${i}`}\n                        {...legend}\n                        containerWidth={innerWidth}\n                        containerHeight={innerHeight}\n                        data={legendData}\n                    />\n                ))}\n            </Fragment>\n        )\n    }\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            role={role}\n            ariaLabel={ariaLabel}\n            ariaLabelledBy={ariaLabelledBy}\n            ariaDescribedBy={ariaDescribedBy}\n        >\n            {layers.map((layer, i) => {\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, layerProps)}</Fragment>\n                }\n\n                return layerById?.[layer] ?? null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport const Sankey = <N extends DefaultNode = DefaultNode, L extends DefaultLink = DefaultLink>({\n    isInteractive = svgDefaultProps.isInteractive,\n    animate = svgDefaultProps.animate,\n    motionConfig = svgDefaultProps.motionConfig,\n    theme,\n    renderWrapper,\n    ...otherProps\n}: SankeySvgProps<N, L>) => (\n    <Container\n        {...{\n            animate,\n            isInteractive,\n            motionConfig,\n            renderWrapper,\n            theme,\n        }}\n    >\n        <InnerSankey<N, L> isInteractive={isInteractive} {...otherProps} />\n    </Container>\n)\n","import { ResponsiveWrapper } from '@nivo/core'\nimport { DefaultLink, DefaultNode, SankeySvgProps } from './types'\nimport { Sankey } from './Sankey'\n\nexport const ResponsiveSankey = <\n    N extends DefaultNode = DefaultNode,\n    L extends DefaultLink = DefaultLink\n>(\n    props: Omit<SankeySvgProps<N, L>, 'height' | 'width'>\n) => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Sankey<N, L> width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","length","i","F","s","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","min","values","valueof","undefined","_step","_iterator","_step2","index","_iterator2","_value","targetDepth","d","target","depth","justify","node","sourceLinks","sum","max","constant","x","ascendingSourceBreadth","a","b","ascendingBreadth","source","ascendingTargetBreadth","y0","defaultId","defaultNodes","graph","nodes","defaultLinks","links","find","nodeById","id","get","Error","computeLinkBreadths","_ref","y1","link","width","_step3","_iterator3","targetLinks","_link","Sankey","py","sort","linkSort","x0","x1","dx","dy","align","iterations","sankey","apply","arguments","computeNodeLinks","computeNodeValues","computeNodeDepths","computeNodeHeights","computeNodeBreadths","_ref2","_step4","_iterator4","entries","_step4$value","_step5","Map","map","_iterator5","_step5$value","_i","push","_step6","_iterator6","_step6$value","_ref3","_step7","_iterator7","fixedValue","Math","_ref4","current","Set","size","_step8","_iterator8","_step9","_iterator9","add","_ref5","_step10","_iterator10","height","_step11","_iterator11","columns","_ref6","_step12","kx","_iterator12","floor","layer","_step13","_iterator13","computeNodeLayers","c","_step14","ky","_iterator14","_step15","_nodes","y","_iterator15","_node","_step16","_iterator16","reorderLinks","initializeNodeBreadths","alpha","pow","beta","relaxRightToLeft","relaxLeftToRight","_step17","column","_iterator17","_step18","w","_iterator18","_step18$value","v","targetTop","_dy","reorderNodeLinks","resolveCollisions","_step19","_iterator19","_step20","_iterator20","_step20$value","sourceTop","_dy2","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","_dy3","_dy4","_ref7","_step21","_iterator21","_step22","_iterator22","_step23","_iterator23","_step23$value","_step24","_iterator24","_step24$value","_step25","_iterator25","_step25$value","_node2","_width","_step26","_iterator26","_step26$value","_step27","_iterator27","_step27$value","_node3","_width2","update","nodeId","_","nodeAlign","nodeSort","nodeWidth","nodePadding","extent","tooltipStyles","container","display","alignItems","sourceChip","marginRight","targetChip","marginLeft","sankeyAlignmentPropMapping","center","sankeyJustify","start","end","sankeyAlignmentPropKeys","keys","sankeyAlignmentFromProp","prop","svgDefaultProps","layout","colors","scheme","nodeOpacity","nodeHoverOpacity","nodeHoverOthersOpacity","nodeThickness","nodeSpacing","nodeInnerPadding","nodeBorderWidth","nodeBorderColor","modifiers","nodeBorderRadius","linkOpacity","linkHoverOpacity","linkHoverOthersOpacity","linkContract","linkBlendMode","enableLinkGradient","enableLabels","label","labelPosition","labelPadding","labelOrientation","labelTextColor","isInteractive","nodeTooltip","_jsx","BasicTooltip","enableChip","color","linkTooltip","_jsxs","style","Chip","formattedValue","legends","layers","role","animate","motionConfig","getId","useSankey","data","valueFormat","useState","currentNode","setCurrentNode","currentLink","setCurrentLink","sortFunction","useMemo","linkSortMode","alignFunction","theme","useTheme","getColor","useOrdinalColorScale","getNodeBorderColor","useInheritedColor","getLabel","usePropertyAccessor","getLabelTextColor","formatValue","useValueFormatter","_data","d3Sankey","_cloneDeep","forEach","oldX0","oldX1","pos0","pos1","thickness","legendData","SankeyNodesItem","opacity","borderWidth","borderColor","borderRadius","setCurrent","onClick","tooltip","useMotionConfig","springConfig","config","animatedProps","useSpring","immediate","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","useCallback","createElement","event","handleMouseMove","handleMouseLeave","handleClick","animated","rect","rx","ry","to","fill","fillOpacity","strokeWidth","stroke","strokeOpacity","onMouseEnter","onMouseMove","onMouseLeave","SankeyNodes","getBorderColor","isCurrentNode","getOpacity","SankeyLinkGradient","startColor","endColor","spreadMethod","x2","y2","offset","stopColor","SankeyLinksItem","path","blendMode","enableGradient","linkId","animatedPath","useAnimatedPath","encodeURI","mixBlendMode","SankeyLinks","isCurrentLink","getLinkPath","lineGenerator","line","curve","curveMonotoneX","contract","halfThickness","padLength","dots","curveMonotoneY","SankeyLabels","labelRotation","labels","textAnchor","springs","useSprings","transform","text","dominantBaseline","pointerEvents","InnerSankey","partialMargin","margin","ariaLabel","ariaLabelledBy","ariaDescribedBy","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","currentNodeIds","filter","_uniq","includes","layerProps","layerById","Fragment","legend","BoxLegendSvg","containerWidth","containerHeight","SvgWrapper","renderWrapper","otherProps","Container","ResponsiveSankey","props","ResponsiveWrapper"],"sourceRoot":""}