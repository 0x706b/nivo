{"version":3,"sources":["webpack:///../src/props.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///../src/compute.js","webpack:///../src/hooks.js","webpack:///../src/AnnotationNote.js","webpack:///../src/AnnotationLink.js","webpack:///../src/CircleAnnotationOutline.js","webpack:///../src/DotAnnotationOutline.js","webpack:///../src/RectAnnotationOutline.js","webpack:///../src/Annotation.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///../src/canvas.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///../src/PartTooltip.js","webpack:///../src/Part.js","webpack:///../src/Parts.js","webpack:///../src/PartLabel.js","webpack:///../src/PartLabels.js","webpack:///../src/Separator.js","webpack:///../src/Separators.js","webpack:///../src/FunnelAnnotations.js","webpack:///../src/Funnel.js","webpack:///../src/ResponsiveFunnel.js","webpack:///./src/data/components/funnel/mapper.js","webpack:///./src/data/components/funnel/props.js","webpack:///./src/data/components/funnel/generator.js","webpack:///./src/pages/funnel/index.js","webpack:///../node_modules/lodash/filter.js","webpack:///../node_modules/lodash/_baseFilter.js"],"names":["annotationSpecPropType","match","PropTypes","type","noteX","abs","isRequired","noteY","noteWidth","noteTextOffset","note","offset","number","defaultProps","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","defaultPositionAccessor","item","x","y","computeAnnotation","size","width","height","isPlainObject","computedNoteX","computedNoteY","computedX","computedY","angle","sourceX","Math","targetY","targetX","absoluteAngleDegrees","radiansToDegrees","getLinkAngle","position","positionFromAngle","degreesToRadians","eighth","textX","noteLineX","points","text","useAnnotations","items","annotations","getPosition","getDimensions","useMemo","annotation","dimensions","acc","omit","datum","bindAnnotations","useComputedAnnotations","containerWidth","containerHeight","computed","AnnotationNote","memo","theme","useTheme","useMotionConfig","animate","springConfiig","animatedProps","useSpring","config","immediate","style","strokeLinejoin","strokeWidth","stroke","outlineColor","AnnotationLink","isOutline","path","point","springConfig","fill","d","CircleAnnotationOutline","radius","cx","cy","r","outline","DotAnnotationOutline","symbol","RectAnnotationOutline","Annotation","useComputedAnnotation","_arrayLikeToArray","arr","len","arr2","Array","_slicedToArray","isArray","arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","iterableToArrayLimit","o","minLen","arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","from","test","unsupportedIterableToArray","TypeError","nonIterableRest","drawPoints","ctx","index","renderAnnotationsToCanvas","data","id","label","string","layers","direction","interpolation","spacing","shapeBlending","colors","ordinalColorsPropType","fillOpacity","borderWidth","borderColor","inheritedColorPropType","borderOpacity","enableLabel","labelColor","enableBeforeSeparators","beforeSeparatorLength","beforeSeparatorOffset","enableAfterSeparators","afterSeparatorLength","afterSeparatorOffset","isInteractive","currentPartSizeExtension","currentBorderWidth","onClick","onMouseEnter","onMouseLeave","role","FunnelDefaultProps","scheme","MotionConfigProvider","motionConfig","_unsupportedIterableToArray","_toConsumableArray","arrayWithoutHoles","iter","iterableToArray","nonIterableSpread","PartTooltip","part","color","enableChip","useFunnel","defaults","rawShapeBlending","valueFormat","onMouseMove","getColor","useOrdinalColorScale","getBorderColor","useInheritedColor","getLabelColor","formatValue","useValueFormatter","areaGenerator","area","line","computeShapeGenerators","borderGenerator","paddingBefore","paddingAfter","innerWidth","innerHeight","bandScaleSize","linearScaleSize","bandwidth","bandScale","allValues","scaleLinear","computeScales","linearScale","useState","currentPartId","setCurrentPartId","parts","enhancedParts","isCurrent","partWidth","partHeight","x0","y0","x1","y1","formattedValue","nextPart","lastAreaPoint","useTooltip","showTooltipFromEvent","hideTooltip","partsWithHandlers","boundOnClick","event","computePartsHandlers","beforeSeparators","afterSeparators","lastPart","partId","computeSeparators","customLayerProps","Part","areaPath","areaColor","borderPath","strokeOpacity","Parts","PartLabel","transform","textAnchor","dominantBaseline","pointerEvents","PartLabels","Separator","separator","x2","y2","Separators","FunnelAnnotations","useFunnelAnnotations","WrappedFunnel","withContainer","props","partialMargin","useDimensions","margin","outerWidth","outerHeight","layerById","separators","widh","labels","layer","ResponsiveFunnel","settingsMapper","mapFormat","group","help","description","required","controlType","defaultValue","controlOptions","choices","min","max","unit","step","themeProperty","motionProperties","groups","groupProperties","generateLightDataSet","lastValue","map","round","random","startCase","initialProperties","top","right","bottom","left","format","enabled","modifiers","Funnel","ComponentTemplate","meta","icon","flavors","currentFlavor","properties","defaultProperties","propertiesMapper","mapper","generateData","logAction","merge","fontSize","arrayFilter","baseFilter","baseIteratee","module","exports","collection","predicate","baseEach","result"],"mappings":"uhBAUaA,EAAyB,UAAgB,CAClDC,MAAOC,cAAoB,CAACA,IAAD,KAAiBA,IAArCA,SAD2C,WAGlDC,KAAMD,UAAgB,iBAAhBA,QAH4C,WAKlDE,MAAO,cAAoB,CACvBF,IADuB,OAEvB,UAAgB,CACZG,IAAKH,WAAiBI,eARoB,WAWlDC,MAAO,cAAoB,CACvBL,IADuB,OAEvB,UAAgB,CACZG,IAAKH,WAAiBI,eAdoB,WAiBlDE,UAAWN,IAjBuC,OAkBlDO,eAAgBP,IAlBkC,OAmBlDQ,KAAMR,cAAoB,CAACA,IAAD,KAAiBA,IAArCA,OAnB4C,WAqBlDS,OAAQT,IAAUU,SAGTC,EAAe,IAAfA,EAAe,EClCb,SAASC,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,ECVT,SAASQ,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GAEvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GACvCC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,eAEtDM,EAAKM,KAAKC,MAAMP,EAAME,GAGxB,OAAOF,EAGM,SAASQ,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNb,EAAQL,OAAOqB,IAAS,GAAMC,SAAQ,SAAUxB,GAC9CG,EAAegB,EAAQnB,EAAKuB,EAAOvB,OAE5BE,OAAOuB,0BAChBvB,OAAOwB,iBAAiBP,EAAQjB,OAAOuB,0BAA0BF,IAEjEhB,EAAQL,OAAOqB,IAASC,SAAQ,SAAUxB,GACxCE,OAAOC,eAAegB,EAAQnB,EAAKE,OAAOa,yBAAyBQ,EAAQvB,OAKjF,OAAOmB,ECdT,IAAMQ,EAA0B,SAAAC,GAAI,MAAK,CAAEC,EAAGD,EAAL,EAAaE,EAAGF,EAAKE,IA8BjDC,EAAoB,SAAC,GAa3B,IACH,EACA,EAdA5C,EAYE,EAZFA,KAGA0C,EASE,EATFA,EACAC,EAQE,EARFA,EACAE,EAOE,EAPFA,KACAC,EAME,EANFA,MACAC,EAKE,EALFA,OACA9C,EAIE,EAJFA,MACAG,EAGE,EAHFA,MAGE,IAFFC,iBAEE,MAFUK,EAEV,MADFJ,sBACE,MADeI,EACf,EAIEsC,IAAJ,QACI,IAAI/C,QACAgD,EAAgBhD,EAAhBgD,KAGJA,EAAgBP,EAAhBO,EAGAD,IAAJ,QACI,IAAI5C,QACA8C,EAAgB9C,EAAhB8C,KAGJA,EAAgBP,EAAhBO,EAGJ,IAAIC,EAAJ,EACIC,EAAJ,EAEMC,EAzCkB,SAACC,EAAQ,EAAT,KACxB,IAAMD,EAAQE,WAAWC,EAAXD,EAA8BE,EAA5C,GACA,OAAOC,YAAqBC,YAA5B,IAuCcC,CAAalB,EAAE,EAAH,EAA1B,GAEA,cAAI1C,EAAmB,CACnB,IAAM6D,EAAWC,YAAkBC,YAAD,GAA0BlB,EAA5D,GACAM,GAAaU,EAAbV,EACAC,GAAaS,EAAbT,EAGJ,YAAIpD,EAAiB,CACjB,IAAMgE,EAAST,YAAYF,EAAD,IAAXE,IAAf,EACA,IAAIS,IACAZ,GAAaL,EAAbK,GAEJ,IAAIY,IACAb,GAAaL,EAAbK,EACAC,GAAaL,EAAbK,GAEJ,IAAIY,IACAb,GAAaL,EAAbK,GAEJ,IAAIa,IACAb,GAAaL,EAAbK,EACAC,GAAaL,EAAbK,GAEJ,IAAIY,IACAZ,GAAaL,EAAbK,GAEJ,IAAIY,IACAb,GAAaL,EAAbK,EACAC,GAAaL,EAAbK,GAEJ,IAAIY,IACAb,GAAaL,EAAbK,GAEJ,IAAIa,IACAb,GAAaL,EAAbK,EACAC,GAAaL,EAAbK,GAIR,IAAIa,EAAJ,EAGIC,EAAJ,EAUA,OAPKb,EAAD,QAAJ,KACIY,KACAC,MAEAA,KAGG,CACHC,OAAQ,CACJ,CAAChB,EADG,GAEJ,CAACF,EAFG,GAGJ,CAACiB,EAbT,IAeIE,KAAM,CAACH,EAlBCf,EAAZ,GAmBIG,MAAOA,EAAQ,KCtIVgB,EAAiB,gBAAGC,EAAH,QAAUC,EAAV,cAAuBC,EAAvB,cAAoCC,EAApC,uBAC1BC,mBACI,kBDQuB,SAAC,GAAD,IAC3BJ,EAD2B,QAE3BC,EAF2B,8BAG3BC,OAH2B,UAI3BC,EAJ2B,uBAM3BF,EAAA,QAAmB,cAcf,OAbA7C,IAAO4C,EAAOK,EAAdjD,gBAAwC,SAAAe,GACpC,IAAMoB,EAAWW,EAAjB,GACMI,EAAaH,EAAchC,EAAMkC,UAAvC,GAEAE,kBACOC,IAAKH,EAAY,CAAC,QADzBE,sBAIIE,MAJJF,EAKIhC,KAAM8B,QAAmBC,EAAW/B,WAIrCgC,IApBgB,ICPnBG,CAAgB,CACZV,MADY,EAEZC,YAFY,EAGZC,YAHY,EAIZC,oBAER,OATsB,KAYjBQ,EAAyB,gBAAGV,EAAH,cAAgBW,EAAhB,iBAAgCC,EAAhC,yBAClCT,mBACI,kBACI,OAAgB,YAAU,qBAEtBU,SAAUxC,EAAiB,GACvBsC,eADuB,EAEvBC,mBAFuB,WAMnC,KAX8B,KCThCE,EAAiBC,gBAAK,YAA4B,IAAzBP,EAAwB,EAAxBA,MAAOrC,EAAiB,EAAjBA,EAAGC,EAAc,EAAdA,EAAGpC,EAAW,EAAXA,KAClCgF,EAAQC,eADqC,EAERC,eAAnCC,EAF2C,UAE1BC,EAF0B,SAI7CC,EAAgBC,YAAU,CAC5BnD,EAD4B,EAE5BC,EAF4B,EAG5BmD,OAH4B,EAI5BC,WAAYL,IAGhB,yBAAWnF,EACAA,EAAK,CAAEmC,EAAF,EAAKC,EAAL,EAAQoC,UAGjB,EAAP,kCAESQ,mCACG,kBAAC,IAAD,MACI7C,EAAGkD,EADP,EAEIjD,EAAGiD,EAFP,EAGII,MAAK,OACET,cADF,UAEDU,eAFC,QAGDC,YAHC,EAGYX,gCACbY,OAAQZ,mBAAuBa,gBAT/C,qBAeK,IAAD,MACI1D,EAAGkD,EADP,EAEIjD,EAAGiD,EAFP,EAGII,MAAOlB,IAAKS,cAAD,KAAyB,CAAC,eAA1B,kBAnBvB,OA2BJF,+BAOAA,kBClDA,IAAMgB,EAAiBf,gBAAK,YAA4B,IAAzBnB,EAAwB,EAAxBA,OAAQmC,EAAgB,EAAhBA,UAC7Bf,EAAQC,eAEVe,EAAI,WAAOpC,KAAP,eAAuBA,KAA/B,IACAA,oBAAwB,SAAAqC,GACpBD,EAAI,yBAAeC,EAAf,eAA2BA,EAA/BD,OAL+C,MAQTd,eAAlCC,EAR2C,UAQ1Be,EAR0B,SAS7Cb,EAAgBC,YAAU,CAC5BU,KAD4B,EAE5BT,OAF4B,EAG5BC,WAAYL,IAGhB,GAAIY,GAAaf,iCAAjB,EACI,OAAO,KAGX,IAAMS,EAAK,KAAQT,cAAnB,MAQA,OAPA,IACIS,yBACAA,cACIT,+BADJS,EACyCT,gCACzCS,SAAeT,mBAAfS,cAGG,EAAP,gBAAQ,IAAD,MAAeU,KAAf,OAA2BC,EAAGf,EAA9B,KAAkDI,MAAOA,OAGpEK,+BAKAA,eAA8B,CAC1BC,WAAW,GCpCf,IAAMM,EAA0BtB,gBAAK,YAAqB,IAAlB5C,EAAiB,EAAjBA,EAAGC,EAAc,EAAdA,EAAGE,EAAW,EAAXA,KACpC0C,EAAQC,eADuC,EAEXC,eAAlCC,EAF6C,UAE5Be,EAF4B,SAI/Cb,EAAgBC,YAAU,CAC5BnD,EAD4B,EAE5BC,EAF4B,EAG5BkE,OAAQhE,EAHoB,EAI5BiD,OAJ4B,EAK5BC,WAAYL,IAGhB,OAAO,EAAP,kCAESH,wDACI,IAAD,QACIuB,GAAIlB,EADR,EAEImB,GAAInB,EAFR,EAGIoB,EAAGpB,EAHP,OAIII,MAAK,OACET,cADF,aAEDmB,KAFC,OAGDR,YACIX,kCAJH,EAKGA,mCACJY,OAAQZ,sBAA0Ba,iBAI9C,kBAAC,IAAD,QACIU,GAAIlB,EADR,EAEImB,GAAInB,EAFR,EAGIoB,EAAGpB,EAHP,OAIII,MAAOT,cAAkB0B,cAMzCL,wCCvCA,IAAMM,EAAuB5B,gBAAK,YAAqB,IAAlB5C,EAAiB,EAAjBA,EAAGC,EAAc,EAAdA,EAAGE,EAAW,EAAXA,KACjC0C,EAAQC,eADoC,EAERC,eAAlCC,EAF0C,UAEzBe,EAFyB,SAI5Cb,EAAgBC,YAAU,CAC5BnD,EAD4B,EAE5BC,EAF4B,EAG5BkE,OAAQhE,EAHoB,EAI5BiD,OAJ4B,EAK5BC,WAAYL,IAGhB,OAAO,EAAP,kCAESH,wDACI,IAAD,QACIuB,GAAIlB,EADR,EAEImB,GAAInB,EAFR,EAGIoB,EAAGpB,EAHP,OAIII,MAAK,OACET,cADF,aAEDmB,KAFC,OAGDR,YAHC,EAGYX,mCACbY,OAAQZ,sBAA0Ba,iBAI9C,kBAAC,IAAD,QACIU,GAAIlB,EADR,EAEImB,GAAInB,EAFR,EAGIoB,EAAGpB,EAHP,OAIII,MAAOT,cAAkB4B,aAMzCD,qCAMAA,eAAoC,CAChCrE,KAAM,GC5CV,IAAMuE,EAAwB9B,gBAAK,YAA8B,IAA3B5C,EAA0B,EAA1BA,EAAGC,EAAuB,EAAvBA,EAAGG,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,OACzCwC,EAAQC,eAD8C,EAElBC,eAAlCC,EAFoD,UAEnCe,EAFmC,SAItDb,EAAgBC,YAAU,CAC5BnD,EAAGA,EAAII,EADqB,EAE5BH,EAAGA,EAAII,EAFqB,EAG5BD,MAH4B,EAI5BC,OAJ4B,EAK5B+C,OAL4B,EAM5BC,WAAYL,IAGhB,OAAO,EAAP,kCAESH,wDACI,IAAD,MACI7C,EAAGkD,EADP,EAEIjD,EAAGiD,EAFP,EAGI9C,MAAO8C,EAHX,MAII7C,OAAQ6C,EAJZ,OAKII,MAAK,OACET,cADF,aAEDmB,KAFC,OAGDR,YACIX,kCAJH,EAKGA,mCACJY,OAAQZ,sBAA0Ba,iBAI9C,kBAAC,IAAD,MACI1D,EAAGkD,EADP,EAEIjD,EAAGiD,EAFP,EAGI9C,MAAO8C,EAHX,MAII7C,OAAQ6C,EAJZ,OAKII,MAAOT,cAAkB0B,cAMzCG,sC,ICrCMC,EAAa/B,gBACf,YAeO,IAdHP,EAcE,EAdFA,MACA/E,EAaE,EAbFA,KACAkF,EAYE,EAZFA,eACAC,EAWE,EAXFA,gBACAzC,EAUE,EAVFA,EACAC,EASE,EATFA,EACAE,EAQE,EARFA,KACAC,EAOE,EAPFA,MACAC,EAME,EANFA,OACA9C,EAKE,EALFA,MACAG,EAIE,EAJFA,MACAC,EAGE,EAHFA,UACAC,EAEE,EAFFA,eACAC,EACE,EADFA,KAEM6E,ENEuB,gBACjCpF,EADiC,OAEjCkF,EAFiC,iBAGjCC,EAHiC,kBAIjCzC,EAJiC,IAKjCC,EALiC,IAMjCE,EANiC,OAOjCC,EAPiC,QAQjCC,EARiC,SASjC9C,EATiC,QAUjCG,EAViC,QAWjCC,EAXiC,YAYjCC,EAZiC,wBAcjCoE,mBACI,kBACK9B,EAAiB,CACd5C,KADc,EAEdkF,eAFc,EAGdC,gBAHc,EAIdzC,EAJc,EAKdC,EALc,EAMdE,KANc,EAOdC,MAPc,EAQdC,OARc,EASd9C,MATc,EAUdG,MAVc,EAWdC,UAXc,EAYdC,qBAER,uBA9B6B,IMFZgH,CAAsB,CACnCtH,KADmC,EAEnCkF,eAFmC,EAGnCC,gBAHmC,EAInCzC,EAJmC,EAKnCC,EALmC,EAMnCE,KANmC,EAOnCC,MAPmC,EAQnCC,OARmC,EASnC9C,MATmC,EAUnCG,MAVmC,EAWnCC,UAXmC,EAYnCC,mBAGJ,OACI,oCACI,qBAAgB6D,OAAQiB,EAAxB,OAAyCkB,WAAW,IACnDtG,gCAAqB,GAAyB0C,EAAzB,EAA+BC,EAA/B,EAAqCE,KAAMA,IAChE7C,WAAkB,qBAAsB0C,EAAtB,EAA4BC,EAA5B,EAAkCE,KAAMA,IAC1D7C,YACG,qBAAuB0C,EAAvB,EAA6BC,EAA7B,EAAmCG,MAAnC,EAAiDC,OAAQA,IAE7D,qBAAgBoB,OAAQiB,EAASjB,SACjC,qBACIY,MADJ,EAEIrC,EAAG0C,OAFP,GAGIzC,EAAGyC,OAHP,GAII7E,KAAMA,QC/DX,SAASgH,EAAkBC,EAAKC,IAClC,MAAPA,GAAeA,EAAMD,EAAIrF,UAAQsF,EAAMD,EAAIrF,QAE/C,IAAK,IAAIF,EAAI,EAAGyF,EAAO,IAAIC,MAAMF,GAAMxF,EAAIwF,EAAKxF,IAC9CyF,EAAKzF,GAAKuF,EAAIvF,GAGhB,OAAOyF,ECHM,SAASE,EAAeJ,EAAKvF,GAC1C,OCLa,SAAyBuF,GACtC,GAAIG,MAAME,QAAQL,GAAM,OAAOA,EDIxBM,CAAeN,IELT,SAA+BA,EAAKvF,GACjD,GAAsB,oBAAX8F,QAA4BA,OAAOC,YAAYjH,OAAOyG,GAAjE,CACA,IAAIS,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKf,EAAIO,OAAOC,cAAmBE,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKpG,KAAKyG,EAAGxH,QAETmB,GAAKgG,EAAK9F,SAAWF,GAH8CiG,GAAK,IAK9E,MAAOQ,GACPP,GAAK,EACLC,EAAKM,EARP,QAUE,IACOR,GAAsB,MAAhBK,EAAE,QAAoBA,EAAE,SADrC,QAGE,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFnBuBU,CAAqBnB,EAAKvF,IGJ3C,SAAqC2G,EAAGC,GACrD,GAAKD,EAAL,CACA,GAAiB,iBAANA,EAAgB,OAAOE,EAAiBF,EAAGC,GACtD,IAAIE,EAAIhI,OAAOiI,UAAUC,SAASC,KAAKN,GAAGO,MAAM,GAAI,GAEpD,MADU,WAANJ,GAAkBH,EAAEQ,cAAaL,EAAIH,EAAEQ,YAAYC,MAC7C,QAANN,GAAqB,QAANA,EAAoBpB,MAAM2B,KAAKP,GACxC,cAANA,GAAqB,2CAA2CQ,KAAKR,GAAWD,EAAiBF,EAAGC,QAAxG,GHF8DW,CAA2BhC,EAAKvF,IILjF,WACb,MAAM,IAAIwH,UAAU,6IJIgFC,GFiEtGrC,2BA+BAA,eAA0B,CACtBhH,UAAWK,EACXJ,eAAgBI,GO9FpB,IAAMiJ,EAAa,SAACC,EAAI,GACpBzF,WAAe,cAAoB,IAAD,SAAjBzB,EAAiB,KAAdC,EAAc,KAC9B,IAAIkH,EACAD,cAEAA,kBAKCE,EAA4B,SAACF,EAAI,GAA6B,IAA1BrF,EAAyB,EAAzBA,YAAagB,EAAY,EAAZA,MAC1D,IAAIhB,WAEJqF,SACArF,WAAoB,SAAAI,GACZY,gCAAJ,IACIqE,mBACAA,cAAkBrE,mBAAlBqE,aACAA,YACIrE,+BADJqE,EACyCrE,gCACzCqE,cACAD,EAAWC,EAAKjF,WAAhBgF,QACAC,WACAA,kBAGAjF,mBAAgCY,mCAApC,IACIqE,cAAkBrE,sBAAlBqE,aACAA,YACIrE,kCADJqE,EAC4CrE,mCAC5CqE,cACAA,MAAQjF,EAARiF,EAAsBjF,EAAtBiF,EAAoCjF,OAApCiF,IAA4D,EAAIrG,KAAhEqG,IACAA,YAEAjF,gBAA6BY,kCAAjC,IACIqE,cAAkBrE,qBAAlBqE,aACAA,cAAgBrE,kCAChBqE,cACAA,MAAQjF,EAARiF,EAAsBjF,EAAtBiF,EAAoCjF,OAApCiF,IAA4D,EAAIrG,KAAhEqG,IACAA,YAEAjF,iBAA8BY,mCAAlC,IACIqE,cAAkBrE,sBAAlBqE,aACAA,YACIrE,kCADJqE,EAC4CrE,mCAC5CqE,cACAA,OACIjF,IAAeA,QADnBiF,EAEIjF,IAAeA,SAFnBiF,EAGIjF,EAHJiF,MAIIjF,EAJJiF,QAMAA,YAGJA,cAAkBrE,mBAAlBqE,OACAA,YAAgBrE,mBAAhBqE,YACAA,cACAD,EAAWC,EAAKjF,WAAhBgF,QACAC,WAEA,WAAIjF,SACAiF,cAAkBrE,sBAAlBqE,OACAA,YAAgBrE,sBAAhBqE,YACAA,cACAA,MAAQjF,EAARiF,EAAsBjF,EAAtBiF,EAAoCjF,OAApCiF,IAA4D,EAAIrG,KAAhEqG,IACAA,YAEJ,QAAIjF,SACAiF,YAAgBrE,qBAAhBqE,KACAA,cACAA,MAAQjF,EAARiF,EAAsBjF,EAAtBiF,EAAoCjF,OAApCiF,IAA4D,EAAIrG,KAAhEqG,IACAA,UAEJ,SAAIjF,SACAiF,cAAkBrE,sBAAlBqE,OACAA,YAAgBrE,sBAAhBqE,YACAA,cACAA,OACIjF,IAAeA,QADnBiF,EAEIjF,IAAeA,SAFnBiF,EAGIjF,EAHJiF,MAIIjF,EAJJiF,QAMAA,YAGJ,mBAAWjF,EAAP,KACAA,SAAqB,CACjBI,MAAOJ,EADU,MAEjBjC,EAAGiC,gBAFc,GAGjBhC,EAAGgC,gBAHc,GAIjBY,WAGJqE,iBAAcrE,mBAAdqE,uBAAmDrE,mBAAnDqE,YACAA,YAAgBrE,mBAAhBqE,KACAA,cAAkBrE,mBAAlBqE,aACAA,cAAgBrE,gCACZA,gCAAJ,IACIqE,mBACAA,aACIjF,EADJiF,KAEIjF,gBAFJiF,GAGIjF,gBAHJiF,IAKAA,oBAEJA,WAAajF,EAAbiF,KAA8BjF,gBAA9BiF,GAA2DjF,gBAA3DiF,QAGRA,e,oYhBxHW,SAASjJ,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,ECVT,SAASQ,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GAEvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GACvCC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,eAEtDM,EAAKM,KAAKC,MAAMP,EAAME,GAGxB,OAAOF,EAGM,SAASQ,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNb,EAAQL,OAAOqB,IAAS,GAAMC,SAAQ,SAAUxB,GAC9CG,EAAegB,EAAQnB,EAAKuB,EAAOvB,OAE5BE,OAAOuB,0BAChBvB,OAAOwB,iBAAiBP,EAAQjB,OAAOuB,0BAA0BF,IAEjEhB,EAAQL,OAAOqB,IAASC,SAAQ,SAAUxB,GACxCE,OAAOC,eAAegB,EAAQnB,EAAKE,OAAOa,yBAAyBQ,EAAQvB,OAKjF,OAAOmB,EFnBmB,GACxB+H,KAAM,YACF,UAAgB,CACZC,GAAIjK,cAAoB,CAACA,IAAD,OAAmBA,IAAvCA,SADQ,WAEZe,MAAOf,WAFK,WAGZkK,MAAOlK,IAAUmK,UALD,WASxBC,OAAQpK,YACJA,cAAoB,CAChBA,UAAgB,CAAC,aAAa,QAAd,SADA,gBAEhBA,IAHAA,QATgB,WAgBxBqK,UAAWrK,UAAgB,CAAC,aAAjBA,aAhBa,WAiBxBsK,cAAetK,UAAgB,CAAC,SAAjBA,WAjBS,WAkBxBuK,QAASvK,WAlBe,WAmBxBwK,cAAexK,WAnBS,WAqBxByK,OAAQC,IArBgB,WAsBxBC,YAAa3K,WAtBW,WAwBxB4K,YAAa5K,WAxBW,WAyBxB6K,YAAaC,IAzBW,WA0BxBC,cAAe/K,WA1BS,WA4BxBgL,YAAahL,SA5BW,WA6BxBiL,WAAYH,IA7BY,WA+BxBI,uBAAwBlL,SA/BA,WAgCxBmL,sBAAuBnL,WAhCC,WAiCxBoL,sBAAuBpL,WAjCC,WAkCxBqL,sBAAuBrL,SAlCC,WAmCxBsL,qBAAsBtL,WAnCE,WAoCxBuL,qBAAsBvL,WApCE,WAsCxBwE,YAAaxE,iBAtCW,WAwCxBwL,cAAexL,SAxCS,WAyCxByL,yBAA0BzL,WAzCF,WA0CxB0L,mBAAoB1L,IA1CI,OA2CxB2L,QAAS3L,IA3Ce,KA4CxB4L,aAAc5L,IA5CU,KA6CxB6L,aAAc7L,IA7CU,KA+CxB8L,KAAM9L,WAAiBI,YA/CC,K,IAoDf2L,EAAqB,CAC9B3B,OAAQ,CAAC,aAAa,QAAd,SADsB,eAG9BC,UAH8B,WAI9BC,cAJ8B,SAK9BC,QAL8B,EAM9BC,cAN8B,IAQ9BC,OAAQ,CAAEuB,OAAQ,QAClBrB,YAT8B,EAW9BC,YAX8B,EAY9BC,YAAa,CAAEtB,KAAM,SACrBwB,cAb8B,IAe9BC,aAf8B,EAgB9BC,WAAY,CAAEzF,MAAO,cAErB0F,wBAlB8B,EAmB9BC,sBAnB8B,EAoB9BC,sBApB8B,EAqB9BC,uBArB8B,EAsB9BC,qBAtB8B,EAuB9BC,qBAvB8B,EAyB9B/G,YAzB8B,GA2B9BgH,eA3B8B,EA4B9BC,yBA5B8B,EA8B9BK,KA9B8B,MAgC9BnG,QAASsG,iBAhCqB,QAiC9BC,aAAcD,iBAAkClG,QWnGrC,SAASyB,EAAkBC,EAAKC,IAClC,MAAPA,GAAeA,EAAMD,EAAIrF,UAAQsF,EAAMD,EAAIrF,QAE/C,IAAK,IAAIF,EAAI,EAAGyF,EAAO,IAAIC,MAAMF,GAAMxF,EAAIwF,EAAKxF,IAC9CyF,EAAKzF,GAAKuF,EAAIvF,GAGhB,OAAOyF,EINM,SAASwE,EAA4BtD,EAAGC,GACrD,GAAKD,EAAL,CACA,GAAiB,iBAANA,EAAgB,OAAOE,EAAiBF,EAAGC,GACtD,IAAIE,EAAIhI,OAAOiI,UAAUC,SAASC,KAAKN,GAAGO,MAAM,GAAI,GAEpD,MADU,WAANJ,GAAkBH,EAAEQ,cAAaL,EAAIH,EAAEQ,YAAYC,MAC7C,QAANN,GAAqB,QAANA,EAAoBpB,MAAM2B,KAAKP,GACxC,cAANA,GAAqB,2CAA2CQ,KAAKR,GAAWD,EAAiBF,EAAGC,QAAxG,GHHa,SAASjB,EAAeJ,EAAKvF,GAC1C,OCLa,SAAyBuF,GACtC,GAAIG,MAAME,QAAQL,GAAM,OAAOA,EDIxBM,CAAeN,IELT,SAA+BA,EAAKvF,GACjD,GAAsB,oBAAX8F,QAA4BA,OAAOC,YAAYjH,OAAOyG,GAAjE,CACA,IAAIS,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKf,EAAIO,OAAOC,cAAmBE,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKpG,KAAKyG,EAAGxH,QAETmB,GAAKgG,EAAK9F,SAAWF,GAH8CiG,GAAK,IAK9E,MAAOQ,GACPP,GAAK,EACLC,EAAKM,EARP,QAUE,IACOR,GAAsB,MAAhBK,EAAE,QAAoBA,EAAE,SADrC,QAGE,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFnBuBU,CAAqBnB,EAAKvF,IAAMuH,EAA2BhC,EAAKvF,IILjF,WACb,MAAM,IAAIwH,UAAU,6IJIgFC,GMDvF,SAASyC,EAAmB3E,GACzC,OCJa,SAA4BA,GACzC,GAAIG,MAAME,QAAQL,GAAM,OAAOsB,EAAiBtB,GDGzC4E,CAAkB5E,IELZ,SAA0B6E,GACvC,GAAsB,oBAAXtE,QAA0BA,OAAOC,YAAYjH,OAAOsL,GAAO,OAAO1E,MAAM2B,KAAK+C,GFIvDC,CAAgB9E,IAAQgC,EAA2BhC,IGLvE,WACb,MAAM,IAAIiC,UAAU,wIHIwE8C,GIO9F,IAAMC,EAAclH,gBAAK,YAAe,IAAZmH,EAAW,EAAXA,KACxB,OACI,uBACIzC,GAAIyC,OADR,MAEI3L,MAAO2L,EAFX,eAGIC,MAAOD,EAHX,MAIIE,YAAY,OAKxBH,gC,IlBkMaI,EAAY,SAAC,GA4BnB,IAaH,EACA,EAzCA7C,EA2BE,EA3BFA,KACAjH,EA0BE,EA1BFA,MACAC,EAyBE,EAzBFA,OACAqH,EAwBE,EAxBFA,UAwBE,IAvBFC,qBAuBE,MAvBcwC,EAASxC,cAuBvB,MAtBFC,eAsBE,MAtBQuC,EAASvC,QAsBjB,MArBFC,cAAeuC,OAqBb,MArBgCD,EAAStC,cAqBzC,EApBFwC,EAoBE,EApBFA,YAoBE,IAnBFvC,cAmBE,MAnBOqC,EAASrC,OAmBhB,MAlBFE,mBAkBE,MAlBYmC,EAASnC,YAkBrB,MAjBFC,mBAiBE,MAjBYkC,EAASlC,YAiBrB,MAhBFC,mBAgBE,MAhBYiC,EAASjC,YAgBrB,MAfFE,qBAeE,MAfc+B,EAAS/B,cAevB,MAdFE,kBAcE,MAdW6B,EAAS7B,WAcpB,MAbFC,8BAaE,MAbuB4B,EAAS5B,uBAahC,MAZFC,6BAYE,MAZsB2B,EAAS3B,sBAY/B,MAXFC,6BAWE,MAXsB0B,EAAS1B,sBAW/B,MAVFC,6BAUE,MAVsByB,EAASzB,sBAU/B,MATFC,4BASE,MATqBwB,EAASxB,qBAS9B,MARFC,4BAQE,MARqBuB,EAASvB,qBAQ9B,MAPFC,qBAOE,MAPcsB,EAAStB,cAOvB,MANFC,gCAME,MANyBqB,EAASrB,yBAMlC,EALFC,GAKE,EALFA,mBACAE,GAIE,EAJFA,aACAqB,GAGE,EAHFA,YACApB,GAEE,EAFFA,aACAF,GACE,EADFA,QAEMnG,GAAQC,eACRyH,GAAWC,YAAqB1C,EAAtC,MACM2C,GAAiBC,YAAkBxC,EAAzC,IACMyC,GAAgBD,YAAkBpC,EAAxC,IAEMsC,GAAcC,aAApB,GANE,KAQuC7I,mBACrC,kBApP8B,SAAC2F,EAAc,GAEjD,IAAMmD,EAAgBC,oBAAapD,iBAAnC,KAcA,MAZA,aAAID,EACAoD,MACQ,SAAA7G,GAAC,OAAIA,EAAJ,MADT6G,IAEQ,SAAA7G,GAAC,OAAIA,EAAJ,MAFT6G,GAGO,SAAA7G,GAAC,OAAIA,EAAJ,KACL,eAAIyD,GACPoD,MACQ,SAAA7G,GAAC,OAAIA,EAAJ,MADT6G,IAEQ,SAAA7G,GAAC,OAAIA,EAAJ,MAFT6G,GAGO,SAAA7G,GAAC,OAAIA,EAAJ,KAGL,CAAC,EAMJ+G,uBACa,SAAA/G,GAAC,cAAIA,KADlB+G,GAEO,SAAA/G,GAAC,OAAIA,EAAJ,KAFR+G,GAGO,SAAA/G,GAAC,OAAIA,EAAJ,KAHR+G,MAIWrD,iBAVf,MAoOUsD,CAAuBtD,EAA7B,KACA,CAACA,EAVH,OAQKmD,GARL,MAQoBI,GARpB,MAeIC,GAAgB5C,EAAyBC,EAAH,EAA5C,EACM4C,GAAe1C,EAAwBC,EAAH,EAA1C,EACA,aAAIjB,GACA2D,EAAajL,KAAbiL,GACAC,KACG,eAAI5D,IACP2D,IACAC,EAAcjL,KAAdiL,IAtBF,SAyB+BtJ,mBAC7B,kBAvOqB,SAAC,GAAiD,IAC3E,EACA,EAF4BqF,EAA8C,EAA9CA,KAAMK,EAAwC,EAAxCA,UAAWtH,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,OAAQuH,EAAc,EAAdA,QAG5D,aAAIF,GACA6D,IACAC,KACG,eAAI9D,IACP6D,IACAC,KAGJ,IAAMC,GAAaF,EAAgB3D,GAAWP,SAA5B,IAAgDA,EAXQ,OAgBpEqE,EAAY,SAAAvE,GAAK,OAAIS,IAAkB6D,EAAtB,GACvBC,cAEA,IAAMC,EAAYtE,EAAA,KAAS,SAAApD,GAAC,OAAIA,EAAJ,SAM5B,MAAO,CAACyH,EAJYE,qBACR,CAAC,EAAG/K,oBAAI,EADA+K,YAET,CAAC,EAFZ,KAmNQC,CAAc,CACVxE,KADU,EAEVK,UAFU,EAGVtH,MAHU,EAIVC,OAJU,EAKVuH,cAER,CAACP,EAAK,EAAN,IAlCF,OAyBKqE,GAzBL,MAyBgBI,GAzBhB,WAqCwCC,mBArCxC,SAqCKC,GArCL,MAqCoBC,GArCpB,MAuCIC,GAAQlK,mBAAQ,WAClB,IAAMmK,EAAgB9E,EAAA,KAAS,cAC3B,IAEA,EACA,EACA,IAJM+E,EAAY/J,OAAlB,GAMA,aAAIqF,GACA2E,EAAYP,GAAYzJ,EAAxBgK,OACAC,EAAaZ,GAAbY,UACAC,EAAKpB,GAALoB,IAAsBlB,EAAD,GACrBmB,EAAKd,GAALc,IACG,eAAI9E,IACP2E,EAAYX,GAAZW,UACAC,EAAaR,GAAYzJ,EAAzBiK,OACAC,EAAKb,GAALa,GACAC,EAAKrB,GAALqB,IAAsBlB,EAAD,IAGzB,IAAMmB,EAAKF,EAAX,EACMvM,EAAIuM,EAAV,GAAeF,EACTK,EAAKF,EAAX,EACMvM,EAAIuM,EAAV,GAAeF,EAETvC,EAAO,CACT1C,KADS,EAETjH,MAFS,EAGTC,OAHS,EAIT2J,MAAOO,GAJE,GAKTvC,YALS,EAMTC,YACImE,YAAarD,GAAbqD,GAPK,EAUThE,cAVS,EAWTuE,eAAgB/B,GAAYvI,EAXnB,OAYT+J,UAZS,EAaTpM,EAbS,EAcTuM,GAdS,EAeTE,GAfS,EAgBTxM,EAhBS,EAiBTuM,GAjBS,EAkBTE,MAMJ,OAHA3C,cAAmBU,GAAnBV,GACAA,aAAkBY,GAAlBZ,GAEOA,KAGLlC,EAAgBuC,EAAtB,EAiHA,OA/GA+B,WAAsB,cAClBpC,YACAA,kBAEA,IAAM6C,EAAWT,EAAchF,EAA/B,GAEA,gBAAIO,EAA0B,CAC1BqC,cAAiB,CAAE/J,EAAG+J,EAAL,GAAc9J,EAAG8J,EAAKyC,KACvCzC,cAAiB,CAAE/J,EAAG+J,EAAL,GAAc9J,EAAG8J,EAAKyC,KACvC,GACIzC,cAAiB,CAAE/J,EAAG4M,EAAL,GAAkB3M,EAAG8J,EAAK2C,KAC3C3C,cAAiB,CAAE/J,EAAG4M,EAAL,GAAkB3M,EAAG8J,EAAK2C,OAE3C3C,cAAiB,CAAE/J,EAAG+J,YAAL,EAAuB9J,EAAG8J,EAAK2C,KAChD3C,cAAiB,CAAE/J,EAAG+J,YAAL,EAAuB9J,EAAG8J,EAAK2C,OAEpD,IAAI3C,cACAA,iBACAA,iBACAA,iBACAA,kBAGJA,aAAkB,CACd,CACIwC,GAAIxC,YADR,EAEI0C,GAAI1C,YAFR,EAGI9J,EAAG8J,EAAKyC,KAGhBzC,yBACOA,aADPA,QAEI9J,EAAG8J,KAAUA,SAAclC,KAE/B,IAAMgF,EAAgB,CAClBN,GAAIxC,YADc,EAElB0C,GAAI1C,YAFc,EAGlB9J,EAAG8J,EAAK2C,IAEZ3C,gCAEI9J,EAAG8J,KAAUA,SAAclC,KAE/BkC,qBACC,CAAC,EAAE,EAAH,UAAiB,SAAA5C,GACd4C,oBAAuB,CACnB/J,EAAG+J,gBADgB,GAEnB9J,EAAG8J,gBAAuB9J,OAGlC8J,0BACC,CAAC,EAAE,EAAH,UAAiB,SAAA5C,GACd4C,oBAAuB,CACnB/J,EAAG+J,gBADgB,GAEnB9J,EAAG8J,gBAAuB9J,YAG/B,kBAAIyH,EAA4B,CACnCqC,cAAiB,CAAE/J,EAAG+J,EAAL,GAAc9J,EAAG8J,EAAKyC,KACvC,GACIzC,cAAiB,CAAE/J,EAAG+J,EAAL,GAAc9J,EAAG2M,EAASJ,KAC3CzC,cAAiB,CAAE/J,EAAG+J,EAAL,GAAc9J,EAAG2M,EAASF,OAE3C3C,cAAiB,CAAE/J,EAAG+J,EAAL,GAAc9J,EAAG8J,EAAKyC,KACvCzC,cAAiB,CAAE/J,EAAG+J,EAAL,GAAc9J,EAAG8J,EAAK2C,MAE3C3C,cAAiB,CAAE/J,EAAG+J,EAAL,GAAc9J,EAAG8J,EAAK2C,MACvC,IAAI3C,cACAA,iBACAA,iBACAA,iBACAA,kBAGJA,aAAkB,CACd,CACIyC,GAAIzC,YADR,EAEI2C,GAAI3C,YAFR,EAGI/J,EAAG+J,EAAKwC,KAGhBxC,yBACOA,aADPA,QAEI/J,EAAG+J,KAAUA,QAAalC,KAE9B,IAAMgF,EAAgB,CAClBL,GAAIzC,YADc,EAElB2C,GAAI3C,YAFc,EAGlB/J,EAAG+J,EAAK0C,IAEZ1C,gCAEI/J,EAAG+J,KAAUA,QAAalC,KAE9BkC,qBACC,CAAC,EAAE,EAAH,UAAiB,SAAA5C,GACd4C,oBAAuB,CACnB/J,EAAG+J,gBADgB,EAEnB9J,EAAG8J,gBAAuByC,QAGlCzC,0BACC,CAAC,EAAE,EAAH,UAAiB,SAAA5C,GACd4C,oBAAuB,CACnB/J,EAAG+J,gBADgB,EAEnB9J,EAAG8J,gBAAuB2C,YAMnCP,IACR,CAAC,EAAD,gCAtKH,KAvCE,GA8N4CW,cAAtCC,GA9NN,wBA8N4BC,GA9N5B,eA+NIC,GAAoBjL,mBACtB,kBAnT4B,SAAC,GAU9B,IATHkK,EASE,EATFA,MACAD,EAQE,EARFA,iBACApD,EAOE,EAPFA,cACAI,EAME,EANFA,aACAC,EAKE,EALFA,aACAoB,EAIE,EAJFA,YACAtB,EAGE,EAHFA,QACA+D,EAEE,EAFFA,qBACAC,EACE,EADFA,YAEA,SAEOd,EAAA,KAAU,SAAAnC,GACb,IAiBMmD,OACF,IAAAlE,EACM,SAAAmE,GACInE,EAAQe,EAARf,SAHd,EAOA,OAAO,EAAP,YAEIC,aA1BsB,SAAAkE,GACtBlB,EAAiBlC,OAAjBkC,IACAc,EAAqB,oBAAiC,CAAEhD,SAAxDgD,QACA9D,OAA8BA,EAAac,EAA3Cd,IAwBAC,aArBsB,SAAAiE,GACtBlB,QACAe,SACA9D,OAA8BA,EAAaa,EAA3Cb,IAmBAoB,YAhBqB,SAAA6C,GACrBJ,EAAqB,oBAAiC,CAAEhD,SAAxDgD,QACAzC,OAA6BA,EAAYP,EAAzCO,IAeAtB,QAASkE,OAhCUhB,EAySnBkB,CAAqB,CACjBlB,MADiB,GAEjBD,iBAFiB,GAGjBpD,cAHiB,EAIjBI,aAJiB,GAKjBC,aALiB,GAMjBoB,YANiB,GAOjBtB,QAPiB,GAQjB+D,qBARiB,GASjBC,mBAER,CAAC,GAAD,oBAbJ,KA/NE,KAyP0ChL,mBACxC,kBA3ayB,SAAC,GAU3B,IATHkK,EASE,EATFA,MACAxE,EAQE,EARFA,UACAtH,EAOE,EAPFA,MACAC,EAME,EANFA,OACAuH,EAKE,EALFA,QACAW,EAIE,EAJFA,uBACAE,EAGE,EAHFA,sBACAC,EAEE,EAFFA,sBACAE,EACE,EADFA,qBAEMyE,EAAN,GACMC,EAAN,GACMC,EAAWrB,EAAMA,SAAvB,GAEA,gBAAIxE,EAA0B,CAC1BwE,WAAc,SAAAnC,GACV,IAAM9J,EAAI8J,KAAUnC,EAApB,GAEA,IAAIW,GACA8E,OAAsB,CAClBG,OAAQzD,OADU,GAElBwC,GAFkB,EAGlBE,GAAI1C,KAHc,EAIlByC,GAJkB,EAKlBE,GAAIzM,KAGZ,IAAIyI,GACA4E,OAAqB,CACjBE,OAAQzD,OADS,GAEjBwC,GAAIxC,KAFa,EAGjB0C,GAHiB,EAIjBD,GAJiB,EAKjBE,GAAIzM,OAKhB,IAAMA,EAAIsN,EAAV,IACA,IAAIhF,GACA8E,cACOA,EAAiBA,SADxBA,QAEIG,OAFJH,OAGIb,GAHJa,EAIIX,GAAIzM,MAGZ,IAAIyI,GACA4E,cACOA,EAAgBA,SADvBA,QAEIE,OAFJF,OAGId,GAHJc,EAIIZ,GAAIzM,UAGT,kBAAIyH,EAA4B,CACnCwE,WAAc,SAAAnC,GACV,IAAM/J,EAAI+J,KAAUnC,EAApB,EAEAyF,OAAsB,CAClBG,OAAQzD,OADU,GAElBwC,GAFkB,EAGlBE,GAHkB,EAIlBD,GAJkB,EAKlBE,GAAI3C,KAAUtB,IAElB6E,OAAqB,CACjBE,OAAQzD,OADS,GAEjBwC,GAFiB,EAGjBE,GAHiB,EAIjBD,GAAIzC,KAJa,EAKjB2C,GAAIrM,OAIZ,IAAML,EAAIuN,EAAV,GACAF,cACOA,EAAiBA,SADxBA,QAEIG,OAFJH,OAGId,GAHJc,EAIIZ,GAAIzM,KAERsN,cACOA,EAAgBA,SADvBA,QAEIE,OAFJF,OAGIf,GAHJe,EAIIb,GAAIzM,KAIZ,MAAO,CAACqN,EAAR,GAiVQI,CAAkB,CACdvB,MADc,GAEdxE,UAFc,EAGdtH,MAHc,EAIdC,OAJc,EAKduH,QALc,EAMdW,uBANc,EAOdE,sBAPc,EAQdC,sBARc,EASdE,2BAER,CAAC,GAAD,cAtQF,OAyPKyE,GAzPL,MAyPuBC,GAzPvB,MAmRII,GAAmB1L,mBACrB,iBAAO,CACH5B,MADG,EAEHC,OAFG,EAGH6L,MAHG,GAIHpB,cAJG,GAKHI,gBALG,GAMHmC,iBANG,GAOHC,gBAPG,GAQHrB,uBAEJ,CAAC,EAAD,iBAXJ,KAuBA,MAAO,CACHC,MADG,GAEHpB,cAFG,GAGHI,gBAHG,GAIHmC,iBAJG,GAKHC,gBALG,GAMHrB,iBANG,GAOHD,cAPG,GAQH0B,sBmB1hBKC,EAAO,SAAC,GAA8C,IAA5C5D,EAA2C,EAA3CA,KAAMe,EAAqC,EAArCA,cAAeI,EAAsB,EAAtBA,gBAAsB,EACpBnI,eAAlCC,EADsD,UACrCuG,EADqC,SAGxDrG,EAAgBC,YAAU,CAC5ByK,SAAU9C,EAAcf,EADI,YAE5B8D,UAAW9D,EAFiB,MAG5B+D,WAAY5C,EAAgBnB,EAHA,cAI5B9B,YAAa8B,EAJe,YAK5B7B,YAAa6B,EALe,YAM5B3G,OAN4B,EAO5BC,WAAYL,IAGhB,OAAO,EAAP,kCAES+G,iBACG,kBAAC,IAAD,MACI9F,EAAGf,EADP,WAEIO,OAAQP,EAFZ,YAGIM,YAAaN,EAHjB,YAII6K,cAAehE,EAJnB,cAKI/F,KAAK,SAGb,kBAAC,IAAD,MACIC,EAAGf,EADP,SAEIc,KAAMd,EAFV,UAGI8E,YAAa+B,EAHjB,YAIId,aAAcc,EAJlB,aAKIb,aAAca,EALlB,aAMIO,YAAaP,EANjB,YAOIf,QAASe,EAAKf,YCjCjBgF,EAAQ,SAAC,GAAD,IAAG9B,EAAH,QAAUpB,EAAV,gBAAyBI,EAAzB,yBACjBgB,EAAA,KAAU,SAAAnC,GAAI,yBACV,GACI5L,IAAK4L,OADT,GAEIA,KAFJ,EAGIe,cAHJ,EAIII,gBAAiBA,QCJhB+C,EAAY,SAAC,GAAc,IAAZlE,EAAW,EAAXA,KAClBlH,EAAQC,eADqB,EAEOC,eAAlCC,EAF2B,UAEVuG,EAFU,SAI7BrG,EAAgBC,YAAU,CAC5B+K,UAAU,aAAD,OAAenE,EAAf,eAA0BA,EAA1B,EADmB,KAE5BC,MAAOD,EAFqB,WAG5B3G,OAH4B,EAI5BC,WAAYL,IAGhB,OACI,kBAAC,IAAD,GAAYkL,UAAWhL,EAAcgL,WAArC,kBACK,IAAD,MACIC,WADJ,SAEIC,iBAFJ,UAGI9K,MAAK,OACET,SADF,UAEDmB,KAAMd,EAFL,MAGDmL,cAAe,UAGlBtE,EAXb,kBCbSuE,EAAa,SAAC,GAAD,eACtB,KAAU,SAAAvE,GAAI,yBAAI,GAAW5L,IAAK4L,OAAhB,GAA8BA,KAAMA,QCC7CwE,EAAY,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UAClB3L,EAAQC,eAD0B,EAEEC,eAAlCC,EAFgC,UAEfuG,EAFe,SAIlCrG,EAAgBC,YAAU,CAC5BsJ,GAAI+B,EADwB,GAE5BC,GAAID,EAFwB,GAG5B9B,GAAI8B,EAHwB,GAI5BE,GAAIF,EAJwB,GAK5BpL,OAL4B,EAM5BC,WAAYL,IAGhB,OACI,kBAAC,IAAD,oBACIyJ,GAAIvJ,EADR,GAEIuL,GAAIvL,EAFR,GAGIwJ,GAAIxJ,EAHR,GAIIwL,GAAIxL,EAJR,GAKIc,KAAK,QACDnB,OAPZ,QCdS8L,EAAa,SAAC,GAAD,IAAGtB,EAAH,mBAAqBC,EAArB,6DAEjBD,EAAA,KAAqB,SAAAmB,GAAS,yBAC3B,GAAWrQ,IAAKqQ,EAAhB,OAAkCA,UAAWA,OAEhDlB,EAAA,KAAoB,SAAAkB,GAAS,yBAC1B,GAAWrQ,IAAKqQ,EAAhB,OAAkCA,UAAWA,SCd5CI,EAAoB,SAAC,GAA2C,IAAzC1C,EAAwC,EAAxCA,MAAOrK,EAAiC,EAAjCA,YAAazB,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,OAG3D,OzBoiBgC,SAAC6L,EAAM,GACvC,WAAIrK,SAAgC,GAE7BF,YAAe,CAClBC,MADkB,EAElBC,YAFkB,EAGlBE,cAAe,cACX,IAAM3B,EAAQ2J,QAAd,EAA2BjM,EACrBuC,EAAS0J,SAAf,EAA6BjM,EAE7B,MAAO,CAAEqC,KAAMU,WAAR,GAAiCT,MAAjC,EAAwCC,ayBhjB9BwO,CAAqB3C,EAA9C,GAEO,KAAqB,qBACxB,qCAAY/N,IAAKoB,GAAjB,GAAoCiD,eAApC,EAA2DC,gBAAiBpC,SCwI9EyO,EAAgBC,cA/HP,SAAAC,GAAU,IAEjB3H,EAgCA2H,EAlCgB,KAGhB5O,EA+BA4O,EAlCgB,MAIhB3O,EA8BA2O,EAlCgB,OAKRC,EA6BRD,EAlCgB,OAMhBtH,EA4BAsH,EAlCgB,UAOhBrH,EA2BAqH,EAlCgB,cAQhBpH,EA0BAoH,EAlCgB,QAShBnH,EAyBAmH,EAlCgB,cAUhB3E,EAwBA2E,EAlCgB,YAWhBlH,EAuBAkH,EAlCgB,OAYhBhH,EAsBAgH,EAlCgB,YAahB/G,EAqBA+G,EAlCgB,YAchB9G,EAoBA8G,EAlCgB,YAehB5G,EAmBA4G,EAlCgB,cAgBhB3G,EAkBA2G,EAlCgB,YAiBhB1G,EAiBA0G,EAlCgB,WAkBhBzG,EAgBAyG,EAlCgB,uBAmBhBxG,EAeAwG,EAlCgB,sBAoBhBvG,EAcAuG,EAlCgB,sBAqBhBtG,EAaAsG,EAlCgB,sBAsBhBrG,EAYAqG,EAlCgB,qBAuBhBpG,EAWAoG,EAlCgB,qBAwBhBvH,EAUAuH,EAlCgB,OAyBhBnN,EASAmN,EAlCgB,YA0BhBnG,EAQAmG,EAlCgB,cA2BhBlG,EAOAkG,EAlCgB,yBA4BhBjG,EAMAiG,EAlCgB,mBA6BhB/F,EAKA+F,EAlCgB,aA8BhB1E,EAIA0E,EAlCgB,YA+BhB9F,EAGA8F,EAlCgB,aAgChBhG,EAEAgG,EAlCgB,QAiChB7F,EACA6F,EAlCgB,OAoCiDE,aAAc,EAAD,EApC9D,GAoCZC,EApCY,SAoCJ9D,EApCI,aAoCQC,EApCR,cAoCqB8D,EApCrB,aAoCiCC,EApCjC,gBAiDhBnF,EAAU,CACV7C,KADU,EAEVjH,MAFU,EAGVC,OAHU,EAIVqH,UAJU,EAKVC,cALU,EAMVC,QANU,EAOVC,cAPU,EAQVwC,YARU,EASVvC,OATU,EAUVE,YAVU,EAWVC,YAXU,EAYVC,YAZU,EAaVE,cAbU,EAcVE,WAdU,EAeVC,uBAfU,EAgBVC,sBAhBU,EAiBVC,sBAjBU,EAkBVC,sBAlBU,EAmBVC,qBAnBU,EAoBVC,qBApBU,EAqBVC,cArBU,EAsBVC,yBAtBU,EAuBVC,mBAvBU,EAwBVE,aAxBU,EAyBVqB,YAzBU,EA0BVpB,aA1BU,EA2BVF,YAjCA8B,EA3CgB,gBA4ChBI,EA5CgB,kBA6ChBgB,EA7CgB,QA8ChBmB,EA9CgB,mBA+ChBC,EA/CgB,kBAgDhBI,EAhDgB,mBA+Ed4B,GAAY,CACdC,WAAW,EAAD,gBACN,GACIpR,IADJ,aAEIkP,iBAFJ,EAGIC,gBAAiBA,IAGzBpB,MAAM,EAAD,gBACD,GACI/N,IADJ,QAEI+N,MAFJ,EAGIpB,cAHJ,EAIII,gBAJJ,EAKI7C,YAAaA,IAGrBxG,YAAY,EAAD,gBACP,GACI1D,IADJ,cAEI+N,MAFJ,EAGIrK,YAHJ,EAII2N,KAJJ,EAKInP,OAAQiL,IAGhBmE,OAAQ,MAOZ,OAJA,IAAIpH,IACAiH,UAAmB,qBAAYnR,IAAZ,SAAyB+N,MAAOA,KAInD,uBAAY9L,MAAZ,EAA+BC,OAA/B,EAAoD8O,OAApD,EAAoEhG,KAAMA,GACrE1B,EAAA,KAAW,cACR,yBAAWiI,EACA,EAAP,gBAAO,YAAUvR,IAAKoB,GAAImQ,EAA1B,IAGGJ,GAAP,UAShBR,iB,ICrIMa,EAAmB,SAAAX,GAAK,OAC1B,4BACK,gBAAG5O,EAAH,QAAUC,EAAV,kCAAuB,iBAAQD,MAAR,EAAsBC,OAAQA,GAArD,S,0JCJMuP,cAAe,CAC1BvF,YAAawF,M,oFCAjB,I,EAAMb,EAAK,CACP,CACI7Q,IAAK,OACLb,KAAM,eACNwS,MAAO,OACPC,KAAM,cACNC,YAAY,yPAUZC,UAAU,GAEd,CACI9R,IAAK,SACL2R,MAAO,OACPxS,KAAM,SACNyS,KAAM,gBACNG,YAAa,UAEjB,CACI/R,IAAK,YACL4R,KAAK,0BACLzS,KAAM,SACN2S,UAAU,EACVE,aAAchG,IAASzC,UACvBwI,YAAa,QACbJ,MAAO,OACPM,eAAgB,CACZC,QAAS,CACL,CAAE9I,MAAO,aAAcnJ,MAAO,cAC9B,CAAEmJ,MAAO,WAAYnJ,MAAO,eAIxC,CACID,IAAK,gBACL2R,MAAO,OACPxS,KAAM,SACNyS,KAAK,4BACLE,UAAU,EACVE,aAAchG,IAASxC,cACvBuI,YAAa,QACbE,eAAgB,CACZC,QAAS,CACL,CAAE9I,MAAO,SAAUnJ,MAAO,UAC1B,CAAEmJ,MAAO,SAAUnJ,MAAO,aAItC,CACID,IAAK,UACL4R,KAAM,wBACNzS,KAAM,SACN2S,UAAU,EACVE,aAAchG,IAASvC,QACvBsI,YAAa,QACbJ,MAAO,OACPM,eAAgB,CACZE,IAAK,EACLC,IAAK,GACLC,KAAM,OAGd,CACIrS,IAAK,gBACL4R,KAAM,gBACNzS,KAAM,SACN2S,UAAU,EACVE,aAAchG,IAAStC,cACvBqI,YAAa,QACbJ,MAAO,OACPM,eAAgB,CACZE,IAAK,EACLC,IAAK,EACLE,KAAM,MAGd,CACItS,IAAK,cACL4R,KAAK,mJAILzS,KAAM,oBACN2S,UAAU,EACVC,YAAa,cACbJ,MAAO,QAEXY,IACA,CACIvS,IAAK,SACL4R,KAAM,sCACNzS,KAAM,+BACN2S,UAAU,EACVE,aAAchG,IAASrC,OACvBoI,YAAa,gBACbJ,MAAO,SAEX,CACI3R,IAAK,cACL4R,KAAM,2BACNE,UAAU,EACVE,aAAchG,IAASnC,YACvB1K,KAAM,SACN4S,YAAa,UACbJ,MAAO,SAEX,CACI3R,IAAK,cACL4R,KAAM,wBACNzS,KAAM,SACN2S,UAAU,EACVE,aAAchG,IAASlC,YACvBiI,YAAa,YACbJ,MAAO,SAEX,CACI3R,IAAK,cACL4R,KAAM,kCACNC,YAAY,wHAIZ1S,KAAM,6BACN2S,UAAU,EACVE,aAAchG,IAASjC,YACvBgI,YAAa,iBACbJ,MAAO,SAEX,CACI3R,IAAK,gBACL4R,KAAM,uBACNE,UAAU,EACVE,aAAchG,IAAS/B,cACvB9K,KAAM,SACN4S,YAAa,UACbJ,MAAO,SAEX,CACI3R,IAAK,cACL4R,KAAK,iGAILzS,KAAM,UACN2S,UAAU,EACVE,aAAchG,IAAS9B,YACvB6H,YAAa,SACbJ,MAAO,UAEX,CACI3R,IAAK,aACL4R,KAAM,iCACNC,YAAY,uHAIZ1S,KAAM,6BACN2S,UAAU,EACVE,aAAchG,IAAS7B,WACvB4H,YAAa,iBACbJ,MAAO,UAEX,CACI3R,IAAK,yBACL4R,KAAK,yHAILzS,KAAM,UACN2S,UAAU,EACVE,aAAchG,IAAS5B,uBACvB2H,YAAa,SACbJ,MAAO,cAEX,CACI3R,IAAK,wBACL4R,KAAK,0JAILE,UAAU,EACVE,aAAchG,IAAS3B,sBACvBlL,KAAM,SACN4S,YAAa,QACbJ,MAAO,aACPM,eAAgB,CACZI,KAAM,KACNF,IAAK,EACLC,IAAK,MAGb,CACIpS,IAAK,wBACL4R,KAAK,uLAKLE,UAAU,EACVE,aAAchG,IAAS1B,sBACvBnL,KAAM,SACN4S,YAAa,QACbJ,MAAO,aACPM,eAAgB,CACZI,KAAM,KACNF,IAAK,EACLC,IAAK,MAGb,CACIpS,IAAK,wBACL4R,KAAK,wHAILzS,KAAM,UACN2S,UAAU,EACVE,aAAchG,IAASzB,sBACvBwH,YAAa,SACbJ,MAAO,cAEX,CACI3R,IAAK,uBACL4R,KAAK,yJAILE,UAAU,EACVE,aAAchG,IAASxB,qBACvBrL,KAAM,SACN4S,YAAa,QACbJ,MAAO,aACPM,eAAgB,CACZI,KAAM,KACNF,IAAK,EACLC,IAAK,MAGb,CACIpS,IAAK,uBACL4R,KAAK,sLAKLE,UAAU,EACVE,aAAchG,IAASvB,qBACvBtL,KAAM,SACN4S,YAAa,QACbJ,MAAO,aACPM,eAAgB,CACZI,KAAM,KACNF,IAAK,EACLC,IAAK,MAGb,CACIpS,IAAK,SACL2R,MAAO,gBACPC,KAAM,qDACNC,YAAY,6RAOZC,UAAU,EACV3S,KAAM,2BACN6S,aAAchG,IAAS1C,QAE3B,CACItJ,IAAK,gBACL2R,MAAO,gBACPxS,KAAM,UACNyS,KAAM,gCACNE,UAAU,EACVE,aAAchG,IAAStB,cACvBqH,YAAa,UAEjB,CACI/R,IAAK,2BACL4R,KAAK,gHAILE,UAAU,EACVE,aAAchG,IAASrB,yBACvBxL,KAAM,SACN4S,YAAa,QACbJ,MAAO,gBACPM,eAAgB,CACZI,KAAM,KACNF,IAAK,EACLC,IAAK,MAGb,CACIpS,IAAK,qBACL4R,KAAK,uDACLE,UAAU,EACV3S,KAAM,SACN4S,YAAa,QACbJ,MAAO,gBACPM,eAAgB,CACZI,KAAM,KACNF,IAAK,EACLC,IAAK,MAGb,CACIpS,IAAK,eACL2R,MAAO,gBACPC,KAAM,wBACNzS,KAAM,wBACN2S,UAAU,GAEd,CACI9R,IAAK,cACL2R,MAAO,gBACPC,KAAM,uBACNzS,KAAM,wBACN2S,UAAU,GAEd,CACI9R,IAAK,eACL2R,MAAO,gBACPC,KAAM,wBACNzS,KAAM,wBACN2S,UAAU,GAEd,CACI9R,IAAK,UACL2R,MAAO,gBACPC,KAAM,mBACNzS,KAAM,wBACN2S,UAAU,IAvVP,O,yGAyVJU,YAAiB,CAAC,OAAQxG,IAAU,kB,sNAG9ByG,EAASC,YAAgB7B,G,YCrWzB8B,EAAuB,WAChC,IAEIC,EAAY,IAEhB,MAJY,CAAC,OAAQ,SAAU,UAAW,cAAe,aAI9CC,KAAI,SAAA1J,GAGX,MAAO,CACHA,GAAG,QAASA,EACZlJ,MAJJ2S,EAAYlQ,KAAKoQ,MAAMF,EAAYG,iBAAO,GAAK,MAK3C3J,MAAO4J,oBAAU7J,QCIvB8J,EAAoB,CACtBjC,OAAQ,CACJkC,IAAK,GACLC,MAAO,GACPC,OAAQ,GACRC,KAAM,IAGV9J,UAAW0B,IAAmB1B,UAC9BC,cAAeyB,IAAmBzB,cAClCE,cAAeuB,IAAmBvB,cAClCD,QAASwB,IAAmBxB,QAC5ByC,YAAa,CAAEoH,OAAQ,QAASC,SAAS,GAEzC5J,OAAQ,CAAEuB,OAAQ,YAClBrB,YAAaoB,IAAmBpB,YAEhCC,YAAa,GACbC,YAAakB,IAAmBlB,YAChCE,cAAegB,IAAmBhB,cAElCC,YAAae,IAAmBf,YAChCC,WAAY,CAAE1B,KAAM,QAAS+K,UAAW,CAAC,CAAC,SAAU,KAEpDpJ,uBAAwBa,IAAmBb,uBAC3CC,sBAAuB,IACvBC,sBAAuB,GACvBC,sBAAuBU,IAAmBV,sBAC1CC,qBAAsB,IACtBC,qBAAsB,GAEtBC,eAAe,EACfC,yBAA0B,GAC1BC,mBAAoB,GAEpB/F,SAAS,EACTuG,aAAc,UA0CHqI,UAvCA,WACX,OACI,kBAACC,EAAA,EAAD,CACIlL,KAAK,SACLmL,KAAMA,IAAKF,OACXG,KAAK,SACLC,QAASF,IAAKE,QACdC,cAAc,MACdC,WAAYtB,EACZQ,kBAAmBA,EACnBe,kBAAmB/I,IACnBgJ,iBAAkBC,EAClBC,aAAcxB,IAEb,SAACoB,EAAY7K,EAAMxE,EAAO0P,GAA1B,OACG,kBAAC,IAAD,eACIlL,KAAMA,GACF6K,EAFR,CAGIrP,MAAO2P,IAAM,GAAI3P,EAAO,CACpB4M,OAAQ,CACJ/N,KAAM,CACF+Q,SAAU,OAItBzJ,QAAS,SAAAe,GACLwI,EAAU,CACNjV,KAAM,QACNiK,MAAM,cAAewC,EAAK1C,KAAKC,GAA1B,YAAwCyC,EAAK1C,KAAKjJ,MACvD4L,MAAOD,EAAKC,MACZ3C,KAAM0C,EAAK1C,gB,qBCtFvC,IAAIqL,EAAc,EAAQ,QACtBC,EAAa,EAAQ,QACrBC,EAAe,EAAQ,QACvBzN,EAAU,EAAQ,QA6CtB0N,EAAOC,QALP,SAAgBC,EAAYC,GAE1B,OADW7N,EAAQ4N,GAAcL,EAAcC,GACnCI,EAAYH,EAAaI,EAAW,M,qBC7ClD,IAAIC,EAAW,EAAQ,QAqBvBJ,EAAOC,QAVP,SAAoBC,EAAYC,GAC9B,IAAIE,EAAS,GAMb,OALAD,EAASF,GAAY,SAAU3U,EAAO+I,EAAO4L,GACvCC,EAAU5U,EAAO+I,EAAO4L,IAC1BG,EAAO/T,KAAKf,MAGT8U","file":"component---src-pages-funnel-index-js-8887c9395a7e7d4ee155.js","sourcesContent":["/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { ordinalColorsPropType, inheritedColorPropType } from '@nivo/colors'\nimport { MotionConfigProvider } from '@nivo/core'\nimport { motionPropTypes } from '@nivo/core'\nimport { annotationSpecPropType } from '@nivo/annotations'\n\nexport const FunnelPropTypes = {\n    data: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            value: PropTypes.number.isRequired,\n            label: PropTypes.string,\n        })\n    ).isRequired,\n\n    layers: PropTypes.arrayOf(\n        PropTypes.oneOfType([\n            PropTypes.oneOf(['separators', 'parts', 'labels', 'annotations']),\n            PropTypes.func,\n        ])\n    ).isRequired,\n\n    direction: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    interpolation: PropTypes.oneOf(['linear', 'smooth']).isRequired,\n    spacing: PropTypes.number.isRequired,\n    shapeBlending: PropTypes.number.isRequired,\n\n    colors: ordinalColorsPropType.isRequired,\n    fillOpacity: PropTypes.number.isRequired,\n\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: inheritedColorPropType.isRequired,\n    borderOpacity: PropTypes.number.isRequired,\n\n    enableLabel: PropTypes.bool.isRequired,\n    labelColor: inheritedColorPropType.isRequired,\n\n    enableBeforeSeparators: PropTypes.bool.isRequired,\n    beforeSeparatorLength: PropTypes.number.isRequired,\n    beforeSeparatorOffset: PropTypes.number.isRequired,\n    enableAfterSeparators: PropTypes.bool.isRequired,\n    afterSeparatorLength: PropTypes.number.isRequired,\n    afterSeparatorOffset: PropTypes.number.isRequired,\n\n    annotations: PropTypes.arrayOf(annotationSpecPropType).isRequired,\n\n    isInteractive: PropTypes.bool.isRequired,\n    currentPartSizeExtension: PropTypes.number.isRequired,\n    currentBorderWidth: PropTypes.number,\n    onClick: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n\n    role: PropTypes.string.isRequired,\n\n    ...motionPropTypes,\n}\n\nexport const FunnelDefaultProps = {\n    layers: ['separators', 'parts', 'labels', 'annotations'],\n\n    direction: 'vertical',\n    interpolation: 'smooth',\n    spacing: 0,\n    shapeBlending: 0.66,\n\n    colors: { scheme: 'nivo' },\n    fillOpacity: 1,\n\n    borderWidth: 6,\n    borderColor: { from: 'color' },\n    borderOpacity: 0.66,\n\n    enableLabel: true,\n    labelColor: { theme: 'background' },\n\n    enableBeforeSeparators: true,\n    beforeSeparatorLength: 0,\n    beforeSeparatorOffset: 0,\n    enableAfterSeparators: true,\n    afterSeparatorLength: 0,\n    afterSeparatorOffset: 0,\n\n    annotations: [],\n\n    isInteractive: true,\n    currentPartSizeExtension: 0,\n\n    role: 'img',\n\n    animate: MotionConfigProvider.defaultProps.animate,\n    motionConfig: MotionConfigProvider.defaultProps.config,\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport isPlainObject from 'lodash/isPlainObject'\nimport filter from 'lodash/filter'\nimport omit from 'lodash/omit'\nimport {\n    radiansToDegrees,\n    absoluteAngleDegrees,\n    degreesToRadians,\n    positionFromAngle,\n} from '@nivo/core'\nimport { defaultProps } from './props'\n\nconst defaultPositionAccessor = item => ({ x: item.x, y: item.y })\n\nexport const bindAnnotations = ({\n    items,\n    annotations,\n    getPosition = defaultPositionAccessor,\n    getDimensions,\n}) =>\n    annotations.reduce((acc, annotation) => {\n        filter(items, annotation.match).forEach(item => {\n            const position = getPosition(item)\n            const dimensions = getDimensions(item, annotation.offset || 0)\n\n            acc.push({\n                ...omit(annotation, ['match', 'offset']),\n                ...position,\n                ...dimensions,\n                datum: item,\n                size: annotation.size || dimensions.size,\n            })\n        })\n\n        return acc\n    }, [])\n\nexport const getLinkAngle = (sourceX, sourceY, targetX, targetY) => {\n    const angle = Math.atan2(targetY - sourceY, targetX - sourceX)\n    return absoluteAngleDegrees(radiansToDegrees(angle))\n}\n\nexport const computeAnnotation = ({\n    type,\n    // containerWidth,\n    // containerHeight,\n    x,\n    y,\n    size,\n    width,\n    height,\n    noteX,\n    noteY,\n    noteWidth = defaultProps.noteWidth,\n    noteTextOffset = defaultProps.noteTextOffset,\n}) => {\n    let computedNoteX\n    let computedNoteY\n\n    if (isPlainObject(noteX)) {\n        if (noteX.abs !== undefined) {\n            computedNoteX = noteX.abs\n        }\n    } else {\n        computedNoteX = x + noteX\n    }\n\n    if (isPlainObject(noteY)) {\n        if (noteY.abs !== undefined) {\n            computedNoteY = noteY.abs\n        }\n    } else {\n        computedNoteY = y + noteY\n    }\n\n    let computedX = x\n    let computedY = y\n\n    const angle = getLinkAngle(x, y, computedNoteX, computedNoteY)\n\n    if (type === 'circle') {\n        const position = positionFromAngle(degreesToRadians(angle), size / 2)\n        computedX += position.x\n        computedY += position.y\n    }\n\n    if (type === 'rect') {\n        const eighth = Math.round((angle + 90) / 45) % 8\n        if (eighth === 0) {\n            computedY -= height / 2\n        }\n        if (eighth === 1) {\n            computedX += width / 2\n            computedY -= height / 2\n        }\n        if (eighth === 2) {\n            computedX += width / 2\n        }\n        if (eighth === 3) {\n            computedX += width / 2\n            computedY += height / 2\n        }\n        if (eighth === 4) {\n            computedY += height / 2\n        }\n        if (eighth === 5) {\n            computedX -= width / 2\n            computedY += height / 2\n        }\n        if (eighth === 6) {\n            computedX -= width / 2\n        }\n        if (eighth === 7) {\n            computedX -= width / 2\n            computedY -= height / 2\n        }\n    }\n\n    let textX = computedNoteX\n    let textY = computedNoteY - noteTextOffset\n\n    let noteLineX = computedNoteX\n    let noteLineY = computedNoteY\n\n    if ((angle + 90) % 360 > 180) {\n        textX -= noteWidth\n        noteLineX -= noteWidth\n    } else {\n        noteLineX += noteWidth\n    }\n\n    return {\n        points: [\n            [computedX, computedY],\n            [computedNoteX, computedNoteY],\n            [noteLineX, noteLineY],\n        ],\n        text: [textX, textY],\n        angle: angle + 90,\n    }\n}\n","import React, { useMemo, useState } from 'react'\nimport { line, area, curveBasis, curveLinear } from 'd3-shape'\nimport { scaleLinear } from 'd3-scale'\nimport { useInheritedColor, useOrdinalColorScale } from '@nivo/colors'\nimport { useTheme, useValueFormatter } from '@nivo/core'\nimport { useAnnotations } from '@nivo/annotations'\nimport { useTooltip } from '@nivo/tooltip'\nimport { FunnelDefaultProps as defaults } from './props'\nimport PartTooltip from './PartTooltip'\n\nexport const computeShapeGenerators = (interpolation, direction) => {\n    // area generator which is used to draw funnel chart parts.\n    const areaGenerator = area().curve(interpolation === 'smooth' ? curveBasis : curveLinear)\n\n    if (direction === 'vertical') {\n        areaGenerator\n            .x0(d => d.x0)\n            .x1(d => d.x1)\n            .y(d => d.y)\n    } else if (direction === 'horizontal') {\n        areaGenerator\n            .y0(d => d.y0)\n            .y1(d => d.y1)\n            .x(d => d.x)\n    }\n\n    return [\n        areaGenerator,\n        // we're using a different line generator to draw borders, this way\n        // we we don't have borders joining each side of the parts.\n        // it's important to have an empty point when defining the points\n        // to be used along with this, otherwise we'll get a line between both sides.\n        line()\n            .defined(d => d !== null)\n            .x(d => d.x)\n            .y(d => d.y)\n            .curve(interpolation === 'smooth' ? curveBasis : curveLinear),\n    ]\n}\n\nexport const computeScales = ({ data, direction, width, height, spacing }) => {\n    let bandScaleSize\n    let linearScaleSize\n    if (direction === 'vertical') {\n        bandScaleSize = height\n        linearScaleSize = width\n    } else if (direction === 'horizontal') {\n        bandScaleSize = width\n        linearScaleSize = height\n    }\n\n    const bandwidth = (bandScaleSize - spacing * (data.length - 1)) / data.length\n\n    // we're not using d3 band scale here to be able to get\n    // the actual paddingInner value in pixels, required to\n    // create centered separator lines between parts\n    const bandScale = index => spacing * index + bandwidth * index\n    bandScale.bandwidth = bandwidth\n\n    const allValues = data.map(d => d.value)\n\n    const linearScale = scaleLinear()\n        .domain([0, Math.max(...allValues)])\n        .range([0, linearScaleSize])\n\n    return [bandScale, linearScale]\n}\n\nexport const computeSeparators = ({\n    parts,\n    direction,\n    width,\n    height,\n    spacing,\n    enableBeforeSeparators,\n    beforeSeparatorOffset,\n    enableAfterSeparators,\n    afterSeparatorOffset,\n}) => {\n    const beforeSeparators = []\n    const afterSeparators = []\n    const lastPart = parts[parts.length - 1]\n\n    if (direction === 'vertical') {\n        parts.forEach(part => {\n            const y = part.y0 - spacing / 2\n\n            if (enableBeforeSeparators === true) {\n                beforeSeparators.push({\n                    partId: part.data.id,\n                    x0: 0,\n                    x1: part.x0 - beforeSeparatorOffset,\n                    y0: y,\n                    y1: y,\n                })\n            }\n            if (enableAfterSeparators === true) {\n                afterSeparators.push({\n                    partId: part.data.id,\n                    x0: part.x1 + afterSeparatorOffset,\n                    x1: width,\n                    y0: y,\n                    y1: y,\n                })\n            }\n        })\n\n        const y = lastPart.y1\n        if (enableBeforeSeparators === true) {\n            beforeSeparators.push({\n                ...beforeSeparators[beforeSeparators.length - 1],\n                partId: 'none',\n                y0: y,\n                y1: y,\n            })\n        }\n        if (enableAfterSeparators === true) {\n            afterSeparators.push({\n                ...afterSeparators[afterSeparators.length - 1],\n                partId: 'none',\n                y0: y,\n                y1: y,\n            })\n        }\n    } else if (direction === 'horizontal') {\n        parts.forEach(part => {\n            const x = part.x0 - spacing / 2\n\n            beforeSeparators.push({\n                partId: part.data.id,\n                x0: x,\n                x1: x,\n                y0: 0,\n                y1: part.y0 - beforeSeparatorOffset,\n            })\n            afterSeparators.push({\n                partId: part.data.id,\n                x0: x,\n                x1: x,\n                y0: part.y1 + afterSeparatorOffset,\n                y1: height,\n            })\n        })\n\n        const x = lastPart.x1\n        beforeSeparators.push({\n            ...beforeSeparators[beforeSeparators.length - 1],\n            partId: 'none',\n            x0: x,\n            x1: x,\n        })\n        afterSeparators.push({\n            ...afterSeparators[afterSeparators.length - 1],\n            partId: 'none',\n            x0: x,\n            x1: x,\n        })\n    }\n\n    return [beforeSeparators, afterSeparators]\n}\n\nexport const computePartsHandlers = ({\n    parts,\n    setCurrentPartId,\n    isInteractive,\n    onMouseEnter,\n    onMouseLeave,\n    onMouseMove,\n    onClick,\n    showTooltipFromEvent,\n    hideTooltip,\n}) => {\n    if (!isInteractive) return parts\n\n    return parts.map(part => {\n        const boundOnMouseEnter = event => {\n            setCurrentPartId(part.data.id)\n            showTooltipFromEvent(React.createElement(PartTooltip, { part }), event)\n            onMouseEnter !== undefined && onMouseEnter(part, event)\n        }\n\n        const boundOnMouseLeave = event => {\n            setCurrentPartId(null)\n            hideTooltip()\n            onMouseLeave !== undefined && onMouseLeave(part, event)\n        }\n\n        const boundOnMouseMove = event => {\n            showTooltipFromEvent(React.createElement(PartTooltip, { part }), event)\n            onMouseMove !== undefined && onMouseMove(part, event)\n        }\n\n        const boundOnClick =\n            onClick !== undefined\n                ? event => {\n                      onClick(part, event)\n                  }\n                : undefined\n\n        return {\n            ...part,\n            onMouseEnter: boundOnMouseEnter,\n            onMouseLeave: boundOnMouseLeave,\n            onMouseMove: boundOnMouseMove,\n            onClick: boundOnClick,\n        }\n    })\n}\n\n/**\n * Creates required layout to generate a funnel chart,\n * it uses almost the same parameters as the Funnel component.\n *\n * For purpose/constrains on the parameters, please have a look\n * at the component's props.\n */\nexport const useFunnel = ({\n    data,\n    width,\n    height,\n    direction,\n    interpolation = defaults.interpolation,\n    spacing = defaults.spacing,\n    shapeBlending: rawShapeBlending = defaults.shapeBlending,\n    valueFormat,\n    colors = defaults.colors,\n    fillOpacity = defaults.fillOpacity,\n    borderWidth = defaults.borderWidth,\n    borderColor = defaults.borderColor,\n    borderOpacity = defaults.borderOpacity,\n    labelColor = defaults.labelColor,\n    enableBeforeSeparators = defaults.enableBeforeSeparators,\n    beforeSeparatorLength = defaults.beforeSeparatorLength,\n    beforeSeparatorOffset = defaults.beforeSeparatorOffset,\n    enableAfterSeparators = defaults.enableAfterSeparators,\n    afterSeparatorLength = defaults.afterSeparatorLength,\n    afterSeparatorOffset = defaults.afterSeparatorOffset,\n    isInteractive = defaults.isInteractive,\n    currentPartSizeExtension = defaults.currentPartSizeExtension,\n    currentBorderWidth,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n}) => {\n    const theme = useTheme()\n    const getColor = useOrdinalColorScale(colors, 'id')\n    const getBorderColor = useInheritedColor(borderColor, theme)\n    const getLabelColor = useInheritedColor(labelColor, theme)\n\n    const formatValue = useValueFormatter(valueFormat)\n\n    const [areaGenerator, borderGenerator] = useMemo(\n        () => computeShapeGenerators(interpolation, direction),\n        [interpolation, direction]\n    )\n\n    let innerWidth\n    let innerHeight\n    const paddingBefore = enableBeforeSeparators ? beforeSeparatorLength + beforeSeparatorOffset : 0\n    const paddingAfter = enableAfterSeparators ? afterSeparatorLength + afterSeparatorOffset : 0\n    if (direction === 'vertical') {\n        innerWidth = width - paddingBefore - paddingAfter\n        innerHeight = height\n    } else if (direction === 'horizontal') {\n        innerWidth = width\n        innerHeight = height - paddingBefore - paddingAfter\n    }\n\n    const [bandScale, linearScale] = useMemo(\n        () =>\n            computeScales({\n                data,\n                direction,\n                width: innerWidth,\n                height: innerHeight,\n                spacing,\n            }),\n        [data, direction, innerWidth, innerHeight, spacing]\n    )\n\n    const [currentPartId, setCurrentPartId] = useState(null)\n\n    const parts = useMemo(() => {\n        const enhancedParts = data.map((datum, index) => {\n            const isCurrent = datum.id === currentPartId\n\n            let partWidth\n            let partHeight\n            let y0, x0\n\n            if (direction === 'vertical') {\n                partWidth = linearScale(datum.value)\n                partHeight = bandScale.bandwidth\n                x0 = paddingBefore + (innerWidth - partWidth) * 0.5\n                y0 = bandScale(index)\n            } else if (direction === 'horizontal') {\n                partWidth = bandScale.bandwidth\n                partHeight = linearScale(datum.value)\n                x0 = bandScale(index)\n                y0 = paddingBefore + (innerHeight - partHeight) * 0.5\n            }\n\n            const x1 = x0 + partWidth\n            const x = x0 + partWidth * 0.5\n            const y1 = y0 + partHeight\n            const y = y0 + partHeight * 0.5\n\n            const part = {\n                data: datum,\n                width: partWidth,\n                height: partHeight,\n                color: getColor(datum),\n                fillOpacity,\n                borderWidth:\n                    isCurrent && currentBorderWidth !== undefined\n                        ? currentBorderWidth\n                        : borderWidth,\n                borderOpacity,\n                formattedValue: formatValue(datum.value),\n                isCurrent,\n                x,\n                x0,\n                x1,\n                y,\n                y0,\n                y1,\n            }\n\n            part.borderColor = getBorderColor(part)\n            part.labelColor = getLabelColor(part)\n\n            return part\n        })\n\n        const shapeBlending = rawShapeBlending / 2\n\n        enhancedParts.forEach((part, index) => {\n            part.points = []\n            part.borderPoints = []\n\n            const nextPart = enhancedParts[index + 1]\n\n            if (direction === 'vertical') {\n                part.points.push({ x: part.x0, y: part.y0 })\n                part.points.push({ x: part.x1, y: part.y0 })\n                if (nextPart) {\n                    part.points.push({ x: nextPart.x1, y: part.y1 })\n                    part.points.push({ x: nextPart.x0, y: part.y1 })\n                } else {\n                    part.points.push({ x: part.points[1].x, y: part.y1 })\n                    part.points.push({ x: part.points[0].x, y: part.y1 })\n                }\n                if (part.isCurrent === true) {\n                    part.points[0].x -= currentPartSizeExtension\n                    part.points[1].x += currentPartSizeExtension\n                    part.points[2].x += currentPartSizeExtension\n                    part.points[3].x -= currentPartSizeExtension\n                }\n\n                part.areaPoints = [\n                    {\n                        x0: part.points[0].x,\n                        x1: part.points[1].x,\n                        y: part.y0,\n                    },\n                ]\n                part.areaPoints.push({\n                    ...part.areaPoints[0],\n                    y: part.y0 + part.height * shapeBlending,\n                })\n                const lastAreaPoint = {\n                    x0: part.points[3].x,\n                    x1: part.points[2].x,\n                    y: part.y1,\n                }\n                part.areaPoints.push({\n                    ...lastAreaPoint,\n                    y: part.y1 - part.height * shapeBlending,\n                })\n                part.areaPoints.push(lastAreaPoint)\n                ;[0, 1, 2, 3].map(index => {\n                    part.borderPoints.push({\n                        x: part.areaPoints[index].x0,\n                        y: part.areaPoints[index].y,\n                    })\n                })\n                part.borderPoints.push(null)\n                ;[3, 2, 1, 0].map(index => {\n                    part.borderPoints.push({\n                        x: part.areaPoints[index].x1,\n                        y: part.areaPoints[index].y,\n                    })\n                })\n            } else if (direction === 'horizontal') {\n                part.points.push({ x: part.x0, y: part.y0 })\n                if (nextPart) {\n                    part.points.push({ x: part.x1, y: nextPart.y0 })\n                    part.points.push({ x: part.x1, y: nextPart.y1 })\n                } else {\n                    part.points.push({ x: part.x1, y: part.y0 })\n                    part.points.push({ x: part.x1, y: part.y1 })\n                }\n                part.points.push({ x: part.x0, y: part.y1 })\n                if (part.isCurrent === true) {\n                    part.points[0].y -= currentPartSizeExtension\n                    part.points[1].y -= currentPartSizeExtension\n                    part.points[2].y += currentPartSizeExtension\n                    part.points[3].y += currentPartSizeExtension\n                }\n\n                part.areaPoints = [\n                    {\n                        y0: part.points[0].y,\n                        y1: part.points[3].y,\n                        x: part.x0,\n                    },\n                ]\n                part.areaPoints.push({\n                    ...part.areaPoints[0],\n                    x: part.x0 + part.width * shapeBlending,\n                })\n                const lastAreaPoint = {\n                    y0: part.points[1].y,\n                    y1: part.points[2].y,\n                    x: part.x1,\n                }\n                part.areaPoints.push({\n                    ...lastAreaPoint,\n                    x: part.x1 - part.width * shapeBlending,\n                })\n                part.areaPoints.push(lastAreaPoint)\n                ;[0, 1, 2, 3].map(index => {\n                    part.borderPoints.push({\n                        x: part.areaPoints[index].x,\n                        y: part.areaPoints[index].y0,\n                    })\n                })\n                part.borderPoints.push(null)\n                ;[3, 2, 1, 0].map(index => {\n                    part.borderPoints.push({\n                        x: part.areaPoints[index].x,\n                        y: part.areaPoints[index].y1,\n                    })\n                })\n            }\n        })\n\n        return enhancedParts\n    }, [\n        data,\n        direction,\n        linearScale,\n        bandScale,\n        innerWidth,\n        innerHeight,\n        paddingBefore,\n        paddingAfter,\n        rawShapeBlending,\n        getColor,\n        formatValue,\n        getBorderColor,\n        getLabelColor,\n        currentPartId,\n    ])\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n    const partsWithHandlers = useMemo(\n        () =>\n            computePartsHandlers({\n                parts,\n                setCurrentPartId,\n                isInteractive,\n                onMouseEnter,\n                onMouseLeave,\n                onMouseMove,\n                onClick,\n                showTooltipFromEvent,\n                hideTooltip,\n            }),\n        [\n            parts,\n            setCurrentPartId,\n            isInteractive,\n            onMouseEnter,\n            onMouseLeave,\n            onMouseMove,\n            onClick,\n            showTooltipFromEvent,\n            hideTooltip,\n        ]\n    )\n\n    const [beforeSeparators, afterSeparators] = useMemo(\n        () =>\n            computeSeparators({\n                parts,\n                direction,\n                width,\n                height,\n                spacing,\n                enableBeforeSeparators,\n                beforeSeparatorOffset,\n                enableAfterSeparators,\n                afterSeparatorOffset,\n            }),\n        [\n            parts,\n            direction,\n            width,\n            height,\n            spacing,\n            enableBeforeSeparators,\n            beforeSeparatorOffset,\n            enableAfterSeparators,\n            afterSeparatorOffset,\n        ]\n    )\n\n    const customLayerProps = useMemo(\n        () => ({\n            width,\n            height,\n            parts: partsWithHandlers,\n            areaGenerator,\n            borderGenerator,\n            beforeSeparators,\n            afterSeparators,\n            setCurrentPartId,\n        }),\n        [\n            width,\n            height,\n            partsWithHandlers,\n            areaGenerator,\n            borderGenerator,\n            beforeSeparators,\n            afterSeparators,\n            setCurrentPartId,\n        ]\n    )\n\n    return {\n        parts: partsWithHandlers,\n        areaGenerator,\n        borderGenerator,\n        beforeSeparators,\n        afterSeparators,\n        setCurrentPartId,\n        currentPartId,\n        customLayerProps,\n    }\n}\n\nexport const useFunnelAnnotations = (parts, annotations) => {\n    if (annotations.length === 0) return []\n\n    return useAnnotations({\n        items: parts,\n        annotations,\n        getDimensions: (part, offset) => {\n            const width = part.width + offset * 2\n            const height = part.height + offset * 2\n\n            return { size: Math.max(width, height), width, height }\n        },\n    })\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport omit from 'lodash/omit'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useTheme, useMotionConfig } from '@nivo/core'\n\nconst AnnotationNote = memo(({ datum, x, y, note }) => {\n    const theme = useTheme()\n    const { animate, config: springConfiig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        x,\n        y,\n        config: springConfiig,\n        immediate: !animate,\n    })\n\n    if (typeof note === 'function') {\n        return note({ x, y, datum })\n    }\n\n    return (\n        <>\n            {theme.annotations.text.outlineWidth > 0 && (\n                <animated.text\n                    x={animatedProps.x}\n                    y={animatedProps.y}\n                    style={{\n                        ...theme.annotations.text,\n                        strokeLinejoin: 'round',\n                        strokeWidth: theme.annotations.text.outlineWidth * 2,\n                        stroke: theme.annotations.text.outlineColor,\n                    }}\n                >\n                    {note}\n                </animated.text>\n            )}\n            <animated.text\n                x={animatedProps.x}\n                y={animatedProps.y}\n                style={omit(theme.annotations.text, ['outlineWidth', 'outlineColor'])}\n            >\n                {note}\n            </animated.text>\n        </>\n    )\n})\n\nAnnotationNote.displayName = 'AnnotationNote'\nAnnotationNote.propTypes = {\n    datum: PropTypes.object.isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n}\nAnnotationNote.defaultProps = {}\n\nexport default AnnotationNote\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useTheme, useMotionConfig } from '@nivo/core'\n\nconst AnnotationLink = memo(({ points, isOutline }) => {\n    const theme = useTheme()\n\n    let path = `M${points[0][0]},${points[0][1]}`\n    points.slice(1).forEach(point => {\n        path = `${path} L${point[0]},${point[1]}`\n    })\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        path,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    if (isOutline && theme.annotations.link.outlineWidth <= 0) {\n        return null\n    }\n\n    const style = { ...theme.annotations.link }\n    if (isOutline) {\n        style.strokeLinecap = 'square'\n        style.strokeWidth =\n            theme.annotations.link.strokeWidth + theme.annotations.link.outlineWidth * 2\n        style.stroke = theme.annotations.link.outlineColor\n    }\n\n    return <animated.path fill=\"none\" d={animatedProps.path} style={style} />\n})\n\nAnnotationLink.displayName = 'AnnotationLink'\nAnnotationLink.propTypes = {\n    points: PropTypes.arrayOf(PropTypes.array).isRequired,\n    isOutline: PropTypes.bool.isRequired,\n}\nAnnotationLink.defaultProps = {\n    isOutline: false,\n}\n\nexport default AnnotationLink\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig, useTheme } from '@nivo/core'\n\nconst CircleAnnotationOutline = memo(({ x, y, size }) => {\n    const theme = useTheme()\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        x,\n        y,\n        radius: size / 2,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <>\n            {theme.annotations.outline.outlineWidth > 0 && (\n                <animated.circle\n                    cx={animatedProps.x}\n                    cy={animatedProps.y}\n                    r={animatedProps.radius}\n                    style={{\n                        ...theme.annotations.outline,\n                        fill: 'none',\n                        strokeWidth:\n                            theme.annotations.outline.strokeWidth +\n                            theme.annotations.outline.outlineWidth * 2,\n                        stroke: theme.annotations.outline.outlineColor,\n                    }}\n                />\n            )}\n            <animated.circle\n                cx={animatedProps.x}\n                cy={animatedProps.y}\n                r={animatedProps.radius}\n                style={theme.annotations.outline}\n            />\n        </>\n    )\n})\n\nCircleAnnotationOutline.displayName = 'CircleAnnotationOutline'\nCircleAnnotationOutline.propTypes = {\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n}\n\nexport default CircleAnnotationOutline\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig, useTheme } from '@nivo/core'\n\nconst DotAnnotationOutline = memo(({ x, y, size }) => {\n    const theme = useTheme()\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        x,\n        y,\n        radius: size / 2,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <>\n            {theme.annotations.outline.outlineWidth > 0 && (\n                <animated.circle\n                    cx={animatedProps.x}\n                    cy={animatedProps.y}\n                    r={animatedProps.radius}\n                    style={{\n                        ...theme.annotations.outline,\n                        fill: 'none',\n                        strokeWidth: theme.annotations.outline.outlineWidth * 2,\n                        stroke: theme.annotations.outline.outlineColor,\n                    }}\n                />\n            )}\n            <animated.circle\n                cx={animatedProps.x}\n                cy={animatedProps.y}\n                r={animatedProps.radius}\n                style={theme.annotations.symbol}\n            />\n        </>\n    )\n})\n\nDotAnnotationOutline.displayName = 'DotAnnotationOutline'\nDotAnnotationOutline.propTypes = {\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n}\nDotAnnotationOutline.defaultProps = {\n    size: 4,\n}\n\nexport default DotAnnotationOutline\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig, useTheme } from '@nivo/core'\n\nconst RectAnnotationOutline = memo(({ x, y, width, height }) => {\n    const theme = useTheme()\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        x: x - width / 2,\n        y: y - height / 2,\n        width,\n        height,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <>\n            {theme.annotations.outline.outlineWidth > 0 && (\n                <animated.rect\n                    x={animatedProps.x}\n                    y={animatedProps.y}\n                    width={animatedProps.width}\n                    height={animatedProps.height}\n                    style={{\n                        ...theme.annotations.outline,\n                        fill: 'none',\n                        strokeWidth:\n                            theme.annotations.outline.strokeWidth +\n                            theme.annotations.outline.outlineWidth * 2,\n                        stroke: theme.annotations.outline.outlineColor,\n                    }}\n                />\n            )}\n            <animated.rect\n                x={animatedProps.x}\n                y={animatedProps.y}\n                width={animatedProps.width}\n                height={animatedProps.height}\n                style={theme.annotations.outline}\n            />\n        </>\n    )\n})\n\nRectAnnotationOutline.displayName = 'RectAnnotationOutline'\nRectAnnotationOutline.propTypes = {\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n}\n\nexport default RectAnnotationOutline\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { defaultProps } from './props'\nimport { useComputedAnnotation } from './hooks'\nimport AnnotationNote from './AnnotationNote'\nimport AnnotationLink from './AnnotationLink'\nimport CircleAnnotationOutline from './CircleAnnotationOutline'\nimport DotAnnotationOutline from './DotAnnotationOutline'\nimport RectAnnotationOutline from './RectAnnotationOutline'\n\nconst Annotation = memo(\n    ({\n        datum,\n        type,\n        containerWidth,\n        containerHeight,\n        x,\n        y,\n        size,\n        width,\n        height,\n        noteX,\n        noteY,\n        noteWidth,\n        noteTextOffset,\n        note,\n    }) => {\n        const computed = useComputedAnnotation({\n            type,\n            containerWidth,\n            containerHeight,\n            x,\n            y,\n            size,\n            width,\n            height,\n            noteX,\n            noteY,\n            noteWidth,\n            noteTextOffset,\n        })\n\n        return (\n            <>\n                <AnnotationLink points={computed.points} isOutline={true} />\n                {type === 'circle' && <CircleAnnotationOutline x={x} y={y} size={size} />}\n                {type === 'dot' && <DotAnnotationOutline x={x} y={y} size={size} />}\n                {type === 'rect' && (\n                    <RectAnnotationOutline x={x} y={y} width={width} height={height} />\n                )}\n                <AnnotationLink points={computed.points} />\n                <AnnotationNote\n                    datum={datum}\n                    x={computed.text[0]}\n                    y={computed.text[1]}\n                    note={note}\n                />\n            </>\n        )\n    }\n)\n\nAnnotation.displayName = 'Annotation'\nAnnotation.propTypes = {\n    datum: PropTypes.object.isRequired,\n\n    type: PropTypes.oneOf(['circle', 'rect', 'dot']).isRequired,\n\n    containerWidth: PropTypes.number.isRequired,\n    containerHeight: PropTypes.number.isRequired,\n\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n\n    noteX: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.shape({\n            abs: PropTypes.number.isRequired,\n        }),\n    ]).isRequired,\n    noteY: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.shape({\n            abs: PropTypes.number.isRequired,\n        }),\n    ]).isRequired,\n    noteWidth: PropTypes.number.isRequired,\n    noteTextOffset: PropTypes.number.isRequired,\n    note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n}\nAnnotation.defaultProps = {\n    noteWidth: defaultProps.noteWidth,\n    noteTextOffset: defaultProps.noteTextOffset,\n}\n\nexport default Annotation\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nconst drawPoints = (ctx, points) => {\n    points.forEach(([x, y], index) => {\n        if (index === 0) {\n            ctx.moveTo(x, y)\n        } else {\n            ctx.lineTo(x, y)\n        }\n    })\n}\n\nexport const renderAnnotationsToCanvas = (ctx, { annotations, theme }) => {\n    if (annotations.length === 0) return\n\n    ctx.save()\n    annotations.forEach(annotation => {\n        if (theme.annotations.link.outlineWidth > 0) {\n            ctx.lineCap = 'square'\n            ctx.strokeStyle = theme.annotations.link.outlineColor\n            ctx.lineWidth =\n                theme.annotations.link.strokeWidth + theme.annotations.link.outlineWidth * 2\n            ctx.beginPath()\n            drawPoints(ctx, annotation.computed.points)\n            ctx.stroke()\n            ctx.lineCap = 'butt'\n        }\n\n        if (annotation.type === 'circle' && theme.annotations.outline.outlineWidth > 0) {\n            ctx.strokeStyle = theme.annotations.outline.outlineColor\n            ctx.lineWidth =\n                theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2\n            ctx.beginPath()\n            ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI)\n            ctx.stroke()\n        }\n        if (annotation.type === 'dot' && theme.annotations.symbol.outlineWidth > 0) {\n            ctx.strokeStyle = theme.annotations.symbol.outlineColor\n            ctx.lineWidth = theme.annotations.symbol.outlineWidth * 2\n            ctx.beginPath()\n            ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI)\n            ctx.stroke()\n        }\n        if (annotation.type === 'rect' && theme.annotations.outline.outlineWidth > 0) {\n            ctx.strokeStyle = theme.annotations.outline.outlineColor\n            ctx.lineWidth =\n                theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2\n            ctx.beginPath()\n            ctx.rect(\n                annotation.x - annotation.width / 2,\n                annotation.y - annotation.height / 2,\n                annotation.width,\n                annotation.height\n            )\n            ctx.stroke()\n        }\n\n        ctx.strokeStyle = theme.annotations.link.stroke\n        ctx.lineWidth = theme.annotations.link.strokeWidth\n        ctx.beginPath()\n        drawPoints(ctx, annotation.computed.points)\n        ctx.stroke()\n\n        if (annotation.type === 'circle') {\n            ctx.strokeStyle = theme.annotations.outline.stroke\n            ctx.lineWidth = theme.annotations.outline.strokeWidth\n            ctx.beginPath()\n            ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI)\n            ctx.stroke()\n        }\n        if (annotation.type === 'dot') {\n            ctx.fillStyle = theme.annotations.symbol.fill\n            ctx.beginPath()\n            ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI)\n            ctx.fill()\n        }\n        if (annotation.type === 'rect') {\n            ctx.strokeStyle = theme.annotations.outline.stroke\n            ctx.lineWidth = theme.annotations.outline.strokeWidth\n            ctx.beginPath()\n            ctx.rect(\n                annotation.x - annotation.width / 2,\n                annotation.y - annotation.height / 2,\n                annotation.width,\n                annotation.height\n            )\n            ctx.stroke()\n        }\n\n        if (typeof annotation.note === 'function') {\n            annotation.note(ctx, {\n                datum: annotation.datum,\n                x: annotation.computed.text[0],\n                y: annotation.computed.text[1],\n                theme,\n            })\n        } else {\n            ctx.font = `${theme.annotations.text.fontSize}px ${theme.annotations.text.fontFamily}`\n            ctx.fillStyle = theme.annotations.text.fill\n            ctx.strokeStyle = theme.annotations.text.outlineColor\n            ctx.lineWidth = theme.annotations.text.outlineWidth * 2\n            if (theme.annotations.text.outlineWidth > 0) {\n                ctx.lineJoin = 'round'\n                ctx.strokeText(\n                    annotation.note,\n                    annotation.computed.text[0],\n                    annotation.computed.text[1]\n                )\n                ctx.lineJoin = 'miter'\n            }\n            ctx.fillText(annotation.note, annotation.computed.text[0], annotation.computed.text[1])\n        }\n    })\n    ctx.restore()\n}\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { BasicTooltip } from '@nivo/tooltip'\n\nconst PartTooltip = memo(({ part }) => {\n    return (\n        <BasicTooltip\n            id={part.data.label}\n            value={part.formattedValue}\n            color={part.color}\n            enableChip={true}\n        />\n    )\n})\n\nPartTooltip.displayName = 'ChordArcTooltip'\nPartTooltip.propTypes = {\n    part: PropTypes.object.isRequired,\n}\n\nexport default PartTooltip\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig } from '@nivo/core'\n\nexport const Part = ({ part, areaGenerator, borderGenerator }) => {\n    const { animate, config: motionConfig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        areaPath: areaGenerator(part.areaPoints),\n        areaColor: part.color,\n        borderPath: borderGenerator(part.borderPoints),\n        borderWidth: part.borderWidth,\n        borderColor: part.borderColor,\n        config: motionConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <>\n            {part.borderWidth > 0 && (\n                <animated.path\n                    d={animatedProps.borderPath}\n                    stroke={animatedProps.borderColor}\n                    strokeWidth={animatedProps.borderWidth}\n                    strokeOpacity={part.borderOpacity}\n                    fill=\"none\"\n                />\n            )}\n            <animated.path\n                d={animatedProps.areaPath}\n                fill={animatedProps.areaColor}\n                fillOpacity={part.fillOpacity}\n                onMouseEnter={part.onMouseEnter}\n                onMouseLeave={part.onMouseLeave}\n                onMouseMove={part.onMouseMove}\n                onClick={part.onClick}\n            />\n        </>\n    )\n}\n\nPart.propTypes = {\n    part: PropTypes.shape({\n        areaPoints: PropTypes.array.isRequired,\n        borderPoints: PropTypes.array.isRequired,\n        color: PropTypes.string.isRequired,\n        fillOpacity: PropTypes.number.isRequired,\n        borderWidth: PropTypes.number.isRequired,\n        borderColor: PropTypes.string.isRequired,\n        borderOpacity: PropTypes.number.isRequired,\n        onMouseEnter: PropTypes.func,\n        onMouseLeave: PropTypes.func,\n        onMouseMove: PropTypes.func,\n        onClick: PropTypes.func,\n    }).isRequired,\n    areaGenerator: PropTypes.func.isRequired,\n    borderGenerator: PropTypes.func.isRequired,\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { Part } from './Part'\n\nexport const Parts = ({ parts, areaGenerator, borderGenerator }) =>\n    parts.map(part => (\n        <Part\n            key={part.data.id}\n            part={part}\n            areaGenerator={areaGenerator}\n            borderGenerator={borderGenerator}\n        />\n    ))\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useTheme, useMotionConfig } from '@nivo/core'\n\nexport const PartLabel = ({ part }) => {\n    const theme = useTheme()\n    const { animate, config: motionConfig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        transform: `translate(${part.x}, ${part.y})`,\n        color: part.labelColor,\n        config: motionConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.g transform={animatedProps.transform}>\n            <animated.text\n                textAnchor=\"middle\"\n                dominantBaseline=\"central\"\n                style={{\n                    ...theme.labels.text,\n                    fill: animatedProps.color,\n                    pointerEvents: 'none',\n                }}\n            >\n                {part.formattedValue}\n            </animated.text>\n        </animated.g>\n    )\n}\n\nPartLabel.propTypes = {\n    part: PropTypes.shape({\n        labelColor: PropTypes.string.isRequired,\n        x: PropTypes.number.isRequired,\n        y: PropTypes.number.isRequired,\n        formattedValue: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    }).isRequired,\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { PartLabel } from './PartLabel'\n\nexport const PartLabels = ({ parts }) =>\n    parts.map(part => <PartLabel key={part.data.id} part={part} />)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useTheme, useMotionConfig } from '@nivo/core'\n\nexport const Separator = ({ separator }) => {\n    const theme = useTheme()\n    const { animate, config: motionConfig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        x1: separator.x0,\n        x2: separator.x1,\n        y1: separator.y0,\n        y2: separator.y1,\n        config: motionConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.line\n            x1={animatedProps.x1}\n            x2={animatedProps.x2}\n            y1={animatedProps.y1}\n            y2={animatedProps.y2}\n            fill=\"none\"\n            {...theme.grid.line}\n        />\n    )\n}\n\nSeparator.propTypes = {\n    separator: PropTypes.shape({\n        x0: PropTypes.number.isRequired,\n        x1: PropTypes.number.isRequired,\n        y0: PropTypes.number.isRequired,\n        y1: PropTypes.number.isRequired,\n    }).isRequired,\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { Separator } from './Separator'\n\nexport const Separators = ({ beforeSeparators, afterSeparators }) => (\n    <>\n        {beforeSeparators.map(separator => (\n            <Separator key={separator.partId} separator={separator} />\n        ))}\n        {afterSeparators.map(separator => (\n            <Separator key={separator.partId} separator={separator} />\n        ))}\n    </>\n)\n\nconst separatorsPropType = PropTypes.arrayOf(\n    PropTypes.shape({\n        partId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n        x0: PropTypes.number.isRequired,\n        x1: PropTypes.number.isRequired,\n        y0: PropTypes.number.isRequired,\n        y1: PropTypes.number.isRequired,\n    })\n).isRequired\n\nSeparators.propTypes = {\n    beforeSeparators: separatorsPropType,\n    afterSeparators: separatorsPropType,\n}\n","import React from 'react'\nimport { Annotation } from '@nivo/annotations'\nimport { useFunnelAnnotations } from './hooks'\n\nexport const FunnelAnnotations = ({ parts, annotations, width, height }) => {\n    const boundAnnotations = useFunnelAnnotations(parts, annotations)\n\n    return boundAnnotations.map((annotation, i) => (\n        <Annotation key={i} {...annotation} containerWidth={width} containerHeight={height} />\n    ))\n}\n\nFunnelAnnotations.propTypes = {}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Fragment } from 'react'\nimport { SvgWrapper, withContainer, useDimensions } from '@nivo/core'\nimport { FunnelPropTypes, FunnelDefaultProps } from './props'\nimport { useFunnel } from './hooks'\nimport { Parts } from './Parts'\nimport { PartLabels } from './PartLabels'\nimport { Separators } from './Separators'\nimport { FunnelAnnotations } from './FunnelAnnotations'\n\nconst Funnel = props => {\n    const {\n        data,\n        width,\n        height,\n        margin: partialMargin,\n        direction,\n        interpolation,\n        spacing,\n        shapeBlending,\n        valueFormat,\n        colors,\n        fillOpacity,\n        borderWidth,\n        borderColor,\n        borderOpacity,\n        enableLabel,\n        labelColor,\n        enableBeforeSeparators,\n        beforeSeparatorLength,\n        beforeSeparatorOffset,\n        enableAfterSeparators,\n        afterSeparatorLength,\n        afterSeparatorOffset,\n        layers,\n        annotations,\n        isInteractive,\n        currentPartSizeExtension,\n        currentBorderWidth,\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n        role,\n    } = props\n\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const {\n        areaGenerator,\n        borderGenerator,\n        parts,\n        beforeSeparators,\n        afterSeparators,\n        customLayerProps,\n    } = useFunnel({\n        data,\n        width: innerWidth,\n        height: innerHeight,\n        direction,\n        interpolation,\n        spacing,\n        shapeBlending,\n        valueFormat,\n        colors,\n        fillOpacity,\n        borderWidth,\n        borderColor,\n        borderOpacity,\n        labelColor,\n        enableBeforeSeparators,\n        beforeSeparatorLength,\n        beforeSeparatorOffset,\n        enableAfterSeparators,\n        afterSeparatorLength,\n        afterSeparatorOffset,\n        isInteractive,\n        currentPartSizeExtension,\n        currentBorderWidth,\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n    })\n\n    const layerById = {\n        separators: (\n            <Separators\n                key=\"separators\"\n                beforeSeparators={beforeSeparators}\n                afterSeparators={afterSeparators}\n            />\n        ),\n        parts: (\n            <Parts\n                key=\"parts\"\n                parts={parts}\n                areaGenerator={areaGenerator}\n                borderGenerator={borderGenerator}\n                enableLabel={enableLabel}\n            />\n        ),\n        annotations: (\n            <FunnelAnnotations\n                key=\"annotations\"\n                parts={parts}\n                annotations={annotations}\n                widh={innerWidth}\n                height={innerHeight}\n            />\n        ),\n        labels: null,\n    }\n\n    if (enableLabel === true) {\n        layerById.labels = <PartLabels key=\"labels\" parts={parts} />\n    }\n\n    return (\n        <SvgWrapper width={outerWidth} height={outerHeight} margin={margin} role={role}>\n            {layers.map((layer, i) => {\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{layer(customLayerProps)}</Fragment>\n                }\n\n                return layerById[layer]\n            })}\n        </SvgWrapper>\n    )\n}\n\nFunnel.propTypes = FunnelPropTypes\n\nconst WrappedFunnel = withContainer(Funnel)\nWrappedFunnel.defaultProps = FunnelDefaultProps\n\nexport default WrappedFunnel\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport Funnel from './Funnel'\n\nconst ResponsiveFunnel = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Funnel width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveFunnel\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { settingsMapper, mapFormat } from '../../../lib/settings'\n\nexport default settingsMapper({\n    valueFormat: mapFormat,\n})\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { FunnelDefaultProps as defaults } from '@nivo/funnel'\nimport { themeProperty, groupProperties, motionProperties } from '../../../lib/componentProperties'\n\nconst props = [\n    {\n        key: 'data',\n        type: 'Array<Datum>',\n        group: 'Base',\n        help: 'Chart data.',\n        description: `\n            Chart data, which must conform to this structure:\n            \\`\\`\\`\n            Array<{\n                id:    string | number\n                label: string\n                value: number\n            }>\n            \\`\\`\\`\n        `,\n        required: true,\n    },\n    {\n        key: 'margin',\n        group: 'Base',\n        type: 'object',\n        help: 'Chart margin.',\n        controlType: 'margin',\n    },\n    {\n        key: 'direction',\n        help: `Direction of the chart.`,\n        type: 'string',\n        required: false,\n        defaultValue: defaults.direction,\n        controlType: 'radio',\n        group: 'Base',\n        controlOptions: {\n            choices: [\n                { label: 'horizontal', value: 'horizontal' },\n                { label: 'vertical', value: 'vertical' },\n            ],\n        },\n    },\n    {\n        key: 'interpolation',\n        group: 'Base',\n        type: 'string',\n        help: `Part shape interpolation.`,\n        required: false,\n        defaultValue: defaults.interpolation,\n        controlType: 'radio',\n        controlOptions: {\n            choices: [\n                { label: 'smooth', value: 'smooth' },\n                { label: 'linear', value: 'linear' },\n            ],\n        },\n    },\n    {\n        key: 'spacing',\n        help: 'Spacing between parts',\n        type: 'number',\n        required: false,\n        defaultValue: defaults.spacing,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            min: 0,\n            max: 30,\n            unit: 'px',\n        },\n    },\n    {\n        key: 'shapeBlending',\n        help: 'Blend shapes.',\n        type: 'number',\n        required: false,\n        defaultValue: defaults.shapeBlending,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            min: 0,\n            max: 1,\n            step: 0.01,\n        },\n    },\n    {\n        key: 'valueFormat',\n        help: `\n            Value format supporting d3-format notation, this formatted value\n            will then be used for labels and tooltips.\n        `,\n        type: 'string | Function',\n        required: false,\n        controlType: 'valueFormat',\n        group: 'Base',\n    },\n    themeProperty,\n    {\n        key: 'colors',\n        help: 'Defines how to compute parts color.',\n        type: 'string | Function | string[]',\n        required: false,\n        defaultValue: defaults.colors,\n        controlType: 'ordinalColors',\n        group: 'Style',\n    },\n    {\n        key: 'fillOpacity',\n        help: 'Part background opacity.',\n        required: false,\n        defaultValue: defaults.fillOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Style',\n    },\n    {\n        key: 'borderWidth',\n        help: 'Width of part border.',\n        type: 'number',\n        required: false,\n        defaultValue: defaults.borderWidth,\n        controlType: 'lineWidth',\n        group: 'Style',\n    },\n    {\n        key: 'borderColor',\n        help: 'Method to compute border color.',\n        description: `\n            how to compute border color,\n            [see dedicated documentation](self:/guides/colors).\n        `,\n        type: 'string | object | Function',\n        required: false,\n        defaultValue: defaults.borderColor,\n        controlType: 'inheritedColor',\n        group: 'Style',\n    },\n    {\n        key: 'borderOpacity',\n        help: 'Part border opacity.',\n        required: false,\n        defaultValue: defaults.borderOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Style',\n    },\n    {\n        key: 'enableLabel',\n        help: `\n            Enable/disable labels. Use styles from\n            theme.labels.text.\n        `,\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableLabel,\n        controlType: 'switch',\n        group: 'Labels',\n    },\n    {\n        key: 'labelColor',\n        help: 'Method to compute label color.',\n        description: `\n            how to compute label color,\n            [see dedicated documentation](self:/guides/colors).\n        `,\n        type: 'string | object | Function',\n        required: false,\n        defaultValue: defaults.labelColor,\n        controlType: 'inheritedColor',\n        group: 'Labels',\n    },\n    {\n        key: 'enableBeforeSeparators',\n        help: `\n            Enable/disable before separators.\n            Separators inherit styles from theme.grid.line.\n        `,\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableBeforeSeparators,\n        controlType: 'switch',\n        group: 'Separators',\n    },\n    {\n        key: 'beforeSeparatorLength',\n        help: `\n            Length of the before separator lines. You should add margin\n            for them to be visible if the value is greater than 0.\n        `,\n        required: false,\n        defaultValue: defaults.beforeSeparatorLength,\n        type: 'number',\n        controlType: 'range',\n        group: 'Separators',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 100,\n        },\n    },\n    {\n        key: 'beforeSeparatorOffset',\n        help: `\n            Offset from the parts for the before separator lines.\n            You should add margin for them to be visible\n            if the value is greater than 0.\n        `,\n        required: false,\n        defaultValue: defaults.beforeSeparatorOffset,\n        type: 'number',\n        controlType: 'range',\n        group: 'Separators',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 100,\n        },\n    },\n    {\n        key: 'enableAfterSeparators',\n        help: `\n            Enable/disable after separators.\n            Separators inherit styles from theme.grid.line.\n        `,\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableAfterSeparators,\n        controlType: 'switch',\n        group: 'Separators',\n    },\n    {\n        key: 'afterSeparatorLength',\n        help: `\n            Length of the after separator lines. You should add margin\n            for them to be visible if the value is greater than 0.\n        `,\n        required: false,\n        defaultValue: defaults.afterSeparatorLength,\n        type: 'number',\n        controlType: 'range',\n        group: 'Separators',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 100,\n        },\n    },\n    {\n        key: 'afterSeparatorOffset',\n        help: `\n            Offset from the parts for the after separator lines.\n            You should add margin for them to be visible\n            if the value is greater than 0.\n        `,\n        required: false,\n        defaultValue: defaults.afterSeparatorOffset,\n        type: 'number',\n        controlType: 'range',\n        group: 'Separators',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 100,\n        },\n    },\n    {\n        key: 'layers',\n        group: 'Customization',\n        help: 'Defines the order of layers and add custom layers.',\n        description: `\n            You can also use this to insert extra layers\n            to the chart, the extra layer must be a function.\n            \n            The layer function which will receive the chart's\n            context & computed data and must return a valid SVG element.\n        `,\n        required: false,\n        type: 'Array<string | Function>',\n        defaultValue: defaults.layers,\n    },\n    {\n        key: 'isInteractive',\n        group: 'Interactivity',\n        type: 'boolean',\n        help: 'Enable/disable interactivity.',\n        required: false,\n        defaultValue: defaults.isInteractive,\n        controlType: 'switch',\n    },\n    {\n        key: 'currentPartSizeExtension',\n        help: `\n            Expand part size by this amount of pixels on each side\n            when it's active \n        `,\n        required: false,\n        defaultValue: defaults.currentPartSizeExtension,\n        type: 'number',\n        controlType: 'range',\n        group: 'Interactivity',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 100,\n        },\n    },\n    {\n        key: 'currentBorderWidth',\n        help: `Override default border width when a part is active.`,\n        required: false,\n        type: 'number',\n        controlType: 'range',\n        group: 'Interactivity',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 100,\n        },\n    },\n    {\n        key: 'onMouseEnter',\n        group: 'Interactivity',\n        help: 'onMouseEnter handler.',\n        type: '(part, event) => void',\n        required: false,\n    },\n    {\n        key: 'onMouseMove',\n        group: 'Interactivity',\n        help: 'onMouseMove handler.',\n        type: '(part, event) => void',\n        required: false,\n    },\n    {\n        key: 'onMouseLeave',\n        group: 'Interactivity',\n        help: 'onMouseLeave handler.',\n        type: '(part, event) => void',\n        required: false,\n    },\n    {\n        key: 'onClick',\n        group: 'Interactivity',\n        help: 'onClick handler.',\n        type: '(part, event) => void',\n        required: false,\n    },\n    ...motionProperties(['svg'], defaults, 'react-spring'),\n]\n\nexport const groups = groupProperties(props)\n","import { random, startCase } from 'lodash'\n\nexport const generateLightDataSet = () => {\n    const ids = ['sent', 'viewed', 'clicked', 'add_to_card', 'purchased']\n\n    let lastValue = 100000\n\n    return ids.map(id => {\n        lastValue = Math.round(lastValue * random(0.6, 0.95))\n\n        return {\n            id: `step_${id}`,\n            value: lastValue,\n            label: startCase(id),\n        }\n    })\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport merge from 'lodash/merge'\nimport { ResponsiveFunnel, FunnelDefaultProps } from '@nivo/funnel'\nimport ComponentTemplate from '../../components/components/ComponentTemplate'\nimport meta from '../../data/components/funnel/meta.yml'\nimport mapper from '../../data/components/funnel/mapper'\nimport { groups } from '../../data/components/funnel/props'\nimport { generateLightDataSet } from '../../data/components/funnel/generator'\n\nconst initialProperties = {\n    margin: {\n        top: 20,\n        right: 20,\n        bottom: 20,\n        left: 20,\n    },\n\n    direction: FunnelDefaultProps.direction,\n    interpolation: FunnelDefaultProps.interpolation,\n    shapeBlending: FunnelDefaultProps.shapeBlending,\n    spacing: FunnelDefaultProps.spacing,\n    valueFormat: { format: '>-.4s', enabled: true },\n\n    colors: { scheme: 'spectral' },\n    fillOpacity: FunnelDefaultProps.fillOpacity,\n\n    borderWidth: 20,\n    borderColor: FunnelDefaultProps.borderColor,\n    borderOpacity: FunnelDefaultProps.borderOpacity,\n\n    enableLabel: FunnelDefaultProps.enableLabel,\n    labelColor: { from: 'color', modifiers: [['darker', 3]] },\n\n    enableBeforeSeparators: FunnelDefaultProps.enableBeforeSeparators,\n    beforeSeparatorLength: 100,\n    beforeSeparatorOffset: 20,\n    enableAfterSeparators: FunnelDefaultProps.enableAfterSeparators,\n    afterSeparatorLength: 100,\n    afterSeparatorOffset: 20,\n\n    isInteractive: true,\n    currentPartSizeExtension: 10,\n    currentBorderWidth: 40,\n\n    animate: true,\n    motionConfig: 'wobbly',\n}\n\nconst Funnel = () => {\n    return (\n        <ComponentTemplate\n            name=\"Funnel\"\n            meta={meta.Funnel}\n            icon=\"funnel\"\n            flavors={meta.flavors}\n            currentFlavor=\"svg\"\n            properties={groups}\n            initialProperties={initialProperties}\n            defaultProperties={FunnelDefaultProps}\n            propertiesMapper={mapper}\n            generateData={generateLightDataSet}\n        >\n            {(properties, data, theme, logAction) => (\n                <ResponsiveFunnel\n                    data={data}\n                    {...properties}\n                    theme={merge({}, theme, {\n                        labels: {\n                            text: {\n                                fontSize: 14,\n                            },\n                        },\n                    })}\n                    onClick={part => {\n                        logAction({\n                            type: 'click',\n                            label: `[part] id: ${part.data.id}, value: ${part.data.value}`,\n                            color: part.color,\n                            data: part.data,\n                        })\n                    }}\n                />\n            )}\n        </ComponentTemplate>\n    )\n}\n\nexport default Funnel\n","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\n\n\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;","var baseEach = require('./_baseEach');\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\n\n\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function (value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;"],"sourceRoot":""}