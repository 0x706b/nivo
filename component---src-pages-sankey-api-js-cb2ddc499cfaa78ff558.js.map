{"version":3,"sources":["webpack:///../node_modules/recompose/withHandlers.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/ascending.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/bisect.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/bisector.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/array.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/ticks.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/min.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/sum.js","webpack:///../node_modules/d3-sankey/src/align.js","webpack:///../node_modules/d3-sankey/src/constant.js","webpack:///../node_modules/d3-sankey/src/sankey.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/max.js","webpack:///../node_modules/d3-sankey/src/sankeyLinkHorizontal.js","webpack:///../node_modules/d3-sankey/src/index.js","webpack:///./src/pages/sankey/api.js","webpack:///../node_modules/recompose/utils/mapValues.js","webpack:///./src/data/components/sankey/props.js","webpack:///./src/data/components/sankey/mapper.js","webpack:///../node_modules/recompose/withState.js","webpack:///./src/components/components/api-client/ApiPreview.js","webpack:///./src/components/components/api-client/ApiTabs.js","webpack:///./src/components/components/api-client/ApiSubmit.js","webpack:///./src/components/components/api-client/ApiResponse.js","webpack:///./src/components/components/api-client/ApiClient.js","webpack:///../packages/sankey/dist/nivo-sankey.esm.js","webpack:///../node_modules/lodash/cloneDeep.js"],"names":["_interopRequireDefault","exports","__esModule","_extends2","_inheritsLoose2","_react","_mapValues","_default","handlers","BaseComponent","factory","createFactory","_Component","WithHandlers","_this","_len","arguments","length","_args","Array","_key","call","apply","this","concat","props","createHandler","handler","prototype","render","Component","a","b","NaN","f","ascending","compare","d","x","slice","map","Math","sqrt","values","valueof","min","undefined","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","err","index","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_value","sum","targetDepth","target","depth","node","n","height","justify","sourceLinks","center","targetLinks","ascendingSourceBreadth","ascendingBreadth","source","ascendingTargetBreadth","y0","defaultId","defaultNodes","graph","nodes","defaultLinks","links","find","nodeById","id","get","Error","computeLinkBreadths","_ref","y1","link","width","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_link","Sankey","sort","linkSort","x0","x1","dx","py","align","iterations","sankey","_ref2","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","entries","_step4$value","i","Map","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_step5$value","_i","push","computeNodeLinks","_ref3","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","max","computeNodeValues","_ref4","current","Set","size","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","add","computeNodeDepths","_ref5","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","computeNodeHeights","columns","_ref6","kx","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","_iterator11","floor","layer","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_step12","_iterator12","computeNodeLayers","ky","c","_iteratorNormalCompletion13","_didIteratorError13","_iteratorError13","_step13","_iterator13","_nodes","y","_iteratorNormalCompletion14","_didIteratorError14","_iteratorError14","_step14","_iterator14","_node","_iteratorNormalCompletion15","_didIteratorError15","_iteratorError15","_step15","_iterator15","reorderLinks","initializeNodeBreadths","alpha","pow","beta","relaxRightToLeft","relaxLeftToRight","computeNodeBreadths","column","_iteratorNormalCompletion16","_didIteratorError16","_iteratorError16","_step16","_iterator16","w","_iteratorNormalCompletion17","_didIteratorError17","_iteratorError17","_step17","_iterator17","_step17$value","v","targetTop","dy","reorderNodeLinks","resolveCollisions","_iteratorNormalCompletion18","_didIteratorError18","_iteratorError18","_step18","_iterator18","_iteratorNormalCompletion19","_didIteratorError19","_iteratorError19","_step19","_iterator19","_step19$value","sourceTop","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","_ref7","_iteratorNormalCompletion20","_didIteratorError20","_iteratorError20","_step20","_iterator20","_iteratorNormalCompletion21","_didIteratorError21","_iteratorError21","_step21","_iterator21","_iteratorNormalCompletion22","_didIteratorError22","_iteratorError22","_step22","_iterator22","_step22$value","_iteratorNormalCompletion23","_didIteratorError23","_iteratorError23","_step23","_iterator23","_step23$value","_iteratorNormalCompletion24","_didIteratorError24","_iteratorError24","_step24","_iterator24","_step24$value","_node2","_width","_iteratorNormalCompletion25","_didIteratorError25","_iteratorError25","_step25","_iterator25","_step25$value","_iteratorNormalCompletion26","_didIteratorError26","_iteratorError26","_step26","_iterator26","_step26$value","_node3","_width2","update","nodeId","_","nodeAlign","nodeSort","nodeWidth","nodePadding","extent","horizontalSource","horizontalTarget","data","generateSankeyData","nodeCount","maxIterations","SankeyApi","title","keywords","meta","tags","componentName","chartClass","apiPath","flavors","dataProperty","controlGroups","groups","propsMapper","mapper","defaultProps","JSON","stringify","margin","top","right","bottom","left","layout","colors","scheme","nodeOpacity","nodeHoverOpacity","nodeThickness","nodeInnerPadding","nodeSpacing","nodeBorderWidth","nodeBorderColor","from","modifiers","linkOpacity","linkHoverOpacity","linkHoverOthersOpacity","linkContract","linkBlendMode","enableLinkGradient","enableLabels","labelPosition","labelOrientation","labelPadding","labelTextColor","obj","func","result","key","hasOwnProperty","group","help","description","type","required","defaultValue","defaults","controlType","controlOptions","choices","label","sankeyAlignmentPropKeys","enableControlForFlavors","unit","step","nodePaddingX","isInteractive","motionProperties","groupProperties","settingsMapper","_extends3","stateName","stateUpdaterName","initialState","WithState","args","state","stateValue","updateStateValue","updateFn","callback","setState","Link","styled","Image","img","EmptyContainer","div","theme","textLight","ApiPreview","responseStatus","chartUrl","href","rel","src","alt","tabs","ApiTabs","body","isLoading","useTheme","useState","currentTab","setCurrentTab","hoverTab","setHoverTab","Wrapper","className","Nav","tab","isCurrent","icon","iconColors","NavItem","onClick","onMouseEnter","onMouseLeave","Icon","Content","CodeBlock","dimensions","headerHeight","miniNavWidth","cardBackground","border","media","tablet","mobile","nav","background","span","text","LoaderContainer","loaderBarAnimation","keyframes","LoaderBar","accent","Loader","Button","ApiSubmit","loading","Container","Header","borderLight","ResponseJson","pre","ApiResponse","response","responseContent","ApiClient","handleSettingsUpdate","settings","handleDataUpdate","e","Object","assign","handleSubmit","fetch","config","nivoApiUrl","method","headers","Accept","then","res","status","json","catch","console","error","component","flavorKeys","flavor","Layout","ComponentPage","ComponentHeader","ComponentFlavorSelector","ComponentDescription","url","ControlPanel","SubmitWrapper","ComponentSettings","currentFlavor","onChange","cardAltBackground","sankeyAlignmentPropMapping","sankeyCenter","sankeyJustify","start","sankeyLeft","end","sankeyRight","keys","sankeyAlignmentPropType","PropTypes","oneOf","SankeyDefaultProps","shape","arrayOf","oneOfType","string","number","isRequired","ordinalColorsPropType","inheritedColorPropType","blendModePropType","bool","LegendPropShape","nodeHoverOthersOpacity","noop","legends","getId","SankeyNodesItem$1","_compose","_withPropsOnChange","tooltip","React","createElement","BasicTooltip","enableChip","color","_onClick","event","withHandlers","handleMouseEnter","showTooltip","setCurrent","handleMouseMove","handleMouseLeave","hideTooltip","pure","enhance$1","opacity","borderWidth","borderColor","fill","fillOpacity","strokeWidth","stroke","strokeOpacity","onMouseMove","_objectSpread","ownKeys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","_defineProperty","defineProperty","configurable","writable","SankeyNodes$1","getNodeBorderColor","animate","motionDamping","motionStiffness","setCurrentNode","currentNode","currentLink","isCurrentNode","getOpacity","Fragment","springProps","damping","stiffness","TransitionMotion","styles","style","spring","interpolateColor","interpolatedStyles","getInterpolatedColor","_extends","SankeyLinkGradient","memo","startColor","endColor","gradientProps","x2","y2","spreadMethod","offset","stopColor","displayName","tooltipStyles","container","display","alignItems","sourceChip","marginRight","targetChip","marginLeft","TooltipContent","format","Chip","SankeyLinksItem$1","tooltipFormat","enhance$2","path","blendMode","enableGradient","linkId","encodeURI","mixBlendMode","_extends$1","SankeyLinks$1","lineGenerator","setCurrentLink","isCurrentLink","getLinkPath","line","curve","curveMonotoneX","contract","halfThickness","thickness","padLength","dots","pos0","pos1","curveMonotoneY","sankeyLinkVertical","springConfig","SmartMotion","_objectSpread$2","_defineProperty$2","SankeyLabels$1","getLabelTextColor","labelRotation","labels","textAnchor","dominantBaseline","transform","rotation","pointerEvents","_extends$2","enhancedSankey","outerWidth","outerHeight","nodeTooltip","linkTooltip","legendData","currentNodeIds","_uniq","includes","_ref8","SvgWrapper","legend","BoxLegendSvg","containerWidth","containerHeight","_defaultProps","_withState","withTheme","withDimensions","withMotion","getColor","getOrdinalColorScale","getLinkColor","getInheritedColorGenerator","labelFormat","getLabel","getLabelGenerator","sortFunction","prop","alignFunction","_data","sankey$1","_cloneDeep","oldX0","oldX1","_extends$3","ResponsiveSankey","ResponsiveWrapper","baseClone","CLONE_DEEP_FLAG","CLONE_SYMBOLS_FLAG","module"],"mappings":"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","file":"component---src-pages-sankey-api-js-cb2ddc499cfaa78ff558.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _react = require(\"react\");\n\nvar _setDisplayName = _interopRequireDefault(require(\"./setDisplayName\"));\n\nvar _wrapDisplayName = _interopRequireDefault(require(\"./wrapDisplayName\"));\n\nvar _mapValues = _interopRequireDefault(require(\"./utils/mapValues\"));\n/* eslint-disable no-console */\n\n\nvar withHandlers = function withHandlers(handlers) {\n  return function (BaseComponent) {\n    var factory = (0, _react.createFactory)(BaseComponent);\n\n    var WithHandlers =\n    /*#__PURE__*/\n    function (_Component) {\n      (0, _inheritsLoose2[\"default\"])(WithHandlers, _Component);\n\n      function WithHandlers() {\n        var _this;\n\n        for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n          _args[_key] = arguments[_key];\n        }\n\n        _this = _Component.call.apply(_Component, [this].concat(_args)) || this;\n        _this.handlers = (0, _mapValues[\"default\"])(typeof handlers === 'function' ? handlers(_this.props) : handlers, function (createHandler) {\n          return function () {\n            var handler = createHandler(_this.props);\n\n            if (process.env.NODE_ENV !== 'production' && typeof handler !== 'function') {\n              console.error( // eslint-disable-line no-console\n              'withHandlers(): Expected a map of higher-order functions. ' + 'Refer to the docs for more info.');\n            }\n\n            return handler.apply(void 0, arguments);\n          };\n        });\n        return _this;\n      }\n\n      var _proto = WithHandlers.prototype;\n\n      _proto.render = function render() {\n        return factory((0, _extends2[\"default\"])({}, this.props, this.handlers));\n      };\n\n      return WithHandlers;\n    }(_react.Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      return (0, _setDisplayName[\"default\"])((0, _wrapDisplayName[\"default\"])(BaseComponent, 'withHandlers'))(WithHandlers);\n    }\n\n    return WithHandlers;\n  };\n};\n\nvar _default = withHandlers;\nexports[\"default\"] = _default;","export default function (a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;","import ascending from \"./ascending\";\nexport default function (compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function left(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n      }\n\n      return lo;\n    },\n    right: function right(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n      }\n\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function (d, x) {\n    return ascending(f(d), x);\n  };\n}","import \"core-js/modules/es6.array.map\";\nvar array = Array.prototype;\nexport var slice = array.slice;\nexport var map = array.map;","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\nexport default function (start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n\n    while (++i < n) {\n      ticks[i] = (start + i) * step;\n    }\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n\n    while (++i < n) {\n      ticks[i] = (start - i) / step;\n    }\n  }\n\n  if (reverse) ticks.reverse();\n  return ticks;\n}\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nexport default function min(values, valueof) {\n  var min;\n\n  if (valueof === undefined) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var value = _step.value;\n\n        if (value != null && value >= value && (min === undefined || min > value)) {\n          min = value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else {\n    var index = -1;\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = values[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var _value = _step2.value;\n\n        if ((_value = valueof(_value, ++index, values)) != null && _value >= _value && (min === undefined || min > _value)) {\n          min = _value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n          _iterator2[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n\n  return min;\n}","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nexport default function sum(values, valueof) {\n  var sum = 0;\n\n  if (valueof === undefined) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var value = _step.value;\n\n        if (value = +value) {\n          sum += value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else {\n    var index = -1;\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = values[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var _value = _step2.value;\n\n        if (_value = +valueof(_value, ++index, values)) {\n          sum += _value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n          _iterator2[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n\n  return sum;\n}","import { min } from \"d3-array\";\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? min(node.sourceLinks, targetDepth) - 1 : 0;\n}","export default function constant(x) {\n  return function () {\n    return x;\n  };\n}","import \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.set\";\nimport _slicedToArray from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { max, min, sum } from \"d3-array\";\nimport { justify } from \"./align.js\";\nimport constant from \"./constant.js\";\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  var node = nodeById.get(id);\n  if (!node) throw new Error(\"missing: \" + id);\n  return node;\n}\n\nfunction computeLinkBreadths(_ref) {\n  var nodes = _ref.nodes;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var node = _step.value;\n      var y0 = node.y0;\n      var y1 = y0;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = node.sourceLinks[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var link = _step2.value;\n          link.y0 = y0 + link.width / 2;\n          y0 += link.width;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = node.targetLinks[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var _link = _step3.value;\n          _link.y1 = y1 + _link.width / 2;\n          y1 += _link.width;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}\n\nexport default function Sankey() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 1,\n      y1 = 1; // extent\n\n  var dx = 24; // nodeWidth\n\n  var py = 8; // nodePadding\n\n  var id = defaultId;\n  var align = justify;\n  var sort;\n  var linkSort;\n  var nodes = defaultNodes;\n  var links = defaultLinks;\n  var iterations = 6;\n\n  function sankey() {\n    var graph = {\n      nodes: nodes.apply(null, arguments),\n      links: links.apply(null, arguments)\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? (id = typeof _ === \"function\" ? _ : constant(_), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? (align = typeof _ === \"function\" ? _ : constant(_), sankey) : align;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? (sort = _, sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? (dx = +_, sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? (py = +_, sankey) : py;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? (nodes = typeof _ === \"function\" ? _ : constant(_), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? (links = typeof _ === \"function\" ? _ : constant(_), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? (linkSort = _, sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], sankey) : [[x0, y0], [x1, y1]];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? (iterations = +_, sankey) : iterations;\n  };\n\n  function computeNodeLinks(_ref2) {\n    var nodes = _ref2.nodes,\n        links = _ref2.links;\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n\n    try {\n      for (var _iterator4 = nodes.entries()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n        var _step4$value = _slicedToArray(_step4.value, 2),\n            i = _step4$value[0],\n            node = _step4$value[1];\n\n        node.index = i;\n        node.sourceLinks = [];\n        node.targetLinks = [];\n      }\n    } catch (err) {\n      _didIteratorError4 = true;\n      _iteratorError4 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n          _iterator4[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError4) {\n          throw _iteratorError4;\n        }\n      }\n    }\n\n    var nodeById = new Map(nodes.map(function (d, i) {\n      return [id(d, i, nodes), d];\n    }));\n    var _iteratorNormalCompletion5 = true;\n    var _didIteratorError5 = false;\n    var _iteratorError5 = undefined;\n\n    try {\n      for (var _iterator5 = links.entries()[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n        var _step5$value = _slicedToArray(_step5.value, 2),\n            _i = _step5$value[0],\n            link = _step5$value[1];\n\n        link.index = _i;\n        var source = link.source,\n            target = link.target;\n        if (typeof source !== \"object\") source = link.source = find(nodeById, source);\n        if (typeof target !== \"object\") target = link.target = find(nodeById, target);\n        source.sourceLinks.push(link);\n        target.targetLinks.push(link);\n      }\n    } catch (err) {\n      _didIteratorError5 = true;\n      _iteratorError5 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion5 && _iterator5[\"return\"] != null) {\n          _iterator5[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError5) {\n          throw _iteratorError5;\n        }\n      }\n    }\n  }\n\n  function computeNodeValues(_ref3) {\n    var nodes = _ref3.nodes;\n    var _iteratorNormalCompletion6 = true;\n    var _didIteratorError6 = false;\n    var _iteratorError6 = undefined;\n\n    try {\n      for (var _iterator6 = nodes[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n        var node = _step6.value;\n        node.value = Math.max(sum(node.sourceLinks, value), sum(node.targetLinks, value));\n      }\n    } catch (err) {\n      _didIteratorError6 = true;\n      _iteratorError6 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion6 && _iterator6[\"return\"] != null) {\n          _iterator6[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError6) {\n          throw _iteratorError6;\n        }\n      }\n    }\n  }\n\n  function computeNodeDepths(_ref4) {\n    var nodes = _ref4.nodes;\n    var n = nodes.length;\n    var current = new Set(nodes);\n    var next = new Set();\n    var x = 0;\n\n    while (current.size) {\n      var _iteratorNormalCompletion7 = true;\n      var _didIteratorError7 = false;\n      var _iteratorError7 = undefined;\n\n      try {\n        for (var _iterator7 = current[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n          var node = _step7.value;\n          node.depth = x;\n          var _iteratorNormalCompletion8 = true;\n          var _didIteratorError8 = false;\n          var _iteratorError8 = undefined;\n\n          try {\n            for (var _iterator8 = node.sourceLinks[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n              var target = _step8.value.target;\n              next.add(target);\n            }\n          } catch (err) {\n            _didIteratorError8 = true;\n            _iteratorError8 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion8 && _iterator8[\"return\"] != null) {\n                _iterator8[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError8) {\n                throw _iteratorError8;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError7 = true;\n        _iteratorError7 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion7 && _iterator7[\"return\"] != null) {\n            _iterator7[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError7) {\n            throw _iteratorError7;\n          }\n        }\n      }\n\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeHeights(_ref5) {\n    var nodes = _ref5.nodes;\n    var n = nodes.length;\n    var current = new Set(nodes);\n    var next = new Set();\n    var x = 0;\n\n    while (current.size) {\n      var _iteratorNormalCompletion9 = true;\n      var _didIteratorError9 = false;\n      var _iteratorError9 = undefined;\n\n      try {\n        for (var _iterator9 = current[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n          var node = _step9.value;\n          node.height = x;\n          var _iteratorNormalCompletion10 = true;\n          var _didIteratorError10 = false;\n          var _iteratorError10 = undefined;\n\n          try {\n            for (var _iterator10 = node.targetLinks[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {\n              var source = _step10.value.source;\n              next.add(source);\n            }\n          } catch (err) {\n            _didIteratorError10 = true;\n            _iteratorError10 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion10 && _iterator10[\"return\"] != null) {\n                _iterator10[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError10) {\n                throw _iteratorError10;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError9 = true;\n        _iteratorError9 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion9 && _iterator9[\"return\"] != null) {\n            _iterator9[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError9) {\n            throw _iteratorError9;\n          }\n        }\n      }\n\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers(_ref6) {\n    var nodes = _ref6.nodes;\n    var x = max(nodes, function (d) {\n      return d.depth;\n    }) + 1;\n    var kx = (x1 - x0 - dx) / (x - 1);\n    var columns = new Array(x);\n    var _iteratorNormalCompletion11 = true;\n    var _didIteratorError11 = false;\n    var _iteratorError11 = undefined;\n\n    try {\n      for (var _iterator11 = nodes[Symbol.iterator](), _step11; !(_iteratorNormalCompletion11 = (_step11 = _iterator11.next()).done); _iteratorNormalCompletion11 = true) {\n        var node = _step11.value;\n        var i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n        node.layer = i;\n        node.x0 = x0 + i * kx;\n        node.x1 = node.x0 + dx;\n        if (columns[i]) columns[i].push(node);else columns[i] = [node];\n      }\n    } catch (err) {\n      _didIteratorError11 = true;\n      _iteratorError11 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion11 && _iterator11[\"return\"] != null) {\n          _iterator11[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError11) {\n          throw _iteratorError11;\n        }\n      }\n    }\n\n    if (sort) {\n      var _iteratorNormalCompletion12 = true;\n      var _didIteratorError12 = false;\n      var _iteratorError12 = undefined;\n\n      try {\n        for (var _iterator12 = columns[Symbol.iterator](), _step12; !(_iteratorNormalCompletion12 = (_step12 = _iterator12.next()).done); _iteratorNormalCompletion12 = true) {\n          var column = _step12.value;\n          column.sort(sort);\n        }\n      } catch (err) {\n        _didIteratorError12 = true;\n        _iteratorError12 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion12 && _iterator12[\"return\"] != null) {\n            _iterator12[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError12) {\n            throw _iteratorError12;\n          }\n        }\n      }\n    }\n\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    var ky = min(columns, function (c) {\n      return (y1 - y0 - (c.length - 1) * py) / sum(c, value);\n    });\n    var _iteratorNormalCompletion13 = true;\n    var _didIteratorError13 = false;\n    var _iteratorError13 = undefined;\n\n    try {\n      for (var _iterator13 = columns[Symbol.iterator](), _step13; !(_iteratorNormalCompletion13 = (_step13 = _iterator13.next()).done); _iteratorNormalCompletion13 = true) {\n        var _nodes = _step13.value;\n        var y = y0;\n        var _iteratorNormalCompletion14 = true;\n        var _didIteratorError14 = false;\n        var _iteratorError14 = undefined;\n\n        try {\n          for (var _iterator14 = _nodes[Symbol.iterator](), _step14; !(_iteratorNormalCompletion14 = (_step14 = _iterator14.next()).done); _iteratorNormalCompletion14 = true) {\n            var _node = _step14.value;\n            _node.y0 = y;\n            _node.y1 = y + _node.value * ky;\n            y = _node.y1 + py;\n            var _iteratorNormalCompletion15 = true;\n            var _didIteratorError15 = false;\n            var _iteratorError15 = undefined;\n\n            try {\n              for (var _iterator15 = _node.sourceLinks[Symbol.iterator](), _step15; !(_iteratorNormalCompletion15 = (_step15 = _iterator15.next()).done); _iteratorNormalCompletion15 = true) {\n                var link = _step15.value;\n                link.width = link.value * ky;\n              }\n            } catch (err) {\n              _didIteratorError15 = true;\n              _iteratorError15 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion15 && _iterator15[\"return\"] != null) {\n                  _iterator15[\"return\"]();\n                }\n              } finally {\n                if (_didIteratorError15) {\n                  throw _iteratorError15;\n                }\n              }\n            }\n          }\n        } catch (err) {\n          _didIteratorError14 = true;\n          _iteratorError14 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion14 && _iterator14[\"return\"] != null) {\n              _iterator14[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError14) {\n              throw _iteratorError14;\n            }\n          }\n        }\n\n        y = (y1 - y + py) / (_nodes.length + 1);\n\n        for (var i = 0; i < _nodes.length; ++i) {\n          var node = _nodes[i];\n          node.y0 += y * (i + 1);\n          node.y1 += y * (i + 1);\n        }\n\n        reorderLinks(_nodes);\n      }\n    } catch (err) {\n      _didIteratorError13 = true;\n      _iteratorError13 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion13 && _iterator13[\"return\"] != null) {\n          _iterator13[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError13) {\n          throw _iteratorError13;\n        }\n      }\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    var columns = computeNodeLayers(graph);\n    initializeNodeBreadths(columns);\n\n    for (var i = 0; i < iterations; ++i) {\n      var alpha = Math.pow(0.99, i);\n      var beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  } // Reposition each node based on its incoming (target) links.\n\n\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (var i = 1, n = columns.length; i < n; ++i) {\n      var column = columns[i];\n      var _iteratorNormalCompletion16 = true;\n      var _didIteratorError16 = false;\n      var _iteratorError16 = undefined;\n\n      try {\n        for (var _iterator16 = column[Symbol.iterator](), _step16; !(_iteratorNormalCompletion16 = (_step16 = _iterator16.next()).done); _iteratorNormalCompletion16 = true) {\n          var target = _step16.value;\n          var y = 0;\n          var w = 0;\n          var _iteratorNormalCompletion17 = true;\n          var _didIteratorError17 = false;\n          var _iteratorError17 = undefined;\n\n          try {\n            for (var _iterator17 = target.targetLinks[Symbol.iterator](), _step17; !(_iteratorNormalCompletion17 = (_step17 = _iterator17.next()).done); _iteratorNormalCompletion17 = true) {\n              var _step17$value = _step17.value,\n                  source = _step17$value.source,\n                  _value = _step17$value.value;\n              var v = _value * (target.layer - source.layer);\n              y += targetTop(source, target) * v;\n              w += v;\n            }\n          } catch (err) {\n            _didIteratorError17 = true;\n            _iteratorError17 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion17 && _iterator17[\"return\"] != null) {\n                _iterator17[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError17) {\n                throw _iteratorError17;\n              }\n            }\n          }\n\n          if (!(w > 0)) continue;\n          var dy = (y / w - target.y0) * alpha;\n          target.y0 += dy;\n          target.y1 += dy;\n          reorderNodeLinks(target);\n        }\n      } catch (err) {\n        _didIteratorError16 = true;\n        _iteratorError16 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion16 && _iterator16[\"return\"] != null) {\n            _iterator16[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError16) {\n            throw _iteratorError16;\n          }\n        }\n      }\n\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  } // Reposition each node based on its outgoing (source) links.\n\n\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (var n = columns.length, i = n - 2; i >= 0; --i) {\n      var column = columns[i];\n      var _iteratorNormalCompletion18 = true;\n      var _didIteratorError18 = false;\n      var _iteratorError18 = undefined;\n\n      try {\n        for (var _iterator18 = column[Symbol.iterator](), _step18; !(_iteratorNormalCompletion18 = (_step18 = _iterator18.next()).done); _iteratorNormalCompletion18 = true) {\n          var source = _step18.value;\n          var y = 0;\n          var w = 0;\n          var _iteratorNormalCompletion19 = true;\n          var _didIteratorError19 = false;\n          var _iteratorError19 = undefined;\n\n          try {\n            for (var _iterator19 = source.sourceLinks[Symbol.iterator](), _step19; !(_iteratorNormalCompletion19 = (_step19 = _iterator19.next()).done); _iteratorNormalCompletion19 = true) {\n              var _step19$value = _step19.value,\n                  target = _step19$value.target,\n                  _value2 = _step19$value.value;\n              var v = _value2 * (target.layer - source.layer);\n              y += sourceTop(source, target) * v;\n              w += v;\n            }\n          } catch (err) {\n            _didIteratorError19 = true;\n            _iteratorError19 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion19 && _iterator19[\"return\"] != null) {\n                _iterator19[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError19) {\n                throw _iteratorError19;\n              }\n            }\n          }\n\n          if (!(w > 0)) continue;\n          var dy = (y / w - source.y0) * alpha;\n          source.y0 += dy;\n          source.y1 += dy;\n          reorderNodeLinks(source);\n        }\n      } catch (err) {\n        _didIteratorError18 = true;\n        _iteratorError18 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion18 && _iterator18[\"return\"] != null) {\n            _iterator18[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError18) {\n            throw _iteratorError18;\n          }\n        }\n      }\n\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    var i = nodes.length >> 1;\n    var subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  } // Push any overlapping nodes down.\n\n\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      var node = nodes[i];\n      var dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) node.y0 += dy, node.y1 += dy;\n      y = node.y1 + py;\n    }\n  } // Push any overlapping nodes up.\n\n\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      var node = nodes[i];\n      var dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) node.y0 -= dy, node.y1 -= dy;\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks(_ref7) {\n    var sourceLinks = _ref7.sourceLinks,\n        targetLinks = _ref7.targetLinks;\n\n    if (linkSort === undefined) {\n      var _iteratorNormalCompletion20 = true;\n      var _didIteratorError20 = false;\n      var _iteratorError20 = undefined;\n\n      try {\n        for (var _iterator20 = targetLinks[Symbol.iterator](), _step20; !(_iteratorNormalCompletion20 = (_step20 = _iterator20.next()).done); _iteratorNormalCompletion20 = true) {\n          var _sourceLinks = _step20.value.source.sourceLinks;\n\n          _sourceLinks.sort(ascendingTargetBreadth);\n        }\n      } catch (err) {\n        _didIteratorError20 = true;\n        _iteratorError20 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion20 && _iterator20[\"return\"] != null) {\n            _iterator20[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError20) {\n            throw _iteratorError20;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion21 = true;\n      var _didIteratorError21 = false;\n      var _iteratorError21 = undefined;\n\n      try {\n        for (var _iterator21 = sourceLinks[Symbol.iterator](), _step21; !(_iteratorNormalCompletion21 = (_step21 = _iterator21.next()).done); _iteratorNormalCompletion21 = true) {\n          var _targetLinks = _step21.value.target.targetLinks;\n\n          _targetLinks.sort(ascendingSourceBreadth);\n        }\n      } catch (err) {\n        _didIteratorError21 = true;\n        _iteratorError21 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion21 && _iterator21[\"return\"] != null) {\n            _iterator21[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError21) {\n            throw _iteratorError21;\n          }\n        }\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      var _iteratorNormalCompletion22 = true;\n      var _didIteratorError22 = false;\n      var _iteratorError22 = undefined;\n\n      try {\n        for (var _iterator22 = nodes[Symbol.iterator](), _step22; !(_iteratorNormalCompletion22 = (_step22 = _iterator22.next()).done); _iteratorNormalCompletion22 = true) {\n          var _step22$value = _step22.value,\n              sourceLinks = _step22$value.sourceLinks,\n              targetLinks = _step22$value.targetLinks;\n          sourceLinks.sort(ascendingTargetBreadth);\n          targetLinks.sort(ascendingSourceBreadth);\n        }\n      } catch (err) {\n        _didIteratorError22 = true;\n        _iteratorError22 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion22 && _iterator22[\"return\"] != null) {\n            _iterator22[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError22) {\n            throw _iteratorError22;\n          }\n        }\n      }\n    }\n  } // Returns the target.y0 that would produce an ideal link from source to target.\n\n\n  function targetTop(source, target) {\n    var y = source.y0 - (source.sourceLinks.length - 1) * py / 2;\n    var _iteratorNormalCompletion23 = true;\n    var _didIteratorError23 = false;\n    var _iteratorError23 = undefined;\n\n    try {\n      for (var _iterator23 = source.sourceLinks[Symbol.iterator](), _step23; !(_iteratorNormalCompletion23 = (_step23 = _iterator23.next()).done); _iteratorNormalCompletion23 = true) {\n        var _step23$value = _step23.value,\n            node = _step23$value.target,\n            width = _step23$value.width;\n        if (node === target) break;\n        y += width + py;\n      }\n    } catch (err) {\n      _didIteratorError23 = true;\n      _iteratorError23 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion23 && _iterator23[\"return\"] != null) {\n          _iterator23[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError23) {\n          throw _iteratorError23;\n        }\n      }\n    }\n\n    var _iteratorNormalCompletion24 = true;\n    var _didIteratorError24 = false;\n    var _iteratorError24 = undefined;\n\n    try {\n      for (var _iterator24 = target.targetLinks[Symbol.iterator](), _step24; !(_iteratorNormalCompletion24 = (_step24 = _iterator24.next()).done); _iteratorNormalCompletion24 = true) {\n        var _step24$value = _step24.value,\n            _node2 = _step24$value.source,\n            _width = _step24$value.width;\n        if (_node2 === source) break;\n        y -= _width;\n      }\n    } catch (err) {\n      _didIteratorError24 = true;\n      _iteratorError24 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion24 && _iterator24[\"return\"] != null) {\n          _iterator24[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError24) {\n          throw _iteratorError24;\n        }\n      }\n    }\n\n    return y;\n  } // Returns the source.y0 that would produce an ideal link from source to target.\n\n\n  function sourceTop(source, target) {\n    var y = target.y0 - (target.targetLinks.length - 1) * py / 2;\n    var _iteratorNormalCompletion25 = true;\n    var _didIteratorError25 = false;\n    var _iteratorError25 = undefined;\n\n    try {\n      for (var _iterator25 = target.targetLinks[Symbol.iterator](), _step25; !(_iteratorNormalCompletion25 = (_step25 = _iterator25.next()).done); _iteratorNormalCompletion25 = true) {\n        var _step25$value = _step25.value,\n            node = _step25$value.source,\n            width = _step25$value.width;\n        if (node === source) break;\n        y += width + py;\n      }\n    } catch (err) {\n      _didIteratorError25 = true;\n      _iteratorError25 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion25 && _iterator25[\"return\"] != null) {\n          _iterator25[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError25) {\n          throw _iteratorError25;\n        }\n      }\n    }\n\n    var _iteratorNormalCompletion26 = true;\n    var _didIteratorError26 = false;\n    var _iteratorError26 = undefined;\n\n    try {\n      for (var _iterator26 = source.sourceLinks[Symbol.iterator](), _step26; !(_iteratorNormalCompletion26 = (_step26 = _iterator26.next()).done); _iteratorNormalCompletion26 = true) {\n        var _step26$value = _step26.value,\n            _node3 = _step26$value.target,\n            _width2 = _step26$value.width;\n        if (_node3 === target) break;\n        y -= _width2;\n      }\n    } catch (err) {\n      _didIteratorError26 = true;\n      _iteratorError26 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion26 && _iterator26[\"return\"] != null) {\n          _iterator26[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError26) {\n          throw _iteratorError26;\n        }\n      }\n    }\n\n    return y;\n  }\n\n  return sankey;\n}","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nexport default function max(values, valueof) {\n  var max;\n\n  if (valueof === undefined) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var value = _step.value;\n\n        if (value != null && value >= value && (max === undefined || max < value)) {\n          max = value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else {\n    var index = -1;\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = values[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var _value = _step2.value;\n\n        if ((_value = valueof(_value, ++index, values)) != null && _value >= _value && (max === undefined || max < _value)) {\n          max = _value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n          _iterator2[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n\n  return max;\n}","import { linkHorizontal } from \"d3-shape\";\n\nfunction horizontalSource(d) {\n  return [d.source.x1, d.y0];\n}\n\nfunction horizontalTarget(d) {\n  return [d.target.x0, d.y1];\n}\n\nexport default function () {\n  return linkHorizontal().source(horizontalSource).target(horizontalTarget);\n}","export { default as sankey } from \"./sankey.js\";\nexport { center as sankeyCenter, left as sankeyLeft, right as sankeyRight, justify as sankeyJustify } from \"./align.js\";\nexport { default as sankeyLinkHorizontal } from \"./sankeyLinkHorizontal.js\";","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { generateSankeyData } from '@nivo/generators'\nimport SEO from '../../components/seo'\nimport ApiClient from '../../components/components/api-client/ApiClient'\nimport { groups } from '../../data/components/sankey/props'\nimport mapper from '../../data/components/sankey/mapper'\nimport meta from '../../data/components/sankey/meta.yml'\n\nconst data = generateSankeyData({ nodeCount: 6, maxIterations: 8 })\n\nconst SankeyApi = () => {\n    return (\n        <>\n            <SEO title=\"Sankey HTTP API\" keywords={[...meta.Sankey.tags, 'HTTP API']} />\n            <ApiClient\n                componentName=\"Sankey\"\n                chartClass=\"sankey\"\n                apiPath=\"/charts/sankey\"\n                flavors={meta.flavors}\n                dataProperty=\"data\"\n                controlGroups={groups}\n                propsMapper={mapper}\n                defaultProps={{\n                    width: 1200,\n                    height: 800,\n                    data: JSON.stringify(data, null, '  '),\n                    margin: {\n                        top: 20,\n                        right: 20,\n                        bottom: 20,\n                        left: 20,\n                    },\n\n                    layout: 'horizontal',\n                    align: 'justify',\n                    sort: 'auto',\n                    colors: { scheme: 'category10' },\n\n                    nodeOpacity: 1,\n                    nodeHoverOpacity: 1,\n                    nodeThickness: 18,\n                    nodeInnerPadding: 3,\n                    nodeSpacing: 24,\n                    nodeBorderWidth: 0,\n                    nodeBorderColor: {\n                        from: 'color',\n                        modifiers: [['darker', 0.8]],\n                    },\n\n                    linkOpacity: 0.5,\n                    linkHoverOpacity: 0.6,\n                    linkHoverOthersOpacity: 0.1,\n                    linkContract: 0,\n                    linkBlendMode: 'multiply',\n                    enableLinkGradient: true,\n\n                    enableLabels: true,\n                    labelPosition: 'outside',\n                    labelOrientation: 'vertical',\n                    labelPadding: 16,\n                    labelTextColor: {\n                        from: 'color',\n                        modifiers: [['darker', 1]],\n                    },\n                }}\n            />\n        </>\n    )\n}\n\nexport default SankeyApi\n","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar mapValues = function mapValues(obj, func) {\n  var result = {};\n  /* eslint-disable no-restricted-syntax */\n\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      result[key] = func(obj[key], key);\n    }\n  }\n  /* eslint-enable no-restricted-syntax */\n\n\n  return result;\n};\n\nvar _default = mapValues;\nexports[\"default\"] = _default;","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { SankeyDefaultProps as defaults, sankeyAlignmentPropKeys } from '@nivo/sankey'\nimport { motionProperties, groupProperties } from '../../../lib/componentProperties'\n\nconst props = [\n    {\n        key: 'data',\n        group: 'Base',\n        help: 'Chart data.',\n        description: `\n            Chart data, which must conform to this structure:\n            \\`\\`\\`\n            {\n                nodes: Array<{\n                    id: string | number\n                }>,\n                links: Array<{\n                    source: string | number, // ref to node id\n                    target: string | number, // ref to node id\n                    value:  number\n                }}>\n            }\n            \\`\\`\\`\n        `,\n        type: '{ nodes: object[], links: object[] }',\n        required: true,\n    },\n    {\n        key: 'layout',\n        help: `Control sankey layout direction.`,\n        type: 'string',\n        required: false,\n        defaultValue: defaults.layout,\n        controlType: 'radio',\n        group: 'Base',\n        controlOptions: {\n            choices: [\n                { label: 'horizontal', value: 'horizontal' },\n                { label: 'vertical', value: 'vertical' },\n            ],\n        },\n    },\n    {\n        key: 'align',\n        group: 'Base',\n        help: 'Node alignment method.',\n        description: `\n            Defines node alignment method.\n            Please have a look at the\n            [official d3 documentation](https://github.com/d3/d3-sankey#sankey_nodeAlign)\n            for further information.\n        `,\n        type: 'string',\n        required: false,\n        defaultValue: defaults.align,\n        controlType: 'choices',\n        controlOptions: {\n            choices: sankeyAlignmentPropKeys.map(key => ({\n                label: key,\n                value: key,\n            })),\n        },\n    },\n    {\n        key: 'sort',\n        description: `\n            Defines node sorting method. Must be one of:\n\n            - **'auto'** order of nodes within each\n              column is determined automatically by the layout.\n            - **'input'** order is fixed by the input.\n            - **'ascending'** node with lower values on top.\n            - **'descending'** node with higher values on top.\n            - \\`(nodeA, nodeB) => number\\` user defined function.\n\n            Please have a look at the\n            [official d3 documentation](https://github.com/d3/d3-sankey#sankey_nodeSort)\n            for further information.\n        `,\n        help: 'Node sorting method.',\n        type: 'string | Function',\n        required: false,\n        defaultValue: defaults.sort,\n        controlType: 'choices',\n        group: 'Base',\n        controlOptions: {\n            choices: ['auto', 'input', 'ascending', 'descending'].map(key => ({\n                label: key,\n                value: key,\n            })),\n        },\n    },\n    {\n        key: 'colors',\n        help: 'Defines how to compute nodes color.',\n        type: 'string | Function | string[]',\n        required: false,\n        defaultValue: defaults.colors,\n        controlType: 'ordinalColors',\n        group: 'Base',\n    },\n    {\n        key: 'width',\n        enableControlForFlavors: ['api'],\n        description: `\n            not required if using\n            \\`<ResponsiveSankey/>\\`.\n        `,\n        help: 'Chart width.',\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1200,\n            step: 5,\n        },\n    },\n    {\n        key: 'height',\n        enableControlForFlavors: ['api'],\n        description: `\n            not required if using\n            \\`<ResponsiveSankey/>\\`.\n        `,\n        help: 'Chart height.',\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1200,\n            step: 5,\n        },\n    },\n    {\n        key: 'margin',\n        help: 'Chart margin.',\n        type: 'object',\n        required: false,\n        controlType: 'margin',\n        group: 'Base',\n    },\n    {\n        key: 'nodeThickness',\n        help: 'Node thickness.',\n        required: false,\n        defaultValue: defaults.nodeThickness,\n        type: 'number',\n        controlType: 'range',\n        group: 'Nodes',\n        controlOptions: {\n            unit: 'px',\n            min: 2,\n            max: 100,\n        },\n    },\n    {\n        key: 'nodeOpacity',\n        help: 'Node opacity (0~1).',\n        required: false,\n        defaultValue: defaults.nodeOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Nodes',\n    },\n    {\n        key: 'nodeHoverOpacity',\n        flavors: ['svg'],\n        help: 'Node opacity on hover (0~1).',\n        required: false,\n        defaultValue: defaults.nodeHoverOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Nodes',\n    },\n    {\n        key: 'nodeSpacing',\n        help: 'Spacing between nodes at an identical level.',\n        required: false,\n        defaultValue: defaults.nodeSpacing,\n        type: 'number',\n        controlType: 'range',\n        group: 'Nodes',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 60,\n        },\n    },\n    {\n        key: 'nodeInnerPadding',\n        help: 'Node inner padding, distance from link, substracted from nodeThickness.',\n        required: false,\n        defaultValue: defaults.nodePaddingX,\n        type: 'number',\n        controlType: 'range',\n        group: 'Nodes',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 20,\n        },\n    },\n    {\n        key: 'nodeBorderWidth',\n        help: 'Node border width.',\n        required: false,\n        defaultValue: defaults.nodeBorderWidth,\n        type: 'number',\n        controlType: 'lineWidth',\n        group: 'Nodes',\n    },\n    {\n        key: 'nodeBorderColor',\n        description: `\n            how to compute node border color,\n            [see dedicated documentation](self:/guides/colors).\n        `,\n        help: 'Method to compute node border color.',\n        type: 'string | object | Function',\n        required: false,\n        defaultValue: defaults.nodeBorderColor,\n        controlType: 'inheritedColor',\n        group: 'Nodes',\n    },\n    {\n        key: 'linkOpacity',\n        help: 'Link opacity (0~1).',\n        required: false,\n        defaultValue: defaults.linkOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Links',\n    },\n    {\n        key: 'linkHoverOpacity',\n        flavors: ['svg'],\n        help: 'Link opacity on hover(0~1).',\n        required: false,\n        defaultValue: defaults.linkHoverOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Links',\n    },\n    {\n        key: 'linkContract',\n        help: 'Contract link width.',\n        required: false,\n        defaultValue: defaults.linkContract,\n        type: 'number',\n        controlType: 'range',\n        group: 'Links',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 60,\n        },\n    },\n    {\n        key: 'linkBlendMode',\n        flavors: ['svg'],\n        help: 'Defines CSS mix-blend-mode property for links.',\n        description: `\n            Defines CSS \\`mix-blend-mode\\` property for links, see\n            [MDN documentation](https://developer.mozilla.org/fr/docs/Web/CSS/mix-blend-mode).\n        `,\n        type: 'string',\n        required: false,\n        defaultValue: defaults.linkBlendMode,\n        controlType: 'blendMode',\n        group: 'Links',\n    },\n    {\n        key: 'enableLinkGradient',\n        help: 'Enable/disable gradient from source/target nodes instead of plain color.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableLinkGradient,\n        controlType: 'switch',\n        group: 'Links',\n    },\n    {\n        key: 'enableLabels',\n        help: 'Enable/disable labels.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableLabels,\n        controlType: 'switch',\n        group: 'Labels',\n    },\n    {\n        key: 'labelPosition',\n        help: 'Label position.',\n        type: 'string',\n        required: false,\n        defaultValue: defaults.labelPosition,\n        controlType: 'radio',\n        group: 'Labels',\n        controlOptions: {\n            choices: ['inside', 'outside'].map(key => ({\n                label: key,\n                value: key,\n            })),\n        },\n    },\n    {\n        key: 'labelPadding',\n        help: 'Label padding from node.',\n        required: false,\n        defaultValue: defaults.labelPadding,\n        type: 'number',\n        controlType: 'range',\n        group: 'Labels',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 60,\n        },\n    },\n    {\n        key: 'labelTextColor',\n        help: 'Method to compute label text color.',\n        description: `\n            how to compute label text color,\n            [see dedicated documentation](self:/guides/colors).\n        `,\n        type: 'string | object | Function',\n        required: false,\n        defaultValue: defaults.labelTextColor,\n        controlType: 'inheritedColor',\n        group: 'Labels',\n    },\n    {\n        key: 'labelOrientation',\n        help: 'Label orientation.',\n        type: 'string',\n        required: false,\n        defaultValue: defaults.labelOrientation,\n        controlType: 'radio',\n        group: 'Labels',\n        controlOptions: {\n            choices: ['horizontal', 'vertical'].map(key => ({\n                label: key,\n                value: key,\n            })),\n        },\n    },\n    {\n        key: 'isInteractive',\n        flavors: ['svg'],\n        help: 'Enable/disable interactivity.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.isInteractive,\n        controlType: 'switch',\n        group: 'Interactivity',\n    },\n    ...motionProperties(['svg'], defaults),\n]\n\nexport const groups = groupProperties(props)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { settingsMapper } from '../../../lib/settings'\n\nexport default settingsMapper({})\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _extends3 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _react = require(\"react\");\n\nvar _setDisplayName = _interopRequireDefault(require(\"./setDisplayName\"));\n\nvar _wrapDisplayName = _interopRequireDefault(require(\"./wrapDisplayName\"));\n\nvar withState = function withState(stateName, stateUpdaterName, initialState) {\n  return function (BaseComponent) {\n    var factory = (0, _react.createFactory)(BaseComponent);\n\n    var WithState =\n    /*#__PURE__*/\n    function (_Component) {\n      (0, _inheritsLoose2[\"default\"])(WithState, _Component);\n\n      function WithState() {\n        var _this;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n        _this.state = {\n          stateValue: typeof initialState === 'function' ? initialState(_this.props) : initialState\n        };\n\n        _this.updateStateValue = function (updateFn, callback) {\n          return _this.setState(function (_ref) {\n            var stateValue = _ref.stateValue;\n            return {\n              stateValue: typeof updateFn === 'function' ? updateFn(stateValue) : updateFn\n            };\n          }, callback);\n        };\n\n        return _this;\n      }\n\n      var _proto = WithState.prototype;\n\n      _proto.render = function render() {\n        var _extends2;\n\n        return factory((0, _extends3[\"default\"])({}, this.props, (_extends2 = {}, _extends2[stateName] = this.state.stateValue, _extends2[stateUpdaterName] = this.updateStateValue, _extends2)));\n      };\n\n      return WithState;\n    }(_react.Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      return (0, _setDisplayName[\"default\"])((0, _wrapDisplayName[\"default\"])(BaseComponent, 'withState'))(WithState);\n    }\n\n    return WithState;\n  };\n};\n\nvar _default = withState;\nexports[\"default\"] = _default;","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphaël Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nconst Link = styled.a`\n    position: relative;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n`\n\nconst Image = styled.img`\n    max-width: 100%;\n    max-height: 100%;\n`\n\nconst EmptyContainer = styled.div`\n    font-size: 14px;\n    line-height: 1.6em;\n    color: ${({ theme }) => theme.colors.textLight};\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n`\n\nconst ApiPreview = ({ responseStatus, chartUrl }) => {\n    if (responseStatus === 201 && chartUrl) {\n        return (\n            <Link href={chartUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                <Image src={chartUrl} alt=\"api result\" />\n            </Link>\n        )\n    }\n\n    return (\n        <EmptyContainer>\n            Click the generate button in order to generate the chart.\n            <br />\n            You can customize settings by using dedicated controls.\n        </EmptyContainer>\n    )\n\n    return <div className=\"api-client_preview\">{content}</div>\n}\n\nApiPreview.propTypes = {\n    responseStatus: PropTypes.number,\n    chartUrl: PropTypes.string,\n}\n\nexport default ApiPreview\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphaël Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport styled, { keyframes } from 'styled-components'\nimport ApiPreview from './ApiPreview'\nimport media from '../../../theming/mediaQueries'\nimport { useTheme } from '../../../theming/context'\nimport CodeBlock from '../../CodeBlock'\n\nconst tabs = ['preview', 'body', 'data']\n\nconst ApiTabs = ({ chartClass, data, body, isLoading, responseStatus, chartUrl }) => {\n    const theme = useTheme()\n\n    const [currentTab, setCurrentTab] = useState('preview')\n    const [hoverTab, setHoverTab] = useState(null)\n\n    return (\n        <Wrapper className={`chart-tabs--${currentTab}`}>\n            <Nav>\n                {tabs.map(tab => {\n                    const isCurrent = tab === currentTab\n                    const icon = tab === 'preview' ? chartClass : 'data'\n                    const iconColors = isCurrent || hoverTab === tab ? 'colored' : 'neutral'\n\n                    return (\n                        <NavItem\n                            key={tab}\n                            className=\"no-select\"\n                            isCurrent={isCurrent}\n                            onClick={() => setCurrentTab(tab)}\n                            onMouseEnter={() => setHoverTab(tab)}\n                            onMouseLeave={() => setHoverTab(null)}\n                        >\n                            <Icon className={`sprite-icons-${icon}-${theme.id}-${iconColors}`} />\n                            {tab}\n                        </NavItem>\n                    )\n                })}\n            </Nav>\n            <Content>\n                {currentTab === 'preview' && (\n                    <ApiPreview\n                        isLoading={isLoading}\n                        responseStatus={responseStatus}\n                        chartUrl={chartUrl}\n                    />\n                )}\n                {currentTab === 'body' && <CodeBlock>{JSON.stringify(body, null, '  ')}</CodeBlock>}\n                {currentTab === 'data' && <CodeBlock>{data}</CodeBlock>}\n                <Loader isLoading={isLoading} />\n            </Content>\n        </Wrapper>\n    )\n}\n\nApiTabs.propTypes = {\n    chartClass: PropTypes.string.isRequired,\n    data: PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object]),\n}\n\nexport default ApiTabs\n\nconst Wrapper = styled.div`\n    position: fixed;\n    top: ${({ theme }) => theme.dimensions.headerHeight}px;\n    right: 0;\n    width: 60%;\n    --innerWidth: calc(100% - ${({ theme }) => theme.dimensions.miniNavWidth}px);\n    width: calc(var(--innerWidth) * 0.6);\n    --innerHeight: calc(100% - ${({ theme }) => theme.dimensions.headerHeight}px);\n    height: calc(var(--innerHeight) * 0.55);\n    z-index: 10;\n    overflow: hidden;\n    background: ${({ theme }) => theme.colors.cardBackground};\n    border-bottom: 1px solid ${({ theme }) => theme.colors.border};\n\n    ${media.tablet`\n        & {\n            top: ${({ theme }) => theme.dimensions.headerHeight}px;\n            right: 0;\n            width: 60%;\n            --innerHeight: calc(100% - ${({ theme }) => theme.dimensions.headerHeight}px);\n            height: calc(var(--innerHeight) * 0.55);\n        }\n    `}\n\n    ${media.mobile`\n        & {\n            position: relative;\n            top: auto;\n            right: auto;\n            width: auto;\n            height: 460px;\n            z-index: 0;\n            border-top: 1px solid ${({ theme }) => theme.colors.border};\n        }\n    `}\n`\n\nconst Nav = styled.nav`\n    height: 46px;\n    background: ${({ theme }) => theme.colors.background};\n    display: flex;\n    font-size: 15px;\n    color: #aaa;\n    position: relative;\n`\n\nconst NavItem = styled.span`\n    cursor: pointer;\n    height: 46px;\n    display: block;\n    position: relative;\n    padding-left: 46px;\n    padding-right: 14px;\n    padding-top: 11px;\n    background: ${({ isCurrent, theme }) =>\n        isCurrent ? theme.colors.cardBackground : 'transparent'};\n\n    &:hover {\n        color: ${({ theme }) => theme.colors.text};\n    }\n`\n\nconst Icon = styled.span`\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: block;\n    transform: scale(0.44);\n    transform-origin: top left;\n    margin: 12px 0 0 12px;\n`\n\nconst Content = styled.div`\n    position: absolute;\n    top: 46px;\n    bottom: 0;\n    width: 100%;\n    overflow-x: hidden;\n    overflow-y: auto;\n`\n\nconst LoaderContainer = styled.div`\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 100px;\n    height: 80px;\n    margin-top: -40px;\n    margin-left: -50px;\n    background: ${({ theme }) => theme.colors.cardBackground};\n    display: grid;\n    grid-template-columns: 10px 10px 10px 10px 10px;\n    grid-column-gap: 6px;\n    padding: 10px 13px;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\n    pointer-events: none;\n    opacity: ${({ isLoading }) => (isLoading ? 1 : 0)};\n    transform: translate3d(0, ${({ isLoading }) => (isLoading ? 0 : '20px')}, 0);\n    transition: transform 200ms, opacity 200ms;\n`\n\nconst loaderBarAnimation = keyframes`\n    0%, 100% {\n        transform: scale3d(1, 0, 1);\n    }\n    50% {\n        transform: scale3d(1, 1, 1);\n    }\n`\n\nconst LoaderBar = styled.span`\n    display: block;\n    background: ${({ theme }) => theme.colors.accent};\n    width: 100%;\n    height: 100%;\n    transform: scale3d(1, 0, 1);\n    transform-origin: 100% 100%;\n    animation-name: ${loaderBarAnimation};\n    animation-duration: 800ms;\n    animation-iteration-count: infinite;\n    animation-delay: ${({ index }) => (index + 1) * 60}ms;\n`\n\nconst Loader = ({ isLoading }) => {\n    return (\n        <LoaderContainer isLoading={isLoading}>\n            <span>\n                <LoaderBar index={0} />\n            </span>\n            <span>\n                <LoaderBar index={1} />\n            </span>\n            <span>\n                <LoaderBar index={2} />\n            </span>\n            <span>\n                <LoaderBar index={3} />\n            </span>\n            <span>\n                <LoaderBar index={4} />\n            </span>\n        </LoaderContainer>\n    )\n}\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphaël Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Component } from 'react'\nimport styled from 'styled-components'\nimport PropTypes from 'prop-types'\n\nconst Button = styled.span`\n    display: block;\n    background-color: ${({ theme }) => theme.colors.accent};\n    color: #fff;\n    text-align: center;\n    padding: 12px 24px;\n    border-radius: 2px;\n    cursor: pointer;\n    text-decoration: none;\n`\n\nclass ApiSubmit extends Component {\n    render() {\n        const { loading, onClick } = this.props\n\n        return <Button onClick={onClick}>{loading ? 'sending' : 'generate'}</Button>\n    }\n}\n\nApiSubmit.propTypes = {\n    loading: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n}\n\nApiSubmit.defaultProps = {}\n\nexport default ApiSubmit\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphaël Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Component } from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n    background: ${({ theme }) => theme.colors.cardBackground};\n    border-top: 1px solid ${({ theme }) => theme.colors.border};\n    overflow-x: hidden;\n    overflow-y: auto;\n`\n\nconst Header = styled.div`\n    padding: 12px 20px;\n    border-bottom: 1px solid ${({ theme }) => theme.colors.borderLight};\n`\n\nconst ResponseJson = styled.pre`\n    padding: 12px 20px;\n    font-size: 13px;\n    line-height: 1.6em;\n    overflow: hidden;\n    width: 100%;\n    margin: 0;\n`\n\nclass ApiResponse extends Component {\n    render() {\n        const { responseStatus, response } = this.props\n\n        let responseContent = 'no response available'\n        if (response) {\n            responseContent = JSON.stringify(response, null, '  ')\n        }\n\n        return (\n            <Container>\n                <Header>\n                    Response {responseStatus ? <strong>{responseStatus}</strong> : 'n/a'}\n                </Header>\n                <ResponseJson>{responseContent}</ResponseJson>\n            </Container>\n        )\n    }\n}\n\nApiResponse.propTypes = {}\n\nApiResponse.defaultProps = {}\n\nexport default ApiResponse\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphaël Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport Layout from '../../Layout'\nimport media from '../../../theming/mediaQueries'\nimport ComponentPage from '../ComponentPage'\nimport ComponentHeader from '../ComponentHeader'\nimport ComponentFlavorSelector from '../ComponentFlavorSelector'\nimport ComponentDescription from '../ComponentDescription'\nimport ComponentSettings from '../ComponentSettings'\nimport ApiTabs from './ApiTabs'\nimport ApiSubmit from './ApiSubmit'\nimport ApiResponse from './ApiResponse'\nimport config from '../../../data/config'\n\nconst description = component => `\nThe \\`${component}\\`component is available in the nivo\nHTTP rendering API.\nThe API generates a SVG and return a path to this SVG\nwhich can then be easily embedded.\n\nThe api accepts almost the same properties as the regular component,\nin json, however it's not interactive and you cannot use code\nin properties (functions).\n\nPlease note that the demo API server is installed on heroku\nusing a free plan, so it might be unavailable from times to times.\n`\n\nexport default class ApiClient extends Component {\n    static propTypes = {\n        componentName: PropTypes.string.isRequired,\n        chartClass: PropTypes.string.isRequired,\n        apiPath: PropTypes.string.isRequired,\n        dataProperty: PropTypes.string.isRequired,\n        propsMapper: PropTypes.func.isRequired,\n    }\n\n    static defaultProps = {\n        dataProperty: 'data',\n        propsMapper: props => props,\n    }\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            props: props.defaultProps,\n            loading: false,\n            responseStatus: null,\n            response: null,\n        }\n    }\n\n    handleSettingsUpdate = settings => {\n        this.setState({ props: settings })\n    }\n\n    handleDataUpdate = e => {\n        const { dataProperty } = this.props\n        const { props } = this.state\n\n        this.setState({\n            props: Object.assign({}, props, {\n                [dataProperty]: e.target.value,\n            }),\n        })\n    }\n\n    handleSubmit = () => {\n        const { apiPath, propsMapper } = this.props\n        const { props } = this.state\n\n        this.setState({\n            loading: true,\n        })\n\n        fetch(`${config.nivoApiUrl}${apiPath}`, {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(propsMapper(props)),\n        })\n            .then(res => {\n                this.setState({\n                    loading: false,\n                    responseStatus: res.status,\n                })\n\n                return res.json()\n            })\n            .then(res => {\n                this.setState({ response: res })\n            })\n            .catch(err => {\n                console.error(err)\n            })\n    }\n\n    render() {\n        const {\n            componentName,\n            chartClass,\n            apiPath,\n            controlGroups,\n            dataProperty,\n            propsMapper,\n            flavors,\n        } = this.props\n        const { props, loading, responseStatus, response } = this.state\n\n        const flavorKeys = flavors.map(flavor => flavor.flavor)\n\n        return (\n            <Layout>\n                <ComponentPage>\n                    <ComponentHeader\n                        chartClass={`${componentName} HTTP API`}\n                        tags={[`POST ${apiPath}`]}\n                    />\n                    {flavors && <ComponentFlavorSelector flavors={flavors} current=\"api\" />}\n                    <ComponentDescription description={description(componentName, apiPath)} />\n                    <ApiTabs\n                        chartClass={chartClass}\n                        data={props[dataProperty]}\n                        body={propsMapper(props)}\n                        isLoading={loading}\n                        responseStatus={responseStatus}\n                        chartUrl={response ? response.url : null}\n                    />\n                    <ControlPanel>\n                        <SubmitWrapper>\n                            <ApiSubmit loading={loading} onClick={this.handleSubmit} />\n                        </SubmitWrapper>\n                        <ApiResponse responseStatus={responseStatus} response={response} />\n                    </ControlPanel>\n                    <ComponentSettings\n                        component={componentName}\n                        settings={props}\n                        flavors={flavorKeys}\n                        currentFlavor=\"api\"\n                        groups={controlGroups}\n                        onChange={this.handleSettingsUpdate}\n                    />\n                </ComponentPage>\n            </Layout>\n        )\n    }\n}\n\nconst ControlPanel = styled.div`\n    position: fixed;\n    right: 0;\n    bottom: 0;\n    --innerWidth: calc(100% - ${({ theme }) => theme.dimensions.miniNavWidth}px);\n    --partialWidth: calc(var(--innerWidth) * 0.6);\n    width: var(--partialWidth);\n    background: ${({ theme }) => theme.colors.cardAltBackground};\n    --innerHeight: calc(100% - ${({ theme }) => theme.dimensions.headerHeight}px);\n    height: calc(var(--innerHeight) * 0.45);\n    z-index: 10;\n    overflow: hidden;\n    display: grid;\n    grid-template-rows: 1fr 2fr;\n\n    ${media.tablet`\n        & {\n            right: 0;\n            bottom: 0;\n            --innerHeight: calc(100% - ${({ theme }) => theme.dimensions.headerHeight}px);\n            height: calc(var(--innerHeight) * 0.45);\n            width: 60%;\n        }\n    `}\n\n    ${media.mobile`\n        & {\n            position: relative;\n            right: auto;\n            bottom: auto;\n            width: auto;\n            height: auto;\n            border-left-width: 0;\n            z-index: 0;\n        }\n    `}\n`\n\nconst SubmitWrapper = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 12px 0;\n`\n","import _uniq from 'lodash/uniq';\nimport React, { Fragment, memo } from 'react';\nimport { blendModePropType, noop, withTheme, withDimensions, withMotion, getLabelGenerator, motionPropTypes, SmartMotion, Container, SvgWrapper, ResponsiveWrapper } from '@nivo/core';\nimport { LegendPropShape, BoxLegendSvg } from '@nivo/legends';\nimport PropTypes from 'prop-types';\nimport { sankeyCenter, sankeyJustify, sankeyLeft, sankeyRight, sankey } from 'd3-sankey';\nimport { ordinalColorsPropType, inheritedColorPropType, getOrdinalColorScale, getInheritedColorGenerator, interpolateColor, getInterpolatedColor } from '@nivo/colors';\nimport pure from 'recompose/pure';\nimport _withPropsOnChange from 'recompose/withPropsOnChange';\nimport _withState from 'recompose/withState';\nimport _defaultProps from 'recompose/defaultProps';\nimport _compose from 'recompose/compose';\nimport _cloneDeep from 'lodash/cloneDeep';\nimport { TransitionMotion, spring } from 'react-motion';\nimport withHandlers from 'recompose/withHandlers';\nimport { BasicTooltip, Chip } from '@nivo/tooltip';\nimport { line, curveMonotoneX, curveMonotoneY } from 'd3-shape';\n\nvar sankeyAlignmentPropMapping = {\n  center: sankeyCenter,\n  justify: sankeyJustify,\n  start: sankeyLeft,\n  end: sankeyRight\n};\nvar sankeyAlignmentPropKeys = Object.keys(sankeyAlignmentPropMapping);\nvar sankeyAlignmentPropType = PropTypes.oneOf(sankeyAlignmentPropKeys);\nvar sankeyAlignmentFromProp = function sankeyAlignmentFromProp(prop) {\n  return sankeyAlignmentPropMapping[prop];\n};\nvar SankeyPropTypes = {\n  data: PropTypes.shape({\n    nodes: PropTypes.arrayOf(PropTypes.shape({\n      id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n    })).isRequired,\n    links: PropTypes.arrayOf(PropTypes.shape({\n      source: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n      target: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n    })).isRequired\n  }).isRequired,\n  layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n  align: sankeyAlignmentPropType.isRequired,\n  sort: PropTypes.oneOfType([PropTypes.oneOf(['auto', 'input', 'ascending', 'descending']), PropTypes.func]).isRequired,\n  colors: ordinalColorsPropType.isRequired,\n  nodeOpacity: PropTypes.number.isRequired,\n  nodeHoverOpacity: PropTypes.number.isRequired,\n  nodeHoverOthersOpacity: PropTypes.number.isRequired,\n  nodeThickness: PropTypes.number.isRequired,\n  nodeSpacing: PropTypes.number.isRequired,\n  nodeInnerPadding: PropTypes.number.isRequired,\n  nodeBorderWidth: PropTypes.number.isRequired,\n  nodeBorderColor: inheritedColorPropType,\n  linkOpacity: PropTypes.number.isRequired,\n  linkHoverOpacity: PropTypes.number.isRequired,\n  linkHoverOthersOpacity: PropTypes.number.isRequired,\n  linkContract: PropTypes.number.isRequired,\n  linkBlendMode: blendModePropType.isRequired,\n  enableLinkGradient: PropTypes.bool.isRequired,\n  enableLabels: PropTypes.bool.isRequired,\n  labelPosition: PropTypes.oneOf(['inside', 'outside']).isRequired,\n  labelPadding: PropTypes.number.isRequired,\n  labelOrientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n  labelTextColor: inheritedColorPropType,\n  getLabelTextColor: PropTypes.func.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  labelFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  getLabel: PropTypes.func.isRequired,\n  nodeTooltip: PropTypes.func,\n  linkTooltip: PropTypes.func,\n  isInteractive: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired\n};\nvar SankeyDefaultProps = {\n  layout: 'horizontal',\n  align: 'center',\n  sort: 'auto',\n  colors: {\n    scheme: 'nivo'\n  },\n  nodeOpacity: 0.75,\n  nodeHoverOpacity: 1,\n  nodeHoverOthersOpacity: 0.15,\n  nodeThickness: 12,\n  nodeSpacing: 12,\n  nodeInnerPadding: 0,\n  nodeBorderWidth: 1,\n  nodeBorderColor: {\n    from: 'color',\n    modifiers: [['darker', 0.5]]\n  },\n  linkOpacity: 0.25,\n  linkHoverOpacity: 0.6,\n  linkHoverOthersOpacity: 0.15,\n  linkContract: 0,\n  linkBlendMode: 'multiply',\n  enableLinkGradient: false,\n  enableLabels: true,\n  label: 'id',\n  labelPosition: 'inside',\n  labelPadding: 9,\n  labelOrientation: 'horizontal',\n  labelTextColor: {\n    from: 'color',\n    modifiers: [['darker', 0.8]]\n  },\n  isInteractive: true,\n  onClick: noop,\n  legends: []\n};\n\nvar getId = function getId(d) {\n  return d.id;\n};\nvar enhance = (function (Component) {\n  return _compose(_defaultProps(SankeyDefaultProps), _withState('currentNode', 'setCurrentNode', null), _withState('currentLink', 'setCurrentLink', null), withTheme(), withDimensions(), withMotion(), _withPropsOnChange(['colors'], function (_ref) {\n    var colors = _ref.colors;\n    return {\n      getColor: getOrdinalColorScale(colors, 'id'),\n      getLinkColor: getOrdinalColorScale(colors, 'source.id')\n    };\n  }), _withPropsOnChange(['nodeBorderColor', 'theme'], function (_ref2) {\n    var nodeBorderColor = _ref2.nodeBorderColor,\n        theme = _ref2.theme;\n    return {\n      getNodeBorderColor: getInheritedColorGenerator(nodeBorderColor, theme)\n    };\n  }), _withPropsOnChange(['labelTextColor', 'theme'], function (_ref3) {\n    var labelTextColor = _ref3.labelTextColor,\n        theme = _ref3.theme;\n    return {\n      getLabelTextColor: getInheritedColorGenerator(labelTextColor, theme)\n    };\n  }), _withPropsOnChange(['label', 'labelFormat'], function (_ref4) {\n    var label = _ref4.label,\n        labelFormat = _ref4.labelFormat;\n    return {\n      getLabel: getLabelGenerator(label, labelFormat)\n    };\n  }), _withPropsOnChange(['sort'], function (_ref5) {\n    var sort = _ref5.sort;\n    var sortFunction = sort;\n    if (sort === 'auto') {\n      sortFunction = undefined;\n    } else if (sort === 'input') {\n      sortFunction = null;\n    } else if (sort === 'ascending') {\n      sortFunction = function sortFunction(a, b) {\n        return a.value - b.value;\n      };\n    } else if (sort === 'descending') {\n      sortFunction = function sortFunction(a, b) {\n        return b.value - a.value;\n      };\n    }\n    return {\n      sortFunction: sortFunction\n    };\n  }), _withPropsOnChange(['align'], function (_ref6) {\n    var align = _ref6.align;\n    return {\n      alignFunction: sankeyAlignmentFromProp(align)\n    };\n  }), _withPropsOnChange(['data', 'layout', 'alignFunction', 'sortFunction', 'nodeThickness', 'nodeSpacing', 'nodeInnerPadding', 'width', 'height', 'getColor', 'getLinkColor', 'getLabel'], function (_ref7) {\n    var _data = _ref7.data,\n        layout = _ref7.layout,\n        alignFunction = _ref7.alignFunction,\n        sortFunction = _ref7.sortFunction,\n        nodeThickness = _ref7.nodeThickness,\n        nodeSpacing = _ref7.nodeSpacing,\n        nodeInnerPadding = _ref7.nodeInnerPadding,\n        width = _ref7.width,\n        height = _ref7.height,\n        getColor = _ref7.getColor,\n        getLinkColor = _ref7.getLinkColor,\n        getLabel = _ref7.getLabel;\n    var sankey$1 = sankey().nodeAlign(alignFunction).nodeSort(sortFunction).nodeWidth(nodeThickness).nodePadding(nodeSpacing).size(layout === 'horizontal' ? [width, height] : [height, width]).nodeId(getId);\n    var data = _cloneDeep(_data);\n    sankey$1(data);\n    data.nodes.forEach(function (node) {\n      node.color = getColor(node);\n      node.label = getLabel(node);\n      if (layout === 'horizontal') {\n        node.x = node.x0 + nodeInnerPadding;\n        node.y = node.y0;\n        node.width = Math.max(node.x1 - node.x0 - nodeInnerPadding * 2, 0);\n        node.height = Math.max(node.y1 - node.y0, 0);\n      } else {\n        node.x = node.y0;\n        node.y = node.x0 + nodeInnerPadding;\n        node.width = Math.max(node.y1 - node.y0, 0);\n        node.height = Math.max(node.x1 - node.x0 - nodeInnerPadding * 2, 0);\n        var oldX0 = node.x0;\n        var oldX1 = node.x1;\n        node.x0 = node.y0;\n        node.x1 = node.y1;\n        node.y0 = oldX0;\n        node.y1 = oldX1;\n      }\n    });\n    data.links.forEach(function (link) {\n      link.color = getLinkColor(link);\n      link.pos0 = link.y0;\n      link.pos1 = link.y1;\n      link.thickness = link.width;\n      delete link.y0;\n      delete link.y1;\n      delete link.width;\n    });\n    return data;\n  }), _withPropsOnChange(['nodes'], function (_ref8) {\n    var nodes = _ref8.nodes;\n    return {\n      legendData: nodes.map(function (node) {\n        return {\n          id: node.id,\n          label: node.label,\n          color: node.color\n        };\n      })\n    };\n  }), pure)(Component);\n});\n\nvar SankeyNodesItem = function SankeyNodesItem(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      color = _ref.color,\n      opacity = _ref.opacity,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor,\n      handleMouseEnter = _ref.handleMouseEnter,\n      handleMouseMove = _ref.handleMouseMove,\n      handleMouseLeave = _ref.handleMouseLeave,\n      onClick = _ref.onClick;\n  return React.createElement(\"rect\", {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    fill: color,\n    fillOpacity: opacity,\n    strokeWidth: borderWidth,\n    stroke: borderColor,\n    strokeOpacity: opacity,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: onClick\n  });\n};\nSankeyNodesItem.propTypes = {\n  node: PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    color: PropTypes.string.isRequired\n  }),\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  opacity: PropTypes.number.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.string.isRequired,\n  showTooltip: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.func.isRequired,\n  setCurrent: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n  handleMouseEnter: PropTypes.func.isRequired,\n  handleMouseMove: PropTypes.func.isRequired,\n  handleMouseLeave: PropTypes.func.isRequired,\n  tooltip: PropTypes.element.isRequired,\n  theme: PropTypes.object.isRequired\n};\nvar enhance$1 = _compose(_withPropsOnChange(['node', 'theme', 'tooltip'], function (_ref2) {\n  var node = _ref2.node,\n      theme = _ref2.theme,\n      tooltip = _ref2.tooltip;\n  if (tooltip) {\n    return {\n      tooltip: React.createElement(BasicTooltip, {\n        id: tooltip(node),\n        enableChip: false,\n        theme: theme\n      })\n    };\n  }\n  return {\n    tooltip: React.createElement(BasicTooltip, {\n      id: node.label,\n      enableChip: true,\n      color: node.color,\n      theme: theme\n    })\n  };\n}), _withPropsOnChange(['onClick', 'node'], function (_ref3) {\n  var _onClick = _ref3.onClick,\n      node = _ref3.node;\n  return {\n    onClick: function onClick(event) {\n      return _onClick(node, event);\n    }\n  };\n}), withHandlers({\n  handleMouseEnter: function handleMouseEnter(_ref4) {\n    var showTooltip = _ref4.showTooltip,\n        setCurrent = _ref4.setCurrent,\n        node = _ref4.node,\n        tooltip = _ref4.tooltip;\n    return function (e) {\n      setCurrent(node);\n      showTooltip(tooltip, e);\n    };\n  },\n  handleMouseMove: function handleMouseMove(_ref5) {\n    var showTooltip = _ref5.showTooltip,\n        tooltip = _ref5.tooltip;\n    return function (e) {\n      showTooltip(tooltip, e);\n    };\n  },\n  handleMouseLeave: function handleMouseLeave(_ref6) {\n    var hideTooltip = _ref6.hideTooltip,\n        setCurrent = _ref6.setCurrent;\n    return function () {\n      setCurrent(null);\n      hideTooltip();\n    };\n  }\n}), pure);\nvar SankeyNodesItem$1 = enhance$1(SankeyNodesItem);\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar SankeyNodes = function SankeyNodes(_ref) {\n  var nodes = _ref.nodes,\n      nodeOpacity = _ref.nodeOpacity,\n      nodeHoverOpacity = _ref.nodeHoverOpacity,\n      nodeHoverOthersOpacity = _ref.nodeHoverOthersOpacity,\n      nodeBorderWidth = _ref.nodeBorderWidth,\n      getNodeBorderColor = _ref.getNodeBorderColor,\n      animate = _ref.animate,\n      motionDamping = _ref.motionDamping,\n      motionStiffness = _ref.motionStiffness,\n      showTooltip = _ref.showTooltip,\n      hideTooltip = _ref.hideTooltip,\n      setCurrentNode = _ref.setCurrentNode,\n      currentNode = _ref.currentNode,\n      currentLink = _ref.currentLink,\n      isCurrentNode = _ref.isCurrentNode,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip,\n      theme = _ref.theme;\n  var getOpacity = function getOpacity(node) {\n    if (!currentNode && !currentLink) return nodeOpacity;\n    if (isCurrentNode(node)) return nodeHoverOpacity;\n    return nodeHoverOthersOpacity;\n  };\n  if (!animate) {\n    return React.createElement(Fragment, null, nodes.map(function (node) {\n      return React.createElement(SankeyNodesItem$1, {\n        key: node.id,\n        node: node,\n        x: node.x,\n        y: node.y,\n        width: node.width,\n        height: node.height,\n        color: node.color,\n        opacity: getOpacity(node),\n        borderWidth: nodeBorderWidth,\n        borderColor: getNodeBorderColor(node),\n        showTooltip: showTooltip,\n        hideTooltip: hideTooltip,\n        setCurrent: setCurrentNode,\n        onClick: onClick,\n        tooltip: tooltip,\n        theme: theme\n      });\n    }));\n  }\n  var springProps = {\n    damping: motionDamping,\n    stiffness: motionStiffness\n  };\n  return React.createElement(TransitionMotion, {\n    styles: nodes.map(function (node) {\n      return {\n        key: node.id,\n        data: node,\n        style: _objectSpread({\n          x: spring(node.x, springProps),\n          y: spring(node.y, springProps),\n          width: spring(node.width, springProps),\n          height: spring(node.height, springProps),\n          opacity: spring(getOpacity(node), springProps)\n        }, interpolateColor(node.color, springProps))\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(Fragment, null, interpolatedStyles.map(function (_ref2) {\n      var key = _ref2.key,\n          style = _ref2.style,\n          node = _ref2.data;\n      var color = getInterpolatedColor(style);\n      return React.createElement(SankeyNodesItem$1, {\n        key: key,\n        node: node,\n        x: style.x,\n        y: style.y,\n        width: Math.max(style.width, 0),\n        height: Math.max(style.height, 0),\n        color: color,\n        opacity: style.opacity,\n        borderWidth: nodeBorderWidth,\n        borderColor: getNodeBorderColor(_objectSpread({}, node, {\n          color: color\n        })),\n        showTooltip: showTooltip,\n        hideTooltip: hideTooltip,\n        setCurrent: setCurrentNode,\n        onClick: onClick,\n        tooltip: tooltip,\n        theme: theme\n      });\n    }));\n  });\n};\nSankeyNodes.propTypes = _objectSpread({\n  nodes: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired\n  })).isRequired,\n  nodeOpacity: PropTypes.number.isRequired,\n  nodeHoverOpacity: PropTypes.number.isRequired,\n  nodeHoverOthersOpacity: PropTypes.number.isRequired,\n  nodeBorderWidth: PropTypes.number.isRequired,\n  getNodeBorderColor: PropTypes.func.isRequired,\n  theme: PropTypes.object.isRequired,\n  tooltip: PropTypes.func\n}, motionPropTypes, {\n  showTooltip: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.func.isRequired,\n  setCurrentNode: PropTypes.func.isRequired,\n  currentNode: PropTypes.object,\n  currentLink: PropTypes.object,\n  isCurrentNode: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired\n});\nvar SankeyNodes$1 = pure(SankeyNodes);\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar SankeyLinkGradient = memo(function (_ref) {\n  var id = _ref.id,\n      layout = _ref.layout,\n      startColor = _ref.startColor,\n      endColor = _ref.endColor;\n  var gradientProps = {};\n  if (layout === 'horizontal') {\n    gradientProps.x1 = '0%';\n    gradientProps.x2 = '100%';\n    gradientProps.y1 = '0%';\n    gradientProps.y2 = '0%';\n  } else {\n    gradientProps.x1 = '0%';\n    gradientProps.x2 = '0%';\n    gradientProps.y1 = '0%';\n    gradientProps.y2 = '100%';\n  }\n  return React.createElement(\"linearGradient\", _extends({\n    id: id,\n    spreadMethod: \"pad\"\n  }, gradientProps), React.createElement(\"stop\", {\n    offset: \"0%\",\n    stopColor: startColor\n  }), React.createElement(\"stop\", {\n    offset: \"100%\",\n    stopColor: endColor\n  }));\n});\nSankeyLinkGradient.propTypes = {\n  id: PropTypes.string.isRequired,\n  layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n  startColor: PropTypes.string.isRequired,\n  endColor: PropTypes.string.isRequired\n};\nSankeyLinkGradient.displayName = 'SankeyLinkGradient';\n\nvar tooltipStyles = {\n  container: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  sourceChip: {\n    marginRight: 7\n  },\n  targetChip: {\n    marginLeft: 7,\n    marginRight: 7\n  }\n};\nvar TooltipContent = function TooltipContent(_ref) {\n  var link = _ref.link,\n      format = _ref.format;\n  return React.createElement(\"span\", {\n    style: tooltipStyles.container\n  }, React.createElement(Chip, {\n    color: link.source.color,\n    style: tooltipStyles.sourceChip\n  }), React.createElement(\"strong\", null, link.source.label), ' > ', React.createElement(\"strong\", null, link.target.label), React.createElement(Chip, {\n    color: link.target.color,\n    style: tooltipStyles.targetChip\n  }), React.createElement(\"strong\", null, format ? format(link.value) : link.value));\n};\nTooltipContent.propTypes = {\n  link: PropTypes.shape({\n    source: PropTypes.shape({\n      id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n    }).isRequired,\n    target: PropTypes.shape({\n      id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n    }).isRequired,\n    color: PropTypes.string.isRequired,\n    value: PropTypes.number.isRequired\n  }).isRequired,\n  format: PropTypes.func\n};\nvar SankeyLinksItem = function SankeyLinksItem(_ref2) {\n  var link = _ref2.link,\n      layout = _ref2.layout,\n      path = _ref2.path,\n      color = _ref2.color,\n      opacity = _ref2.opacity,\n      blendMode = _ref2.blendMode,\n      enableGradient = _ref2.enableGradient,\n      handleMouseEnter = _ref2.handleMouseEnter,\n      handleMouseMove = _ref2.handleMouseMove,\n      handleMouseLeave = _ref2.handleMouseLeave,\n      onClick = _ref2.onClick;\n  var linkId = \"\".concat(link.source.id, \".\").concat(link.target.id);\n  return React.createElement(Fragment, null, enableGradient && React.createElement(SankeyLinkGradient, {\n    id: linkId,\n    layout: layout,\n    startColor: link.startColor || link.source.color,\n    endColor: link.endColor || link.target.color\n  }), React.createElement(\"path\", {\n    fill: enableGradient ? \"url(#\".concat(encodeURI(linkId), \")\") : color,\n    d: path,\n    fillOpacity: opacity,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: onClick,\n    style: {\n      mixBlendMode: blendMode\n    }\n  }));\n};\nSankeyLinksItem.propTypes = {\n  link: PropTypes.shape({\n    source: PropTypes.shape({\n      id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n      color: PropTypes.string.isRequired\n    }).isRequired,\n    target: PropTypes.shape({\n      id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n      color: PropTypes.string.isRequired\n    }).isRequired,\n    color: PropTypes.string.isRequired,\n    value: PropTypes.number.isRequired\n  }).isRequired,\n  layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n  path: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n  opacity: PropTypes.number.isRequired,\n  blendMode: blendModePropType.isRequired,\n  enableGradient: PropTypes.bool.isRequired,\n  theme: PropTypes.object.isRequired,\n  showTooltip: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.func.isRequired,\n  setCurrent: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n  handleMouseEnter: PropTypes.func.isRequired,\n  handleMouseMove: PropTypes.func.isRequired,\n  handleMouseLeave: PropTypes.func.isRequired\n};\nvar enhance$2 = _compose(_withPropsOnChange(['link', 'theme', 'tooltip', 'tooltipFormat'], function (_ref3) {\n  var link = _ref3.link,\n      theme = _ref3.theme,\n      tooltip = _ref3.tooltip,\n      tooltipFormat = _ref3.tooltipFormat;\n  if (tooltip) {\n    return {\n      tooltip: React.createElement(BasicTooltip, {\n        id: tooltip(link),\n        enableChip: false,\n        theme: theme\n      })\n    };\n  }\n  return {\n    tooltip: React.createElement(BasicTooltip, {\n      id: React.createElement(TooltipContent, {\n        format: tooltipFormat,\n        link: link\n      }),\n      theme: theme\n    })\n  };\n}), _withPropsOnChange(['onClick', 'link'], function (_ref4) {\n  var _onClick = _ref4.onClick,\n      link = _ref4.link;\n  return {\n    onClick: function onClick(event) {\n      return _onClick(link, event);\n    }\n  };\n}), withHandlers({\n  handleMouseEnter: function handleMouseEnter(_ref5) {\n    var showTooltip = _ref5.showTooltip,\n        setCurrent = _ref5.setCurrent,\n        link = _ref5.link,\n        tooltip = _ref5.tooltip;\n    return function (e) {\n      setCurrent(link);\n      showTooltip(tooltip, e);\n    };\n  },\n  handleMouseMove: function handleMouseMove(_ref6) {\n    var showTooltip = _ref6.showTooltip,\n        tooltip = _ref6.tooltip;\n    return function (e) {\n      showTooltip(tooltip, e);\n    };\n  },\n  handleMouseLeave: function handleMouseLeave(_ref7) {\n    var hideTooltip = _ref7.hideTooltip,\n        setCurrent = _ref7.setCurrent;\n    return function () {\n      setCurrent(null);\n      hideTooltip();\n    };\n  }\n}), pure);\nvar SankeyLinksItem$1 = enhance$2(SankeyLinksItem);\n\nvar sankeyLinkHorizontal = function sankeyLinkHorizontal() {\n  var lineGenerator = line().curve(curveMonotoneX);\n  return function (n, contract) {\n    var thickness = Math.max(1, n.thickness - contract * 2);\n    var halfThickness = thickness / 2;\n    var linkLength = n.target.x0 - n.source.x1;\n    var padLength = linkLength * 0.12;\n    var dots = [[n.source.x1, n.pos0 - halfThickness], [n.source.x1 + padLength, n.pos0 - halfThickness], [n.target.x0 - padLength, n.pos1 - halfThickness], [n.target.x0, n.pos1 - halfThickness], [n.target.x0, n.pos1 + halfThickness], [n.target.x0 - padLength, n.pos1 + halfThickness], [n.source.x1 + padLength, n.pos0 + halfThickness], [n.source.x1, n.pos0 + halfThickness], [n.source.x1, n.pos0 - halfThickness]];\n    return lineGenerator(dots) + 'Z';\n  };\n};\nvar sankeyLinkVertical = function sankeyLinkVertical() {\n  var lineGenerator = line().curve(curveMonotoneY);\n  return function (n, contract) {\n    var thickness = Math.max(1, n.thickness - contract * 2);\n    var halfThickness = thickness / 2;\n    var linkLength = n.target.y0 - n.source.y1;\n    var padLength = linkLength * 0.12;\n    var dots = [[n.pos0 + halfThickness, n.source.y1], [n.pos0 + halfThickness, n.source.y1 + padLength], [n.pos1 + halfThickness, n.target.y0 - padLength], [n.pos1 + halfThickness, n.target.y0], [n.pos1 - halfThickness, n.target.y0], [n.pos1 - halfThickness, n.target.y0 - padLength], [n.pos0 - halfThickness, n.source.y1 + padLength], [n.pos0 - halfThickness, n.source.y1], [n.pos0 + halfThickness, n.source.y1]];\n    return lineGenerator(dots) + 'Z';\n  };\n};\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\nvar SankeyLinks = function SankeyLinks(_ref) {\n  var links = _ref.links,\n      layout = _ref.layout,\n      linkOpacity = _ref.linkOpacity,\n      linkHoverOpacity = _ref.linkHoverOpacity,\n      linkHoverOthersOpacity = _ref.linkHoverOthersOpacity,\n      linkContract = _ref.linkContract,\n      linkBlendMode = _ref.linkBlendMode,\n      enableLinkGradient = _ref.enableLinkGradient,\n      animate = _ref.animate,\n      motionDamping = _ref.motionDamping,\n      motionStiffness = _ref.motionStiffness,\n      showTooltip = _ref.showTooltip,\n      hideTooltip = _ref.hideTooltip,\n      setCurrentLink = _ref.setCurrentLink,\n      currentNode = _ref.currentNode,\n      currentLink = _ref.currentLink,\n      isCurrentLink = _ref.isCurrentLink,\n      onClick = _ref.onClick,\n      tooltipFormat = _ref.tooltipFormat,\n      tooltip = _ref.tooltip,\n      theme = _ref.theme;\n  var getOpacity = function getOpacity(link) {\n    if (!currentNode && !currentLink) return linkOpacity;\n    if (isCurrentLink(link)) return linkHoverOpacity;\n    return linkHoverOthersOpacity;\n  };\n  var getLinkPath = layout === 'horizontal' ? sankeyLinkHorizontal() : sankeyLinkVertical();\n  if (animate !== true) {\n    return React.createElement(\"g\", null, links.map(function (link) {\n      return React.createElement(SankeyLinksItem$1, {\n        key: \"\".concat(link.source.id, \".\").concat(link.target.id),\n        link: link,\n        layout: layout,\n        path: getLinkPath(link, linkContract),\n        color: link.color,\n        opacity: getOpacity(link),\n        blendMode: linkBlendMode,\n        enableGradient: enableLinkGradient,\n        showTooltip: showTooltip,\n        hideTooltip: hideTooltip,\n        setCurrent: setCurrentLink,\n        onClick: onClick,\n        tooltip: tooltip,\n        theme: theme,\n        tooltipFormat: tooltipFormat\n      });\n    }));\n  }\n  var springConfig = {\n    stiffness: motionStiffness,\n    damping: motionDamping\n  };\n  return React.createElement(Fragment, null, links.map(function (link) {\n    return React.createElement(SmartMotion, {\n      key: \"\".concat(link.source.id, \".\").concat(link.target.id),\n      style: function style(spring) {\n        return {\n          path: spring(getLinkPath(link, linkContract), springConfig),\n          color: spring(link.color, springConfig),\n          opacity: spring(getOpacity(link), springConfig)\n        };\n      }\n    }, function (style) {\n      return React.createElement(SankeyLinksItem$1, _extends$1({\n        link: link,\n        layout: layout\n      }, style, {\n        blendMode: linkBlendMode,\n        enableGradient: enableLinkGradient,\n        showTooltip: showTooltip,\n        hideTooltip: hideTooltip,\n        setCurrent: setCurrentLink,\n        onClick: onClick,\n        tooltip: tooltip,\n        theme: theme,\n        tooltipFormat: tooltipFormat\n      }));\n    });\n  }));\n};\nSankeyLinks.propTypes = _objectSpread$1({\n  layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n  links: PropTypes.arrayOf(PropTypes.shape({\n    source: PropTypes.shape({\n      id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n    }).isRequired,\n    target: PropTypes.shape({\n      id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n    }).isRequired,\n    thickness: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired\n  })).isRequired,\n  linkOpacity: PropTypes.number.isRequired,\n  linkHoverOpacity: PropTypes.number.isRequired,\n  linkHoverOthersOpacity: PropTypes.number.isRequired,\n  linkContract: PropTypes.number.isRequired,\n  linkBlendMode: blendModePropType.isRequired,\n  enableLinkGradient: PropTypes.bool.isRequired,\n  theme: PropTypes.object.isRequired,\n  tooltip: PropTypes.func\n}, motionPropTypes, {\n  showTooltip: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.func.isRequired,\n  setCurrentLink: PropTypes.func.isRequired,\n  currentLink: PropTypes.object,\n  isCurrentLink: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired\n});\nvar SankeyLinks$1 = pure(SankeyLinks);\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar SankeyLabels = function SankeyLabels(_ref) {\n  var nodes = _ref.nodes,\n      layout = _ref.layout,\n      width = _ref.width,\n      height = _ref.height,\n      labelPosition = _ref.labelPosition,\n      labelPadding = _ref.labelPadding,\n      labelOrientation = _ref.labelOrientation,\n      getLabelTextColor = _ref.getLabelTextColor,\n      theme = _ref.theme,\n      animate = _ref.animate,\n      motionDamping = _ref.motionDamping,\n      motionStiffness = _ref.motionStiffness;\n  var labelRotation = labelOrientation === 'vertical' ? -90 : 0;\n  var labels = nodes.map(function (node) {\n    var x;\n    var y;\n    var textAnchor;\n    if (layout === 'horizontal') {\n      y = node.y + node.height / 2;\n      if (node.x < width / 2) {\n        if (labelPosition === 'inside') {\n          x = node.x1 + labelPadding;\n          textAnchor = labelOrientation === 'vertical' ? 'middle' : 'start';\n        } else {\n          x = node.x - labelPadding;\n          textAnchor = labelOrientation === 'vertical' ? 'middle' : 'end';\n        }\n      } else {\n        if (labelPosition === 'inside') {\n          x = node.x - labelPadding;\n          textAnchor = labelOrientation === 'vertical' ? 'middle' : 'end';\n        } else {\n          x = node.x1 + labelPadding;\n          textAnchor = labelOrientation === 'vertical' ? 'middle' : 'start';\n        }\n      }\n    } else if (layout === 'vertical') {\n      x = node.x + node.width / 2;\n      if (node.y < height / 2) {\n        if (labelPosition === 'inside') {\n          y = node.y1 + labelPadding;\n          textAnchor = labelOrientation === 'vertical' ? 'end' : 'middle';\n        } else {\n          y = node.y - labelPadding;\n          textAnchor = labelOrientation === 'vertical' ? 'start' : 'middle';\n        }\n      } else {\n        if (labelPosition === 'inside') {\n          y = node.y - labelPadding;\n          textAnchor = labelOrientation === 'vertical' ? 'start' : 'middle';\n        } else {\n          y = node.y1 + labelPadding;\n          textAnchor = labelOrientation === 'vertical' ? 'end' : 'middle';\n        }\n      }\n    }\n    return {\n      id: node.id,\n      label: node.label,\n      x: x,\n      y: y,\n      textAnchor: textAnchor,\n      color: getLabelTextColor(node)\n    };\n  });\n  if (!animate) {\n    return React.createElement(\"g\", null, labels.map(function (label) {\n      return React.createElement(\"text\", {\n        key: label.id,\n        dominantBaseline: \"central\",\n        textAnchor: label.textAnchor,\n        transform: \"translate(\".concat(label.x, \", \").concat(label.y, \") rotate(\").concat(labelRotation, \")\"),\n        style: _objectSpread$2({}, theme.labels.text, {\n          fill: label.color\n        })\n      }, label.label);\n    }));\n  }\n  var springProps = {\n    damping: motionDamping,\n    stiffness: motionStiffness\n  };\n  return React.createElement(TransitionMotion, {\n    styles: labels.map(function (label) {\n      return {\n        key: label.id,\n        data: label,\n        style: _objectSpread$2({\n          x: spring(label.x, springProps),\n          y: spring(label.y, springProps),\n          rotation: spring(labelRotation, springProps)\n        }, interpolateColor(label.color, springProps))\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(Fragment, null, interpolatedStyles.map(function (_ref2) {\n      var key = _ref2.key,\n          style = _ref2.style,\n          data = _ref2.data;\n      var color = getInterpolatedColor(style);\n      return React.createElement(\"text\", {\n        key: key,\n        transform: \"translate(\".concat(style.x, \", \").concat(style.y, \") rotate(\").concat(style.rotation, \")\"),\n        dominantBaseline: \"central\",\n        textAnchor: data.textAnchor,\n        style: _objectSpread$2({}, theme.labels.text, {\n          fill: color,\n          pointerEvents: 'none'\n        })\n      }, data.label);\n    }));\n  });\n};\nSankeyLabels.propTypes = _objectSpread$2({\n  nodes: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    x1: PropTypes.number.isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired\n  })).isRequired,\n  layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  labelPosition: PropTypes.oneOf(['inside', 'outside']).isRequired,\n  labelPadding: PropTypes.number.isRequired,\n  labelOrientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n  getLabelTextColor: PropTypes.func.isRequired,\n  theme: PropTypes.object.isRequired\n}, motionPropTypes);\nvar SankeyLabels$1 = pure(SankeyLabels);\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\nvar Sankey = function Sankey(_ref) {\n  var nodes = _ref.nodes,\n      links = _ref.links,\n      layout = _ref.layout,\n      margin = _ref.margin,\n      width = _ref.width,\n      height = _ref.height,\n      outerWidth = _ref.outerWidth,\n      outerHeight = _ref.outerHeight,\n      nodeOpacity = _ref.nodeOpacity,\n      nodeHoverOpacity = _ref.nodeHoverOpacity,\n      nodeHoverOthersOpacity = _ref.nodeHoverOthersOpacity,\n      nodeBorderWidth = _ref.nodeBorderWidth,\n      getNodeBorderColor = _ref.getNodeBorderColor,\n      setCurrentNode = _ref.setCurrentNode,\n      currentNode = _ref.currentNode,\n      linkOpacity = _ref.linkOpacity,\n      linkHoverOpacity = _ref.linkHoverOpacity,\n      linkHoverOthersOpacity = _ref.linkHoverOthersOpacity,\n      linkContract = _ref.linkContract,\n      linkBlendMode = _ref.linkBlendMode,\n      enableLinkGradient = _ref.enableLinkGradient,\n      setCurrentLink = _ref.setCurrentLink,\n      currentLink = _ref.currentLink,\n      enableLabels = _ref.enableLabels,\n      labelPosition = _ref.labelPosition,\n      labelPadding = _ref.labelPadding,\n      labelOrientation = _ref.labelOrientation,\n      getLabelTextColor = _ref.getLabelTextColor,\n      theme = _ref.theme,\n      nodeTooltip = _ref.nodeTooltip,\n      linkTooltip = _ref.linkTooltip,\n      animate = _ref.animate,\n      motionDamping = _ref.motionDamping,\n      motionStiffness = _ref.motionStiffness,\n      isInteractive = _ref.isInteractive,\n      onClick = _ref.onClick,\n      tooltipFormat = _ref.tooltipFormat,\n      legends = _ref.legends,\n      legendData = _ref.legendData;\n  var isCurrentNode = function isCurrentNode() {\n    return false;\n  };\n  var isCurrentLink = function isCurrentLink() {\n    return false;\n  };\n  if (currentLink) {\n    isCurrentNode = function isCurrentNode(_ref2) {\n      var id = _ref2.id;\n      return id === currentLink.source.id || id === currentLink.target.id;\n    };\n    isCurrentLink = function isCurrentLink(_ref3) {\n      var source = _ref3.source,\n          target = _ref3.target;\n      return source.id === currentLink.source.id && target.id === currentLink.target.id;\n    };\n  }\n  if (currentNode) {\n    var currentNodeIds = [currentNode.id];\n    links.filter(function (_ref4) {\n      var source = _ref4.source,\n          target = _ref4.target;\n      return source.id === currentNode.id || target.id === currentNode.id;\n    }).forEach(function (_ref5) {\n      var source = _ref5.source,\n          target = _ref5.target;\n      currentNodeIds.push(source.id);\n      currentNodeIds.push(target.id);\n    });\n    currentNodeIds = _uniq(currentNodeIds);\n    isCurrentNode = function isCurrentNode(_ref6) {\n      var id = _ref6.id;\n      return currentNodeIds.includes(id);\n    };\n    isCurrentLink = function isCurrentLink(_ref7) {\n      var source = _ref7.source,\n          target = _ref7.target;\n      return source.id === currentNode.id || target.id === currentNode.id;\n    };\n  }\n  return React.createElement(Container, {\n    isInteractive: isInteractive,\n    theme: theme,\n    animate: animate,\n    motionDamping: motionDamping,\n    motionStiffness: motionStiffness\n  }, function (_ref8) {\n    var showTooltip = _ref8.showTooltip,\n        hideTooltip = _ref8.hideTooltip;\n    return React.createElement(SvgWrapper, {\n      width: outerWidth,\n      height: outerHeight,\n      margin: margin,\n      theme: theme\n    }, React.createElement(SankeyLinks$1, {\n      links: links,\n      layout: layout,\n      linkContract: linkContract,\n      linkOpacity: linkOpacity,\n      linkHoverOpacity: linkHoverOpacity,\n      linkHoverOthersOpacity: linkHoverOthersOpacity,\n      linkBlendMode: linkBlendMode,\n      enableLinkGradient: enableLinkGradient,\n      showTooltip: showTooltip,\n      hideTooltip: hideTooltip,\n      setCurrentLink: setCurrentLink,\n      currentNode: currentNode,\n      currentLink: currentLink,\n      isCurrentLink: isCurrentLink,\n      onClick: onClick,\n      tooltip: linkTooltip,\n      theme: theme,\n      tooltipFormat: tooltipFormat,\n      animate: animate,\n      motionDamping: motionDamping,\n      motionStiffness: motionStiffness\n    }), React.createElement(SankeyNodes$1, {\n      nodes: nodes,\n      nodeOpacity: nodeOpacity,\n      nodeHoverOpacity: nodeHoverOpacity,\n      nodeHoverOthersOpacity: nodeHoverOthersOpacity,\n      nodeBorderWidth: nodeBorderWidth,\n      getNodeBorderColor: getNodeBorderColor,\n      showTooltip: showTooltip,\n      hideTooltip: hideTooltip,\n      setCurrentNode: setCurrentNode,\n      currentNode: currentNode,\n      currentLink: currentLink,\n      isCurrentNode: isCurrentNode,\n      onClick: onClick,\n      tooltip: nodeTooltip,\n      theme: theme,\n      tooltipFormat: tooltipFormat,\n      animate: animate,\n      motionDamping: motionDamping,\n      motionStiffness: motionStiffness\n    }), enableLabels && React.createElement(SankeyLabels$1, {\n      nodes: nodes,\n      layout: layout,\n      width: width,\n      height: height,\n      labelPosition: labelPosition,\n      labelPadding: labelPadding,\n      labelOrientation: labelOrientation,\n      getLabelTextColor: getLabelTextColor,\n      theme: theme,\n      animate: animate,\n      motionDamping: motionDamping,\n      motionStiffness: motionStiffness\n    }), legends.map(function (legend, i) {\n      return React.createElement(BoxLegendSvg, _extends$2({\n        key: i\n      }, legend, {\n        containerWidth: width,\n        containerHeight: height,\n        data: legendData,\n        theme: theme\n      }));\n    }));\n  });\n};\nSankey.propTypes = SankeyPropTypes;\nvar enhancedSankey = enhance(Sankey);\nenhancedSankey.displayName = 'Sankey';\n\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\nvar ResponsiveSankey = function ResponsiveSankey(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(enhancedSankey, _extends$3({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { ResponsiveSankey, enhancedSankey as Sankey, SankeyDefaultProps, SankeyPropTypes, sankeyAlignmentFromProp, sankeyAlignmentPropKeys, sankeyAlignmentPropMapping, sankeyAlignmentPropType };\n","var baseClone = require('./_baseClone');\n/** Used to compose bitmasks for cloning. */\n\n\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\n\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;"],"sourceRoot":""}