{"version":3,"sources":["webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/ascending.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/bisect.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/bisector.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/array.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/ticks.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/min.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/sum.js","webpack:///../node_modules/d3-sankey/src/align.js","webpack:///../node_modules/d3-sankey/src/constant.js","webpack:///../node_modules/d3-sankey/src/sankey.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/max.js","webpack:///../node_modules/d3-sankey/src/sankeyLinkHorizontal.js","webpack:///../node_modules/d3-sankey/src/index.js","webpack:///./src/pages/sankey/api.js","webpack:///./src/data/components/sankey/props.js","webpack:///./src/data/components/sankey/mapper.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///../src/props.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///../src/hooks.js","webpack:///../src/SankeyNodesItem.js","webpack:///../src/SankeyNodes.js","webpack:///../src/SankeyLinkGradient.js","webpack:///../src/SankeyLinksItem.js","webpack:///../src/SankeyLinks.js","webpack:///../src/links.js","webpack:///../src/SankeyLabels.js","webpack:///../src/Sankey.js","webpack:///../src/ResponsiveSankey.js","webpack:///./src/components/components/api-client/ApiPreview.js","webpack:///./src/components/components/api-client/ApiTabs.js","webpack:///./src/components/components/api-client/ApiSubmit.js","webpack:///./src/components/components/api-client/ApiResponse.js","webpack:///./src/components/components/api-client/ApiClient.js"],"names":["a","b","NaN","f","ascending","length","compare","d","x","Array","prototype","slice","map","Math","sqrt","values","valueof","min","undefined","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","err","index","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_value","sum","targetDepth","target","depth","node","n","height","justify","sourceLinks","center","targetLinks","ascendingSourceBreadth","ascendingBreadth","source","ascendingTargetBreadth","y0","defaultId","defaultNodes","graph","nodes","defaultLinks","links","find","nodeById","id","get","Error","computeLinkBreadths","_ref","y1","link","width","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_link","Sankey","sort","linkSort","x0","x1","dx","py","align","iterations","sankey","apply","arguments","_ref2","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","entries","_step4$value","i","Map","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_step5$value","_i","push","computeNodeLinks","_ref3","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","max","computeNodeValues","_ref4","current","Set","size","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","add","computeNodeDepths","_ref5","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","computeNodeHeights","columns","_ref6","kx","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","_iterator11","floor","call","layer","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_step12","_iterator12","computeNodeLayers","ky","c","_iteratorNormalCompletion13","_didIteratorError13","_iteratorError13","_step13","_iterator13","_nodes","y","_iteratorNormalCompletion14","_didIteratorError14","_iteratorError14","_step14","_iterator14","_node","_iteratorNormalCompletion15","_didIteratorError15","_iteratorError15","_step15","_iterator15","reorderLinks","initializeNodeBreadths","alpha","pow","beta","relaxRightToLeft","relaxLeftToRight","computeNodeBreadths","column","_iteratorNormalCompletion16","_didIteratorError16","_iteratorError16","_step16","_iterator16","w","_iteratorNormalCompletion17","_didIteratorError17","_iteratorError17","_step17","_iterator17","_step17$value","v","targetTop","dy","reorderNodeLinks","resolveCollisions","_iteratorNormalCompletion18","_didIteratorError18","_iteratorError18","_step18","_iterator18","_iteratorNormalCompletion19","_didIteratorError19","_iteratorError19","_step19","_iterator19","_step19$value","sourceTop","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","_ref7","_iteratorNormalCompletion20","_didIteratorError20","_iteratorError20","_step20","_iterator20","_iteratorNormalCompletion21","_didIteratorError21","_iteratorError21","_step21","_iterator21","_iteratorNormalCompletion22","_didIteratorError22","_iteratorError22","_step22","_iterator22","_step22$value","_iteratorNormalCompletion23","_didIteratorError23","_iteratorError23","_step23","_iterator23","_step23$value","_iteratorNormalCompletion24","_didIteratorError24","_iteratorError24","_step24","_iterator24","_step24$value","_node2","_width","_iteratorNormalCompletion25","_didIteratorError25","_iteratorError25","_step25","_iterator25","_step25$value","_iteratorNormalCompletion26","_didIteratorError26","_iteratorError26","_step26","_iterator26","_step26$value","_node3","_width2","update","nodeId","_","nodeAlign","nodeSort","nodeWidth","nodePadding","extent","horizontalSource","horizontalTarget","data","generateSankeyData","nodeCount","maxIterations","SankeyApi","title","keywords","meta","tags","componentName","chartClass","apiPath","flavors","dataProperty","controlGroups","groups","propsMapper","mapper","defaultProps","JSON","stringify","margin","top","right","bottom","left","layout","colors","scheme","nodeOpacity","nodeHoverOpacity","nodeThickness","nodeInnerPadding","nodeSpacing","nodeBorderWidth","nodeBorderColor","from","modifiers","linkOpacity","linkHoverOpacity","linkHoverOthersOpacity","linkContract","linkBlendMode","enableLinkGradient","enableLabels","labelPosition","labelOrientation","labelPadding","labelTextColor","props","key","group","help","description","type","required","defaultValue","defaults","controlType","controlOptions","choices","label","sankeyAlignmentPropKeys","enableControlForFlavors","unit","step","themeProperty","nodePaddingX","isInteractive","motionProperties","groupProperties","settingsMapper","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","forEach","getOwnPropertyDescriptors","defineProperties","sankeyAlignmentPropMapping","start","end","sankeyRight","sankeyAlignmentPropType","PropTypes","SankeyDefaultProps","isRequired","ordinalColorsPropType","nodeHoverOthersOpacity","blendModePropType","labelFormat","nodeTooltip","linkTooltip","onClick","tooltipFormat","legends","layers","role","animate","motionConfig","_arrayLikeToArray","arr","len","arr2","_slicedToArray","isArray","arrayWithHoles","_arr","_n","_d","_e","_s","iterableToArrayLimit","o","minLen","arrayLikeToArray","toString","constructor","name","test","unsupportedIterableToArray","TypeError","nonIterableRest","getId","useSankey","useState","currentNode","setCurrentNode","currentLink","setCurrentLink","sortFunction","useMemo","linkSortMode","alignFunction","theme","useTheme","getColor","useOrdinalColorScale","getNodeBorderColor","useInheritedColor","getLinkColor","getLabel","getLabelGenerator","getLabelTextColor","_data","d3Sankey","cloneDeep","oldX0","oldX1","computeNodeAndLinks","legendData","color","memo","opacity","borderWidth","borderColor","setCurrent","tooltip","useMotionConfig","springConfig","animatedProps","useSpring","config","immediate","useTooltip","showTooltipFromEvent","hideTooltip","tooltipContent","enableChip","handleMouseEnter","useCallback","event","handleMouseMove","handleMouseLeave","handleClick","fill","fillOpacity","strokeWidth","stroke","strokeOpacity","onMouseEnter","onMouseMove","onMouseLeave","isCurrentNode","getOpacity","SankeyLinkGradient","startColor","endColor","gradientProps","spreadMethod","offset","stopColor","tooltipStyles","container","display","alignItems","sourceChip","marginRight","targetChip","marginLeft","TooltipContent","format","style","path","blendMode","enableGradient","linkId","encodeURI","mixBlendMode","lineGenerator","isCurrentLink","getLinkPath","line","halfThickness","contract","padLength","dots","sankeyLinkVertical","labelRotation","labels","textAnchor","useSprings","transform","dominantBaseline","pointerEvents","WrappedSankey","withContainer","partialMargin","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","currentNodeIds","uniq","layerProps","layerById","containerWidth","containerHeight","ResponsiveSankey","Link","styled","Image","img","EmptyContainer","div","textLight","ApiPreview","responseStatus","chartUrl","href","rel","src","alt","tabs","ApiTabs","body","isLoading","currentTab","setCurrentTab","hoverTab","setHoverTab","Wrapper","className","Nav","tab","isCurrent","icon","iconColors","NavItem","Icon","Content","CodeBlock","dimensions","headerHeight","miniNavWidth","cardBackground","border","media","tablet","mobile","nav","background","span","text","LoaderContainer","loaderBarAnimation","keyframes","LoaderBar","accent","Loader","Button","ApiSubmit","render","this","loading","Component","Container","Header","borderLight","ResponseJson","pre","ApiResponse","response","responseContent","ApiClient","handleSettingsUpdate","settings","setState","handleDataUpdate","e","state","assign","handleSubmit","fetch","nivoApiUrl","method","headers","Accept","then","res","status","json","catch","console","error","component","flavorKeys","flavor","Layout","ComponentPage","ComponentHeader","ComponentFlavorSelector","ComponentDescription","url","ControlPanel","SubmitWrapper","ComponentSettings","currentFlavor","onChange","cardAltBackground"],"mappings":"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","file":"component---src-pages-sankey-api-js-688ba2e219d25fd8ecda.js","sourcesContent":["export default function (a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;","import ascending from \"./ascending\";\nexport default function (compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function left(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n      }\n\n      return lo;\n    },\n    right: function right(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n      }\n\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function (d, x) {\n    return ascending(f(d), x);\n  };\n}","import \"core-js/modules/es6.array.map\";\nvar array = Array.prototype;\nexport var slice = array.slice;\nexport var map = array.map;","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\nexport default function (start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n\n    while (++i < n) {\n      ticks[i] = (start + i) * step;\n    }\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n\n    while (++i < n) {\n      ticks[i] = (start - i) / step;\n    }\n  }\n\n  if (reverse) ticks.reverse();\n  return ticks;\n}\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nexport default function min(values, valueof) {\n  var min;\n\n  if (valueof === undefined) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var value = _step.value;\n\n        if (value != null && value >= value && (min === undefined || min > value)) {\n          min = value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else {\n    var index = -1;\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = values[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var _value = _step2.value;\n\n        if ((_value = valueof(_value, ++index, values)) != null && _value >= _value && (min === undefined || min > _value)) {\n          min = _value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n          _iterator2[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n\n  return min;\n}","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nexport default function sum(values, valueof) {\n  var sum = 0;\n\n  if (valueof === undefined) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var value = _step.value;\n\n        if (value = +value) {\n          sum += value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else {\n    var index = -1;\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = values[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var _value = _step2.value;\n\n        if (_value = +valueof(_value, ++index, values)) {\n          sum += _value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n          _iterator2[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n\n  return sum;\n}","import { min } from \"d3-array\";\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? min(node.sourceLinks, targetDepth) - 1 : 0;\n}","export default function constant(x) {\n  return function () {\n    return x;\n  };\n}","import \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.set\";\nimport _slicedToArray from \"/Users/raph/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { max, min, sum } from \"d3-array\";\nimport { justify } from \"./align.js\";\nimport constant from \"./constant.js\";\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  var node = nodeById.get(id);\n  if (!node) throw new Error(\"missing: \" + id);\n  return node;\n}\n\nfunction computeLinkBreadths(_ref) {\n  var nodes = _ref.nodes;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var node = _step.value;\n      var y0 = node.y0;\n      var y1 = y0;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = node.sourceLinks[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var link = _step2.value;\n          link.y0 = y0 + link.width / 2;\n          y0 += link.width;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = node.targetLinks[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var _link = _step3.value;\n          _link.y1 = y1 + _link.width / 2;\n          y1 += _link.width;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}\n\nexport default function Sankey() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 1,\n      y1 = 1; // extent\n\n  var dx = 24; // nodeWidth\n\n  var py = 8; // nodePadding\n\n  var id = defaultId;\n  var align = justify;\n  var sort;\n  var linkSort;\n  var nodes = defaultNodes;\n  var links = defaultLinks;\n  var iterations = 6;\n\n  function sankey() {\n    var graph = {\n      nodes: nodes.apply(null, arguments),\n      links: links.apply(null, arguments)\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? (id = typeof _ === \"function\" ? _ : constant(_), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? (align = typeof _ === \"function\" ? _ : constant(_), sankey) : align;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? (sort = _, sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? (dx = +_, sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? (py = +_, sankey) : py;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? (nodes = typeof _ === \"function\" ? _ : constant(_), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? (links = typeof _ === \"function\" ? _ : constant(_), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? (linkSort = _, sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], sankey) : [[x0, y0], [x1, y1]];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? (iterations = +_, sankey) : iterations;\n  };\n\n  function computeNodeLinks(_ref2) {\n    var nodes = _ref2.nodes,\n        links = _ref2.links;\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n\n    try {\n      for (var _iterator4 = nodes.entries()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n        var _step4$value = _slicedToArray(_step4.value, 2),\n            i = _step4$value[0],\n            node = _step4$value[1];\n\n        node.index = i;\n        node.sourceLinks = [];\n        node.targetLinks = [];\n      }\n    } catch (err) {\n      _didIteratorError4 = true;\n      _iteratorError4 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n          _iterator4[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError4) {\n          throw _iteratorError4;\n        }\n      }\n    }\n\n    var nodeById = new Map(nodes.map(function (d, i) {\n      return [id(d, i, nodes), d];\n    }));\n    var _iteratorNormalCompletion5 = true;\n    var _didIteratorError5 = false;\n    var _iteratorError5 = undefined;\n\n    try {\n      for (var _iterator5 = links.entries()[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n        var _step5$value = _slicedToArray(_step5.value, 2),\n            _i = _step5$value[0],\n            link = _step5$value[1];\n\n        link.index = _i;\n        var source = link.source,\n            target = link.target;\n        if (typeof source !== \"object\") source = link.source = find(nodeById, source);\n        if (typeof target !== \"object\") target = link.target = find(nodeById, target);\n        source.sourceLinks.push(link);\n        target.targetLinks.push(link);\n      }\n    } catch (err) {\n      _didIteratorError5 = true;\n      _iteratorError5 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion5 && _iterator5[\"return\"] != null) {\n          _iterator5[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError5) {\n          throw _iteratorError5;\n        }\n      }\n    }\n  }\n\n  function computeNodeValues(_ref3) {\n    var nodes = _ref3.nodes;\n    var _iteratorNormalCompletion6 = true;\n    var _didIteratorError6 = false;\n    var _iteratorError6 = undefined;\n\n    try {\n      for (var _iterator6 = nodes[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n        var node = _step6.value;\n        node.value = Math.max(sum(node.sourceLinks, value), sum(node.targetLinks, value));\n      }\n    } catch (err) {\n      _didIteratorError6 = true;\n      _iteratorError6 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion6 && _iterator6[\"return\"] != null) {\n          _iterator6[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError6) {\n          throw _iteratorError6;\n        }\n      }\n    }\n  }\n\n  function computeNodeDepths(_ref4) {\n    var nodes = _ref4.nodes;\n    var n = nodes.length;\n    var current = new Set(nodes);\n    var next = new Set();\n    var x = 0;\n\n    while (current.size) {\n      var _iteratorNormalCompletion7 = true;\n      var _didIteratorError7 = false;\n      var _iteratorError7 = undefined;\n\n      try {\n        for (var _iterator7 = current[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n          var node = _step7.value;\n          node.depth = x;\n          var _iteratorNormalCompletion8 = true;\n          var _didIteratorError8 = false;\n          var _iteratorError8 = undefined;\n\n          try {\n            for (var _iterator8 = node.sourceLinks[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n              var target = _step8.value.target;\n              next.add(target);\n            }\n          } catch (err) {\n            _didIteratorError8 = true;\n            _iteratorError8 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion8 && _iterator8[\"return\"] != null) {\n                _iterator8[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError8) {\n                throw _iteratorError8;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError7 = true;\n        _iteratorError7 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion7 && _iterator7[\"return\"] != null) {\n            _iterator7[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError7) {\n            throw _iteratorError7;\n          }\n        }\n      }\n\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeHeights(_ref5) {\n    var nodes = _ref5.nodes;\n    var n = nodes.length;\n    var current = new Set(nodes);\n    var next = new Set();\n    var x = 0;\n\n    while (current.size) {\n      var _iteratorNormalCompletion9 = true;\n      var _didIteratorError9 = false;\n      var _iteratorError9 = undefined;\n\n      try {\n        for (var _iterator9 = current[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n          var node = _step9.value;\n          node.height = x;\n          var _iteratorNormalCompletion10 = true;\n          var _didIteratorError10 = false;\n          var _iteratorError10 = undefined;\n\n          try {\n            for (var _iterator10 = node.targetLinks[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {\n              var source = _step10.value.source;\n              next.add(source);\n            }\n          } catch (err) {\n            _didIteratorError10 = true;\n            _iteratorError10 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion10 && _iterator10[\"return\"] != null) {\n                _iterator10[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError10) {\n                throw _iteratorError10;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError9 = true;\n        _iteratorError9 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion9 && _iterator9[\"return\"] != null) {\n            _iterator9[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError9) {\n            throw _iteratorError9;\n          }\n        }\n      }\n\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers(_ref6) {\n    var nodes = _ref6.nodes;\n    var x = max(nodes, function (d) {\n      return d.depth;\n    }) + 1;\n    var kx = (x1 - x0 - dx) / (x - 1);\n    var columns = new Array(x);\n    var _iteratorNormalCompletion11 = true;\n    var _didIteratorError11 = false;\n    var _iteratorError11 = undefined;\n\n    try {\n      for (var _iterator11 = nodes[Symbol.iterator](), _step11; !(_iteratorNormalCompletion11 = (_step11 = _iterator11.next()).done); _iteratorNormalCompletion11 = true) {\n        var node = _step11.value;\n        var i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n        node.layer = i;\n        node.x0 = x0 + i * kx;\n        node.x1 = node.x0 + dx;\n        if (columns[i]) columns[i].push(node);else columns[i] = [node];\n      }\n    } catch (err) {\n      _didIteratorError11 = true;\n      _iteratorError11 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion11 && _iterator11[\"return\"] != null) {\n          _iterator11[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError11) {\n          throw _iteratorError11;\n        }\n      }\n    }\n\n    if (sort) {\n      var _iteratorNormalCompletion12 = true;\n      var _didIteratorError12 = false;\n      var _iteratorError12 = undefined;\n\n      try {\n        for (var _iterator12 = columns[Symbol.iterator](), _step12; !(_iteratorNormalCompletion12 = (_step12 = _iterator12.next()).done); _iteratorNormalCompletion12 = true) {\n          var column = _step12.value;\n          column.sort(sort);\n        }\n      } catch (err) {\n        _didIteratorError12 = true;\n        _iteratorError12 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion12 && _iterator12[\"return\"] != null) {\n            _iterator12[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError12) {\n            throw _iteratorError12;\n          }\n        }\n      }\n    }\n\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    var ky = min(columns, function (c) {\n      return (y1 - y0 - (c.length - 1) * py) / sum(c, value);\n    });\n    var _iteratorNormalCompletion13 = true;\n    var _didIteratorError13 = false;\n    var _iteratorError13 = undefined;\n\n    try {\n      for (var _iterator13 = columns[Symbol.iterator](), _step13; !(_iteratorNormalCompletion13 = (_step13 = _iterator13.next()).done); _iteratorNormalCompletion13 = true) {\n        var _nodes = _step13.value;\n        var y = y0;\n        var _iteratorNormalCompletion14 = true;\n        var _didIteratorError14 = false;\n        var _iteratorError14 = undefined;\n\n        try {\n          for (var _iterator14 = _nodes[Symbol.iterator](), _step14; !(_iteratorNormalCompletion14 = (_step14 = _iterator14.next()).done); _iteratorNormalCompletion14 = true) {\n            var _node = _step14.value;\n            _node.y0 = y;\n            _node.y1 = y + _node.value * ky;\n            y = _node.y1 + py;\n            var _iteratorNormalCompletion15 = true;\n            var _didIteratorError15 = false;\n            var _iteratorError15 = undefined;\n\n            try {\n              for (var _iterator15 = _node.sourceLinks[Symbol.iterator](), _step15; !(_iteratorNormalCompletion15 = (_step15 = _iterator15.next()).done); _iteratorNormalCompletion15 = true) {\n                var link = _step15.value;\n                link.width = link.value * ky;\n              }\n            } catch (err) {\n              _didIteratorError15 = true;\n              _iteratorError15 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion15 && _iterator15[\"return\"] != null) {\n                  _iterator15[\"return\"]();\n                }\n              } finally {\n                if (_didIteratorError15) {\n                  throw _iteratorError15;\n                }\n              }\n            }\n          }\n        } catch (err) {\n          _didIteratorError14 = true;\n          _iteratorError14 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion14 && _iterator14[\"return\"] != null) {\n              _iterator14[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError14) {\n              throw _iteratorError14;\n            }\n          }\n        }\n\n        y = (y1 - y + py) / (_nodes.length + 1);\n\n        for (var i = 0; i < _nodes.length; ++i) {\n          var node = _nodes[i];\n          node.y0 += y * (i + 1);\n          node.y1 += y * (i + 1);\n        }\n\n        reorderLinks(_nodes);\n      }\n    } catch (err) {\n      _didIteratorError13 = true;\n      _iteratorError13 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion13 && _iterator13[\"return\"] != null) {\n          _iterator13[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError13) {\n          throw _iteratorError13;\n        }\n      }\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    var columns = computeNodeLayers(graph);\n    initializeNodeBreadths(columns);\n\n    for (var i = 0; i < iterations; ++i) {\n      var alpha = Math.pow(0.99, i);\n      var beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  } // Reposition each node based on its incoming (target) links.\n\n\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (var i = 1, n = columns.length; i < n; ++i) {\n      var column = columns[i];\n      var _iteratorNormalCompletion16 = true;\n      var _didIteratorError16 = false;\n      var _iteratorError16 = undefined;\n\n      try {\n        for (var _iterator16 = column[Symbol.iterator](), _step16; !(_iteratorNormalCompletion16 = (_step16 = _iterator16.next()).done); _iteratorNormalCompletion16 = true) {\n          var target = _step16.value;\n          var y = 0;\n          var w = 0;\n          var _iteratorNormalCompletion17 = true;\n          var _didIteratorError17 = false;\n          var _iteratorError17 = undefined;\n\n          try {\n            for (var _iterator17 = target.targetLinks[Symbol.iterator](), _step17; !(_iteratorNormalCompletion17 = (_step17 = _iterator17.next()).done); _iteratorNormalCompletion17 = true) {\n              var _step17$value = _step17.value,\n                  source = _step17$value.source,\n                  _value = _step17$value.value;\n              var v = _value * (target.layer - source.layer);\n              y += targetTop(source, target) * v;\n              w += v;\n            }\n          } catch (err) {\n            _didIteratorError17 = true;\n            _iteratorError17 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion17 && _iterator17[\"return\"] != null) {\n                _iterator17[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError17) {\n                throw _iteratorError17;\n              }\n            }\n          }\n\n          if (!(w > 0)) continue;\n          var dy = (y / w - target.y0) * alpha;\n          target.y0 += dy;\n          target.y1 += dy;\n          reorderNodeLinks(target);\n        }\n      } catch (err) {\n        _didIteratorError16 = true;\n        _iteratorError16 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion16 && _iterator16[\"return\"] != null) {\n            _iterator16[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError16) {\n            throw _iteratorError16;\n          }\n        }\n      }\n\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  } // Reposition each node based on its outgoing (source) links.\n\n\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (var n = columns.length, i = n - 2; i >= 0; --i) {\n      var column = columns[i];\n      var _iteratorNormalCompletion18 = true;\n      var _didIteratorError18 = false;\n      var _iteratorError18 = undefined;\n\n      try {\n        for (var _iterator18 = column[Symbol.iterator](), _step18; !(_iteratorNormalCompletion18 = (_step18 = _iterator18.next()).done); _iteratorNormalCompletion18 = true) {\n          var source = _step18.value;\n          var y = 0;\n          var w = 0;\n          var _iteratorNormalCompletion19 = true;\n          var _didIteratorError19 = false;\n          var _iteratorError19 = undefined;\n\n          try {\n            for (var _iterator19 = source.sourceLinks[Symbol.iterator](), _step19; !(_iteratorNormalCompletion19 = (_step19 = _iterator19.next()).done); _iteratorNormalCompletion19 = true) {\n              var _step19$value = _step19.value,\n                  target = _step19$value.target,\n                  _value2 = _step19$value.value;\n              var v = _value2 * (target.layer - source.layer);\n              y += sourceTop(source, target) * v;\n              w += v;\n            }\n          } catch (err) {\n            _didIteratorError19 = true;\n            _iteratorError19 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion19 && _iterator19[\"return\"] != null) {\n                _iterator19[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError19) {\n                throw _iteratorError19;\n              }\n            }\n          }\n\n          if (!(w > 0)) continue;\n          var dy = (y / w - source.y0) * alpha;\n          source.y0 += dy;\n          source.y1 += dy;\n          reorderNodeLinks(source);\n        }\n      } catch (err) {\n        _didIteratorError18 = true;\n        _iteratorError18 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion18 && _iterator18[\"return\"] != null) {\n            _iterator18[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError18) {\n            throw _iteratorError18;\n          }\n        }\n      }\n\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    var i = nodes.length >> 1;\n    var subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  } // Push any overlapping nodes down.\n\n\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      var node = nodes[i];\n      var dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) node.y0 += dy, node.y1 += dy;\n      y = node.y1 + py;\n    }\n  } // Push any overlapping nodes up.\n\n\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      var node = nodes[i];\n      var dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) node.y0 -= dy, node.y1 -= dy;\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks(_ref7) {\n    var sourceLinks = _ref7.sourceLinks,\n        targetLinks = _ref7.targetLinks;\n\n    if (linkSort === undefined) {\n      var _iteratorNormalCompletion20 = true;\n      var _didIteratorError20 = false;\n      var _iteratorError20 = undefined;\n\n      try {\n        for (var _iterator20 = targetLinks[Symbol.iterator](), _step20; !(_iteratorNormalCompletion20 = (_step20 = _iterator20.next()).done); _iteratorNormalCompletion20 = true) {\n          var _sourceLinks = _step20.value.source.sourceLinks;\n\n          _sourceLinks.sort(ascendingTargetBreadth);\n        }\n      } catch (err) {\n        _didIteratorError20 = true;\n        _iteratorError20 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion20 && _iterator20[\"return\"] != null) {\n            _iterator20[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError20) {\n            throw _iteratorError20;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion21 = true;\n      var _didIteratorError21 = false;\n      var _iteratorError21 = undefined;\n\n      try {\n        for (var _iterator21 = sourceLinks[Symbol.iterator](), _step21; !(_iteratorNormalCompletion21 = (_step21 = _iterator21.next()).done); _iteratorNormalCompletion21 = true) {\n          var _targetLinks = _step21.value.target.targetLinks;\n\n          _targetLinks.sort(ascendingSourceBreadth);\n        }\n      } catch (err) {\n        _didIteratorError21 = true;\n        _iteratorError21 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion21 && _iterator21[\"return\"] != null) {\n            _iterator21[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError21) {\n            throw _iteratorError21;\n          }\n        }\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      var _iteratorNormalCompletion22 = true;\n      var _didIteratorError22 = false;\n      var _iteratorError22 = undefined;\n\n      try {\n        for (var _iterator22 = nodes[Symbol.iterator](), _step22; !(_iteratorNormalCompletion22 = (_step22 = _iterator22.next()).done); _iteratorNormalCompletion22 = true) {\n          var _step22$value = _step22.value,\n              sourceLinks = _step22$value.sourceLinks,\n              targetLinks = _step22$value.targetLinks;\n          sourceLinks.sort(ascendingTargetBreadth);\n          targetLinks.sort(ascendingSourceBreadth);\n        }\n      } catch (err) {\n        _didIteratorError22 = true;\n        _iteratorError22 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion22 && _iterator22[\"return\"] != null) {\n            _iterator22[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError22) {\n            throw _iteratorError22;\n          }\n        }\n      }\n    }\n  } // Returns the target.y0 that would produce an ideal link from source to target.\n\n\n  function targetTop(source, target) {\n    var y = source.y0 - (source.sourceLinks.length - 1) * py / 2;\n    var _iteratorNormalCompletion23 = true;\n    var _didIteratorError23 = false;\n    var _iteratorError23 = undefined;\n\n    try {\n      for (var _iterator23 = source.sourceLinks[Symbol.iterator](), _step23; !(_iteratorNormalCompletion23 = (_step23 = _iterator23.next()).done); _iteratorNormalCompletion23 = true) {\n        var _step23$value = _step23.value,\n            node = _step23$value.target,\n            width = _step23$value.width;\n        if (node === target) break;\n        y += width + py;\n      }\n    } catch (err) {\n      _didIteratorError23 = true;\n      _iteratorError23 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion23 && _iterator23[\"return\"] != null) {\n          _iterator23[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError23) {\n          throw _iteratorError23;\n        }\n      }\n    }\n\n    var _iteratorNormalCompletion24 = true;\n    var _didIteratorError24 = false;\n    var _iteratorError24 = undefined;\n\n    try {\n      for (var _iterator24 = target.targetLinks[Symbol.iterator](), _step24; !(_iteratorNormalCompletion24 = (_step24 = _iterator24.next()).done); _iteratorNormalCompletion24 = true) {\n        var _step24$value = _step24.value,\n            _node2 = _step24$value.source,\n            _width = _step24$value.width;\n        if (_node2 === source) break;\n        y -= _width;\n      }\n    } catch (err) {\n      _didIteratorError24 = true;\n      _iteratorError24 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion24 && _iterator24[\"return\"] != null) {\n          _iterator24[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError24) {\n          throw _iteratorError24;\n        }\n      }\n    }\n\n    return y;\n  } // Returns the source.y0 that would produce an ideal link from source to target.\n\n\n  function sourceTop(source, target) {\n    var y = target.y0 - (target.targetLinks.length - 1) * py / 2;\n    var _iteratorNormalCompletion25 = true;\n    var _didIteratorError25 = false;\n    var _iteratorError25 = undefined;\n\n    try {\n      for (var _iterator25 = target.targetLinks[Symbol.iterator](), _step25; !(_iteratorNormalCompletion25 = (_step25 = _iterator25.next()).done); _iteratorNormalCompletion25 = true) {\n        var _step25$value = _step25.value,\n            node = _step25$value.source,\n            width = _step25$value.width;\n        if (node === source) break;\n        y += width + py;\n      }\n    } catch (err) {\n      _didIteratorError25 = true;\n      _iteratorError25 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion25 && _iterator25[\"return\"] != null) {\n          _iterator25[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError25) {\n          throw _iteratorError25;\n        }\n      }\n    }\n\n    var _iteratorNormalCompletion26 = true;\n    var _didIteratorError26 = false;\n    var _iteratorError26 = undefined;\n\n    try {\n      for (var _iterator26 = source.sourceLinks[Symbol.iterator](), _step26; !(_iteratorNormalCompletion26 = (_step26 = _iterator26.next()).done); _iteratorNormalCompletion26 = true) {\n        var _step26$value = _step26.value,\n            _node3 = _step26$value.target,\n            _width2 = _step26$value.width;\n        if (_node3 === target) break;\n        y -= _width2;\n      }\n    } catch (err) {\n      _didIteratorError26 = true;\n      _iteratorError26 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion26 && _iterator26[\"return\"] != null) {\n          _iterator26[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError26) {\n          throw _iteratorError26;\n        }\n      }\n    }\n\n    return y;\n  }\n\n  return sankey;\n}","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nexport default function max(values, valueof) {\n  var max;\n\n  if (valueof === undefined) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var value = _step.value;\n\n        if (value != null && value >= value && (max === undefined || max < value)) {\n          max = value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else {\n    var index = -1;\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = values[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var _value = _step2.value;\n\n        if ((_value = valueof(_value, ++index, values)) != null && _value >= _value && (max === undefined || max < _value)) {\n          max = _value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n          _iterator2[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n\n  return max;\n}","import { linkHorizontal } from \"d3-shape\";\n\nfunction horizontalSource(d) {\n  return [d.source.x1, d.y0];\n}\n\nfunction horizontalTarget(d) {\n  return [d.target.x0, d.y1];\n}\n\nexport default function () {\n  return linkHorizontal().source(horizontalSource).target(horizontalTarget);\n}","export { default as sankey } from \"./sankey.js\";\nexport { center as sankeyCenter, left as sankeyLeft, right as sankeyRight, justify as sankeyJustify } from \"./align.js\";\nexport { default as sankeyLinkHorizontal } from \"./sankeyLinkHorizontal.js\";","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { generateSankeyData } from '@nivo/generators'\nimport SEO from '../../components/seo'\nimport ApiClient from '../../components/components/api-client/ApiClient'\nimport { groups } from '../../data/components/sankey/props'\nimport mapper from '../../data/components/sankey/mapper'\nimport meta from '../../data/components/sankey/meta.yml'\n\nconst data = generateSankeyData({ nodeCount: 6, maxIterations: 8 })\n\nconst SankeyApi = () => {\n    return (\n        <>\n            <SEO title=\"Sankey HTTP API\" keywords={[...meta.Sankey.tags, 'HTTP API']} />\n            <ApiClient\n                componentName=\"Sankey\"\n                chartClass=\"sankey\"\n                apiPath=\"/charts/sankey\"\n                flavors={meta.flavors}\n                dataProperty=\"data\"\n                controlGroups={groups}\n                propsMapper={mapper}\n                defaultProps={{\n                    width: 1200,\n                    height: 800,\n                    data: JSON.stringify(data, null, '  '),\n                    margin: {\n                        top: 20,\n                        right: 20,\n                        bottom: 20,\n                        left: 20,\n                    },\n\n                    layout: 'horizontal',\n                    align: 'justify',\n                    sort: 'auto',\n                    colors: { scheme: 'category10' },\n\n                    nodeOpacity: 1,\n                    nodeHoverOpacity: 1,\n                    nodeThickness: 18,\n                    nodeInnerPadding: 3,\n                    nodeSpacing: 24,\n                    nodeBorderWidth: 0,\n                    nodeBorderColor: {\n                        from: 'color',\n                        modifiers: [['darker', 0.8]],\n                    },\n\n                    linkOpacity: 0.5,\n                    linkHoverOpacity: 0.6,\n                    linkHoverOthersOpacity: 0.1,\n                    linkContract: 0,\n                    linkBlendMode: 'multiply',\n                    enableLinkGradient: true,\n\n                    enableLabels: true,\n                    labelPosition: 'outside',\n                    labelOrientation: 'vertical',\n                    labelPadding: 16,\n                    labelTextColor: {\n                        from: 'color',\n                        modifiers: [['darker', 1]],\n                    },\n                }}\n            />\n        </>\n    )\n}\n\nexport default SankeyApi\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { SankeyDefaultProps as defaults, sankeyAlignmentPropKeys } from '@nivo/sankey'\nimport { themeProperty, motionProperties, groupProperties } from '../../../lib/componentProperties'\n\nconst props = [\n    {\n        key: 'data',\n        group: 'Base',\n        help: 'Chart data.',\n        description: `\n            Chart data, which must conform to this structure:\n            \\`\\`\\`\n            {\n                nodes: Array<{\n                    id: string | number\n                }>,\n                links: Array<{\n                    source: string | number, // ref to node id\n                    target: string | number, // ref to node id\n                    value:  number\n                }}>\n            }\n            \\`\\`\\`\n        `,\n        type: '{ nodes: object[], links: object[] }',\n        required: true,\n    },\n    {\n        key: 'layout',\n        help: `Control sankey layout direction.`,\n        type: 'string',\n        required: false,\n        defaultValue: defaults.layout,\n        controlType: 'radio',\n        group: 'Base',\n        controlOptions: {\n            choices: [\n                { label: 'horizontal', value: 'horizontal' },\n                { label: 'vertical', value: 'vertical' },\n            ],\n        },\n    },\n    {\n        key: 'align',\n        group: 'Base',\n        help: 'Node alignment method.',\n        description: `\n            Defines node alignment method.\n            Please have a look at the\n            [official d3 documentation](https://github.com/d3/d3-sankey#sankey_nodeAlign)\n            for further information.\n        `,\n        type: 'string',\n        required: false,\n        defaultValue: defaults.align,\n        controlType: 'choices',\n        controlOptions: {\n            choices: sankeyAlignmentPropKeys.map(key => ({\n                label: key,\n                value: key,\n            })),\n        },\n    },\n    {\n        key: 'sort',\n        description: `\n            Defines node sorting method. Must be one of:\n\n            - **'auto'** order of nodes within each\n              column is determined automatically by the layout.\n            - **'input'** order is fixed by the input.\n            - **'ascending'** node with lower values on top.\n            - **'descending'** node with higher values on top.\n            - \\`(nodeA, nodeB) => number\\` user defined function.\n\n            Please have a look at the\n            [official d3 documentation](https://github.com/d3/d3-sankey#sankey_nodeSort)\n            for further information.\n        `,\n        help: 'Node sorting method.',\n        type: 'string | Function',\n        required: false,\n        defaultValue: defaults.sort,\n        controlType: 'choices',\n        group: 'Base',\n        controlOptions: {\n            choices: ['auto', 'input', 'ascending', 'descending'].map(key => ({\n                label: key,\n                value: key,\n            })),\n        },\n    },\n    {\n        key: 'width',\n        enableControlForFlavors: ['api'],\n        description: `\n            not required if using\n            \\`<ResponsiveSankey/>\\`.\n        `,\n        help: 'Chart width.',\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1200,\n            step: 5,\n        },\n    },\n    {\n        key: 'height',\n        enableControlForFlavors: ['api'],\n        description: `\n            not required if using\n            \\`<ResponsiveSankey/>\\`.\n        `,\n        help: 'Chart height.',\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1200,\n            step: 5,\n        },\n    },\n    {\n        key: 'margin',\n        help: 'Chart margin.',\n        type: 'object',\n        required: false,\n        controlType: 'margin',\n        group: 'Base',\n    },\n    themeProperty,\n    {\n        key: 'colors',\n        help: 'Defines how to compute nodes color.',\n        type: 'string | Function | string[]',\n        required: false,\n        defaultValue: defaults.colors,\n        controlType: 'ordinalColors',\n        group: 'Style',\n    },\n    {\n        key: 'nodeThickness',\n        help: 'Node thickness.',\n        required: false,\n        defaultValue: defaults.nodeThickness,\n        type: 'number',\n        controlType: 'range',\n        group: 'Nodes',\n        controlOptions: {\n            unit: 'px',\n            min: 2,\n            max: 100,\n        },\n    },\n    {\n        key: 'nodeOpacity',\n        help: 'Node opacity (0~1).',\n        required: false,\n        defaultValue: defaults.nodeOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Nodes',\n    },\n    {\n        key: 'nodeHoverOpacity',\n        flavors: ['svg'],\n        help: 'Node opacity on hover (0~1).',\n        required: false,\n        defaultValue: defaults.nodeHoverOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Nodes',\n    },\n    {\n        key: 'nodeSpacing',\n        help: 'Spacing between nodes at an identical level.',\n        required: false,\n        defaultValue: defaults.nodeSpacing,\n        type: 'number',\n        controlType: 'range',\n        group: 'Nodes',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 60,\n        },\n    },\n    {\n        key: 'nodeInnerPadding',\n        help: 'Node inner padding, distance from link, substracted from nodeThickness.',\n        required: false,\n        defaultValue: defaults.nodePaddingX,\n        type: 'number',\n        controlType: 'range',\n        group: 'Nodes',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 20,\n        },\n    },\n    {\n        key: 'nodeBorderWidth',\n        help: 'Node border width.',\n        required: false,\n        defaultValue: defaults.nodeBorderWidth,\n        type: 'number',\n        controlType: 'lineWidth',\n        group: 'Nodes',\n    },\n    {\n        key: 'nodeBorderColor',\n        description: `\n            how to compute node border color,\n            [see dedicated documentation](self:/guides/colors).\n        `,\n        help: 'Method to compute node border color.',\n        type: 'string | object | Function',\n        required: false,\n        defaultValue: defaults.nodeBorderColor,\n        controlType: 'inheritedColor',\n        group: 'Nodes',\n    },\n    {\n        key: 'linkOpacity',\n        help: 'Link opacity (0~1).',\n        required: false,\n        defaultValue: defaults.linkOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Links',\n    },\n    {\n        key: 'linkHoverOpacity',\n        flavors: ['svg'],\n        help: 'Link opacity on hover(0~1).',\n        required: false,\n        defaultValue: defaults.linkHoverOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Links',\n    },\n    {\n        key: 'linkContract',\n        help: 'Contract link width.',\n        required: false,\n        defaultValue: defaults.linkContract,\n        type: 'number',\n        controlType: 'range',\n        group: 'Links',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 60,\n        },\n    },\n    {\n        key: 'linkBlendMode',\n        flavors: ['svg'],\n        help: 'Defines CSS mix-blend-mode property for links.',\n        description: `\n            Defines CSS \\`mix-blend-mode\\` property for links, see\n            [MDN documentation](https://developer.mozilla.org/fr/docs/Web/CSS/mix-blend-mode).\n        `,\n        type: 'string',\n        required: false,\n        defaultValue: defaults.linkBlendMode,\n        controlType: 'blendMode',\n        group: 'Links',\n    },\n    {\n        key: 'enableLinkGradient',\n        help: 'Enable/disable gradient from source/target nodes instead of plain color.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableLinkGradient,\n        controlType: 'switch',\n        group: 'Links',\n    },\n    {\n        key: 'enableLabels',\n        help: 'Enable/disable labels.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableLabels,\n        controlType: 'switch',\n        group: 'Labels',\n    },\n    {\n        key: 'labelPosition',\n        help: 'Label position.',\n        type: 'string',\n        required: false,\n        defaultValue: defaults.labelPosition,\n        controlType: 'radio',\n        group: 'Labels',\n        controlOptions: {\n            choices: ['inside', 'outside'].map(key => ({\n                label: key,\n                value: key,\n            })),\n        },\n    },\n    {\n        key: 'labelPadding',\n        help: 'Label padding from node.',\n        required: false,\n        defaultValue: defaults.labelPadding,\n        type: 'number',\n        controlType: 'range',\n        group: 'Labels',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 60,\n        },\n    },\n    {\n        key: 'labelTextColor',\n        help: 'Method to compute label text color.',\n        description: `\n            how to compute label text color,\n            [see dedicated documentation](self:/guides/colors).\n        `,\n        type: 'string | object | Function',\n        required: false,\n        defaultValue: defaults.labelTextColor,\n        controlType: 'inheritedColor',\n        group: 'Labels',\n    },\n    {\n        key: 'labelOrientation',\n        help: 'Label orientation.',\n        type: 'string',\n        required: false,\n        defaultValue: defaults.labelOrientation,\n        controlType: 'radio',\n        group: 'Labels',\n        controlOptions: {\n            choices: ['horizontal', 'vertical'].map(key => ({\n                label: key,\n                value: key,\n            })),\n        },\n    },\n    {\n        key: 'isInteractive',\n        flavors: ['svg'],\n        help: 'Enable/disable interactivity.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.isInteractive,\n        controlType: 'switch',\n        group: 'Interactivity',\n    },\n    ...motionProperties(['svg'], defaults, 'react-spring'),\n]\n\nexport const groups = groupProperties(props)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { settingsMapper } from '../../../lib/settings'\n\nexport default settingsMapper({})\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { sankeyCenter, sankeyJustify, sankeyLeft, sankeyRight } from 'd3-sankey'\nimport { noop, blendModePropType, motionPropTypes } from '@nivo/core'\nimport { ordinalColorsPropType, inheritedColorPropType } from '@nivo/colors'\nimport { LegendPropShape } from '@nivo/legends'\n\nexport const sankeyAlignmentPropMapping = {\n    center: sankeyCenter,\n    justify: sankeyJustify,\n    start: sankeyLeft,\n    end: sankeyRight,\n}\n\nexport const sankeyAlignmentPropKeys = Object.keys(sankeyAlignmentPropMapping)\n\nexport const sankeyAlignmentPropType = PropTypes.oneOf(sankeyAlignmentPropKeys)\n\nexport const sankeyAlignmentFromProp = prop => sankeyAlignmentPropMapping[prop]\n\nexport const SankeyPropTypes = {\n    data: PropTypes.shape({\n        nodes: PropTypes.arrayOf(\n            PropTypes.shape({\n                id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            })\n        ).isRequired,\n        links: PropTypes.arrayOf(\n            PropTypes.shape({\n                source: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n                target: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            })\n        ).isRequired,\n    }).isRequired,\n\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    align: sankeyAlignmentPropType.isRequired,\n    sort: PropTypes.oneOfType([\n        PropTypes.oneOf(['auto', 'input', 'ascending', 'descending']),\n        PropTypes.func,\n    ]).isRequired,\n\n    colors: ordinalColorsPropType.isRequired,\n\n    nodeOpacity: PropTypes.number.isRequired,\n    nodeHoverOpacity: PropTypes.number.isRequired,\n    nodeHoverOthersOpacity: PropTypes.number.isRequired,\n    nodeThickness: PropTypes.number.isRequired,\n    nodeSpacing: PropTypes.number.isRequired,\n    nodeInnerPadding: PropTypes.number.isRequired,\n    nodeBorderWidth: PropTypes.number.isRequired,\n    nodeBorderColor: inheritedColorPropType,\n\n    linkOpacity: PropTypes.number.isRequired,\n    linkHoverOpacity: PropTypes.number.isRequired,\n    linkHoverOthersOpacity: PropTypes.number.isRequired,\n    linkContract: PropTypes.number.isRequired,\n    linkBlendMode: blendModePropType.isRequired,\n    enableLinkGradient: PropTypes.bool.isRequired,\n\n    enableLabels: PropTypes.bool.isRequired,\n    labelPosition: PropTypes.oneOf(['inside', 'outside']).isRequired,\n    labelPadding: PropTypes.number.isRequired,\n    labelOrientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    labelTextColor: inheritedColorPropType,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n    labelFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n    nodeTooltip: PropTypes.func,\n    linkTooltip: PropTypes.func,\n\n    isInteractive: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n    tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\n    legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired,\n\n    layers: PropTypes.arrayOf(\n        PropTypes.oneOfType([\n            PropTypes.oneOf(['links', 'nodes', 'labels', 'legends']),\n            PropTypes.func,\n        ])\n    ).isRequired,\n\n    role: PropTypes.string.isRequired,\n\n    ...motionPropTypes,\n}\n\nexport const SankeyDefaultProps = {\n    layout: 'horizontal',\n    align: 'center',\n    sort: 'auto',\n\n    colors: { scheme: 'nivo' },\n\n    nodeOpacity: 0.75,\n    nodeHoverOpacity: 1,\n    nodeHoverOthersOpacity: 0.15,\n    nodeThickness: 12,\n    nodeSpacing: 12,\n    nodeInnerPadding: 0,\n    nodeBorderWidth: 1,\n    nodeBorderColor: { from: 'color', modifiers: [['darker', 0.5]] },\n\n    linkOpacity: 0.25,\n    linkHoverOpacity: 0.6,\n    linkHoverOthersOpacity: 0.15,\n    linkContract: 0,\n    linkBlendMode: 'multiply',\n    enableLinkGradient: false,\n\n    enableLabels: true,\n    label: 'id',\n    labelPosition: 'inside',\n    labelPadding: 9,\n    labelOrientation: 'horizontal',\n    labelTextColor: { from: 'color', modifiers: [['darker', 0.8]] },\n\n    isInteractive: true,\n    onClick: noop,\n\n    legends: [],\n\n    layers: ['links', 'nodes', 'labels', 'legends'],\n\n    role: 'img',\n\n    animate: true,\n    motionConfig: 'gentle',\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { useState, useMemo } from 'react'\nimport { cloneDeep } from 'lodash'\nimport { sankey as d3Sankey } from 'd3-sankey'\nimport { useTheme, getLabelGenerator } from '@nivo/core'\nimport { useOrdinalColorScale, useInheritedColor } from '@nivo/colors'\nimport { sankeyAlignmentFromProp } from './props'\n\nconst getId = d => d.id\n\nexport const computeNodeAndLinks = ({\n    data: _data,\n    layout,\n    alignFunction,\n    sortFunction,\n    linkSortMode,\n    nodeThickness,\n    nodeSpacing,\n    nodeInnerPadding,\n    width,\n    height,\n    getColor,\n    getLinkColor,\n    getLabel,\n}) => {\n    const sankey = d3Sankey()\n        .nodeAlign(alignFunction)\n        .nodeSort(sortFunction)\n        .linkSort(linkSortMode)\n        .nodeWidth(nodeThickness)\n        .nodePadding(nodeSpacing)\n        .size(layout === 'horizontal' ? [width, height] : [height, width])\n        .nodeId(getId)\n\n    // deep clone is required as the sankey diagram mutates data\n    // we need a different identity for correct updates\n    const data = cloneDeep(_data)\n    sankey(data)\n\n    data.nodes.forEach(node => {\n        node.color = getColor(node)\n        node.label = getLabel(node)\n        if (layout === 'horizontal') {\n            node.x = node.x0 + nodeInnerPadding\n            node.y = node.y0\n            node.width = Math.max(node.x1 - node.x0 - nodeInnerPadding * 2, 0)\n            node.height = Math.max(node.y1 - node.y0, 0)\n        } else {\n            node.x = node.y0\n            node.y = node.x0 + nodeInnerPadding\n            node.width = Math.max(node.y1 - node.y0, 0)\n            node.height = Math.max(node.x1 - node.x0 - nodeInnerPadding * 2, 0)\n\n            const oldX0 = node.x0\n            const oldX1 = node.x1\n\n            node.x0 = node.y0\n            node.x1 = node.y1\n            node.y0 = oldX0\n            node.y1 = oldX1\n        }\n    })\n\n    data.links.forEach(link => {\n        link.color = getLinkColor(link)\n        link.pos0 = link.y0\n        link.pos1 = link.y1\n        link.thickness = link.width\n        delete link.y0\n        delete link.y1\n        delete link.width\n    })\n\n    return data\n}\n\nexport const useSankey = ({\n    data,\n    layout,\n    width,\n    height,\n    sort,\n    align,\n    colors,\n    nodeThickness,\n    nodeSpacing,\n    nodeInnerPadding,\n    nodeBorderColor,\n    label,\n    labelFormat,\n    labelTextColor,\n}) => {\n    const [currentNode, setCurrentNode] = useState(null)\n    const [currentLink, setCurrentLink] = useState(null)\n\n    const sortFunction = useMemo(() => {\n        if (sort === 'auto') return undefined\n        if (sort === 'input') return null\n        if (sort === 'ascending') return (a, b) => a.value - b.value\n        if (sort === 'descending') return (a, b) => b.value - a.value\n\n        return sort\n    }, [sort])\n\n    // If \"input\" sorting is used, apply this setting to links, too.\n    // (In d3, `null` means input sorting and `undefined` is the default)\n    const linkSortMode = sort === 'input' ? null : undefined\n\n    const alignFunction = useMemo(() => sankeyAlignmentFromProp(align), [align])\n\n    const theme = useTheme()\n\n    const getColor = useOrdinalColorScale(colors, 'id')\n    const getNodeBorderColor = useInheritedColor(nodeBorderColor, theme)\n    const getLinkColor = useOrdinalColorScale(colors, 'source.id')\n\n    const getLabel = useMemo(() => getLabelGenerator(label, labelFormat), [label, labelFormat])\n    const getLabelTextColor = useInheritedColor(labelTextColor, theme)\n\n    const { nodes, links } = useMemo(\n        () =>\n            computeNodeAndLinks({\n                data,\n                layout,\n                alignFunction,\n                sortFunction,\n                linkSortMode,\n                nodeThickness,\n                nodeSpacing,\n                nodeInnerPadding,\n                width,\n                height,\n                getColor,\n                getLinkColor,\n                getLabel,\n            }),\n        [\n            data,\n            layout,\n            alignFunction,\n            sortFunction,\n            linkSortMode,\n            nodeThickness,\n            nodeSpacing,\n            nodeInnerPadding,\n            width,\n            height,\n            getColor,\n            getLinkColor,\n            getLabel,\n        ]\n    )\n\n    const legendData = useMemo(\n        () =>\n            nodes.map(node => ({\n                id: node.id,\n                label: node.label,\n                color: node.color,\n            })),\n        [nodes]\n    )\n\n    return {\n        nodes,\n        links,\n        legendData,\n        getNodeBorderColor,\n        currentNode,\n        setCurrentNode,\n        currentLink,\n        setCurrentLink,\n        getLabelTextColor,\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useCallback, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig } from '@nivo/core'\nimport { BasicTooltip, useTooltip } from '@nivo/tooltip'\n\nconst SankeyNodesItem = ({\n    node,\n    x,\n    y,\n    width,\n    height,\n    color,\n    opacity,\n    borderWidth,\n    borderColor,\n    setCurrent,\n    isInteractive,\n    onClick,\n    tooltip,\n}) => {\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        x,\n        y,\n        width,\n        height,\n        opacity,\n        color,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const tooltipContent = useMemo(() => {\n        if (tooltip) {\n            return <BasicTooltip id={tooltip(node)} enableChip={false} />\n        }\n\n        return <BasicTooltip id={node.label} enableChip={true} color={node.color} />\n    }, [tooltip, node])\n\n    const handleMouseEnter = useCallback(\n        event => {\n            setCurrent(node)\n            showTooltipFromEvent(tooltipContent, event, 'left')\n        },\n        [setCurrent, node, showTooltipFromEvent, tooltipContent]\n    )\n\n    const handleMouseMove = useCallback(\n        event => {\n            showTooltipFromEvent(tooltipContent, event, 'left')\n        },\n        [showTooltipFromEvent, tooltipContent]\n    )\n\n    const handleMouseLeave = useCallback(() => {\n        setCurrent(null)\n        hideTooltip()\n    }, [setCurrent, hideTooltip])\n\n    const handleClick = useCallback(\n        event => {\n            onClick(node, event)\n        },\n        [onClick, node]\n    )\n\n    return (\n        <animated.rect\n            x={animatedProps.x}\n            y={animatedProps.y}\n            width={animatedProps.width.interpolate(v => Math.max(v, 0))}\n            height={animatedProps.height.interpolate(v => Math.max(v, 0))}\n            fill={animatedProps.color}\n            fillOpacity={animatedProps.opacity}\n            strokeWidth={borderWidth}\n            stroke={borderColor}\n            strokeOpacity={opacity}\n            onMouseEnter={isInteractive ? handleMouseEnter : undefined}\n            onMouseMove={isInteractive ? handleMouseMove : undefined}\n            onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n            onClick={isInteractive ? handleClick : undefined}\n        />\n    )\n}\n\nSankeyNodesItem.propTypes = {\n    node: PropTypes.shape({\n        id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n        label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n        color: PropTypes.string.isRequired,\n    }),\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired,\n    opacity: PropTypes.number.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.string.isRequired,\n    setCurrent: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n    tooltip: PropTypes.func,\n}\n\nexport default memo(SankeyNodesItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport SankeyNodesItem from './SankeyNodesItem'\n\nconst SankeyNodes = ({\n    nodes,\n    nodeOpacity,\n    nodeHoverOpacity,\n    nodeHoverOthersOpacity,\n    nodeBorderWidth,\n    getNodeBorderColor,\n    setCurrentNode,\n    currentNode,\n    currentLink,\n    isCurrentNode,\n    isInteractive,\n    onClick,\n    tooltip,\n}) => {\n    const getOpacity = node => {\n        if (!currentNode && !currentLink) return nodeOpacity\n        if (isCurrentNode(node)) return nodeHoverOpacity\n        return nodeHoverOthersOpacity\n    }\n\n    return nodes.map(node => (\n        <SankeyNodesItem\n            key={node.id}\n            node={node}\n            x={node.x}\n            y={node.y}\n            width={node.width}\n            height={node.height}\n            color={node.color}\n            opacity={getOpacity(node)}\n            borderWidth={nodeBorderWidth}\n            borderColor={getNodeBorderColor(node)}\n            setCurrent={setCurrentNode}\n            isInteractive={isInteractive}\n            onClick={onClick}\n            tooltip={tooltip}\n        />\n    ))\n}\n\nSankeyNodes.propTypes = {\n    nodes: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            x: PropTypes.number.isRequired,\n            y: PropTypes.number.isRequired,\n            width: PropTypes.number.isRequired,\n            height: PropTypes.number.isRequired,\n            color: PropTypes.string.isRequired,\n        })\n    ).isRequired,\n    nodeOpacity: PropTypes.number.isRequired,\n    nodeHoverOpacity: PropTypes.number.isRequired,\n    nodeHoverOthersOpacity: PropTypes.number.isRequired,\n    nodeBorderWidth: PropTypes.number.isRequired,\n    getNodeBorderColor: PropTypes.func.isRequired,\n    tooltip: PropTypes.func,\n    setCurrentNode: PropTypes.func.isRequired,\n    currentNode: PropTypes.object,\n    currentLink: PropTypes.object,\n    isCurrentNode: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n}\n\nexport default memo(SankeyNodes)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst SankeyLinkGradient = memo(({ id, layout, startColor, endColor }) => {\n    const gradientProps = {}\n    if (layout === 'horizontal') {\n        gradientProps.x1 = '0%'\n        gradientProps.x2 = '100%'\n        gradientProps.y1 = '0%'\n        gradientProps.y2 = '0%'\n    } else {\n        gradientProps.x1 = '0%'\n        gradientProps.x2 = '0%'\n        gradientProps.y1 = '0%'\n        gradientProps.y2 = '100%'\n    }\n\n    return (\n        <linearGradient id={id} spreadMethod=\"pad\" {...gradientProps}>\n            <stop offset=\"0%\" stopColor={startColor} />\n            <stop offset=\"100%\" stopColor={endColor} />\n        </linearGradient>\n    )\n})\n\nSankeyLinkGradient.propTypes = {\n    id: PropTypes.string.isRequired,\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    startColor: PropTypes.string.isRequired,\n    endColor: PropTypes.string.isRequired,\n}\n\nSankeyLinkGradient.displayName = 'SankeyLinkGradient'\n\nexport default SankeyLinkGradient\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useCallback, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { blendModePropType, useMotionConfig } from '@nivo/core'\nimport { BasicTooltip, Chip, useTooltip } from '@nivo/tooltip'\nimport SankeyLinkGradient from './SankeyLinkGradient'\n\nconst tooltipStyles = {\n    container: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    sourceChip: {\n        marginRight: 7,\n    },\n    targetChip: {\n        marginLeft: 7,\n        marginRight: 7,\n    },\n}\n\nconst TooltipContent = ({ link, format }) => (\n    <span style={tooltipStyles.container}>\n        <Chip color={link.source.color} style={tooltipStyles.sourceChip} />\n        <strong>{link.source.label}</strong>\n        {' > '}\n        <strong>{link.target.label}</strong>\n        <Chip color={link.target.color} style={tooltipStyles.targetChip} />\n        <strong>{format ? format(link.value) : link.value}</strong>\n    </span>\n)\n\nTooltipContent.propTypes = {\n    link: PropTypes.shape({\n        source: PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n            label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            color: PropTypes.string.isRequired,\n        }).isRequired,\n        target: PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n            label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            color: PropTypes.string.isRequired,\n        }).isRequired,\n        color: PropTypes.string.isRequired,\n        value: PropTypes.number.isRequired,\n    }).isRequired,\n    format: PropTypes.func,\n}\n\nconst SankeyLinksItem = ({\n    link,\n    layout,\n    path,\n    color,\n    opacity,\n    blendMode,\n    enableGradient,\n    setCurrent,\n    tooltip,\n    tooltipFormat,\n    isInteractive,\n    onClick,\n}) => {\n    const linkId = `${link.source.id}.${link.target.id}`\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        path,\n        color,\n        opacity,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const tooltipContent = useMemo(() => {\n        if (tooltip) {\n            return <BasicTooltip id={tooltip(link)} enableChip={false} />\n        }\n\n        return <BasicTooltip id={<TooltipContent format={tooltipFormat} link={link} />} />\n    }, [tooltip, tooltipFormat, link])\n\n    const handleMouseEnter = useCallback(\n        event => {\n            setCurrent(link)\n            showTooltipFromEvent(tooltipContent, event, 'left')\n        },\n        [setCurrent, link, showTooltipFromEvent, tooltipContent]\n    )\n\n    const handleMouseMove = useCallback(\n        event => {\n            showTooltipFromEvent(tooltipContent, event, 'left')\n        },\n        [showTooltipFromEvent, tooltipContent]\n    )\n\n    const handleMouseLeave = useCallback(() => {\n        setCurrent(null)\n        hideTooltip()\n    }, [setCurrent, hideTooltip])\n\n    const handleClick = useCallback(\n        event => {\n            onClick(link, event)\n        },\n        [onClick, link]\n    )\n\n    return (\n        <>\n            {enableGradient && (\n                <SankeyLinkGradient\n                    id={linkId}\n                    layout={layout}\n                    startColor={link.startColor || link.source.color}\n                    endColor={link.endColor || link.target.color}\n                />\n            )}\n            <animated.path\n                fill={enableGradient ? `url(\"#${encodeURI(linkId)}\")` : animatedProps.color}\n                d={animatedProps.path}\n                fillOpacity={animatedProps.opacity}\n                onMouseEnter={isInteractive ? handleMouseEnter : undefined}\n                onMouseMove={isInteractive ? handleMouseMove : undefined}\n                onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n                onClick={isInteractive ? handleClick : undefined}\n                style={{ mixBlendMode: blendMode }}\n            />\n        </>\n    )\n}\n\nSankeyLinksItem.propTypes = {\n    link: PropTypes.shape({\n        source: PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n            label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            color: PropTypes.string.isRequired,\n        }).isRequired,\n        target: PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n            label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            color: PropTypes.string.isRequired,\n        }).isRequired,\n        color: PropTypes.string.isRequired,\n        value: PropTypes.number.isRequired,\n        startColor: PropTypes.string,\n        endColor: PropTypes.string,\n    }).isRequired,\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    path: PropTypes.string.isRequired,\n    color: PropTypes.string.isRequired,\n    opacity: PropTypes.number.isRequired,\n    blendMode: blendModePropType.isRequired,\n    enableGradient: PropTypes.bool.isRequired,\n    setCurrent: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n    tooltip: PropTypes.func,\n    tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n}\n\nexport default memo(SankeyLinksItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { blendModePropType } from '@nivo/core'\nimport SankeyLinksItem from './SankeyLinksItem'\nimport { sankeyLinkHorizontal, sankeyLinkVertical } from './links'\n\nconst SankeyLinks = ({\n    links,\n    layout,\n    linkOpacity,\n    linkHoverOpacity,\n    linkHoverOthersOpacity,\n    linkContract,\n    linkBlendMode,\n    enableLinkGradient,\n    setCurrentLink,\n    currentNode,\n    currentLink,\n    isCurrentLink,\n    isInteractive,\n    onClick,\n    tooltipFormat,\n    tooltip,\n}) => {\n    const getOpacity = link => {\n        if (!currentNode && !currentLink) return linkOpacity\n        if (isCurrentLink(link)) return linkHoverOpacity\n        return linkHoverOthersOpacity\n    }\n\n    const getLinkPath = layout === 'horizontal' ? sankeyLinkHorizontal() : sankeyLinkVertical()\n\n    return links.map(link => (\n        <SankeyLinksItem\n            key={`${link.source.id}.${link.target.id}`}\n            link={link}\n            layout={layout}\n            path={getLinkPath(link, linkContract)}\n            color={link.color}\n            opacity={getOpacity(link)}\n            blendMode={linkBlendMode}\n            enableGradient={enableLinkGradient}\n            setCurrent={setCurrentLink}\n            isInteractive={isInteractive}\n            onClick={onClick}\n            tooltip={tooltip}\n            tooltipFormat={tooltipFormat}\n        />\n    ))\n}\n\nSankeyLinks.propTypes = {\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    links: PropTypes.arrayOf(\n        PropTypes.shape({\n            source: PropTypes.shape({\n                id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n                label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            }).isRequired,\n            target: PropTypes.shape({\n                id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n                label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            }).isRequired,\n            thickness: PropTypes.number.isRequired,\n            color: PropTypes.string.isRequired,\n        })\n    ).isRequired,\n    linkOpacity: PropTypes.number.isRequired,\n    linkHoverOpacity: PropTypes.number.isRequired,\n    linkHoverOthersOpacity: PropTypes.number.isRequired,\n    linkContract: PropTypes.number.isRequired,\n    linkBlendMode: blendModePropType.isRequired,\n    enableLinkGradient: PropTypes.bool.isRequired,\n    tooltip: PropTypes.func,\n    setCurrentLink: PropTypes.func.isRequired,\n    currentLink: PropTypes.object,\n    isCurrentLink: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n}\n\nexport default memo(SankeyLinks)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { line, curveMonotoneX, curveMonotoneY } from 'd3-shape'\n\nexport const sankeyLinkHorizontal = () => {\n    const lineGenerator = line().curve(curveMonotoneX)\n\n    return (n, contract) => {\n        const thickness = Math.max(1, n.thickness - contract * 2)\n        const halfThickness = thickness / 2\n        const linkLength = n.target.x0 - n.source.x1\n        const padLength = linkLength * 0.12\n\n        const dots = [\n            [n.source.x1, n.pos0 - halfThickness],\n            [n.source.x1 + padLength, n.pos0 - halfThickness],\n            [n.target.x0 - padLength, n.pos1 - halfThickness],\n            [n.target.x0, n.pos1 - halfThickness],\n            [n.target.x0, n.pos1 + halfThickness],\n            [n.target.x0 - padLength, n.pos1 + halfThickness],\n            [n.source.x1 + padLength, n.pos0 + halfThickness],\n            [n.source.x1, n.pos0 + halfThickness],\n            [n.source.x1, n.pos0 - halfThickness],\n        ]\n\n        return lineGenerator(dots) + 'Z'\n    }\n}\n\nexport const sankeyLinkVertical = () => {\n    const lineGenerator = line().curve(curveMonotoneY)\n\n    return (n, contract) => {\n        const thickness = Math.max(1, n.thickness - contract * 2)\n        const halfThickness = thickness / 2\n        const linkLength = n.target.y0 - n.source.y1\n        const padLength = linkLength * 0.12\n\n        const dots = [\n            [n.pos0 + halfThickness, n.source.y1],\n            [n.pos0 + halfThickness, n.source.y1 + padLength],\n            [n.pos1 + halfThickness, n.target.y0 - padLength],\n            [n.pos1 + halfThickness, n.target.y0],\n            [n.pos1 - halfThickness, n.target.y0],\n            [n.pos1 - halfThickness, n.target.y0 - padLength],\n            [n.pos0 - halfThickness, n.source.y1 + padLength],\n            [n.pos0 - halfThickness, n.source.y1],\n            [n.pos0 + halfThickness, n.source.y1],\n        ]\n\n        return lineGenerator(dots) + 'Z'\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSprings, animated } from 'react-spring'\nimport { useTheme, useMotionConfig } from '@nivo/core'\n\nconst SankeyLabels = ({\n    nodes,\n    layout,\n    width,\n    height,\n    labelPosition,\n    labelPadding,\n    labelOrientation,\n    getLabelTextColor,\n}) => {\n    const theme = useTheme()\n\n    const labelRotation = labelOrientation === 'vertical' ? -90 : 0\n    const labels = nodes.map(node => {\n        let x\n        let y\n        let textAnchor\n        if (layout === 'horizontal') {\n            y = node.y + node.height / 2\n            if (node.x < width / 2) {\n                if (labelPosition === 'inside') {\n                    x = node.x1 + labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'middle' : 'start'\n                } else {\n                    x = node.x - labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'middle' : 'end'\n                }\n            } else {\n                if (labelPosition === 'inside') {\n                    x = node.x - labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'middle' : 'end'\n                } else {\n                    x = node.x1 + labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'middle' : 'start'\n                }\n            }\n        } else if (layout === 'vertical') {\n            x = node.x + node.width / 2\n            if (node.y < height / 2) {\n                if (labelPosition === 'inside') {\n                    y = node.y1 + labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'end' : 'middle'\n                } else {\n                    y = node.y - labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'start' : 'middle'\n                }\n            } else {\n                if (labelPosition === 'inside') {\n                    y = node.y - labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'start' : 'middle'\n                } else {\n                    y = node.y1 + labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'end' : 'middle'\n                }\n            }\n        }\n\n        return {\n            id: node.id,\n            label: node.label,\n            x,\n            y,\n            textAnchor,\n            color: getLabelTextColor(node),\n        }\n    })\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const springs = useSprings(\n        labels.length,\n        labels.map(label => ({\n            transform: `translate(${label.x}, ${label.y}) rotate(${labelRotation})`,\n            color: label.color,\n            config: springConfig,\n            immediate: !animate,\n        }))\n    )\n\n    return springs.map((animatedProps, index) => {\n        const label = labels[index]\n\n        return (\n            <animated.text\n                key={label.id}\n                dominantBaseline=\"central\"\n                textAnchor={label.textAnchor}\n                transform={animatedProps.transform}\n                style={{\n                    ...theme.labels.text,\n                    fill: animatedProps.color,\n                    pointerEvents: 'none',\n                }}\n            >\n                {label.label}\n            </animated.text>\n        )\n    })\n}\n\nSankeyLabels.propTypes = {\n    nodes: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            x1: PropTypes.number.isRequired,\n            x: PropTypes.number.isRequired,\n            y: PropTypes.number.isRequired,\n            width: PropTypes.number.isRequired,\n            height: PropTypes.number.isRequired,\n        })\n    ).isRequired,\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    labelPosition: PropTypes.oneOf(['inside', 'outside']).isRequired,\n    labelPadding: PropTypes.number.isRequired,\n    labelOrientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    getLabelTextColor: PropTypes.func.isRequired,\n}\n\nexport default memo(SankeyLabels)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Fragment } from 'react'\nimport { uniq } from 'lodash'\nimport { SvgWrapper, useDimensions, withContainer } from '@nivo/core'\nimport { BoxLegendSvg } from '@nivo/legends'\nimport { SankeyDefaultProps, SankeyPropTypes } from './props'\nimport { useSankey } from './hooks'\nimport SankeyNodes from './SankeyNodes'\nimport SankeyLinks from './SankeyLinks'\nimport SankeyLabels from './SankeyLabels'\n\nconst Sankey = ({\n    data,\n    layout,\n    sort,\n    align,\n    width,\n    height,\n    margin: partialMargin,\n    colors,\n    nodeThickness,\n    nodeSpacing,\n    nodeInnerPadding,\n    nodeBorderColor,\n    nodeOpacity,\n    nodeHoverOpacity,\n    nodeHoverOthersOpacity,\n    nodeBorderWidth,\n    linkOpacity,\n    linkHoverOpacity,\n    linkHoverOthersOpacity,\n    linkContract,\n    linkBlendMode,\n    enableLinkGradient,\n    enableLabels,\n    labelPosition,\n    labelPadding,\n    labelOrientation,\n    label,\n    labelFormat,\n    labelTextColor,\n    nodeTooltip,\n    linkTooltip,\n    isInteractive,\n    onClick,\n    tooltipFormat,\n    legends,\n    layers,\n    role,\n}) => {\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const {\n        nodes,\n        links,\n        legendData,\n        getNodeBorderColor,\n        currentNode,\n        setCurrentNode,\n        currentLink,\n        setCurrentLink,\n        getLabelTextColor,\n    } = useSankey({\n        data,\n        layout,\n        width: innerWidth,\n        height: innerHeight,\n        sort,\n        align,\n        colors,\n        nodeThickness,\n        nodeSpacing,\n        nodeInnerPadding,\n        nodeBorderColor,\n        label,\n        labelFormat,\n        labelTextColor,\n    })\n\n    let isCurrentNode = () => false\n    let isCurrentLink = () => false\n\n    if (currentLink) {\n        isCurrentNode = ({ id }) => id === currentLink.source.id || id === currentLink.target.id\n        isCurrentLink = ({ source, target }) =>\n            source.id === currentLink.source.id && target.id === currentLink.target.id\n    }\n\n    if (currentNode) {\n        let currentNodeIds = [currentNode.id]\n        links\n            .filter(\n                ({ source, target }) => source.id === currentNode.id || target.id === currentNode.id\n            )\n            .forEach(({ source, target }) => {\n                currentNodeIds.push(source.id)\n                currentNodeIds.push(target.id)\n            })\n\n        currentNodeIds = uniq(currentNodeIds)\n        isCurrentNode = ({ id }) => currentNodeIds.includes(id)\n        isCurrentLink = ({ source, target }) =>\n            source.id === currentNode.id || target.id === currentNode.id\n    }\n\n    const layerProps = {\n        links,\n        nodes,\n        margin,\n        width,\n        height,\n        outerWidth,\n        outerHeight,\n    }\n\n    const layerById = {\n        links: (\n            <SankeyLinks\n                key=\"links\"\n                links={links}\n                layout={layout}\n                linkContract={linkContract}\n                linkOpacity={linkOpacity}\n                linkHoverOpacity={linkHoverOpacity}\n                linkHoverOthersOpacity={linkHoverOthersOpacity}\n                linkBlendMode={linkBlendMode}\n                enableLinkGradient={enableLinkGradient}\n                setCurrentLink={setCurrentLink}\n                currentNode={currentNode}\n                currentLink={currentLink}\n                isCurrentLink={isCurrentLink}\n                isInteractive={isInteractive}\n                onClick={onClick}\n                tooltip={linkTooltip}\n                tooltipFormat={tooltipFormat}\n            />\n        ),\n        nodes: (\n            <SankeyNodes\n                key=\"nodes\"\n                nodes={nodes}\n                nodeOpacity={nodeOpacity}\n                nodeHoverOpacity={nodeHoverOpacity}\n                nodeHoverOthersOpacity={nodeHoverOthersOpacity}\n                nodeBorderWidth={nodeBorderWidth}\n                getNodeBorderColor={getNodeBorderColor}\n                setCurrentNode={setCurrentNode}\n                currentNode={currentNode}\n                currentLink={currentLink}\n                isCurrentNode={isCurrentNode}\n                isInteractive={isInteractive}\n                onClick={onClick}\n                tooltip={nodeTooltip}\n                tooltipFormat={tooltipFormat}\n            />\n        ),\n        labels: null,\n        legends: legends.map((legend, i) => (\n            <BoxLegendSvg\n                key={`legend${i}`}\n                {...legend}\n                containerWidth={innerWidth}\n                containerHeight={innerHeight}\n                data={legendData}\n            />\n        )),\n    }\n\n    if (enableLabels) {\n        layerById.labels = (\n            <SankeyLabels\n                key=\"labels\"\n                nodes={nodes}\n                layout={layout}\n                width={innerWidth}\n                height={innerHeight}\n                labelPosition={labelPosition}\n                labelPadding={labelPadding}\n                labelOrientation={labelOrientation}\n                getLabelTextColor={getLabelTextColor}\n            />\n        )\n    }\n\n    return (\n        <SvgWrapper width={outerWidth} height={outerHeight} margin={margin} role={role}>\n            {layers.map((layer, i) => {\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{layer(layerProps)}</Fragment>\n                }\n\n                return layerById[layer]\n            })}\n        </SvgWrapper>\n    )\n}\n\nSankey.propTypes = SankeyPropTypes\n\nconst WrappedSankey = withContainer(Sankey)\nWrappedSankey.defaultProps = SankeyDefaultProps\n\nexport default WrappedSankey\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport Sankey from './Sankey'\n\nconst ResponsiveSankey = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Sankey width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveSankey\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphaël Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nconst Link = styled.a`\n    position: relative;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n`\n\nconst Image = styled.img`\n    max-width: 100%;\n    max-height: 100%;\n`\n\nconst EmptyContainer = styled.div`\n    font-size: 14px;\n    line-height: 1.6em;\n    color: ${({ theme }) => theme.colors.textLight};\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n`\n\nconst ApiPreview = ({ responseStatus, chartUrl }) => {\n    if (responseStatus === 201 && chartUrl) {\n        return (\n            <Link href={chartUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                <Image src={chartUrl} alt=\"api result\" />\n            </Link>\n        )\n    }\n\n    return (\n        <EmptyContainer>\n            Click the generate button in order to generate the chart.\n            <br />\n            You can customize settings by using dedicated controls.\n        </EmptyContainer>\n    )\n\n    return <div className=\"api-client_preview\">{content}</div>\n}\n\nApiPreview.propTypes = {\n    responseStatus: PropTypes.number,\n    chartUrl: PropTypes.string,\n}\n\nexport default ApiPreview\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphaël Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport styled, { keyframes } from 'styled-components'\nimport ApiPreview from './ApiPreview'\nimport media from '../../../theming/mediaQueries'\nimport { useTheme } from '../../../theming/context'\nimport CodeBlock from '../../CodeBlock'\n\nconst tabs = ['preview', 'body', 'data']\n\nconst ApiTabs = ({ chartClass, data, body, isLoading, responseStatus, chartUrl }) => {\n    const theme = useTheme()\n\n    const [currentTab, setCurrentTab] = useState('preview')\n    const [hoverTab, setHoverTab] = useState(null)\n\n    return (\n        <Wrapper className={`chart-tabs--${currentTab}`}>\n            <Nav>\n                {tabs.map(tab => {\n                    const isCurrent = tab === currentTab\n                    const icon = tab === 'preview' ? chartClass : 'data'\n                    const iconColors = isCurrent || hoverTab === tab ? 'colored' : 'neutral'\n\n                    return (\n                        <NavItem\n                            key={tab}\n                            className=\"no-select\"\n                            isCurrent={isCurrent}\n                            onClick={() => setCurrentTab(tab)}\n                            onMouseEnter={() => setHoverTab(tab)}\n                            onMouseLeave={() => setHoverTab(null)}\n                        >\n                            <Icon className={`sprite-icons-${icon}-${theme.id}-${iconColors}`} />\n                            {tab}\n                        </NavItem>\n                    )\n                })}\n            </Nav>\n            <Content>\n                {currentTab === 'preview' && (\n                    <ApiPreview\n                        isLoading={isLoading}\n                        responseStatus={responseStatus}\n                        chartUrl={chartUrl}\n                    />\n                )}\n                {currentTab === 'body' && <CodeBlock>{JSON.stringify(body, null, '  ')}</CodeBlock>}\n                {currentTab === 'data' && <CodeBlock>{data}</CodeBlock>}\n                <Loader isLoading={isLoading} />\n            </Content>\n        </Wrapper>\n    )\n}\n\nApiTabs.propTypes = {\n    chartClass: PropTypes.string.isRequired,\n    data: PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object]),\n}\n\nexport default ApiTabs\n\nconst Wrapper = styled.div`\n    position: fixed;\n    top: ${({ theme }) => theme.dimensions.headerHeight}px;\n    right: 0;\n    width: 60%;\n    --innerWidth: calc(100% - ${({ theme }) => theme.dimensions.miniNavWidth}px);\n    width: calc(var(--innerWidth) * 0.6);\n    --innerHeight: calc(100% - ${({ theme }) => theme.dimensions.headerHeight}px);\n    height: calc(var(--innerHeight) * 0.55);\n    z-index: 10;\n    overflow: hidden;\n    background: ${({ theme }) => theme.colors.cardBackground};\n    border-bottom: 1px solid ${({ theme }) => theme.colors.border};\n\n    ${media.tablet`\n        & {\n            top: ${({ theme }) => theme.dimensions.headerHeight}px;\n            right: 0;\n            width: 60%;\n            --innerHeight: calc(100% - ${({ theme }) => theme.dimensions.headerHeight}px);\n            height: calc(var(--innerHeight) * 0.55);\n        }\n    `}\n\n    ${media.mobile`\n        & {\n            position: relative;\n            top: auto;\n            right: auto;\n            width: auto;\n            height: 460px;\n            z-index: 0;\n            border-top: 1px solid ${({ theme }) => theme.colors.border};\n        }\n    `}\n`\n\nconst Nav = styled.nav`\n    height: 46px;\n    background: ${({ theme }) => theme.colors.background};\n    display: flex;\n    font-size: 15px;\n    color: #aaa;\n    position: relative;\n`\n\nconst NavItem = styled.span`\n    cursor: pointer;\n    height: 46px;\n    display: block;\n    position: relative;\n    padding-left: 46px;\n    padding-right: 14px;\n    padding-top: 11px;\n    background: ${({ isCurrent, theme }) =>\n        isCurrent ? theme.colors.cardBackground : 'transparent'};\n\n    &:hover {\n        color: ${({ theme }) => theme.colors.text};\n    }\n`\n\nconst Icon = styled.span`\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: block;\n    transform: scale(0.44);\n    transform-origin: top left;\n    margin: 12px 0 0 12px;\n`\n\nconst Content = styled.div`\n    position: absolute;\n    top: 46px;\n    bottom: 0;\n    width: 100%;\n    overflow-x: hidden;\n    overflow-y: auto;\n`\n\nconst LoaderContainer = styled.div`\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 100px;\n    height: 80px;\n    margin-top: -40px;\n    margin-left: -50px;\n    background: ${({ theme }) => theme.colors.cardBackground};\n    display: grid;\n    grid-template-columns: 10px 10px 10px 10px 10px;\n    grid-column-gap: 6px;\n    padding: 10px 13px;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\n    pointer-events: none;\n    opacity: ${({ isLoading }) => (isLoading ? 1 : 0)};\n    transform: translate3d(0, ${({ isLoading }) => (isLoading ? 0 : '20px')}, 0);\n    transition: transform 200ms, opacity 200ms;\n`\n\nconst loaderBarAnimation = keyframes`\n    0%, 100% {\n        transform: scale3d(1, 0, 1);\n    }\n    50% {\n        transform: scale3d(1, 1, 1);\n    }\n`\n\nconst LoaderBar = styled.span`\n    display: block;\n    background: ${({ theme }) => theme.colors.accent};\n    width: 100%;\n    height: 100%;\n    transform: scale3d(1, 0, 1);\n    transform-origin: 100% 100%;\n    animation-name: ${loaderBarAnimation};\n    animation-duration: 800ms;\n    animation-iteration-count: infinite;\n    animation-delay: ${({ index }) => (index + 1) * 60}ms;\n`\n\nconst Loader = ({ isLoading }) => {\n    return (\n        <LoaderContainer isLoading={isLoading}>\n            <span>\n                <LoaderBar index={0} />\n            </span>\n            <span>\n                <LoaderBar index={1} />\n            </span>\n            <span>\n                <LoaderBar index={2} />\n            </span>\n            <span>\n                <LoaderBar index={3} />\n            </span>\n            <span>\n                <LoaderBar index={4} />\n            </span>\n        </LoaderContainer>\n    )\n}\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphaël Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Component } from 'react'\nimport styled from 'styled-components'\nimport PropTypes from 'prop-types'\n\nconst Button = styled.span`\n    display: block;\n    background-color: ${({ theme }) => theme.colors.accent};\n    color: #fff;\n    text-align: center;\n    padding: 12px 24px;\n    border-radius: 2px;\n    cursor: pointer;\n    text-decoration: none;\n`\n\nclass ApiSubmit extends Component {\n    render() {\n        const { loading, onClick } = this.props\n\n        return <Button onClick={onClick}>{loading ? 'sending' : 'generate'}</Button>\n    }\n}\n\nApiSubmit.propTypes = {\n    loading: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n}\n\nApiSubmit.defaultProps = {}\n\nexport default ApiSubmit\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphaël Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Component } from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n    background: ${({ theme }) => theme.colors.cardBackground};\n    border-top: 1px solid ${({ theme }) => theme.colors.border};\n    overflow-x: hidden;\n    overflow-y: auto;\n`\n\nconst Header = styled.div`\n    padding: 12px 20px;\n    border-bottom: 1px solid ${({ theme }) => theme.colors.borderLight};\n`\n\nconst ResponseJson = styled.pre`\n    padding: 12px 20px;\n    font-size: 13px;\n    line-height: 1.6em;\n    overflow: hidden;\n    width: 100%;\n    margin: 0;\n`\n\nclass ApiResponse extends Component {\n    render() {\n        const { responseStatus, response } = this.props\n\n        let responseContent = 'no response available'\n        if (response) {\n            responseContent = JSON.stringify(response, null, '  ')\n        }\n\n        return (\n            <Container>\n                <Header>\n                    Response {responseStatus ? <strong>{responseStatus}</strong> : 'n/a'}\n                </Header>\n                <ResponseJson>{responseContent}</ResponseJson>\n            </Container>\n        )\n    }\n}\n\nApiResponse.propTypes = {}\n\nApiResponse.defaultProps = {}\n\nexport default ApiResponse\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphaël Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport Layout from '../../Layout'\nimport media from '../../../theming/mediaQueries'\nimport ComponentPage from '../ComponentPage'\nimport ComponentHeader from '../ComponentHeader'\nimport ComponentFlavorSelector from '../ComponentFlavorSelector'\nimport ComponentDescription from '../ComponentDescription'\nimport ComponentSettings from '../ComponentSettings'\nimport ApiTabs from './ApiTabs'\nimport ApiSubmit from './ApiSubmit'\nimport ApiResponse from './ApiResponse'\nimport config from '../../../data/config'\n\nconst description = component => `\nThe \\`${component}\\`component is available in the nivo\nHTTP rendering API.\nThe API generates a SVG and return a path to this SVG\nwhich can then be easily embedded.\n\nThe api accepts almost the same properties as the regular component,\nin json, however it's not interactive and you cannot use code\nin properties (functions).\n\nPlease note that the demo API server is installed on heroku\nusing a free plan, so it might be unavailable from times to times.\n`\n\nexport default class ApiClient extends Component {\n    static propTypes = {\n        componentName: PropTypes.string.isRequired,\n        chartClass: PropTypes.string.isRequired,\n        apiPath: PropTypes.string.isRequired,\n        dataProperty: PropTypes.string.isRequired,\n        propsMapper: PropTypes.func.isRequired,\n    }\n\n    static defaultProps = {\n        dataProperty: 'data',\n        propsMapper: props => props,\n    }\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            props: props.defaultProps,\n            loading: false,\n            responseStatus: null,\n            response: null,\n        }\n    }\n\n    handleSettingsUpdate = settings => {\n        this.setState({ props: settings })\n    }\n\n    handleDataUpdate = e => {\n        const { dataProperty } = this.props\n        const { props } = this.state\n\n        this.setState({\n            props: Object.assign({}, props, {\n                [dataProperty]: e.target.value,\n            }),\n        })\n    }\n\n    handleSubmit = () => {\n        const { apiPath, propsMapper } = this.props\n        const { props } = this.state\n\n        this.setState({\n            loading: true,\n        })\n\n        fetch(`${config.nivoApiUrl}${apiPath}`, {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(propsMapper(props)),\n        })\n            .then(res => {\n                this.setState({\n                    loading: false,\n                    responseStatus: res.status,\n                })\n\n                return res.json()\n            })\n            .then(res => {\n                this.setState({ response: res })\n            })\n            .catch(err => {\n                console.error(err)\n            })\n    }\n\n    render() {\n        const {\n            componentName,\n            chartClass,\n            apiPath,\n            controlGroups,\n            dataProperty,\n            propsMapper,\n            flavors,\n        } = this.props\n        const { props, loading, responseStatus, response } = this.state\n\n        const flavorKeys = flavors.map(flavor => flavor.flavor)\n\n        return (\n            <Layout>\n                <ComponentPage>\n                    <ComponentHeader\n                        chartClass={`${componentName} HTTP API`}\n                        tags={[`POST ${apiPath}`]}\n                    />\n                    {flavors && <ComponentFlavorSelector flavors={flavors} current=\"api\" />}\n                    <ComponentDescription description={description(componentName, apiPath)} />\n                    <ApiTabs\n                        chartClass={chartClass}\n                        data={props[dataProperty]}\n                        body={propsMapper(props)}\n                        isLoading={loading}\n                        responseStatus={responseStatus}\n                        chartUrl={response ? response.url : null}\n                    />\n                    <ControlPanel>\n                        <SubmitWrapper>\n                            <ApiSubmit loading={loading} onClick={this.handleSubmit} />\n                        </SubmitWrapper>\n                        <ApiResponse responseStatus={responseStatus} response={response} />\n                    </ControlPanel>\n                    <ComponentSettings\n                        component={componentName}\n                        settings={props}\n                        flavors={flavorKeys}\n                        currentFlavor=\"api\"\n                        groups={controlGroups}\n                        onChange={this.handleSettingsUpdate}\n                    />\n                </ComponentPage>\n            </Layout>\n        )\n    }\n}\n\nconst ControlPanel = styled.div`\n    position: fixed;\n    right: 0;\n    bottom: 0;\n    --innerWidth: calc(100% - ${({ theme }) => theme.dimensions.miniNavWidth}px);\n    --partialWidth: calc(var(--innerWidth) * 0.6);\n    width: var(--partialWidth);\n    background: ${({ theme }) => theme.colors.cardAltBackground};\n    --innerHeight: calc(100% - ${({ theme }) => theme.dimensions.headerHeight}px);\n    height: calc(var(--innerHeight) * 0.45);\n    z-index: 10;\n    overflow: hidden;\n    display: grid;\n    grid-template-rows: 1fr 2fr;\n\n    ${media.tablet`\n        & {\n            right: 0;\n            bottom: 0;\n            --innerHeight: calc(100% - ${({ theme }) => theme.dimensions.headerHeight}px);\n            height: calc(var(--innerHeight) * 0.45);\n            width: 60%;\n        }\n    `}\n\n    ${media.mobile`\n        & {\n            position: relative;\n            right: auto;\n            bottom: auto;\n            width: auto;\n            height: auto;\n            border-left-width: 0;\n            z-index: 0;\n        }\n    `}\n`\n\nconst SubmitWrapper = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 12px 0;\n`\n"],"sourceRoot":""}