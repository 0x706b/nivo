{"version":3,"sources":["webpack:///../node_modules/delaunator/index.js","webpack:///../node_modules/d3-delaunay/src/path.js","webpack:///../node_modules/d3-delaunay/src/polygon.js","webpack:///../node_modules/d3-delaunay/src/voronoi.js","webpack:///../node_modules/d3-delaunay/src/delaunay.js","webpack:///../src/enhance.js","webpack:///../src/props.js","webpack:///../src/Voronoi.js","webpack:///../src/ResponsiveVoronoi.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///../src/computeMesh.js","webpack:///../src/hooks.js","webpack:///../src/Mesh.js","webpack:///../src/meshCanvas.js"],"names":["EPSILON","Math","pow","EDGE_STACK","Uint32Array","Delaunator","coords","this","n","length","Error","maxTriangles","max","_triangles","_halfedges","Int32Array","_hashSize","ceil","sqrt","_hullPrev","_hullNext","_hullTri","_hullHash","fill","_ids","_dists","Float64Array","update","key","value","points","getX","arguments","undefined","defaultGetX","getY","defaultGetY","i","p","hullPrev","hullNext","hullTri","hullHash","minX","Infinity","minY","maxX","maxY","x","y","i0","i1","i2","cx","cy","minDist","_i","d","dist","i0x","i0y","_i2","_d","i1x","i1y","minRadius","_i3","r","circumradius","i2x","i2y","_i4","quicksort","hull","j","_i5","d0","id","subarray","triangles","halfedges","orient","_i6","_x","_y","center","ax","ay","bx","by","dx","dy","ex","ey","bl","cl","circumcenter","_cx","_cy","_i7","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","k","_i8","_x2","_y2","abs","start","_j","e","q","t","_legalize","_n","_i9","_e","floor","a","px","py","fx","fy","bp","cp","ar","b","a0","b0","al","p0","pr","pl","p1","ap","hbl","_link","br","c","qx","qy","rx","ry","ids","dists","left","right","temp","tempDist","_i10","_j2","swap","_temp","_tempDist","arr","tmp","Path","_x0","_y0","_x1","_y1","_","concat","x0","y0","w","h","Polygon","push","slice","Voronoi","delaunay","_ref","_ref2","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","_this$delaunay","circumcenters","t1","t2","t3","x2","y2","x3","y3","a2","a3","b2","b3","d1","d2","d3","ab","x1","y1","context","buffer","_this$delaunay2","inedges","ti","tj","xi","yi","xj","yj","_renderSegment","h0","h1","v","_project","rect","_clip","moveTo","lineTo","closePath","mark","cellPolygons","cell","wrap","_context","prev","next","cellPolygon","stop","polygon","renderCell","S","c0","_regioncode","c1","_clipSegment","_step","_this$delaunay3","e0","_cell","V","_clipInfinite","_clipFinite","e1","P","sx0","sy0","sx1","sy1","_S","_S2","_S3","_S4","_edgecode","_edge","contains","vx0","vy0","vxn","vyn","Array","from","unshift","splice","vx","vy","_marked","flatIterable","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","isArray","minLen","_arrayLikeToArray","Object","prototype","toString","call","constructor","name","test","_unsupportedIterableToArray","F","s","done","_e2","f","TypeError","err","normalCompletion","didErr","step","_e3","return","len","arr2","tau","PI","pointX","pointY","jitter","sin","cos","Delaunay","_delaunator","_hullIndex","area","collinear","sort","bounds","hullIndex","_p","_n2","neighbors","l","indexOf","abrupt","dc","dt","renderHull","arc","_h","t0","trianglePolygons","_context2","trianglePolygon","renderTriangle","flatArray","that","array","_iterator","_step2","_context3","finish","Component","VoronoiDefaultProps","PropTypes","isRequired","xDomain","yDomain","layers","enableLinks","linkLineWidth","linkLineColor","enableCells","cellLineWidth","cellLineColor","enablePoints","pointSize","pointColor","voronoi","data","margin","width","height","outerWidth","outerHeight","theme","layerById","stroke","strokeWidth","isInteractive","animate","layer","compose","defaultProps","withTheme","withDimensions","withPropsOnChange","xScale","scaleLinear","yScale","scaledPoints","ResponsiveVoronoi","props","_slicedToArray","arrayWithHoles","_arr","_s","iterableToArrayLimit","arrayLikeToArray","unsupportedIterableToArray","nonIterableRest","getAccessor","directive","useVoronoiMesh","debug","points2d","useMemo","computeMeshPoints","computeMesh","Mesh","nodes","onMouseEnter","onMouseMove","onMouseLeave","onClick","elementRef","useRef","useState","currentIndex","setCurrentIndex","voronoiPath","getIndexAndNodeFromEvent","useCallback","event","getRelativeCursor","index","handleMouseEnter","node","handleMouseMove","handleMouseLeave","previousNode","handleClick","ref","opacity","style","cursor","renderVoronoiToCanvas","ctx","renderVoronoiCellToCanvas"],"mappings":"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","file":"613d1083422b600fd1528d46d2b2bce6839425d7-92b54f0216c1168993c6.js","sourcesContent":["import _classCallCheck from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar EPSILON = Math.pow(2, -52);\nvar EDGE_STACK = new Uint32Array(512);\n\nvar Delaunator = /*#__PURE__*/function () {\n  _createClass(Delaunator, null, [{\n    key: \"from\",\n    value: function from(points) {\n      var getX = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetX;\n      var getY = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGetY;\n      var n = points.length;\n      var coords = new Float64Array(n * 2);\n\n      for (var i = 0; i < n; i++) {\n        var p = points[i];\n        coords[2 * i] = getX(p);\n        coords[2 * i + 1] = getY(p);\n      }\n\n      return new Delaunator(coords);\n    }\n  }]);\n\n  function Delaunator(coords) {\n    _classCallCheck(this, Delaunator);\n\n    var n = coords.length >> 1;\n    if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n    this.coords = coords; // arrays that will store the triangulation graph\n\n    var maxTriangles = Math.max(2 * n - 5, 0);\n    this._triangles = new Uint32Array(maxTriangles * 3);\n    this._halfedges = new Int32Array(maxTriangles * 3); // temporary arrays for tracking the edges of the advancing convex hull\n\n    this._hashSize = Math.ceil(Math.sqrt(n));\n    this._hullPrev = new Uint32Array(n); // edge to prev edge\n\n    this._hullNext = new Uint32Array(n); // edge to next edge\n\n    this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n\n    this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n    // temporary arrays for sorting points\n\n    this._ids = new Uint32Array(n);\n    this._dists = new Float64Array(n);\n    this.update();\n  }\n\n  _createClass(Delaunator, [{\n    key: \"update\",\n    value: function update() {\n      var coords = this.coords,\n          hullPrev = this._hullPrev,\n          hullNext = this._hullNext,\n          hullTri = this._hullTri,\n          hullHash = this._hullHash;\n      var n = coords.length >> 1; // populate an array of point indices; calculate input data bbox\n\n      var minX = Infinity;\n      var minY = Infinity;\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n\n      for (var i = 0; i < n; i++) {\n        var x = coords[2 * i];\n        var y = coords[2 * i + 1];\n        if (x < minX) minX = x;\n        if (y < minY) minY = y;\n        if (x > maxX) maxX = x;\n        if (y > maxY) maxY = y;\n        this._ids[i] = i;\n      }\n\n      var cx = (minX + maxX) / 2;\n      var cy = (minY + maxY) / 2;\n      var minDist = Infinity;\n      var i0, i1, i2; // pick a seed point close to the center\n\n      for (var _i = 0; _i < n; _i++) {\n        var d = dist(cx, cy, coords[2 * _i], coords[2 * _i + 1]);\n\n        if (d < minDist) {\n          i0 = _i;\n          minDist = d;\n        }\n      }\n\n      var i0x = coords[2 * i0];\n      var i0y = coords[2 * i0 + 1];\n      minDist = Infinity; // find the point closest to the seed\n\n      for (var _i2 = 0; _i2 < n; _i2++) {\n        if (_i2 === i0) continue;\n\n        var _d = dist(i0x, i0y, coords[2 * _i2], coords[2 * _i2 + 1]);\n\n        if (_d < minDist && _d > 0) {\n          i1 = _i2;\n          minDist = _d;\n        }\n      }\n\n      var i1x = coords[2 * i1];\n      var i1y = coords[2 * i1 + 1];\n      var minRadius = Infinity; // find the third point which forms the smallest circumcircle with the first two\n\n      for (var _i3 = 0; _i3 < n; _i3++) {\n        if (_i3 === i0 || _i3 === i1) continue;\n        var r = circumradius(i0x, i0y, i1x, i1y, coords[2 * _i3], coords[2 * _i3 + 1]);\n\n        if (r < minRadius) {\n          i2 = _i3;\n          minRadius = r;\n        }\n      }\n\n      var i2x = coords[2 * i2];\n      var i2y = coords[2 * i2 + 1];\n\n      if (minRadius === Infinity) {\n        // order collinear points by dx (or dy if all x are identical)\n        // and return the list as a hull\n        for (var _i4 = 0; _i4 < n; _i4++) {\n          this._dists[_i4] = coords[2 * _i4] - coords[0] || coords[2 * _i4 + 1] - coords[1];\n        }\n\n        quicksort(this._ids, this._dists, 0, n - 1);\n        var hull = new Uint32Array(n);\n        var j = 0;\n\n        for (var _i5 = 0, d0 = -Infinity; _i5 < n; _i5++) {\n          var id = this._ids[_i5];\n\n          if (this._dists[id] > d0) {\n            hull[j++] = id;\n            d0 = this._dists[id];\n          }\n        }\n\n        this.hull = hull.subarray(0, j);\n        this.triangles = new Uint32Array(0);\n        this.halfedges = new Uint32Array(0);\n        return;\n      } // swap the order of the seed points for counter-clockwise orientation\n\n\n      if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n        var _i6 = i1;\n        var _x = i1x;\n        var _y = i1y;\n        i1 = i2;\n        i1x = i2x;\n        i1y = i2y;\n        i2 = _i6;\n        i2x = _x;\n        i2y = _y;\n      }\n\n      var center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n      this._cx = center.x;\n      this._cy = center.y;\n\n      for (var _i7 = 0; _i7 < n; _i7++) {\n        this._dists[_i7] = dist(coords[2 * _i7], coords[2 * _i7 + 1], center.x, center.y);\n      } // sort the points by distance from the seed triangle circumcenter\n\n\n      quicksort(this._ids, this._dists, 0, n - 1); // set up the seed triangle as the starting hull\n\n      this._hullStart = i0;\n      var hullSize = 3;\n      hullNext[i0] = hullPrev[i2] = i1;\n      hullNext[i1] = hullPrev[i0] = i2;\n      hullNext[i2] = hullPrev[i1] = i0;\n      hullTri[i0] = 0;\n      hullTri[i1] = 1;\n      hullTri[i2] = 2;\n      hullHash.fill(-1);\n      hullHash[this._hashKey(i0x, i0y)] = i0;\n      hullHash[this._hashKey(i1x, i1y)] = i1;\n      hullHash[this._hashKey(i2x, i2y)] = i2;\n      this.trianglesLen = 0;\n\n      this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n      for (var k = 0, xp, yp; k < this._ids.length; k++) {\n        var _i8 = this._ids[k];\n        var _x2 = coords[2 * _i8];\n        var _y2 = coords[2 * _i8 + 1]; // skip near-duplicate points\n\n        if (k > 0 && Math.abs(_x2 - xp) <= EPSILON && Math.abs(_y2 - yp) <= EPSILON) continue;\n        xp = _x2;\n        yp = _y2; // skip seed triangle points\n\n        if (_i8 === i0 || _i8 === i1 || _i8 === i2) continue; // find a visible edge on the convex hull using edge hash\n\n        var start = 0;\n\n        for (var _j = 0, key = this._hashKey(_x2, _y2); _j < this._hashSize; _j++) {\n          start = hullHash[(key + _j) % this._hashSize];\n          if (start !== -1 && start !== hullNext[start]) break;\n        }\n\n        start = hullPrev[start];\n        var e = start,\n            q = void 0;\n\n        while (q = hullNext[e], !orient(_x2, _y2, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n          e = q;\n\n          if (e === start) {\n            e = -1;\n            break;\n          }\n        }\n\n        if (e === -1) continue; // likely a near-duplicate point; skip it\n        // add the first triangle from the point\n\n        var t = this._addTriangle(e, _i8, hullNext[e], -1, -1, hullTri[e]); // recursively flip triangles from the point until they satisfy the Delaunay condition\n\n\n        hullTri[_i8] = this._legalize(t + 2);\n        hullTri[e] = t; // keep track of boundary triangles on the hull\n\n        hullSize++; // walk forward through the hull, adding more triangles and flipping recursively\n\n        var _n = hullNext[e];\n\n        while (q = hullNext[_n], orient(_x2, _y2, coords[2 * _n], coords[2 * _n + 1], coords[2 * q], coords[2 * q + 1])) {\n          t = this._addTriangle(_n, _i8, q, hullTri[_i8], -1, hullTri[_n]);\n          hullTri[_i8] = this._legalize(t + 2);\n          hullNext[_n] = _n; // mark as removed\n\n          hullSize--;\n          _n = q;\n        } // walk backward from the other side, adding more triangles and flipping\n\n\n        if (e === start) {\n          while (q = hullPrev[e], orient(_x2, _y2, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n            t = this._addTriangle(q, _i8, e, -1, hullTri[e], hullTri[q]);\n\n            this._legalize(t + 2);\n\n            hullTri[q] = t;\n            hullNext[e] = e; // mark as removed\n\n            hullSize--;\n            e = q;\n          }\n        } // update the hull indices\n\n\n        this._hullStart = hullPrev[_i8] = e;\n        hullNext[e] = hullPrev[_n] = _i8;\n        hullNext[_i8] = _n; // save the two new edges in the hash table\n\n        hullHash[this._hashKey(_x2, _y2)] = _i8;\n        hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n      }\n\n      this.hull = new Uint32Array(hullSize);\n\n      for (var _i9 = 0, _e = this._hullStart; _i9 < hullSize; _i9++) {\n        this.hull[_i9] = _e;\n        _e = hullNext[_e];\n      } // trim typed triangle mesh arrays\n\n\n      this.triangles = this._triangles.subarray(0, this.trianglesLen);\n      this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n  }, {\n    key: \"_hashKey\",\n    value: function _hashKey(x, y) {\n      return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n  }, {\n    key: \"_legalize\",\n    value: function _legalize(a) {\n      var triangles = this._triangles,\n          halfedges = this._halfedges,\n          coords = this.coords;\n      var i = 0;\n      var ar = 0; // recursion eliminated with a fixed-size stack\n\n      while (true) {\n        var b = halfedges[a];\n        /* if the pair of triangles doesn't satisfy the Delaunay condition\n         * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n         * then do the same check/flip recursively for the new pair of triangles\n         *\n         *           pl                    pl\n         *          /||\\                  /  \\\n         *       al/ || \\bl            al/    \\a\n         *        /  ||  \\              /      \\\n         *       /  a||b  \\    flip    /___ar___\\\n         *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n         *        \\  ||  /              \\      /\n         *       ar\\ || /br             b\\    /br\n         *          \\||/                  \\  /\n         *           pr                    pr\n         */\n\n        var a0 = a - a % 3;\n        ar = a0 + (a + 2) % 3;\n\n        if (b === -1) {\n          // convex hull edge\n          if (i === 0) break;\n          a = EDGE_STACK[--i];\n          continue;\n        }\n\n        var b0 = b - b % 3;\n        var al = a0 + (a + 1) % 3;\n        var bl = b0 + (b + 2) % 3;\n        var p0 = triangles[ar];\n        var pr = triangles[a];\n        var pl = triangles[al];\n        var p1 = triangles[bl];\n        var illegal = inCircle(coords[2 * p0], coords[2 * p0 + 1], coords[2 * pr], coords[2 * pr + 1], coords[2 * pl], coords[2 * pl + 1], coords[2 * p1], coords[2 * p1 + 1]);\n\n        if (illegal) {\n          triangles[a] = p1;\n          triangles[b] = p0;\n          var hbl = halfedges[bl]; // edge swapped on the other side of the hull (rare); fix the halfedge reference\n\n          if (hbl === -1) {\n            var e = this._hullStart;\n\n            do {\n              if (this._hullTri[e] === bl) {\n                this._hullTri[e] = a;\n                break;\n              }\n\n              e = this._hullPrev[e];\n            } while (e !== this._hullStart);\n          }\n\n          this._link(a, hbl);\n\n          this._link(b, halfedges[ar]);\n\n          this._link(ar, bl);\n\n          var br = b0 + (b + 1) % 3; // don't worry about hitting the cap: it can only happen on extremely degenerate input\n\n          if (i < EDGE_STACK.length) {\n            EDGE_STACK[i++] = br;\n          }\n        } else {\n          if (i === 0) break;\n          a = EDGE_STACK[--i];\n        }\n      }\n\n      return ar;\n    }\n  }, {\n    key: \"_link\",\n    value: function _link(a, b) {\n      this._halfedges[a] = b;\n      if (b !== -1) this._halfedges[b] = a;\n    } // add a new triangle given vertex indices and adjacent half-edge ids\n\n  }, {\n    key: \"_addTriangle\",\n    value: function _addTriangle(i0, i1, i2, a, b, c) {\n      var t = this.trianglesLen;\n      this._triangles[t] = i0;\n      this._triangles[t + 1] = i1;\n      this._triangles[t + 2] = i2;\n\n      this._link(t, a);\n\n      this._link(t + 1, b);\n\n      this._link(t + 2, c);\n\n      this.trianglesLen += 3;\n      return t;\n    }\n  }]);\n\n  return Delaunator;\n}(); // monotonically increases with real angle, but doesn't need expensive trigonometry\n\n\nexport { Delaunator as default };\n\nfunction pseudoAngle(dx, dy) {\n  var p = dx / (Math.abs(dx) + Math.abs(dy));\n  return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n  var dx = ax - bx;\n  var dy = ay - by;\n  return dx * dx + dy * dy;\n}\n\nfunction orient(px, py, qx, qy, rx, ry) {\n  return (qy - py) * (rx - qx) - (qx - px) * (ry - qy) < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n  var dx = ax - px;\n  var dy = ay - py;\n  var ex = bx - px;\n  var ey = by - py;\n  var fx = cx - px;\n  var fy = cy - py;\n  var ap = dx * dx + dy * dy;\n  var bp = ex * ex + ey * ey;\n  var cp = fx * fx + fy * fy;\n  return dx * (ey * cp - bp * fy) - dy * (ex * cp - bp * fx) + ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var ex = cx - ax;\n  var ey = cy - ay;\n  var bl = dx * dx + dy * dy;\n  var cl = ex * ex + ey * ey;\n  var d = 0.5 / (dx * ey - dy * ex);\n  var x = (ey * bl - dy * cl) * d;\n  var y = (dx * cl - ex * bl) * d;\n  return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var ex = cx - ax;\n  var ey = cy - ay;\n  var bl = dx * dx + dy * dy;\n  var cl = ex * ex + ey * ey;\n  var d = 0.5 / (dx * ey - dy * ex);\n  var x = ax + (ey * bl - dy * cl) * d;\n  var y = ay + (dx * cl - ex * bl) * d;\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction quicksort(ids, dists, left, right) {\n  if (right - left <= 20) {\n    for (var i = left + 1; i <= right; i++) {\n      var temp = ids[i];\n      var tempDist = dists[temp];\n      var j = i - 1;\n\n      while (j >= left && dists[ids[j]] > tempDist) {\n        ids[j + 1] = ids[j--];\n      }\n\n      ids[j + 1] = temp;\n    }\n  } else {\n    var median = left + right >> 1;\n\n    var _i10 = left + 1;\n\n    var _j2 = right;\n    swap(ids, median, _i10);\n    if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n    if (dists[ids[_i10]] > dists[ids[right]]) swap(ids, _i10, right);\n    if (dists[ids[left]] > dists[ids[_i10]]) swap(ids, left, _i10);\n    var _temp = ids[_i10];\n    var _tempDist = dists[_temp];\n\n    while (true) {\n      do {\n        _i10++;\n      } while (dists[ids[_i10]] < _tempDist);\n\n      do {\n        _j2--;\n      } while (dists[ids[_j2]] > _tempDist);\n\n      if (_j2 < _i10) break;\n      swap(ids, _i10, _j2);\n    }\n\n    ids[left + 1] = ids[_j2];\n    ids[_j2] = _temp;\n\n    if (right - _i10 + 1 >= _j2 - left) {\n      quicksort(ids, dists, _i10, right);\n      quicksort(ids, dists, left, _j2 - 1);\n    } else {\n      quicksort(ids, dists, left, _j2 - 1);\n      quicksort(ids, dists, _i10, right);\n    }\n  }\n}\n\nfunction swap(arr, i, j) {\n  var tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n  return p[0];\n}\n\nfunction defaultGetY(p) {\n  return p[1];\n}","import _classCallCheck from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar epsilon = 1e-6;\n\nvar Path = /*#__PURE__*/function () {\n  function Path() {\n    _classCallCheck(this, Path);\n\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n\n    this._ = \"\";\n  }\n\n  _createClass(Path, [{\n    key: \"moveTo\",\n    value: function moveTo(x, y) {\n      this._ += \"M\".concat(this._x0 = this._x1 = +x, \",\").concat(this._y0 = this._y1 = +y);\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      if (this._x1 !== null) {\n        this._x1 = this._x0, this._y1 = this._y0;\n        this._ += \"Z\";\n      }\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(x, y) {\n      this._ += \"L\".concat(this._x1 = +x, \",\").concat(this._y1 = +y);\n    }\n  }, {\n    key: \"arc\",\n    value: function arc(x, y, r) {\n      x = +x, y = +y, r = +r;\n      var x0 = x + r;\n      var y0 = y;\n      if (r < 0) throw new Error(\"negative radius\");\n      if (this._x1 === null) this._ += \"M\".concat(x0, \",\").concat(y0);else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n      if (!r) return;\n      this._ += \"A\".concat(r, \",\").concat(r, \",0,1,1,\").concat(x - r, \",\").concat(y, \"A\").concat(r, \",\").concat(r, \",0,1,1,\").concat(this._x1 = x0, \",\").concat(this._y1 = y0);\n    }\n  }, {\n    key: \"rect\",\n    value: function rect(x, y, w, h) {\n      this._ += \"M\".concat(this._x0 = this._x1 = +x, \",\").concat(this._y0 = this._y1 = +y, \"h\").concat(+w, \"v\").concat(+h, \"h\").concat(-w, \"Z\");\n    }\n  }, {\n    key: \"value\",\n    value: function value() {\n      return this._ || null;\n    }\n  }]);\n\n  return Path;\n}();\n\nexport { Path as default };","import _classCallCheck from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar Polygon = /*#__PURE__*/function () {\n  function Polygon() {\n    _classCallCheck(this, Polygon);\n\n    this._ = [];\n  }\n\n  _createClass(Polygon, [{\n    key: \"moveTo\",\n    value: function moveTo(x, y) {\n      this._.push([x, y]);\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      this._.push(this._[0].slice());\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(x, y) {\n      this._.push([x, y]);\n    }\n  }, {\n    key: \"value\",\n    value: function value() {\n      return this._.length ? this._ : null;\n    }\n  }]);\n\n  return Polygon;\n}();\n\nexport { Polygon as default };","import _regeneratorRuntime from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/regenerator\";\nimport \"regenerator-runtime/runtime\";\nimport _slicedToArray from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nvar Voronoi = /*#__PURE__*/function () {\n  function Voronoi(delaunay) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0, 960, 500],\n        _ref2 = _slicedToArray(_ref, 4),\n        xmin = _ref2[0],\n        ymin = _ref2[1],\n        xmax = _ref2[2],\n        ymax = _ref2[3];\n\n    _classCallCheck(this, Voronoi);\n\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n\n    this._init();\n  }\n\n  _createClass(Voronoi, [{\n    key: \"update\",\n    value: function update() {\n      this.delaunay.update();\n\n      this._init();\n\n      return this;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var _this$delaunay = this.delaunay,\n          points = _this$delaunay.points,\n          hull = _this$delaunay.hull,\n          triangles = _this$delaunay.triangles,\n          vectors = this.vectors; // Compute circumcenters.\n\n      var circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n\n      for (var i = 0, j = 0, n = triangles.length; i < n; i += 3, j += 2) {\n        var t1 = triangles[i] * 2;\n        var t2 = triangles[i + 1] * 2;\n        var t3 = triangles[i + 2] * 2;\n        var _x = points[t1];\n        var _y = points[t1 + 1];\n        var x2 = points[t2];\n        var y2 = points[t2 + 1];\n        var x3 = points[t3];\n        var y3 = points[t3 + 1];\n        var a2 = _x - x2;\n        var a3 = _x - x3;\n        var b2 = _y - y2;\n        var b3 = _y - y3;\n        var d1 = _x * _x + _y * _y;\n        var d2 = d1 - x2 * x2 - y2 * y2;\n        var d3 = d1 - x3 * x3 - y3 * y3;\n        var ab = (a3 * b2 - a2 * b3) * 2; // degenerate case (2 points)\n\n        if (!ab) {\n          circumcenters[j] = (_x + x3) / 2 + 1e8 * b3;\n          circumcenters[j + 1] = (_y + y3) / 2 - 1e8 * a3;\n        } else {\n          circumcenters[j] = (b2 * d3 - b3 * d2) / ab;\n          circumcenters[j + 1] = (a3 * d2 - a2 * d3) / ab;\n        }\n      } // Compute exterior cell rays.\n\n\n      var h = hull[hull.length - 1];\n      var p0,\n          p1 = h * 4;\n      var x0,\n          x1 = points[2 * h];\n      var y0,\n          y1 = points[2 * h + 1];\n\n      for (var _i = 0; _i < hull.length; ++_i) {\n        h = hull[_i];\n        p0 = p1, x0 = x1, y0 = y1;\n        p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n        vectors[p0 + 2] = vectors[p1] = y0 - y1;\n        vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var _this$delaunay2 = this.delaunay,\n          halfedges = _this$delaunay2.halfedges,\n          inedges = _this$delaunay2.inedges,\n          hull = _this$delaunay2.hull,\n          circumcenters = this.circumcenters,\n          vectors = this.vectors;\n      if (hull.length <= 1) return null;\n\n      for (var i = 0, n = halfedges.length; i < n; ++i) {\n        var j = halfedges[i];\n        if (j < i) continue;\n        var ti = Math.floor(i / 3) * 2;\n        var tj = Math.floor(j / 3) * 2;\n        var xi = circumcenters[ti];\n        var yi = circumcenters[ti + 1];\n        var xj = circumcenters[tj];\n        var yj = circumcenters[tj + 1];\n\n        this._renderSegment(xi, yi, xj, yj, context);\n      }\n\n      var h0,\n          h1 = hull[hull.length - 1];\n\n      for (var _i2 = 0; _i2 < hull.length; ++_i2) {\n        h0 = h1, h1 = hull[_i2];\n        var t = Math.floor(inedges[h1] / 3) * 2;\n        var x = circumcenters[t];\n        var y = circumcenters[t + 1];\n        var v = h0 * 4;\n\n        var p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n\n        if (p) this._renderSegment(x, y, p[0], p[1], context);\n      }\n\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderBounds\",\n    value: function renderBounds(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderCell\",\n    value: function renderCell(i, context) {\n      var buffer = context == null ? context = new Path() : undefined;\n\n      var points = this._clip(i);\n\n      if (points === null) return;\n      context.moveTo(points[0], points[1]);\n\n      for (var _i3 = 2, n = points.length; _i3 < n; _i3 += 2) {\n        context.lineTo(points[_i3], points[_i3 + 1]);\n      }\n\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"cellPolygons\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function cellPolygons() {\n      var points, i, n, cell;\n      return _regeneratorRuntime.wrap(function cellPolygons$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              points = this.delaunay.points;\n              i = 0, n = points.length / 2;\n\n            case 2:\n              if (!(i < n)) {\n                _context.next = 10;\n                break;\n              }\n\n              cell = this.cellPolygon(i);\n\n              if (!cell) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 7;\n              return cell;\n\n            case 7:\n              ++i;\n              _context.next = 2;\n              break;\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, cellPolygons, this);\n    })\n  }, {\n    key: \"cellPolygon\",\n    value: function cellPolygon(i) {\n      var polygon = new Polygon();\n      this.renderCell(i, polygon);\n      return polygon.value();\n    }\n  }, {\n    key: \"_renderSegment\",\n    value: function _renderSegment(x0, y0, x1, y1, context) {\n      var S;\n\n      var c0 = this._regioncode(x0, y0);\n\n      var c1 = this._regioncode(x1, y1);\n\n      if (c0 === 0 && c1 === 0) {\n        context.moveTo(x0, y0);\n        context.lineTo(x1, y1);\n      } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n        context.moveTo(S[0], S[1]);\n        context.lineTo(S[2], S[3]);\n      }\n    }\n  }, {\n    key: \"contains\",\n    value: function contains(i, x, y) {\n      if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n      return this.delaunay._step(i, x, y) === i;\n    }\n  }, {\n    key: \"_cell\",\n    value: function _cell(i) {\n      var circumcenters = this.circumcenters,\n          _this$delaunay3 = this.delaunay,\n          inedges = _this$delaunay3.inedges,\n          halfedges = _this$delaunay3.halfedges,\n          triangles = _this$delaunay3.triangles;\n      var e0 = inedges[i];\n      if (e0 === -1) return null; // coincident point\n\n      var points = [];\n      var e = e0;\n\n      do {\n        var t = Math.floor(e / 3);\n        points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n        e = e % 3 === 2 ? e - 2 : e + 1;\n        if (triangles[e] !== i) break; // bad triangulation\n\n        e = halfedges[e];\n      } while (e !== e0 && e !== -1);\n\n      return points;\n    }\n  }, {\n    key: \"_clip\",\n    value: function _clip(i) {\n      // degenerate case (1 valid point: return the box)\n      if (i === 0 && this.delaunay.hull.length === 1) {\n        return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n      }\n\n      var points = this._cell(i);\n\n      if (points === null) return null;\n      var V = this.vectors;\n      var v = i * 4;\n      return V[v] || V[v + 1] ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3]) : this._clipFinite(i, points);\n    }\n  }, {\n    key: \"_clipFinite\",\n    value: function _clipFinite(i, points) {\n      var n = points.length;\n      var P = null;\n      var x0,\n          y0,\n          x1 = points[n - 2],\n          y1 = points[n - 1];\n\n      var c0,\n          c1 = this._regioncode(x1, y1);\n\n      var e0, e1;\n\n      for (var j = 0; j < n; j += 2) {\n        x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n        c0 = c1, c1 = this._regioncode(x1, y1);\n\n        if (c0 === 0 && c1 === 0) {\n          e0 = e1, e1 = 0;\n          if (P) P.push(x1, y1);else P = [x1, y1];\n        } else {\n          var S = void 0,\n              sx0 = void 0,\n              sy0 = void 0,\n              sx1 = void 0,\n              sy1 = void 0;\n\n          if (c0 === 0) {\n            if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n            var _S = S;\n\n            var _S2 = _slicedToArray(_S, 4);\n\n            sx0 = _S2[0];\n            sy0 = _S2[1];\n            sx1 = _S2[2];\n            sy1 = _S2[3];\n          } else {\n            if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n            var _S3 = S;\n\n            var _S4 = _slicedToArray(_S3, 4);\n\n            sx1 = _S4[0];\n            sy1 = _S4[1];\n            sx0 = _S4[2];\n            sy0 = _S4[3];\n            e0 = e1, e1 = this._edgecode(sx0, sy0);\n            if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n            if (P) P.push(sx0, sy0);else P = [sx0, sy0];\n          }\n\n          e0 = e1, e1 = this._edgecode(sx1, sy1);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx1, sy1);else P = [sx1, sy1];\n        }\n      }\n\n      if (P) {\n        e0 = e1, e1 = this._edgecode(P[0], P[1]);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n      } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n        return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n      }\n\n      return P;\n    }\n  }, {\n    key: \"_clipSegment\",\n    value: function _clipSegment(x0, y0, x1, y1, c0, c1) {\n      while (true) {\n        if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n        if (c0 & c1) return null;\n        var x = void 0,\n            y = void 0,\n            c = c0 || c1;\n        if (c & 8) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;else if (c & 4) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;else if (c & 2) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n        if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n      }\n    }\n  }, {\n    key: \"_clipInfinite\",\n    value: function _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n      var P = Array.from(points),\n          p;\n      if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n      if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n\n      if (P = this._clipFinite(i, P)) {\n        for (var j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n          c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n          if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n        }\n      } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n        P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n      }\n\n      return P;\n    }\n  }, {\n    key: \"_edge\",\n    value: function _edge(i, e0, e1, P, j) {\n      while (e0 !== e1) {\n        var x = void 0,\n            y = void 0;\n\n        switch (e0) {\n          case 5:\n            e0 = 4;\n            continue;\n          // top-left\n\n          case 4:\n            e0 = 6, x = this.xmax, y = this.ymin;\n            break;\n          // top\n\n          case 6:\n            e0 = 2;\n            continue;\n          // top-right\n\n          case 2:\n            e0 = 10, x = this.xmax, y = this.ymax;\n            break;\n          // right\n\n          case 10:\n            e0 = 8;\n            continue;\n          // bottom-right\n\n          case 8:\n            e0 = 9, x = this.xmin, y = this.ymax;\n            break;\n          // bottom\n\n          case 9:\n            e0 = 1;\n            continue;\n          // bottom-left\n\n          case 1:\n            e0 = 5, x = this.xmin, y = this.ymin;\n            break;\n          // left\n        }\n\n        if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n          P.splice(j, 0, x, y), j += 2;\n        }\n      }\n\n      return j;\n    }\n  }, {\n    key: \"_project\",\n    value: function _project(x0, y0, vx, vy) {\n      var t = Infinity,\n          c,\n          x,\n          y;\n\n      if (vy < 0) {\n        // top\n        if (y0 <= this.ymin) return null;\n        if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n      } else if (vy > 0) {\n        // bottom\n        if (y0 >= this.ymax) return null;\n        if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n      }\n\n      if (vx > 0) {\n        // right\n        if (x0 >= this.xmax) return null;\n        if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n      } else if (vx < 0) {\n        // left\n        if (x0 <= this.xmin) return null;\n        if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n      }\n\n      return [x, y];\n    }\n  }, {\n    key: \"_edgecode\",\n    value: function _edgecode(x, y) {\n      return (x === this.xmin ? 1 : x === this.xmax ? 2 : 0) | (y === this.ymin ? 4 : y === this.ymax ? 8 : 0);\n    }\n  }, {\n    key: \"_regioncode\",\n    value: function _regioncode(x, y) {\n      return (x < this.xmin ? 1 : x > this.xmax ? 2 : 0) | (y < this.ymin ? 4 : y > this.ymax ? 8 : 0);\n    }\n  }]);\n\n  return Voronoi;\n}();\n\nexport { Voronoi as default };","import _regeneratorRuntime from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/regenerator\";\nimport \"regenerator-runtime/runtime\";\nimport _classCallCheck from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(flatIterable);\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\nvar tau = 2 * Math.PI;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\nfunction area(hull, points) {\n  var n = hull.length,\n      x0,\n      y0,\n      x1 = points[2 * hull[n - 1]],\n      y1 = points[2 * hull[n - 1] + 1],\n      area = 0;\n\n  for (var i = 0; i < n; i++) {\n    x0 = x1, y0 = y1;\n    x1 = points[2 * hull[i]];\n    y1 = points[2 * hull[i] + 1];\n    area += y0 * x1 - x0 * y1;\n  }\n\n  return area / 2;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nvar Delaunay = /*#__PURE__*/function () {\n  function Delaunay(points) {\n    _classCallCheck(this, Delaunay);\n\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n\n    this._init();\n  }\n\n  _createClass(Delaunay, [{\n    key: \"update\",\n    value: function update() {\n      this._delaunator.update();\n\n      this._init();\n\n      return this;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var d = this._delaunator,\n          points = this.points; // check for collinear\n\n      if (d.hull && d.hull.length > 2 && area(d.hull, points) < 1e-10) {\n        this.collinear = Int32Array.from({\n          length: points.length / 2\n        }, function (_, i) {\n          return i;\n        }).sort(function (i, j) {\n          return points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1];\n        }); // for exact neighbors\n\n        var e = this.collinear[0],\n            f = this.collinear[this.collinear.length - 1],\n            bounds = [points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1]],\n            r = 1e-8 * Math.sqrt(Math.pow(bounds[3] - bounds[1], 2) + Math.pow(bounds[2] - bounds[0], 2));\n\n        for (var i = 0, n = points.length / 2; i < n; ++i) {\n          var p = jitter(points[2 * i], points[2 * i + 1], r);\n          points[2 * i] = p[0];\n          points[2 * i + 1] = p[1];\n        }\n\n        this._delaunator = new Delaunator(points);\n      } else {\n        delete this.collinear;\n      }\n\n      var halfedges = this.halfedges = this._delaunator.halfedges;\n      var hull = this.hull = this._delaunator.hull;\n      var triangles = this.triangles = this._delaunator.triangles;\n      var inedges = this.inedges.fill(-1);\n\n      var hullIndex = this._hullIndex.fill(-1); // Compute an index from each point to an (arbitrary) incoming halfedge\n      // Used to give the first neighbor of each point; for this reason,\n      // on the hull we give priority to exterior halfedges\n\n\n      for (var _e = 0, _n = halfedges.length; _e < _n; ++_e) {\n        var _p = triangles[_e % 3 === 2 ? _e - 2 : _e + 1];\n        if (halfedges[_e] === -1 || inedges[_p] === -1) inedges[_p] = _e;\n      }\n\n      for (var _i = 0, _n2 = hull.length; _i < _n2; ++_i) {\n        hullIndex[hull[_i]] = _i;\n      } // degenerate case: 1 or 2 (distinct) points\n\n\n      if (hull.length <= 2 && hull.length > 0) {\n        this.triangles = new Int32Array(3).fill(-1);\n        this.halfedges = new Int32Array(3).fill(-1);\n        this.triangles[0] = hull[0];\n        this.triangles[1] = hull[1];\n        this.triangles[2] = hull[1];\n        inedges[hull[0]] = 1;\n        if (hull.length === 2) inedges[hull[1]] = 0;\n      }\n    }\n  }, {\n    key: \"voronoi\",\n    value: function voronoi(bounds) {\n      return new Voronoi(this, bounds);\n    }\n  }, {\n    key: \"neighbors\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function neighbors(i) {\n      var inedges, hull, _hullIndex, halfedges, triangles, l, e0, e, p0, p;\n\n      return _regeneratorRuntime.wrap(function neighbors$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              inedges = this.inedges, hull = this.hull, _hullIndex = this._hullIndex, halfedges = this.halfedges, triangles = this.triangles; // degenerate case with several collinear points\n\n              if (!this.collinear) {\n                _context.next = 10;\n                break;\n              }\n\n              l = this.collinear.indexOf(i);\n\n              if (!(l > 0)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 6;\n              return this.collinear[l - 1];\n\n            case 6:\n              if (!(l < this.collinear.length - 1)) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.next = 9;\n              return this.collinear[l + 1];\n\n            case 9:\n              return _context.abrupt(\"return\");\n\n            case 10:\n              e0 = inedges[i];\n\n              if (!(e0 === -1)) {\n                _context.next = 13;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 13:\n              // coincident point\n              e = e0, p0 = -1;\n\n            case 14:\n              _context.next = 16;\n              return p0 = triangles[e];\n\n            case 16:\n              e = e % 3 === 2 ? e - 2 : e + 1;\n\n              if (!(triangles[e] !== i)) {\n                _context.next = 19;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 19:\n              // bad triangulation\n              e = halfedges[e];\n\n              if (!(e === -1)) {\n                _context.next = 26;\n                break;\n              }\n\n              p = hull[(_hullIndex[i] + 1) % hull.length];\n\n              if (!(p !== p0)) {\n                _context.next = 25;\n                break;\n              }\n\n              _context.next = 25;\n              return p;\n\n            case 25:\n              return _context.abrupt(\"return\");\n\n            case 26:\n              if (e !== e0) {\n                _context.next = 14;\n                break;\n              }\n\n            case 27:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, neighbors, this);\n    })\n  }, {\n    key: \"find\",\n    value: function find(x, y) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n      var i0 = i;\n      var c;\n\n      while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) {\n        i = c;\n      }\n\n      return c;\n    }\n  }, {\n    key: \"_step\",\n    value: function _step(i, x, y) {\n      var inedges = this.inedges,\n          hull = this.hull,\n          _hullIndex = this._hullIndex,\n          halfedges = this.halfedges,\n          triangles = this.triangles,\n          points = this.points;\n      if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n      var c = i;\n      var dc = Math.pow(x - points[i * 2], 2) + Math.pow(y - points[i * 2 + 1], 2);\n      var e0 = inedges[i];\n      var e = e0;\n\n      do {\n        var t = triangles[e];\n        var dt = Math.pow(x - points[t * 2], 2) + Math.pow(y - points[t * 2 + 1], 2);\n        if (dt < dc) dc = dt, c = t;\n        e = e % 3 === 2 ? e - 2 : e + 1;\n        if (triangles[e] !== i) break; // bad triangulation\n\n        e = halfedges[e];\n\n        if (e === -1) {\n          e = hull[(_hullIndex[i] + 1) % hull.length];\n\n          if (e !== t) {\n            if (Math.pow(x - points[e * 2], 2) + Math.pow(y - points[e * 2 + 1], 2) < dc) return e;\n          }\n\n          break;\n        }\n      } while (e !== e0);\n\n      return c;\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points,\n          halfedges = this.halfedges,\n          triangles = this.triangles;\n\n      for (var i = 0, n = halfedges.length; i < n; ++i) {\n        var j = halfedges[i];\n        if (j < i) continue;\n        var ti = triangles[i] * 2;\n        var tj = triangles[j] * 2;\n        context.moveTo(points[ti], points[ti + 1]);\n        context.lineTo(points[tj], points[tj + 1]);\n      }\n\n      this.renderHull(context);\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderPoints\",\n    value: function renderPoints(context) {\n      var r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points;\n\n      for (var i = 0, n = points.length; i < n; i += 2) {\n        var x = points[i],\n            y = points[i + 1];\n        context.moveTo(x + r, y);\n        context.arc(x, y, r, 0, tau);\n      }\n\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderHull\",\n    value: function renderHull(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var hull = this.hull,\n          points = this.points;\n      var h = hull[0] * 2,\n          n = hull.length;\n      context.moveTo(points[h], points[h + 1]);\n\n      for (var i = 1; i < n; ++i) {\n        var _h = 2 * hull[i];\n\n        context.lineTo(points[_h], points[_h + 1]);\n      }\n\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"hullPolygon\",\n    value: function hullPolygon() {\n      var polygon = new Polygon();\n      this.renderHull(polygon);\n      return polygon.value();\n    }\n  }, {\n    key: \"renderTriangle\",\n    value: function renderTriangle(i, context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points,\n          triangles = this.triangles;\n      var t0 = triangles[i *= 3] * 2;\n      var t1 = triangles[i + 1] * 2;\n      var t2 = triangles[i + 2] * 2;\n      context.moveTo(points[t0], points[t0 + 1]);\n      context.lineTo(points[t1], points[t1 + 1]);\n      context.lineTo(points[t2], points[t2 + 1]);\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"trianglePolygons\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function trianglePolygons() {\n      var triangles, i, n;\n      return _regeneratorRuntime.wrap(function trianglePolygons$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              triangles = this.triangles;\n              i = 0, n = triangles.length / 3;\n\n            case 2:\n              if (!(i < n)) {\n                _context2.next = 8;\n                break;\n              }\n\n              _context2.next = 5;\n              return this.trianglePolygon(i);\n\n            case 5:\n              ++i;\n              _context2.next = 2;\n              break;\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, trianglePolygons, this);\n    })\n  }, {\n    key: \"trianglePolygon\",\n    value: function trianglePolygon(i) {\n      var polygon = new Polygon();\n      this.renderTriangle(i, polygon);\n      return polygon.value();\n    }\n  }]);\n\n  return Delaunay;\n}();\n\nexport { Delaunay as default };\n\nDelaunay.from = function (points) {\n  var fx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : pointX;\n  var fy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : pointY;\n  var that = arguments.length > 3 ? arguments[3] : undefined;\n  return new Delaunay(\"length\" in points ? flatArray(points, fx, fy, that) : Float64Array.from(flatIterable(points, fx, fy, that)));\n};\n\nfunction flatArray(points, fx, fy, that) {\n  var n = points.length;\n  var array = new Float64Array(n * 2);\n\n  for (var i = 0; i < n; ++i) {\n    var p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n\n  return array;\n}\n\nfunction flatIterable(points, fx, fy, that) {\n  var i, _iterator, _step2, p;\n\n  return _regeneratorRuntime.wrap(function flatIterable$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          i = 0;\n          _iterator = _createForOfIteratorHelper(points);\n          _context3.prev = 2;\n\n          _iterator.s();\n\n        case 4:\n          if ((_step2 = _iterator.n()).done) {\n            _context3.next = 13;\n            break;\n          }\n\n          p = _step2.value;\n          _context3.next = 8;\n          return fx.call(that, p, i, points);\n\n        case 8:\n          _context3.next = 10;\n          return fy.call(that, p, i, points);\n\n        case 10:\n          ++i;\n\n        case 11:\n          _context3.next = 4;\n          break;\n\n        case 13:\n          _context3.next = 18;\n          break;\n\n        case 15:\n          _context3.prev = 15;\n          _context3.t0 = _context3[\"catch\"](2);\n\n          _iterator.e(_context3.t0);\n\n        case 18:\n          _context3.prev = 18;\n\n          _iterator.f();\n\n          return _context3.finish(18);\n\n        case 21:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked, null, [[2, 15, 18, 21]]);\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { scaleLinear } from 'd3-scale'\nimport { Delaunay } from 'd3-delaunay'\nimport compose from 'recompose/compose'\nimport defaultProps from 'recompose/defaultProps'\nimport withPropsOnChange from 'recompose/withPropsOnChange'\nimport pure from 'recompose/pure'\nimport { withTheme, withDimensions } from '@nivo/core'\nimport { VoronoiDefaultProps } from './props'\n\nexport default Component =>\n    compose(\n        defaultProps(VoronoiDefaultProps),\n        withTheme(),\n        withDimensions(),\n        withPropsOnChange(\n            ['xDomain', 'yDomain', 'width', 'height'],\n            ({ xDomain, yDomain, width, height }) => ({\n                xScale: scaleLinear().domain(xDomain).range([0, width]),\n                yScale: scaleLinear().domain(yDomain).range([0, height]),\n            })\n        ),\n        withPropsOnChange(['data', 'xScale', 'yScale'], ({ data, xScale, yScale }) => ({\n            scaledPoints: data.map(d => ({\n                data: d,\n                x: xScale(d.x),\n                y: yScale(d.y),\n            })),\n        })),\n        withPropsOnChange(\n            ['scaledPoints', 'width', 'height'],\n            ({ scaledPoints, width, height }) => {\n                const delaunay = Delaunay.from(scaledPoints.map(p => [p.x, p.y]))\n                const voronoi = delaunay.voronoi([0, 0, width, height])\n\n                return {\n                    delaunay,\n                    voronoi,\n                }\n            }\n        ),\n        pure\n    )(Component)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\n\nexport const VoronoiPropTypes = {\n    data: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            x: PropTypes.number.isRequired,\n            y: PropTypes.number.isRequired,\n        })\n    ).isRequired,\n\n    xDomain: PropTypes.arrayOf(PropTypes.number).isRequired,\n    yDomain: PropTypes.arrayOf(PropTypes.number).isRequired,\n\n    layers: PropTypes.arrayOf(\n        PropTypes.oneOfType([\n            PropTypes.oneOf(['links', 'cells', 'points', 'bounds']),\n            PropTypes.func,\n        ])\n    ).isRequired,\n\n    enableLinks: PropTypes.bool.isRequired,\n    linkLineWidth: PropTypes.number.isRequired,\n    linkLineColor: PropTypes.string.isRequired,\n\n    enableCells: PropTypes.bool.isRequired,\n    cellLineWidth: PropTypes.number.isRequired,\n    cellLineColor: PropTypes.string.isRequired,\n\n    enablePoints: PropTypes.bool.isRequired,\n    pointSize: PropTypes.number.isRequired,\n    pointColor: PropTypes.string.isRequired,\n\n    delaunay: PropTypes.object.isRequired,\n    voronoi: PropTypes.object.isRequired,\n}\n\nexport const VoronoiDefaultProps = {\n    xDomain: [0, 1],\n    yDomain: [0, 1],\n\n    layers: ['links', 'cells', 'points', 'bounds'],\n\n    enableLinks: false,\n    linkLineWidth: 1,\n    linkLineColor: '#bbb',\n\n    enableCells: true,\n    cellLineWidth: 2,\n    cellLineColor: '#000',\n\n    enablePoints: true,\n    pointSize: 4,\n    pointColor: '#666',\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Fragment } from 'react'\nimport { LegacyContainer, SvgWrapper } from '@nivo/core'\nimport enhance from './enhance'\nimport { VoronoiPropTypes } from './props'\n\nconst Voronoi = ({\n    delaunay,\n    voronoi,\n\n    data,\n    layers,\n\n    margin,\n    width,\n    height,\n    outerWidth,\n    outerHeight,\n\n    enableLinks,\n    linkLineWidth,\n    linkLineColor,\n\n    enableCells,\n    cellLineWidth,\n    cellLineColor,\n\n    enablePoints,\n    pointSize,\n    pointColor,\n\n    theme,\n}) => {\n    const context = {\n        width,\n        height,\n        data,\n        delaunay,\n        voronoi,\n    }\n\n    const layerById = {\n        bounds: (\n            <path\n                key=\"bounds\"\n                fill=\"none\"\n                stroke={cellLineColor}\n                strokeWidth={cellLineWidth}\n                d={voronoi.renderBounds()}\n            />\n        ),\n    }\n    if (enableLinks === true) {\n        layerById.links = (\n            <path\n                key=\"links\"\n                stroke={linkLineColor}\n                strokeWidth={linkLineWidth}\n                fill=\"none\"\n                d={delaunay.render()}\n            />\n        )\n    }\n    if (enableCells === true) {\n        layerById.cells = (\n            <path\n                key=\"cells\"\n                d={voronoi.render()}\n                fill=\"none\"\n                stroke={cellLineColor}\n                strokeWidth={cellLineWidth}\n            />\n        )\n    }\n    if (enablePoints === true) {\n        layerById.points = (\n            <path\n                key=\"points\"\n                stroke=\"none\"\n                fill={pointColor}\n                d={delaunay.renderPoints(undefined, pointSize / 2)}\n            />\n        )\n    }\n\n    return (\n        <LegacyContainer isInteractive={false} theme={theme} animate={false}>\n            {\n                (/*{ showTooltip, hideTooltip }*/) => (\n                    <SvgWrapper\n                        width={outerWidth}\n                        height={outerHeight}\n                        margin={margin}\n                        theme={theme}\n                    >\n                        {layers.map((layer, i) => {\n                            if (typeof layer === 'function') {\n                                return <Fragment key={i}>{layer(context)}</Fragment>\n                            }\n                            return layerById[layer]\n                        })}\n                    </SvgWrapper>\n                )\n            }\n        </LegacyContainer>\n    )\n}\n\nVoronoi.propTypes = VoronoiPropTypes\n\nexport default enhance(Voronoi)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport Voronoi from './Voronoi'\n\nconst ResponsiveVoronoi = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Voronoi width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveVoronoi\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { Delaunay } from 'd3-delaunay'\n\nconst getAccessor = directive => (typeof directive === 'function' ? directive : d => d[directive])\n\n/**\n * The delaunay generator requires an array\n * where each point is defined as an array\n * of 2 elements: [x: number, y: number].\n *\n * Points represent the raw input data\n * and x/y represent accessors to x & y.\n */\nexport const computeMeshPoints = ({ points, x = 'x', y = 'y' }) => {\n    const getX = getAccessor(x)\n    const getY = getAccessor(y)\n\n    return points.map(p => [getX(p), getY(p)])\n}\n\nexport const computeMesh = ({ points, width, height, debug }) => {\n    const delaunay = Delaunay.from(points)\n    const voronoi = debug === true ? delaunay.voronoi([0, 0, width, height]) : undefined\n\n    return { delaunay, voronoi }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { useMemo } from 'react'\nimport { computeMeshPoints, computeMesh } from './computeMesh'\n\nexport const useVoronoiMesh = ({ points, x, y, width, height, debug }) => {\n    const points2d = useMemo(() => computeMeshPoints({ points, x, y }), [points, x, y])\n\n    return useMemo(() => computeMesh({ points: points2d, width, height, debug }), [\n        points2d,\n        width,\n        height,\n        debug,\n    ])\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { useRef, useState, useCallback, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { getRelativeCursor } from '@nivo/core'\nimport { useVoronoiMesh } from './hooks'\n\nconst Mesh = ({\n    nodes,\n    width,\n    height,\n    x,\n    y,\n    debug,\n\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n}) => {\n    const elementRef = useRef(null)\n    const [currentIndex, setCurrentIndex] = useState(null)\n\n    const { delaunay, voronoi } = useVoronoiMesh({\n        points: nodes,\n        x,\n        y,\n        width,\n        height,\n        debug,\n    })\n    const voronoiPath = useMemo(() => (debug ? voronoi.render() : undefined))\n\n    const getIndexAndNodeFromEvent = useCallback(\n        event => {\n            const [x, y] = getRelativeCursor(elementRef.current, event)\n            const index = delaunay.find(x, y)\n\n            return [index, index !== undefined ? nodes[index] : null]\n        },\n        [delaunay]\n    )\n    const handleMouseEnter = useCallback(\n        event => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            if (currentIndex !== index) setCurrentIndex(index)\n            node && onMouseEnter && onMouseEnter(node, event)\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex]\n    )\n    const handleMouseMove = useCallback(\n        event => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            if (currentIndex !== index) setCurrentIndex(index)\n            node && onMouseMove && onMouseMove(node, event)\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex]\n    )\n    const handleMouseLeave = useCallback(\n        event => {\n            setCurrentIndex(null)\n            if (onMouseLeave) {\n                let previousNode\n                if (currentIndex !== undefined && currentIndex !== null) {\n                    previousNode = nodes[currentIndex]\n                }\n                previousNode && onMouseLeave(previousNode, event)\n            }\n        },\n        [setCurrentIndex, currentIndex, nodes]\n    )\n    const handleClick = useCallback(\n        event => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            if (currentIndex !== index) setCurrentIndex(index)\n            onClick && onClick(node, event)\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex]\n    )\n\n    return (\n        <g ref={elementRef}>\n            {debug && <path d={voronoiPath} stroke=\"red\" strokeWidth={1} opacity={0.75} />}\n            {currentIndex !== null && debug && (\n                <path fill=\"red\" opacity={0.35} d={voronoi.renderCell(currentIndex)} />\n            )}\n            <rect\n                width={width}\n                height={height}\n                fill=\"red\"\n                opacity={0}\n                style={{ cursor: 'auto' }}\n                onMouseEnter={handleMouseEnter}\n                onMouseMove={handleMouseMove}\n                onMouseLeave={handleMouseLeave}\n                onClick={handleClick}\n            />\n        </g>\n    )\n}\n\nMesh.propTypes = {\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    nodes: PropTypes.array.isRequired,\n    x: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func]).isRequired,\n    y: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func]).isRequired,\n    onMouseEnter: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onClick: PropTypes.func,\n    debug: PropTypes.bool.isRequired,\n}\nMesh.defaultProps = {\n    x: 'x',\n    y: 'y',\n    debug: false,\n}\n\nexport default Mesh\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nexport const renderVoronoiToCanvas = (ctx, voronoi) => {\n    ctx.save()\n\n    ctx.globalAlpha = 0.75\n    ctx.beginPath()\n    voronoi.render(ctx)\n    ctx.strokeStyle = 'red'\n    ctx.lineWidth = 1\n    ctx.stroke()\n\n    ctx.restore()\n}\n\nexport const renderVoronoiCellToCanvas = (ctx, voronoi, index) => {\n    ctx.save()\n\n    ctx.globalAlpha = 0.35\n    ctx.beginPath()\n    voronoi.renderCell(index, ctx)\n    ctx.fillStyle = 'red'\n    ctx.fill()\n\n    ctx.restore()\n}\n"],"sourceRoot":""}