"use strict";(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[4581],{85473:function(e,n,t){t.d(n,{by:function(){return M},Y2:function(){return y},ni:function(){return S},lG:function(){return k}});var i=t(27378),r=t(98383),a=t(30042),o=t(47425),l=t(24246),s=t(3583);function d(e,n){return n<e?-1:n>e?1:n>=e?0:NaN}function u(e){return e}var c=t(79074);var f=t(14503),v=t(89193);function g(){return g=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},g.apply(this,arguments)}function h(e,n){if(null==e)return{};var t,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}var L,b=function(e){var n=e.width,t=e.height,i=e.legends,r=e.data,a=e.toggleSerie;return(0,l.jsx)(l.Fragment,{children:i.map((function(e,i){var s;return(0,l.jsx)(o.$6,g({},e,{containerWidth:n,containerHeight:t,data:null!=(s=e.data)?s:r,toggleSerie:e.toggleSerie?a:void 0}),i)}))})},k={id:"id",value:"value",sortByValue:!1,innerRadius:0,padAngle:0,cornerRadius:0,layers:["arcLinkLabels","arcs","arcLabels","legends"],startAngle:0,endAngle:360,fit:!0,activeInnerRadiusOffset:0,activeOuterRadiusOffset:0,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableArcLabels:!0,arcLabel:"formattedValue",arcLabelsSkipAngle:0,arcLabelsRadiusOffset:.5,arcLabelsTextColor:{theme:"labels.text.fill"},enableArcLinkLabels:!0,arcLinkLabel:"id",arcLinkLabelsSkipAngle:0,arcLinkLabelsOffset:0,arcLinkLabelsDiagonalLength:16,arcLinkLabelsStraightLength:24,arcLinkLabelsThickness:1,arcLinkLabelsTextOffset:6,arcLinkLabelsTextColor:{theme:"labels.text.fill"},arcLinkLabelsColor:{theme:"axis.ticks.line.stroke"},colors:{scheme:"nivo"},defs:[],fill:[],isInteractive:!0,animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",tooltip:function(e){var n=e.datum;return(0,l.jsx)(v._5,{id:n.id,value:n.formattedValue,enableChip:!0,color:n.color})},legends:[],role:"img",pixelRatio:"undefined"!=typeof window&&null!=(L=window.devicePixelRatio)?L:1},p=["points"],A=function(e){var n=e.data,t=e.id,a=void 0===t?k.id:t,o=e.value,l=void 0===o?k.value:o,s=e.valueFormat,d=e.colors,u=void 0===d?k.colors:d,c=(0,r.LR)(a),v=(0,r.LR)(l),h=(0,r.O_)(s),L=(0,f.U)(u,"id");return(0,i.useMemo)((function(){return n.map((function(e){var n,t=c(e),i=v(e),r={id:t,label:null!=(n=e.label)?n:t,hidden:!1,value:i,formattedValue:h(i),data:e};return g({},r,{color:L(r)})}))}),[n,c,v,h,L])},m=function(e){var n=e.data,t=e.startAngle,a=e.endAngle,o=e.innerRadius,l=e.outerRadius,f=e.padAngle,v=e.sortByValue,h=e.activeId,L=e.activeInnerRadiusOffset,b=e.activeOuterRadiusOffset,k=e.hiddenIds,p=(0,i.useMemo)((function(){var e=function(){var e=u,n=d,t=null,i=(0,s.Z)(0),r=(0,s.Z)(c.BZ),a=(0,s.Z)(0);function o(o){var l,s,d,u,f,v=o.length,g=0,h=new Array(v),L=new Array(v),b=+i.apply(this,arguments),k=Math.min(c.BZ,Math.max(-c.BZ,r.apply(this,arguments)-b)),p=Math.min(Math.abs(k)/v,a.apply(this,arguments)),A=p*(k<0?-1:1);for(l=0;l<v;++l)(f=L[h[l]=l]=+e(o[l],l,o))>0&&(g+=f);for(null!=n?h.sort((function(e,t){return n(L[e],L[t])})):null!=t&&h.sort((function(e,n){return t(o[e],o[n])})),l=0,d=g?(k-v*A)/g:0;l<v;++l,b=u)s=h[l],u=b+((f=L[s])>0?f*d:0)+A,L[s]={data:o[s],index:l,value:f,startAngle:b,endAngle:u,padAngle:p};return L}return o.value=function(n){return arguments.length?(e="function"==typeof n?n:(0,s.Z)(+n),o):e},o.sortValues=function(e){return arguments.length?(n=e,t=null,o):n},o.sort=function(e){return arguments.length?(t=e,n=null,o):t},o.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:(0,s.Z)(+e),o):i},o.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:(0,s.Z)(+e),o):r},o.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:(0,s.Z)(+e),o):a},o}().value((function(e){return e.value})).startAngle((0,r.Ht)(t)).endAngle((0,r.Ht)(a)).padAngle((0,r.Ht)(f));return v||e.sortValues(null),e}),[t,a,f,v]);return(0,i.useMemo)((function(){var e=n.filter((function(e){return!k.includes(e.id)}));return{dataWithArc:p(e).map((function(e){var n=Math.abs(e.endAngle-e.startAngle);return g({},e.data,{arc:{index:e.index,startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:h===e.data.id?o-L:o,outerRadius:h===e.data.id?l+b:l,thickness:l-o,padAngle:e.padAngle,angle:n,angleDeg:(0,r.vi)(n)}})})),legendData:n.map((function(e){return g({},e,{hidden:k.includes(e.id)})}))}}),[p,n,k,h,o,L,l,b])},R=function(e){var n=e.data,t=e.width,o=e.height,l=e.innerRadius,s=void 0===l?k.innerRadius:l,d=e.startAngle,u=void 0===d?k.startAngle:d,c=e.endAngle,f=void 0===c?k.endAngle:c,v=e.padAngle,L=void 0===v?k.padAngle:v,b=e.sortByValue,A=void 0===b?k.sortByValue:b,R=e.cornerRadius,O=void 0===R?k.cornerRadius:R,x=e.fit,C=void 0===x?k.fit:x,M=e.activeInnerRadiusOffset,y=void 0===M?k.activeInnerRadiusOffset:M,I=e.activeOuterRadiusOffset,w=void 0===I?k.activeOuterRadiusOffset:I,W=(0,i.useState)(null),S=W[0],T=W[1],j=(0,i.useState)([]),B=j[0],V=j[1],E=(0,i.useMemo)((function(){var e,n=Math.min(t,o)/2,i=n*Math.min(s,1),r=t/2,l=o/2;if(C){var d=(0,a.CU)(r,l,n,u-90,f-90),c=d.points,v=h(d,p),g=Math.min(t/v.width,o/v.height),L={width:v.width*g,height:v.height*g};L.x=(t-L.width)/2,L.y=(o-L.height)/2,r=(r-v.x)/v.width*v.width*g+L.x,l=(l-v.y)/v.height*v.height*g+L.y,e={box:v,ratio:g,points:c},n*=g,i*=g}return{centerX:r,centerY:l,radius:n,innerRadius:i,debug:e}}),[t,o,s,u,f,C,O]),G=m({data:n,startAngle:u,endAngle:f,innerRadius:E.innerRadius,outerRadius:E.radius,padAngle:L,sortByValue:A,activeId:S,activeInnerRadiusOffset:y,activeOuterRadiusOffset:w,hiddenIds:B}),D=(0,i.useCallback)((function(e){V((function(n){return n.indexOf(e)>-1?n.filter((function(n){return n!==e})):[].concat(n,[e])}))}),[]);return g({arcGenerator:(0,a.aG)({cornerRadius:O,padAngle:(0,r.Ht)(L)}),setActiveId:T,toggleSerie:D},G,E)},O=function(e){var n=e.center,t=e.data,r=e.arcGenerator,o=e.borderWidth,s=e.borderColor,d=e.isInteractive,u=e.onClick,c=e.onMouseEnter,f=e.onMouseMove,g=e.onMouseLeave,h=e.setActiveId,L=e.tooltip,b=e.transitionMode,k=(0,v.lL)(),p=k.showTooltipFromEvent,A=k.hideTooltip,m=(0,i.useMemo)((function(){if(d)return function(e,n){null==u||u(e,n)}}),[d,u]),R=(0,i.useMemo)((function(){if(d)return function(e,n){p((0,i.createElement)(L,{datum:e}),n),h(e.id),null==c||c(e,n)}}),[d,p,h,c]),O=(0,i.useMemo)((function(){if(d)return function(e,n){p((0,i.createElement)(L,{datum:e}),n),null==f||f(e,n)}}),[d,p,f]),x=(0,i.useMemo)((function(){if(d)return function(e,n){A(),h(null),null==g||g(e,n)}}),[d,A,h,g]);return(0,l.jsx)(a.Bs,{center:n,data:t,arcGenerator:r,borderWidth:o,borderColor:s,transitionMode:b,onClick:m,onMouseEnter:R,onMouseMove:O,onMouseLeave:x})},x=["isInteractive","animate","motionConfig","theme","renderWrapper"],C=function(e){var n=e.data,t=e.id,o=void 0===t?k.id:t,s=e.value,d=void 0===s?k.value:s,u=e.valueFormat,c=e.sortByValue,f=void 0===c?k.sortByValue:c,v=e.layers,g=void 0===v?k.layers:v,h=e.startAngle,L=void 0===h?k.startAngle:h,p=e.endAngle,m=void 0===p?k.endAngle:p,x=e.padAngle,C=void 0===x?k.padAngle:x,M=e.fit,y=void 0===M?k.fit:M,I=e.innerRadius,w=void 0===I?k.innerRadius:I,W=e.cornerRadius,S=void 0===W?k.cornerRadius:W,T=e.activeInnerRadiusOffset,j=void 0===T?k.activeInnerRadiusOffset:T,B=e.activeOuterRadiusOffset,V=void 0===B?k.activeOuterRadiusOffset:B,E=e.width,G=e.height,D=e.margin,F=e.colors,H=void 0===F?k.colors:F,Z=e.borderWidth,X=void 0===Z?k.borderWidth:Z,Y=e.borderColor,_=void 0===Y?k.borderColor:Y,P=e.enableArcLabels,U=void 0===P?k.enableArcLabels:P,N=e.arcLabel,z=void 0===N?k.arcLabel:N,$=e.arcLabelsSkipAngle,q=void 0===$?k.arcLabelsSkipAngle:$,J=e.arcLabelsTextColor,K=void 0===J?k.arcLabelsTextColor:J,Q=e.arcLabelsRadiusOffset,ee=void 0===Q?k.arcLabelsRadiusOffset:Q,ne=e.arcLabelsComponent,te=e.enableArcLinkLabels,ie=void 0===te?k.enableArcLinkLabels:te,re=e.arcLinkLabel,ae=void 0===re?k.arcLinkLabel:re,oe=e.arcLinkLabelsSkipAngle,le=void 0===oe?k.arcLinkLabelsSkipAngle:oe,se=e.arcLinkLabelsOffset,de=void 0===se?k.arcLinkLabelsOffset:se,ue=e.arcLinkLabelsDiagonalLength,ce=void 0===ue?k.arcLinkLabelsDiagonalLength:ue,fe=e.arcLinkLabelsStraightLength,ve=void 0===fe?k.arcLinkLabelsStraightLength:fe,ge=e.arcLinkLabelsThickness,he=void 0===ge?k.arcLinkLabelsThickness:ge,Le=e.arcLinkLabelsTextOffset,be=void 0===Le?k.arcLinkLabelsTextOffset:Le,ke=e.arcLinkLabelsTextColor,pe=void 0===ke?k.arcLinkLabelsTextColor:ke,Ae=e.arcLinkLabelsColor,me=void 0===Ae?k.arcLinkLabelsColor:Ae,Re=e.arcLinkLabelComponent,Oe=e.defs,xe=void 0===Oe?k.defs:Oe,Ce=e.fill,Me=void 0===Ce?k.fill:Ce,ye=e.isInteractive,Ie=void 0===ye?k.isInteractive:ye,we=e.onClick,We=e.onMouseEnter,Se=e.onMouseMove,Te=e.onMouseLeave,je=e.tooltip,Be=void 0===je?k.tooltip:je,Ve=e.transitionMode,Ee=void 0===Ve?k.transitionMode:Ve,Ge=e.legends,De=void 0===Ge?k.legends:Ge,Fe=e.role,He=void 0===Fe?k.role:Fe,Ze=(0,r.Bs)(E,G,D),Xe=Ze.outerWidth,Ye=Ze.outerHeight,_e=Ze.margin,Pe=Ze.innerWidth,Ue=Ze.innerHeight,Ne=A({data:n,id:o,value:d,valueFormat:u,colors:H}),ze=R({data:Ne,width:Pe,height:Ue,fit:y,innerRadius:w,startAngle:L,endAngle:m,padAngle:C,sortByValue:f,cornerRadius:S,activeInnerRadiusOffset:j,activeOuterRadiusOffset:V}),$e=ze.dataWithArc,qe=ze.legendData,Je=ze.arcGenerator,Ke=ze.centerX,Qe=ze.centerY,en=ze.radius,nn=ze.innerRadius,tn=ze.setActiveId,rn=ze.toggleSerie,an=(0,r.yU)(xe,$e,Me),on={arcLinkLabels:null,arcs:null,arcLabels:null,legends:null};ie&&g.includes("arcLinkLabels")&&(on.arcLinkLabels=(0,l.jsx)(a._D,{center:[Ke,Qe],data:$e,label:ae,skipAngle:le,offset:de,diagonalLength:ce,straightLength:ve,strokeWidth:he,textOffset:be,textColor:pe,linkColor:me,component:Re},"arcLinkLabels")),g.includes("arcs")&&(on.arcs=(0,l.jsx)(O,{center:[Ke,Qe],data:$e,arcGenerator:Je,borderWidth:X,borderColor:_,isInteractive:Ie,onClick:we,onMouseEnter:We,onMouseMove:Se,onMouseLeave:Te,setActiveId:tn,tooltip:Be,transitionMode:Ee},"arcs")),U&&g.includes("arcLabels")&&(on.arcLabels=(0,l.jsx)(a.Xr,{center:[Ke,Qe],data:$e,label:z,radiusOffset:ee,skipAngle:q,textColor:K,transitionMode:Ee,component:ne},"arcLabels")),De.length>0&&g.includes("legends")&&(on.legends=(0,l.jsx)(b,{width:Pe,height:Ue,data:qe,legends:De,toggleSerie:rn},"legends"));var ln=function(e){var n=e.dataWithArc,t=e.arcGenerator,r=e.centerX,a=e.centerY,o=e.radius,l=e.innerRadius;return(0,i.useMemo)((function(){return{dataWithArc:n,arcGenerator:t,centerX:r,centerY:a,radius:o,innerRadius:l}}),[n,t,r,a,o,l])}({dataWithArc:$e,arcGenerator:Je,centerX:Ke,centerY:Qe,radius:en,innerRadius:nn});return(0,l.jsx)(r.tM,{width:Xe,height:Ye,margin:_e,defs:an,role:He,children:g.map((function(e,n){return void 0!==on[e]?on[e]:"function"==typeof e?(0,l.jsx)(i.Fragment,{children:(0,i.createElement)(e,ln)},n):null}))})},M=function(e){var n=e.isInteractive,t=void 0===n?k.isInteractive:n,i=e.animate,a=void 0===i?k.animate:i,o=e.motionConfig,s=void 0===o?k.motionConfig:o,d=e.theme,u=e.renderWrapper,c=h(e,x);return(0,l.jsx)(r.W2,{animate:a,isInteractive:t,motionConfig:s,renderWrapper:u,theme:d,children:(0,l.jsx)(C,g({isInteractive:t},c))})},y=function(e){return(0,l.jsx)(r.d,{children:function(n){var t=n.width,i=n.height;return(0,l.jsx)(M,g({width:t,height:i},e))}})},I=["isInteractive","theme","renderWrapper"],w=function(e){var n=e.data,t=e.id,s=void 0===t?k.id:t,d=e.value,u=void 0===d?k.value:d,c=e.valueFormat,h=e.sortByValue,L=void 0===h?k.sortByValue:h,b=e.startAngle,p=void 0===b?k.startAngle:b,m=e.endAngle,O=void 0===m?k.endAngle:m,x=e.padAngle,C=void 0===x?k.padAngle:x,M=e.fit,y=void 0===M?k.fit:M,I=e.innerRadius,w=void 0===I?k.innerRadius:I,W=e.cornerRadius,S=void 0===W?k.cornerRadius:W,T=e.activeInnerRadiusOffset,j=void 0===T?k.activeInnerRadiusOffset:T,B=e.activeOuterRadiusOffset,V=void 0===B?k.activeOuterRadiusOffset:B,E=e.width,G=e.height,D=e.margin,F=e.pixelRatio,H=void 0===F?1:F,Z=e.colors,X=void 0===Z?k.colors:Z,Y=e.borderWidth,_=void 0===Y?k.borderWidth:Y,P=e.borderColor,U=void 0===P?k.borderColor:P,N=e.enableArcLabels,z=void 0===N?k.enableArcLabels:N,$=e.arcLabel,q=void 0===$?k.arcLabel:$,J=e.arcLabelsSkipAngle,K=void 0===J?k.arcLabelsSkipAngle:J,Q=e.arcLabelsTextColor,ee=void 0===Q?k.arcLabelsTextColor:Q,ne=e.arcLabelsRadiusOffset,te=void 0===ne?k.arcLabelsRadiusOffset:ne,ie=e.enableArcLinkLabels,re=void 0===ie?k.enableArcLinkLabels:ie,ae=e.arcLinkLabel,oe=void 0===ae?k.arcLinkLabel:ae,le=e.arcLinkLabelsSkipAngle,se=void 0===le?k.arcLinkLabelsSkipAngle:le,de=e.arcLinkLabelsOffset,ue=void 0===de?k.arcLinkLabelsOffset:de,ce=e.arcLinkLabelsDiagonalLength,fe=void 0===ce?k.arcLinkLabelsDiagonalLength:ce,ve=e.arcLinkLabelsStraightLength,ge=void 0===ve?k.arcLinkLabelsStraightLength:ve,he=e.arcLinkLabelsThickness,Le=void 0===he?k.arcLinkLabelsThickness:he,be=e.arcLinkLabelsTextOffset,ke=void 0===be?k.arcLinkLabelsTextOffset:be,pe=e.arcLinkLabelsTextColor,Ae=void 0===pe?k.arcLinkLabelsTextColor:pe,me=e.arcLinkLabelsColor,Re=void 0===me?k.arcLinkLabelsColor:me,Oe=e.isInteractive,xe=void 0===Oe?k.isInteractive:Oe,Ce=e.onClick,Me=e.onMouseMove,ye=e.tooltip,Ie=void 0===ye?k.tooltip:ye,we=e.legends,We=void 0===we?k.legends:we,Se=(0,i.useRef)(null),Te=(0,r.Fg)(),je=(0,r.Bs)(E,G,D),Be=je.margin,Ve=je.innerWidth,Ee=je.innerHeight,Ge=je.outerWidth,De=je.outerHeight,Fe=A({data:n,id:s,value:u,valueFormat:c,colors:X}),He=R({data:Fe,width:Ve,height:Ee,fit:y,innerRadius:w,startAngle:p,endAngle:O,padAngle:C,sortByValue:L,cornerRadius:S,activeInnerRadiusOffset:j,activeOuterRadiusOffset:V}),Ze=He.dataWithArc,Xe=He.arcGenerator,Ye=He.centerX,_e=He.centerY,Pe=He.radius,Ue=He.innerRadius,Ne=He.setActiveId,ze=(0,f.Bf)(U,Te),$e=(0,a.DW)({data:Ze,label:q,skipAngle:K,offset:te,textColor:ee}),qe=(0,a.Uz)({data:Ze,skipAngle:se,offset:ue,diagonalLength:fe,straightLength:ge,label:oe,linkColor:Re,textOffset:ke,textColor:Ae});(0,i.useEffect)((function(){if(Se.current){Se.current.width=Ge*H,Se.current.height=De*H;var e=Se.current.getContext("2d");e.scale(H,H),e.fillStyle=Te.background,e.fillRect(0,0,Ge,De),e.save(),e.translate(Be.left,Be.top),Xe.context(e),e.save(),e.translate(Ye,_e),Ze.forEach((function(n){e.beginPath(),e.fillStyle=n.color,e.strokeStyle=ze(n),e.lineWidth=_,Xe(n.arc),e.fill(),_>0&&e.stroke()})),!0===re&&(0,a.Vf)(e,qe,Te,Le),!0===z&&(0,a.N5)(e,$e,Te),e.restore(),We.forEach((function(n){(0,o.as)(e,g({},n,{data:Ze,containerWidth:Ve,containerHeight:Ee,theme:Te}))}))}}),[Se,Ve,Ee,Ge,De,Be.top,Be.left,H,Ye,_e,Xe,Ze,ze,z,$e,re,qe,Le,We,Te]);var Je=(0,i.useMemo)((function(){return Ze.map((function(e){return g({id:e.id},e.arc)}))}),[Ze]),Ke=function(e){if(!Se.current)return null;var n=(0,r.P6)(Se.current,e),t=n[0],i=n[1],o=(0,a.oO)(Be.left+Ye,Be.top+_e,Pe,Ue,Je,t,i);return o?Ze.find((function(e){return e.id===o.id})):null},Qe=(0,v.lL)(),en=Qe.showTooltipFromEvent,nn=Qe.hideTooltip,tn=function(e){var n=Ke(e);n?(null==Me||Me(n,e),Ne(n.id),en((0,i.createElement)(Ie,{datum:n}),e)):(Ne(null),nn())};return(0,l.jsx)("canvas",{ref:Se,width:Ge*H,height:De*H,style:{width:Ge,height:De,cursor:xe?"auto":"normal"},onMouseEnter:xe?tn:void 0,onMouseMove:xe?tn:void 0,onMouseLeave:xe?function(){nn()}:void 0,onClick:xe?function(e){if(Ce){var n=Ke(e);n&&Ce(n,e)}}:void 0})},W=function(e){var n=e.isInteractive,t=void 0===n?k.isInteractive:n,i=e.theme,a=e.renderWrapper,o=h(e,I);return(0,l.jsx)(r.W2,{isInteractive:t,renderWrapper:a,theme:i,children:(0,l.jsx)(w,g({isInteractive:t},o))})},S=function(e){return(0,l.jsx)(r.d,{children:function(n){var t=n.width,i=n.height;return(0,l.jsx)(W,g({width:t,height:i},e))}})}}}]);
//# sourceMappingURL=dfb34d867df821632e3eb961bfd91d3d8107f9fb-0bd545dc5fa6ea1fac6d.js.map