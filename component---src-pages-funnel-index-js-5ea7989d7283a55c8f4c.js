(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{JCgZ:function(e,t,n){var o=n("VPOt"),r=n("/Qyy"),i=n("UzdM"),a=parseFloat,l=Math.min,s=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&r(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=i(e),void 0===t?(t=e,e=0):t=i(t)),e>t){var u=e;e=t,t=u}if(n||e%1||t%1){var c=s();return l(e+c*(t-e+a("1e-"+((c+"").length-1))),t)}return o(e,t)}},QRkI:function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return P}));n("UKgA");var o=n("mXGw"),r=n("PWxN"),i=n.n(r),a=n("XQLF"),l=n.n(a),s=n("eeCi"),u=n.n(s),c=n("5QYd"),d=n("g4kd"),p=n("oYCi");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function m(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function g(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function v(e){return function(e){if(Array.isArray(e))return y(e)}(e)||m(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=4,O=120,j=8,k=function(e){return"circle"===e.type},w=function(e){return"dot"===e.type},S=function(e){return"rect"===e.type},W=function(e){var t,n,o=e.x,r=e.y,i=e.noteX,a=e.noteY,s=e.noteWidth,u=void 0===s?O:s,d=e.noteTextOffset,p=void 0===d?j:d;if(l()(i))t=o+i;else{if(void 0===i.abs)throw new Error("noteX should be either a number or an object containing an 'abs' property");t=i.abs}if(l()(a))n=r+a;else{if(void 0===a.abs)throw new Error("noteY should be either a number or an object containing an 'abs' property");n=a.abs}var h=o,b=r,f=function(e,t,n,o){var r=Math.atan2(o-t,n-e);return Object(c.n)(Object(c.bb)(r))}(o,r,t,n);if(k(e)){var y=Object(c.Y)(Object(c.E)(f),e.size/2);h+=y.x,b+=y.y}if(S(e)){var m=Math.round((f+90)/45)%8;0===m&&(b-=e.height/2),1===m&&(h+=e.width/2,b-=e.height/2),2===m&&(h+=e.width/2),3===m&&(h+=e.width/2,b+=e.height/2),4===m&&(b+=e.height/2),5===m&&(h-=e.width/2,b+=e.height/2),6===m&&(h-=e.width/2),7===m&&(h-=e.width/2,b-=e.height/2)}var g=t,v=t;return(f+90)%360>180?(g-=u,v-=u):v+=u,{points:[[h,b],[t,n],[v,n]],text:[g,n-p],angle:f+90}},C=function(e){var t=e.data,n=e.annotations,r=e.getPosition,a=e.getDimensions;return Object(o.useMemo)((function(){return function(e){var t=e.data,n=e.annotations,o=e.getPosition,r=e.getDimensions;return n.reduce((function(e,n){var a=n.offset||0;return[].concat(v(e),v(u()(t,n.match).map((function(e){var t=o(e),l=r(e);return(k(n)||S(n))&&(l.size=l.size+2*a,l.width=l.width+2*a,l.height=l.height+2*a),f(f(f(f({},i()(n,["match","offset"])),t),l),{},{size:n.size||l.size,datum:e})}))))}),[])}({data:t,annotations:n,getPosition:r,getDimensions:a})}),[t,n,r,a])},P=function(e){var t=e.annotations;return Object(o.useMemo)((function(){return t.map((function(e){return f(f({},e),{},{computed:W(f({},e))})}))}),[t])},q=function(e){var t=e.datum,n=e.x,r=e.y,a=e.note,l=Object(c.sb)(),s=Object(c.qb)(),u=s.animate,h=s.config,b=Object(d.useSpring)({x:n,y:r,config:h,immediate:!u});return"function"==typeof a?Object(o.createElement)(a,{x:n,y:r,datum:t}):Object(p.jsxs)(p.Fragment,{children:[l.annotations.text.outlineWidth>0&&Object(p.jsx)(d.animated.text,{x:b.x,y:b.y,style:f(f({},l.annotations.text),{},{strokeLinejoin:"round",strokeWidth:2*l.annotations.text.outlineWidth,stroke:l.annotations.text.outlineColor}),children:a}),Object(p.jsx)(d.animated.text,{x:b.x,y:b.y,style:i()(l.annotations.text,["outlineWidth","outlineColor"]),children:a})]})};function T(e){if(Array.isArray(e))return e}function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function z(e,t){return T(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(s){r=!0,i=s}finally{try{o||null==l.return||l.return()}finally{if(r)throw i}}return n}}(e,t)||g(e,t)||M()}var E=function(e){var t=e.points,n=e.isOutline,r=void 0!==n&&n,i=Object(c.sb)(),a=Object(o.useMemo)((function(){var e,n=T(e=t)||m(e)||g(e)||M(),o=n[0];return n.slice(1).reduce((function(e,t){var n=z(t,2),o=n[0],r=n[1];return"".concat(e," L").concat(o,",").concat(r)}),"M".concat(o[0],",").concat(o[1]))}),[t]),l=Object(c.mb)(a);if(r&&i.annotations.link.outlineWidth<=0)return null;var s=f({},i.annotations.link);return r&&(s.strokeLinecap="square",s.strokeWidth=i.annotations.link.strokeWidth+2*i.annotations.link.outlineWidth,s.stroke=i.annotations.link.outlineColor),Object(p.jsx)(d.animated.path,{fill:"none",d:l,style:s})},V=function(e){var t=e.x,n=e.y,o=e.size,r=Object(c.sb)(),i=Object(c.qb)(),a=i.animate,l=i.config,s=Object(d.useSpring)({x:t,y:n,radius:o/2,config:l,immediate:!a});return Object(p.jsxs)(p.Fragment,{children:[r.annotations.outline.outlineWidth>0&&Object(p.jsx)(d.animated.circle,{cx:s.x,cy:s.y,r:s.radius,style:f(f({},r.annotations.outline),{},{fill:"none",strokeWidth:r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,stroke:r.annotations.outline.outlineColor})}),Object(p.jsx)(d.animated.circle,{cx:s.x,cy:s.y,r:s.radius,style:r.annotations.outline})]})},L=function(e){var t=e.x,n=e.y,o=e.size,r=void 0===o?x:o,i=Object(c.sb)(),a=Object(c.qb)(),l=a.animate,s=a.config,u=Object(d.useSpring)({x:t,y:n,radius:r/2,config:s,immediate:!l});return Object(p.jsxs)(p.Fragment,{children:[i.annotations.outline.outlineWidth>0&&Object(p.jsx)(d.animated.circle,{cx:u.x,cy:u.y,r:u.radius,style:f(f({},i.annotations.outline),{},{fill:"none",strokeWidth:2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor})}),Object(p.jsx)(d.animated.circle,{cx:u.x,cy:u.y,r:u.radius,style:i.annotations.symbol})]})},F=function(e){var t=e.x,n=e.y,o=e.width,r=e.height,i=Object(c.sb)(),a=Object(c.qb)(),l=a.animate,s=a.config,u=Object(d.useSpring)({x:t-o/2,y:n-r/2,width:o,height:r,config:s,immediate:!l});return Object(p.jsxs)(p.Fragment,{children:[i.annotations.outline.outlineWidth>0&&Object(p.jsx)(d.animated.rect,{x:u.x,y:u.y,width:u.width,height:u.height,style:f(f({},i.annotations.outline),{},{fill:"none",strokeWidth:i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor})}),Object(p.jsx)(d.animated.rect,{x:u.x,y:u.y,width:u.width,height:u.height,style:i.annotations.outline})]})},I=function(e){var t=e.datum,n=e.x,r=e.y,i=e.note,a=function(e){return Object(o.useMemo)((function(){return W(e)}),[e])}(e);if(!function(e){var t=typeof e;return Object(o.isValidElement)(e)||"string"===t||"function"===t||"object"===t}(i))throw new Error("note should be a valid react element");return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(E,{points:a.points,isOutline:!0}),k(e)&&Object(p.jsx)(V,{x:n,y:r,size:e.size}),w(e)&&Object(p.jsx)(L,{x:n,y:r,size:e.size}),S(e)&&Object(p.jsx)(F,{x:n,y:r,width:e.width,height:e.height}),Object(p.jsx)(E,{points:a.points}),Object(p.jsx)(q,{datum:t,x:a.text[0],y:a.text[1],note:i})]})},B=function(e,t){t.forEach((function(t,n){var o=z(t,2),r=o[0],i=o[1];0===n?e.moveTo(r,i):e.lineTo(r,i)}))},A=function(e,t){var n=t.annotations,o=t.theme;0!==n.length&&(e.save(),n.forEach((function(t){if(n=t.note,"string"!==(r=typeof n)&&"function"!==r)throw new Error("note is invalid for canvas implementation");var n,r;o.annotations.link.outlineWidth>0&&(e.lineCap="square",e.strokeStyle=o.annotations.link.outlineColor,e.lineWidth=o.annotations.link.strokeWidth+2*o.annotations.link.outlineWidth,e.beginPath(),B(e,t.computed.points),e.stroke(),e.lineCap="butt"),k(t)&&o.annotations.outline.outlineWidth>0&&(e.strokeStyle=o.annotations.outline.outlineColor,e.lineWidth=o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),w(t)&&o.annotations.symbol.outlineWidth>0&&(e.strokeStyle=o.annotations.symbol.outlineColor,e.lineWidth=2*o.annotations.symbol.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),S(t)&&o.annotations.outline.outlineWidth>0&&(e.strokeStyle=o.annotations.outline.outlineColor,e.lineWidth=o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),e.strokeStyle=o.annotations.link.stroke,e.lineWidth=o.annotations.link.strokeWidth,e.beginPath(),B(e,t.computed.points),e.stroke(),k(t)&&(e.strokeStyle=o.annotations.outline.stroke,e.lineWidth=o.annotations.outline.strokeWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),w(t)&&(e.fillStyle=o.annotations.symbol.fill,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.fill()),S(t)&&(e.strokeStyle=o.annotations.outline.stroke,e.lineWidth=o.annotations.outline.strokeWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),"function"==typeof t.note?t.note(e,{datum:t.datum,x:t.computed.text[0],y:t.computed.text[1],theme:o}):(e.font="".concat(o.annotations.text.fontSize,"px ").concat(o.annotations.text.fontFamily),e.fillStyle=o.annotations.text.fill,e.strokeStyle=o.annotations.text.outlineColor,e.lineWidth=2*o.annotations.text.outlineWidth,o.annotations.text.outlineWidth>0&&(e.lineJoin="round",e.strokeText(t.note,t.computed.text[0],t.computed.text[1]),e.lineJoin="miter"),e.fillText(t.note,t.computed.text[0],t.computed.text[1]))})),e.restore())}},VPOt:function(e,t){var n=Math.floor,o=Math.random;e.exports=function(e,t){return e+n(o()*(t-e+1))}},XgN0:function(e,t,n){var o=n("O76R"),r=n("KXzt"),i=o((function(e,t,n){return e+(n?" ":"")+r(t)}));e.exports=i},cBF7:function(e,t,n){"use strict";n.r(t);var o=n("mXGw"),r=n.n(o),i=n("HVn3"),a=n.n(i),l=n("Qd/H"),s=n("ZS2m"),u=n("P9Va"),c=n.n(u),d=n("nLLr"),p=Object(d.c)({valueFormat:d.b}),h=n("Eo5u"),b=n("RQLE"),f=[{key:"data",type:"Array<Datum>",group:"Base",help:"Chart data.",description:"\n            Chart data, which must conform to this structure:\n            ```\n            Array<{\n                id:    string | number\n                label: string\n                value: number\n            }>\n            ```\n        ",required:!0},{key:"margin",group:"Base",type:"object",help:"Chart margin.",controlType:"margin"},{key:"direction",help:"Direction of the chart.",type:"string",required:!1,defaultValue:l.b.direction,controlType:"radio",group:"Base",controlOptions:{choices:[{label:"horizontal",value:"horizontal"},{label:"vertical",value:"vertical"}]}},{key:"interpolation",group:"Base",type:"string",help:"Part shape interpolation.",required:!1,defaultValue:l.b.interpolation,controlType:"radio",controlOptions:{choices:[{label:"smooth",value:"smooth"},{label:"linear",value:"linear"}]}},{key:"spacing",help:"Spacing between parts",type:"number",required:!1,defaultValue:l.b.spacing,controlType:"range",group:"Base",controlOptions:{min:0,max:30,unit:"px"}},{key:"shapeBlending",help:"Blend shapes.",type:"number",required:!1,defaultValue:l.b.shapeBlending,controlType:"range",group:"Base",controlOptions:{min:0,max:1,step:.01}},{key:"valueFormat",help:"\n            Value format supporting d3-format notation, this formatted value\n            will then be used for labels and tooltips.\n        ",type:"string | Function",required:!1,controlType:"valueFormat",group:"Base"},b.f,{key:"colors",help:"Defines how to compute parts color.",type:"string | Function | string[]",required:!1,defaultValue:l.b.colors,controlType:"ordinalColors",group:"Style"},{key:"fillOpacity",help:"Part background opacity.",required:!1,defaultValue:l.b.fillOpacity,type:"number",controlType:"opacity",group:"Style"},{key:"borderWidth",help:"Width of part border.",type:"number",required:!1,defaultValue:l.b.borderWidth,controlType:"lineWidth",group:"Style"},{key:"borderColor",help:"Method to compute border color.",description:"\n            how to compute border color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:l.b.borderColor,controlType:"inheritedColor",group:"Style"},{key:"borderOpacity",help:"Part border opacity.",required:!1,defaultValue:l.b.borderOpacity,type:"number",controlType:"opacity",group:"Style"},{key:"enableLabel",help:"\n            Enable/disable labels. Use styles from\n            theme.labels.text.\n        ",type:"boolean",required:!1,defaultValue:l.b.enableLabel,controlType:"switch",group:"Labels"},{key:"labelColor",help:"Method to compute label color.",description:"\n            how to compute label color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:l.b.labelColor,controlType:"inheritedColor",group:"Labels"},{key:"enableBeforeSeparators",help:"\n            Enable/disable before separators.\n            Separators inherit styles from theme.grid.line.\n        ",type:"boolean",required:!1,defaultValue:l.b.enableBeforeSeparators,controlType:"switch",group:"Separators"},{key:"beforeSeparatorLength",help:"\n            Length of the before separator lines. You should add margin\n            for them to be visible if the value is greater than 0.\n        ",required:!1,defaultValue:l.b.beforeSeparatorLength,type:"number",controlType:"range",group:"Separators",controlOptions:{unit:"px",min:0,max:100}},{key:"beforeSeparatorOffset",help:"\n            Offset from the parts for the before separator lines.\n            You should add margin for them to be visible\n            if the value is greater than 0.\n        ",required:!1,defaultValue:l.b.beforeSeparatorOffset,type:"number",controlType:"range",group:"Separators",controlOptions:{unit:"px",min:0,max:100}},{key:"enableAfterSeparators",help:"\n            Enable/disable after separators.\n            Separators inherit styles from theme.grid.line.\n        ",type:"boolean",required:!1,defaultValue:l.b.enableAfterSeparators,controlType:"switch",group:"Separators"},{key:"afterSeparatorLength",help:"\n            Length of the after separator lines. You should add margin\n            for them to be visible if the value is greater than 0.\n        ",required:!1,defaultValue:l.b.afterSeparatorLength,type:"number",controlType:"range",group:"Separators",controlOptions:{unit:"px",min:0,max:100}},{key:"afterSeparatorOffset",help:"\n            Offset from the parts for the after separator lines.\n            You should add margin for them to be visible\n            if the value is greater than 0.\n        ",required:!1,defaultValue:l.b.afterSeparatorOffset,type:"number",controlType:"range",group:"Separators",controlOptions:{unit:"px",min:0,max:100}},{key:"layers",group:"Customization",help:"Defines the order of layers and add custom layers.",description:"\n            You can also use this to insert extra layers\n            to the chart, the extra layer must be a function.\n            \n            The layer function which will receive the chart's\n            context & computed data and must return a valid SVG element.\n        ",required:!1,type:"Array<string | Function>",defaultValue:l.b.layers},{key:"isInteractive",group:"Interactivity",type:"boolean",help:"Enable/disable interactivity.",required:!1,defaultValue:l.b.isInteractive,controlType:"switch"},{key:"currentPartSizeExtension",help:"\n            Expand part size by this amount of pixels on each side\n            when it's active \n        ",required:!1,defaultValue:l.b.currentPartSizeExtension,type:"number",controlType:"range",group:"Interactivity",controlOptions:{unit:"px",min:0,max:100}},{key:"currentBorderWidth",help:"Override default border width when a part is active.",required:!1,type:"number",controlType:"range",group:"Interactivity",controlOptions:{unit:"px",min:0,max:100}},{key:"onMouseEnter",group:"Interactivity",help:"onMouseEnter handler.",type:"(part, event) => void",required:!1},{key:"onMouseMove",group:"Interactivity",help:"onMouseMove handler.",type:"(part, event) => void",required:!1},{key:"onMouseLeave",group:"Interactivity",help:"onMouseLeave handler.",type:"(part, event) => void",required:!1},{key:"onClick",group:"Interactivity",help:"onClick handler.",type:"(part, event) => void",required:!1}].concat(Object(h.a)(Object(b.e)(["svg"],l.b,"react-spring"))),y=Object(b.d)(f),m=n("XgN0"),g=n.n(m),v=n("JCgZ"),x=n.n(v),O=function(){var e=1e5;return["sent","viewed","clicked","add_to_card","purchased"].map((function(t){return{id:"step_"+t,value:e=Math.round(e*x()(.6,.95)),label:g()(t)}}))},j={margin:{top:20,right:20,bottom:20,left:20},direction:l.b.direction,interpolation:l.b.interpolation,shapeBlending:l.b.shapeBlending,spacing:l.b.spacing,valueFormat:{format:">-.4s",enabled:!0},colors:{scheme:"spectral"},fillOpacity:l.b.fillOpacity,borderWidth:20,borderColor:l.b.borderColor,borderOpacity:l.b.borderOpacity,enableLabel:l.b.enableLabel,labelColor:{from:"color",modifiers:[["darker",3]]},enableBeforeSeparators:l.b.enableBeforeSeparators,beforeSeparatorLength:100,beforeSeparatorOffset:20,enableAfterSeparators:l.b.enableAfterSeparators,afterSeparatorLength:100,afterSeparatorOffset:20,isInteractive:!0,currentPartSizeExtension:10,currentBorderWidth:40,animate:!0,motionConfig:"wobbly"};t.default=function(){return r.a.createElement(s.a,{name:"Funnel",meta:c.a.Funnel,icon:"funnel",flavors:c.a.flavors,currentFlavor:"svg",properties:y,initialProperties:j,defaultProperties:l.b,propertiesMapper:p,generateData:O},(function(e,t,n,o){return r.a.createElement(l.c,Object.assign({data:t},e,{theme:a()({},n,{labels:{text:{fontSize:14}}}),onClick:function(e){o({type:"click",label:"[part] id: "+e.data.id+", value: "+e.data.value,color:e.color,data:e.data})}}))}))}},eeCi:function(e,t,n){var o=n("07F0"),r=n("lJjI"),i=n("tDyL"),a=n("PqlX");e.exports=function(e,t){return(a(e)?o:r)(e,i(t,3))}},lJjI:function(e,t,n){var o=n("T0uz");e.exports=function(e,t){var n=[];return o(e,(function(e,o,r){t(e,o,r)&&n.push(e)})),n}}}]);
//# sourceMappingURL=component---src-pages-funnel-index-js-5ea7989d7283a55c8f4c.js.map