"use strict";(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[295],{62370:function(e,r,n){n.d(r,{h8:function(){return l},h6:function(){return s},Ld:function(){return u}});var t=n(48159),a=n.n(t),i=n(76744),o=n.n(i),l=function(e,r){var n=(void 0===r?{}:r).exclude,t=void 0===n?[]:n;return function(r,n){void 0===n&&(n={});var i={};return Object.keys(r).forEach((function(t){e[t]&&(i[t]=e[t](r[t],r,n))})),Object.assign({},a()(r,t),i)}},s=function(e){return function(r,n){return n["axis"+o()(e)].enable?a()(r,["enable"]):null}},u=function(e){var r=e.format;return e.enabled?r:void 0}},35567:function(e,r,n){n.r(r),n.d(r,{default:function(){return m}});var t=n(27378),a=n(73855),i=n(69857),o=n(13195),l=n(48159),s=n.n(l),u=n(62370),d=function(e){return function(r,n){return n[e].enable?s()(r,["enable"]):null}},c=(0,u.h8)({valueFormat:u.Ld,radialAxisStart:d("radialAxisStart"),radialAxisEnd:d("radialAxisEnd"),circularAxisInner:d("circularAxisInner"),circularAxisOuter:d("circularAxisOuter")}),p=n(649),g=n(30042),f=n(80169),v=[{key:"data",group:"Base",type:"object[]",required:!0,help:"Chart data.",description:"\n            Here is what the data for a single chart with 2 bars would look like:\n            \n            ```\n            [\n                {\n                    id: 'Fruits',\n                    data: [{ x: 'Apples', y: 32 }]\n                },\n                {\n                    id: 'Vegetables',\n                    data: [{ x: 'Eggplants', y: 27 }]\n                }\n            ]\n            ```\n            \n            You can add several metrics per group:\n            \n            ```\n            [\n                {\n                    id: 'Fruits',\n                    data: [\n                        { x: 'Apples', y: 32 },\n                        { x: 'Mangoes', y: 15 }\n                    ]\n                },\n                {\n                    id: 'Vegetables',\n                    data: [\n                        { x: 'Eggplants', y: 27 },\n                        { x: 'Avocados', y: 34 }\n                    ]\n                }\n            ]\n            ```\n            \n            When a bar is computed, the `id` is going to be added\n            as the `groupId`, `x` as the `category` and `y`\n            as the value, for example the first bar for the number of Apples\n            in the Fruits group would be:\n            \n            ```\n            {\n                groupId: 'Fruits',\n                category: 'Apples',\n                value: 32\n            }\n            ```\n            \n            You might read those values when adding an `onClick` handler\n            for example, or when customizing the tooltip.\n        ",flavors:["svg"]},{key:"maxValue",group:"Base",type:"'auto' | number",required:!1,help:"If 'auto', the max value is derived from the data, otherwise use a static value.",flavors:["svg"],defaultValue:a.XB.maxValue},{key:"valueFormat",group:"Base",type:"string | (value: number) => string",required:!1,help:"Optional formatter for values (`y`).",description:"\n            The formatted value can then be used for labels & tooltips.\n\n            Under the hood, nivo uses [d3-format](https://github.com/d3/d3-format),\n            please have a look at it for available formats, you can also pass a function\n            which will receive the raw value and should return the formatted one.\n        ",flavors:["svg"],controlType:"valueFormat"},{key:"width",group:"Base",type:"number",required:!0,help:"Chart width.",description:"\n            not required if using\n            `<ResponsiveRadialBar/>`.\n        ",flavors:["svg","api"],enableControlForFlavors:["api"],controlType:"range",controlOptions:{unit:"px",min:100,max:1e3,step:5}},{key:"height",group:"Base",type:"number",required:!0,help:"Chart height.",description:"\n            not required if using\n            `<ResponsiveRadialBar/>`.\n        ",flavors:["svg","api"],enableControlForFlavors:["api"],controlType:"range",controlOptions:{unit:"px",min:100,max:1e3,step:5}},{key:"margin",group:"Base",help:"Chart margin.",type:"object",required:!1,flavors:["svg"],controlType:"margin"},{key:"startAngle",group:"Base",type:"number",required:!1,help:"Start angle (in degrees).",flavors:["svg"],defaultValue:a.XB.startAngle,controlType:"angle",controlOptions:{min:-360,max:360,step:5}},{key:"endAngle",group:"Base",type:"number",required:!1,help:"End angle (in degrees).",flavors:["svg"],defaultValue:a.XB.endAngle,controlType:"angle",controlOptions:{min:-360,max:360,step:5}},{key:"innerRadius",group:"Base",help:"Donut if greater than 0. Value should be between 0~1 as it's a ratio from outer radius.",type:"number",required:!1,flavors:["svg"],defaultValue:a.XB.innerRadius,controlType:"range",controlOptions:{min:0,max:.95,step:.05}},{key:"padding",group:"Base",type:"number",required:!1,help:"Padding between each ring (ratio).",flavors:["svg"],defaultValue:a.XB.padding,controlType:"range",controlOptions:{min:0,max:.9,step:.05}},{key:"padAngle",group:"Base",type:"number",required:!1,help:"Padding between each bar.",flavors:["svg"],defaultValue:a.XB.padAngle,controlType:"range",controlOptions:{unit:"°",min:0,max:45,step:1}},{key:"cornerRadius",group:"Base",type:"number",required:!1,help:"Rounded corners.",flavors:["svg"],defaultValue:a.XB.cornerRadius,controlType:"range",controlOptions:{unit:"px",min:0,max:45,step:1}},(0,f.JR)(["svg"]),{key:"colors",group:"Style",type:"string | Function | string[]",required:!1,help:"Defines how to compute colors.",flavors:["svg"],defaultValue:a.XB.colors,controlType:"ordinalColors"},{key:"borderWidth",group:"Style",type:"number",required:!1,help:"Bars border width.",flavors:["svg"],defaultValue:a.XB.borderWidth,controlType:"lineWidth"},{key:"borderColor",group:"Style",type:"InheritedColorConfig<ComputedBar>",required:!1,help:"Method to compute border color.",description:"\n            how to compute border color,\n            [see dedicated documentation](self:/guides/colors).\n        ",flavors:["svg"],defaultValue:a.XB.borderColor,controlType:"inheritedColor"},{key:"enableTracks",group:"Tracks",type:"boolean",required:!1,help:"Enable/disable tracks.",flavors:["svg"],defaultValue:a.XB.enableTracks,controlType:"switch"},{key:"tracksColor",group:"Tracks",type:"string",required:!1,help:"Define tracks color.",flavors:["svg"],defaultValue:a.XB.tracksColor,controlType:"colorPicker"},{key:"enableRadialGrid",group:"Grid & Axes",type:"boolean",required:!1,help:"Enable radial grid (rays)",flavors:["svg"],defaultValue:a.XB.enableRadialGrid,controlType:"switch"},{key:"enableCircularGrid",group:"Grid & Axes",type:"boolean",required:!1,help:"Enable circular grid (rings)",flavors:["svg"],defaultValue:a.XB.enableCircularGrid,controlType:"switch"},(0,f.WZ)({key:"radialAxisStart",flavors:["svg"],tickComponent:"RadialAxisTickComponent"}),(0,f.WZ)({key:"radialAxisEnd",flavors:["svg"],tickComponent:"RadialAxisTickComponent"}),(0,f.WZ)({key:"circularAxisInner",flavors:["svg"],tickComponent:"CircularAxisTickComponent"}),(0,f.WZ)({key:"circularAxisOuter",flavors:["svg"],tickComponent:"CircularAxisTickComponent"}),{key:"enableLabels",group:"Labels",type:"boolean",required:!1,help:"Enable/disable labels.",flavors:["svg"],defaultValue:a.XB.enableLabels,controlType:"switch"},{key:"label",group:"Labels",type:"string | (bar: ComputedBar) => string",required:!1,help:"Defines how to get label text, can be a string (used to access current bar property) or a function which will receive the actual bar data.",flavors:["svg"],defaultValue:a.XB.label,controlType:"choices",controlOptions:{choices:["category","groupId","value","formattedValue"].map((function(e){return{label:e,value:e}}))}},{key:"labelsSkipAngle",group:"Labels",type:"number",required:!1,help:"Skip label if corresponding arc's angle is lower than provided value.",flavors:["svg"],defaultValue:a.XB.labelsSkipAngle,controlType:"range",controlOptions:{unit:"°",min:0,max:45,step:1}},{key:"labelsRadiusOffset",group:"Labels",type:"number",required:!1,help:"\n            Define the radius to use to determine the label position, starting from inner radius,\n            this is expressed as a ratio. Centered at 0.5 by default.\n        ",flavors:["svg"],defaultValue:a.XB.labelsRadiusOffset,controlType:"range",controlOptions:{min:0,max:2,step:.05}},{key:"labelsTextColor",group:"Labels",help:"Defines how to compute label text color.",type:"string | object | Function",required:!1,flavors:["svg"],defaultValue:a.XB.labelsTextColor,controlType:"inheritedColor"},{key:"layers",group:"Customization",type:"(RadialBarLayerId | RadialBarCustomLayer)[]",required:!1,help:"Defines the order of layers and add custom layers.",description:"\n            You can also use this to insert extra layers\n            to the chart, the extra layer should be a component.\n            \n            The component will receive properties as defined in\n            the `RadialBarCustomLayerProps` interface\n            and must return a valid SVG element.\n        ",flavors:["svg"],defaultValue:a.XB.layers},{key:"isInteractive",group:"Interactivity",type:"boolean",required:!1,help:"Enable/disable interactivity.",flavors:["svg"],defaultValue:a.XB.isInteractive,controlType:"switch"},{key:"tooltip",group:"Interactivity",type:"RadialBarTooltipComponent",required:!1,help:"Override default tooltip.",flavors:["svg"]},{key:"onClick",group:"Interactivity",type:"(bar: ComputedBar, event: MouseEvent) => void",required:!1,help:"onClick handler.",flavors:["svg"]},{key:"onMouseEnter",group:"Interactivity",type:"(bar: ComputedBar, event: MouseEvent) => void",required:!1,help:"onMouseEnter handler.",flavors:["svg"]},{key:"onMouseMove",group:"Interactivity",type:"(bar: ComputedBar, event: MouseEvent) => void",required:!1,help:"onMouseMove handler.",flavors:["svg"]},{key:"onMouseLeave",group:"Interactivity",type:"(bar: ComputedBar, event: MouseEvent) => void",required:!1,help:"onMouseLeave handler.",flavors:["svg"]},{key:"legends",group:"Legends",type:"LegendProps[]",required:!1,help:"Optional chart's legends.",flavors:["svg"],controlType:"array",controlOptions:{props:(0,f.y0)(["svg"]),shouldCreate:!0,addLabel:"add legend",shouldRemove:!0,getItemTitle:function(e,r){return"legend["+e+"]: "+r.anchor+", "+r.direction},svgDefaultProps:{dataFrom:"keys",anchor:"top-left",direction:"column",justify:!1,translateX:0,translateY:0,itemWidth:100,itemHeight:20,itemsSpacing:0,symbolSize:20,itemDirection:"left-to-right",onClick:function(e){alert(JSON.stringify(e,null,"    "))}}}},{key:"role",group:"Accessibility",type:"string",required:!1,help:"Main element role attribute.",flavors:["svg"]},{key:"ariaLabel",group:"Accessibility",type:"string",required:!1,help:"Main element [aria-label](https://www.w3.org/TR/wai-aria/#aria-label).",flavors:["svg"]},{key:"ariaLabelledBy",group:"Accessibility",type:"string",required:!1,help:"Main element [aria-labelledby](https://www.w3.org/TR/wai-aria/#aria-labelledby).",flavors:["svg"]},{key:"ariaDescribedBy",group:"Accessibility",type:"string",required:!1,help:"Main element [aria-describedby](https://www.w3.org/TR/wai-aria/#aria-describedby).",flavors:["svg"]}].concat((0,p.Z)((0,f.$j)(["svg"],a.XB,"react-spring")),[{key:"transitionMode",flavors:["svg"],help:"Define how transitions behave.",type:"string",required:!1,defaultValue:a.XB.transitionMode,controlType:"choices",group:"Motion",controlOptions:{choices:g.UV.map((function(e){return{label:e,value:e}}))}}]),h=(0,f.R2)(v),y={valueFormat:{format:">-.2f",enabled:!0},startAngle:a.XB.startAngle,endAngle:a.XB.endAngle,innerRadius:a.XB.innerRadius,padding:.4,padAngle:a.XB.padAngle,cornerRadius:2,margin:{top:40,right:120,bottom:40,left:40},colors:a.XB.colors,borderWidth:a.XB.borderWidth,borderColor:a.XB.borderColor,enableTracks:a.XB.enableTracks,tracksColor:a.XB.tracksColor,enableRadialGrid:a.XB.enableRadialGrid,enableCircularGrid:a.XB.enableCircularGrid,radialAxisStart:{enable:!0,tickSize:5,tickPadding:5,tickRotation:0},radialAxisEnd:{enable:!1,tickSize:5,tickPadding:5,tickRotation:0},circularAxisInner:{enable:!1,tickSize:5,tickPadding:12,tickRotation:0},circularAxisOuter:{enable:!0,tickSize:5,tickPadding:12,tickRotation:0},enableLabels:a.XB.enableLabels,label:a.XB.label,labelsSkipAngle:a.XB.labelsSkipAngle,labelsRadiusOffset:a.XB.labelsRadiusOffset,labelsTextColor:a.XB.labelsTextColor,animate:!0,motionConfig:"gentle",transitionMode:a.XB.transitionMode,isInteractive:a.XB.isInteractive,legends:[{anchor:"right",direction:"column",justify:!1,translateX:80,translateY:0,itemsSpacing:6,itemDirection:"left-to-right",itemWidth:100,itemHeight:18,itemTextColor:"#999",symbolSize:18,symbolShape:"square",onClick:function(e){alert(JSON.stringify(e,null,"    "))},effects:[{on:"hover",style:{itemTextColor:"#000"}}]}]},b=function(){var e=["Supermarket","Combini","Online"];Math.random()>.5&&e.push("Marché");var r=["Vegetables","Fruits","Meat"];return Math.random()<.5&&r.push("Fish"),e.map((function(e){return{id:e,data:r.map((function(e){return{x:e,y:Math.round(300*Math.random())}}))}}))},m=function(){return t.createElement(i.T,{name:"RadialBar",meta:o.G,icon:"radial-bar",flavors:o.K,currentFlavor:"svg",properties:h,initialProperties:y,defaultProperties:a.XB,propertiesMapper:c,generateData:b},(function(e,r,n,i){return t.createElement(a.W_,Object.assign({data:r},e,{theme:n,onClick:function(e){i({type:"click",label:e.category+" - "+e.groupId+": "+e.value,color:e.color,data:e})}}))}))}},73855:function(e,r,n){n.d(r,{Gm:function(){return O},W_:function(){return S},XB:function(){return w}});var t=n(89193),a=n(24246),i=n(27378),o=n(45434),l=n(30042),s=n(47425),u=n(58493),d=n(770);function c(){return c=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},c.apply(this,arguments)}var p=function(e){var r=e.label,n=e.animated,t=(0,o.Fg)();return(0,a.jsxs)(u.q.g,{opacity:n.opacity,children:[(0,a.jsx)(u.q.line,{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,style:t.axis.ticks.line}),(0,a.jsx)(u.q.text,{dx:n.textX,dy:n.textY,dominantBaseline:"central",style:t.axis.ticks.text,textAnchor:"middle",children:r})]})},g=function(e,r,n){var t=(0,o.re)((0,o.Ht)(e),r),a=(0,o.re)((0,o.Ht)(e),n);return{x1:t.x,y1:t.y,x2:a.x,y2:a.y}},f=function(e,r){var n=(0,o.re)((0,o.Ht)(e),r);return{textX:n.x,textY:n.y}},v=function(e){var r=e.type,n=e.center,t=void 0===n?[0,0]:n,s=e.radius,v=e.startAngle,h=e.endAngle,y=e.scale,b=e.tickSize,m=void 0===b?5:b,x=e.tickPadding,k=void 0===x?12:x,A=e.tickComponent,C=void 0===A?p:A,B=v-90,M=h-90,R=(0,o.Fg)(),w=(0,o.tf)(),T=w.animate,X=w.config,j=(0,u.useSpring)({radius:s,startAngle:B,endAngle:M,opacity:1,immediate:!T,config:X}),q=(0,i.useMemo)((function(){return(0,d.xX)(y).map((function(e,r){return{key:r,label:e,angle:y(e)-90}}))}),[y]),O="inner"===r?s-m:s+m,S="inner"===r?O-k:O+k,V=(0,u.useTransition)(q,{keys:function(e){return e.key},initial:function(e){return c({},g(e.angle,s,O),f(e.angle,S),{opacity:1})},from:function(e){return c({},g(e.angle,s,O),f(e.angle,S),{opacity:0})},enter:function(e){return c({},g(e.angle,s,O),f(e.angle,S),{opacity:1})},update:function(e){return c({},g(e.angle,s,O),f(e.angle,S),{opacity:1})},leave:function(e){return c({},g(e.angle,s,O),f(e.angle,S),{opacity:0})},immediate:!T,config:X});return(0,a.jsxs)("g",{transform:"translate("+t[0]+", "+t[1]+")",children:[(0,a.jsx)(l.Ju,c({animated:j},R.axis.domain.line,{fill:"none"})),V((function(e,r){return(0,i.createElement)(C,{key:r.key,label:r.label,animated:e})}))]})},h=function(e){var r=e.scale,n=e.innerRadius,t=e.outerRadius,l=(0,o.Fg)(),s=(0,i.useMemo)((function(){return(0,d.xX)(r).map((function(e,n){return{id:n,angle:r(e)-90}}))}),[r]),p=(0,o.tf)(),g=p.animate,f=p.config,v=(0,u.useTransition)(s,{keys:function(e){return e.id},initial:function(e){return{angle:e.angle,opacity:1}},from:function(e){return{angle:e.angle,opacity:0}},enter:function(e){return{angle:e.angle,opacity:1}},update:function(e){return{angle:e.angle,opacity:1}},leave:function(e){return{angle:e.angle,opacity:0}},config:f,immediate:!g});return(0,a.jsx)(a.Fragment,{children:v((function(e,r){return(0,a.jsx)(u.q.g,{transform:e.angle.to((function(e){return"rotate("+e+")"})),opacity:e.opacity,children:(0,a.jsx)("line",c({x1:n,x2:t},l.grid.line))},r.id)}))})},y=function(e){var r=e.scale,n=e.startAngle,t=e.endAngle,s=(0,o.Fg)(),p=n-90,g=t-90,f=(0,i.useMemo)((function(){return(0,d.xX)(r).map((function(e,n){var t=r(e);return"bandwidth"in r&&(t+=r.bandwidth()/2),{id:n,radius:t}}))}),[r]),v=(0,o.tf)(),h=v.animate,y=v.config,b=(0,u.useTransition)(f,{keys:function(e){return e.id},initial:function(e){return{radius:e.radius,startAngle:p,endAngle:g,opacity:1}},from:function(e){return{radius:e.radius,startAngle:p,endAngle:g,opacity:0}},enter:function(e){return{radius:e.radius,startAngle:p,endAngle:g,opacity:1}},update:function(e){return{radius:e.radius,startAngle:p,endAngle:g,opacity:1}},leave:function(e){return{radius:e.radius,startAngle:p,endAngle:g,opacity:0}},config:y,immediate:!h});return(0,a.jsx)(a.Fragment,{children:b((function(e,r){return(0,a.jsx)(l.Ju,c({animated:e},s.grid.line,{strokeOpacity:e.opacity,fill:"none"}),r.id)}))})},b=function(e){var r=e.center,n=e.enableRadialGrid,t=e.enableCircularGrid,i=e.angleScale,o=e.radiusScale,l=e.startAngle,s=e.endAngle,u=Math.min.apply(Math,o.range()),d=Math.max.apply(Math,o.range());return(0,a.jsxs)("g",{transform:"translate("+r[0]+","+r[1]+")",children:[n&&(0,a.jsx)(h,{scale:i,innerRadius:u,outerRadius:d}),t&&(0,a.jsx)(y,{scale:o,startAngle:l,endAngle:s})]})},m=function(e){var r=e.label,n=e.textAnchor,t=e.animated,i=(0,o.Fg)();return(0,a.jsxs)(u.q.g,{opacity:t.opacity,transform:(0,u.to)([t.y,t.rotation],(function(e,r){return"translate("+e+", 0) rotate("+r+")"})),children:[(0,a.jsx)(u.q.line,{x2:t.length,style:i.axis.ticks.line}),(0,a.jsx)(u.q.text,{dx:t.textX,textAnchor:n,dominantBaseline:"central",style:i.axis.ticks.text,children:r})]})},x=function(e){var r,n,t,l,s=e.type,c=e.center,p=e.angle,g=e.scale,f=e.tickSize,v=void 0===f?5:f,h=e.tickPadding,y=void 0===h?5:h,b=e.tickRotation,x=void 0===b?0:b,k=e.tickComponent,A=void 0===k?m:k,C=(0,o.LW)(p);"start"===s?(l=90+x,C<=90?(t=(n=-v)-y,r="end"):C<270?(t=(n=v)+y,r="start",l-=180):(t=(n=-v)-y,r="end")):(l=90+x,C<90?(t=(n=v)+y,r="start"):C<270?(t=(n=-v)-y,r="end",l-=180):(t=(n=v)+y,r="start"));var B=(0,i.useMemo)((function(){return(0,d.xX)(g).map((function(e,r){var n=g(e);return"bandwidth"in g&&(n+=g.bandwidth()/2),{key:r,label:e,position:n}}))}),[g]),M=(0,o.tf)(),R=M.animate,w=M.config,T=(0,u.useSpring)({rotation:p-90,immediate:!R,config:w}),X=(0,u.useTransition)(B,{keys:function(e){return e.key},initial:function(e){return{y:e.position,textX:t,rotation:l,length:n,opacity:1}},from:function(e){return{y:e.position,textX:t,rotation:l,length:n,opacity:0}},enter:function(e){return{y:e.position,textX:t,rotation:l,length:n,opacity:1}},update:function(e){return{y:e.position,textX:t,rotation:l,length:n,opacity:1}},leave:function(e){return{y:e.position,textX:t,rotation:l,length:n,opacity:0}},immediate:!R,config:w});return(0,a.jsx)("g",{transform:"translate("+c[0]+", "+c[1]+")",children:(0,a.jsx)(u.q.g,{transform:T.rotation.to((function(e){return"rotate("+e+")"})),children:X((function(e,a){return(0,i.createElement)(A,{key:a.key,label:a.label,y:a.position,textX:t,rotation:l,length:n,textAnchor:r,animated:e})}))})})},k=n(9841),A=n(46448),C=n(29140),B=n(79234);function M(){return M=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},M.apply(this,arguments)}var R={maxValue:"auto",layers:["grid","tracks","bars","labels","legends"],startAngle:0,endAngle:270,innerRadius:.3,padding:.2,padAngle:0,cornerRadius:0,enableTracks:!0,tracksColor:"rgba(0, 0, 0, .15)",enableRadialGrid:!0,enableCircularGrid:!0,radialAxisStart:{},radialAxisEnd:null,circularAxisInner:null,circularAxisOuter:{},colors:{scheme:"nivo"},borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableLabels:!1,label:"formattedValue",labelsSkipAngle:10,labelsRadiusOffset:.5,labelsTextColor:{theme:"labels.text.fill"},isInteractive:!0,tooltip:function(e){var r=e.bar;return(0,a.jsx)(t._5,{enableChip:!0,id:(0,a.jsxs)("span",{children:[r.category," - ",r.groupId]}),value:r.formattedValue,color:r.color})},legends:[],animate:!0,motionConfig:"gentle",transitionMode:"centerRadius",renderWrapper:!0},w=M({},R),T=function(e){var r=e.center,n=e.bars,o=e.borderWidth,s=e.borderColor,u=e.arcGenerator,d=e.isInteractive,c=e.tooltip,p=e.onClick,g=e.onMouseEnter,f=e.onMouseMove,v=e.onMouseLeave,h=e.transitionMode,y=(0,t.lL)(),b=y.showTooltipFromEvent,m=y.hideTooltip,x=(0,i.useCallback)((function(e,r){null==p||p(e,r)}),[p]),k=(0,i.useCallback)((function(e,r){b((0,i.createElement)(c,{bar:e}),r),null==g||g(e,r)}),[b,c,g]),A=(0,i.useCallback)((function(e,r){b((0,i.createElement)(c,{bar:e}),r),null==f||f(e,r)}),[b,c,f]),C=(0,i.useCallback)((function(e,r){m(),null==v||v(e,r)}),[m,v]);return(0,a.jsx)(l.Bs,{center:r,data:n,arcGenerator:u,borderWidth:o,borderColor:s,transitionMode:h,onClick:d?x:void 0,onMouseEnter:d?k:void 0,onMouseMove:d?A:void 0,onMouseLeave:d?C:void 0})},X=function(e){var r=e.center,n=e.tracks,t=e.arcGenerator,i=e.transitionMode;return(0,a.jsx)(l.Bs,{center:r,data:n,arcGenerator:t,borderWidth:0,borderColor:"none",transitionMode:i})},j=["isInteractive","animate","motionConfig","theme","renderWrapper"],q=function(e){var r=e.data,n=e.maxValue,t=void 0===n?w.maxValue:n,u=e.valueFormat,c=e.startAngle,p=void 0===c?w.startAngle:c,g=e.endAngle,f=void 0===g?w.endAngle:g,h=e.innerRadius,y=void 0===h?w.innerRadius:h,m=e.padding,j=void 0===m?w.padding:m,q=e.padAngle,O=void 0===q?w.padAngle:q,S=e.cornerRadius,V=void 0===S?w.cornerRadius:S,I=e.width,E=e.height,L=e.margin,F=e.layers,G=void 0===F?w.layers:F,W=e.enableTracks,P=void 0===W?w.enableTracks:W,D=e.tracksColor,H=void 0===D?w.tracksColor:D,z=e.enableRadialGrid,Z=void 0===z?w.enableRadialGrid:z,_=e.enableCircularGrid,Y=void 0===_?w.enableCircularGrid:_,J=e.radialAxisStart,N=void 0===J?w.radialAxisStart:J,U=e.radialAxisEnd,$=void 0===U?w.radialAxisEnd:U,K=e.circularAxisInner,Q=void 0===K?w.circularAxisInner:K,ee=e.circularAxisOuter,re=void 0===ee?w.circularAxisOuter:ee,ne=e.colors,te=void 0===ne?w.colors:ne,ae=e.borderWidth,ie=void 0===ae?w.borderWidth:ae,oe=e.borderColor,le=void 0===oe?w.borderColor:oe,se=e.enableLabels,ue=void 0===se?w.enableLabels:se,de=e.label,ce=void 0===de?w.label:de,pe=e.labelsSkipAngle,ge=void 0===pe?w.labelsSkipAngle:pe,fe=e.labelsRadiusOffset,ve=void 0===fe?w.labelsRadiusOffset:fe,he=e.labelsTextColor,ye=void 0===he?w.labelsTextColor:he,be=e.isInteractive,me=void 0===be?w.isInteractive:be,xe=e.tooltip,ke=void 0===xe?w.tooltip:xe,Ae=e.onClick,Ce=e.onMouseEnter,Be=e.onMouseMove,Me=e.onMouseLeave,Re=e.transitionMode,we=void 0===Re?w.transitionMode:Re,Te=e.legends,Xe=void 0===Te?w.legends:Te,je=e.role,qe=e.ariaLabel,Oe=e.ariaLabelledBy,Se=e.ariaDescribedBy,Ve=(0,o.Bs)(I,E,L),Ie=Ve.margin,Ee=Ve.innerWidth,Le=Ve.innerHeight,Fe=Ve.outerWidth,Ge=Ve.outerHeight,We=(0,o.zm)(p,f),Pe=We[0],De=We[1],He=function(e){var r=e.data,n=e.maxValue,t=void 0===n?w.maxValue:n,a=e.valueFormat,l=e.startAngle,s=void 0===l?R.startAngle:l,u=e.endAngle,c=void 0===u?R.endAngle:u,p=e.innerRadiusRatio,g=void 0===p?R.innerRadius:p,f=e.padding,v=void 0===f?R.padding:f,h=e.padAngle,y=void 0===h?R.padAngle:h,b=e.cornerRadius,m=void 0===b?R.cornerRadius:b,x=e.width,M=e.height,T=e.colors,X=void 0===T?R.colors:T,j=e.tracksColor,q=void 0===j?R.tracksColor:j,O=(0,i.useMemo)((function(){return[x/2,M/2]}),[x,M]),S=Math.min.apply(Math,O),V=S*Math.min(g,1),I=(0,B.U)(X,"category"),E=(0,i.useMemo)((function(){var e={serieIds:[],categories:[],groups:[],maxValue:0};return r.forEach((function(r){e.serieIds.push(r.id);var n=0;r.data.forEach((function(r){e.categories.includes(r.x)||e.categories.push(r.x),n+=r.y})),e.groups.push({id:r.id,total:n,data:r.data})})),e.maxValue="auto"===t?Math.max.apply(Math,e.groups.map((function(e){return e.total}))):t,e}),[r,t]),L=E.serieIds,F=E.categories,G=E.groups,W=E.maxValue,P=(0,i.useMemo)((function(){return(0,d.__)((0,k.Z)().domain([0,W]).range([s,c]))}),[W,s,c]),D=(0,i.useMemo)((function(){return(0,d.NB)((0,A.Z)().domain(L).range([V,S]).padding(v))}),[L,S,V,v]),H=(0,i.useMemo)((function(){return(0,C.Z)().startAngle((function(e){return e.startAngle})).endAngle((function(e){return e.endAngle})).innerRadius((function(e){return e.innerRadius})).outerRadius((function(e){return e.outerRadius})).cornerRadius(m).padAngle((0,o.Ht)(y))}),[m,y]),z=(0,o.O_)(a),Z=(0,i.useMemo)((function(){var e=[];return G.forEach((function(r){var n=0,t=D(r.id),a=t+D.bandwidth();r.data.forEach((function(i){var l=n+i.y,s={id:r.id+"."+i.x,data:i,groupId:r.id,category:i.x,value:i.y,formattedValue:z(i.y),color:"",stackedValue:l,arc:{startAngle:(0,o.Ht)(P(n)),endAngle:(0,o.Ht)(P(l)),innerRadius:t,outerRadius:a}};s.color=I(s),n+=i.y,e.push(s)}))})),e}),[G,D,P,I,z]),_=(0,o.Ht)(s),Y=(0,o.Ht)(c),J=(0,i.useMemo)((function(){return(0,d.xX)(D).map((function(e){var r=D(e);return{id:e,color:q,arc:{startAngle:_,endAngle:Y,innerRadius:r,outerRadius:r+D.bandwidth()}}}))}),[D,_,Y,q]),N=(0,i.useMemo)((function(){return F.map((function(e){var r=Z.find((function(r){return r.category===e})),n=r?r.color:void 0;return{id:e,label:e,color:n}}))}),[F,Z]),U=(0,i.useMemo)((function(){return{center:O,outerRadius:S,innerRadius:V,bars:Z,arcGenerator:H,radiusScale:D,valueScale:P}}),[O,S,V,Z,H,D,P]);return{center:O,outerRadius:S,innerRadius:V,bars:Z,arcGenerator:H,radiusScale:D,valueScale:P,tracks:J,legendData:N,customLayerProps:U}}({data:r,maxValue:t,valueFormat:u,startAngle:Pe,endAngle:De,innerRadiusRatio:y,padding:j,padAngle:O,cornerRadius:V,width:Ee,height:Le,colors:te,tracksColor:H}),ze=He.center,Ze=He.innerRadius,_e=He.outerRadius,Ye=He.bars,Je=He.arcGenerator,Ne=He.radiusScale,Ue=He.valueScale,$e=He.tracks,Ke=He.legendData,Qe=He.customLayerProps,er={grid:null,tracks:null,bars:null,labels:null,legends:null};return G.includes("grid")&&(er.grid=(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(b,{center:ze,enableRadialGrid:Z,enableCircularGrid:Y,angleScale:Ue,radiusScale:Ne,startAngle:Pe,endAngle:De}),N&&(0,a.jsx)(x,M({type:"start",center:ze,angle:Math.min(Pe,De),scale:Ne},N)),$&&(0,a.jsx)(x,M({type:"end",center:ze,angle:Math.max(Pe,De),scale:Ne},$)),Q&&(0,a.jsx)(v,M({type:"inner",center:ze,radius:Ze,startAngle:Pe,endAngle:De,scale:Ue},Q)),re&&(0,a.jsx)(v,M({type:"outer",center:ze,radius:_e,startAngle:Pe,endAngle:De,scale:Ue},re))]},"grid")),G.includes("tracks")&&P&&(er.tracks=(0,a.jsx)(X,{center:ze,tracks:$e,arcGenerator:Je,transitionMode:we},"tracks")),G.includes("bars")&&(er.bars=(0,a.jsx)(T,{center:ze,bars:Ye,borderWidth:ie,borderColor:le,arcGenerator:Je,isInteractive:me,tooltip:ke,onClick:Ae,onMouseEnter:Ce,onMouseMove:Be,onMouseLeave:Me,transitionMode:we},"bars")),G.includes("labels")&&ue&&(er.labels=(0,a.jsx)(l.Xr,{center:ze,data:Ye,label:ce,radiusOffset:ve,skipAngle:ge,textColor:ye,transitionMode:we},"labels")),G.includes("legends")&&Xe.length>0&&(er.legends=(0,a.jsx)(i.Fragment,{children:Xe.map((function(e,r){return(0,a.jsx)(s.$6,M({},e,{containerWidth:Ee,containerHeight:Le,data:Ke}),r)}))},"legends")),(0,a.jsx)(o.tM,{width:Fe,height:Ge,margin:Ie,role:je,ariaLabel:qe,ariaLabelledBy:Oe,ariaDescribedBy:Se,children:G.map((function(e,r){var n;return"function"==typeof e?(0,a.jsx)(i.Fragment,{children:(0,i.createElement)(e,Qe)},r):null!=(n=null==er?void 0:er[e])?n:null}))})},O=function(e){var r=e.isInteractive,n=void 0===r?w.isInteractive:r,t=e.animate,i=void 0===t?w.animate:t,l=e.motionConfig,s=void 0===l?w.motionConfig:l,u=e.theme,d=e.renderWrapper,c=function(e,r){if(null==e)return{};var n,t,a={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(a[n]=e[n]);return a}(e,j);return(0,a.jsx)(o.W2,{animate:i,isInteractive:n,motionConfig:s,renderWrapper:d,theme:u,children:(0,a.jsx)(q,M({isInteractive:n},c))})},S=function(e){return(0,a.jsx)(o.d,{children:function(r){var n=r.width,t=r.height;return(0,a.jsx)(O,M({width:n,height:t},e))}})}}}]);
//# sourceMappingURL=component---src-pages-radial-bar-index-tsx-25e9798e7ec76aca36cb.js.map