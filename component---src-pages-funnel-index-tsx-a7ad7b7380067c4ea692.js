(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[9236],{41584:function(t,e){"use strict";var n=Math.PI,r=2*n,o=1e-6,i=r-o;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function u(){return new a}a.prototype=u.prototype={constructor:a,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,o,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(t,e,r,i,a){t=+t,e=+e,r=+r,i=+i,a=+a;var u=this._x1,l=this._y1,s=r-t,c=i-e,f=u-t,h=l-e,p=f*f+h*h;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(p>o)if(Math.abs(h*s-c*f)>o&&a){var d=r-u,y=i-l,v=s*s+c*c,b=d*d+y*y,g=Math.sqrt(v),m=Math.sqrt(p),x=a*Math.tan((n-Math.acos((v+p-b)/(2*g*m)))/2),j=x/m,k=x/g;Math.abs(j-1)>o&&(this._+="L"+(t+j*f)+","+(e+j*h)),this._+="A"+a+","+a+",0,0,"+ +(h*d>f*y)+","+(this._x1=t+k*s)+","+(this._y1=e+k*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,a,u,l,s){t=+t,e=+e,s=!!s;var c=(a=+a)*Math.cos(u),f=a*Math.sin(u),h=t+c,p=e+f,d=1^s,y=s?u-l:l-u;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+h+","+p:(Math.abs(this._x1-h)>o||Math.abs(this._y1-p)>o)&&(this._+="L"+h+","+p),a&&(y<0&&(y=y%r+r),y>i?this._+="A"+a+","+a+",0,1,"+d+","+(t-c)+","+(e-f)+"A"+a+","+a+",0,1,"+d+","+(this._x1=h)+","+(this._y1=p):y>o&&(this._+="A"+a+","+a+",0,"+ +(y>=n)+","+d+","+(this._x1=t+a*Math.cos(l))+","+(this._y1=e+a*Math.sin(l))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},e.Z=u},94942:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var r=n(41584),o=n(3583),i=n(30964),a=n(18091),u=n(92519);function l(){var t=u.x,e=null,n=(0,o.Z)(0),l=u.y,s=(0,o.Z)(!0),c=null,f=i.Z,h=null;function p(o){var i,a,u,p,d,y=o.length,v=!1,b=new Array(y),g=new Array(y);for(null==c&&(h=f(d=(0,r.Z)())),i=0;i<=y;++i){if(!(i<y&&s(p=o[i],i,o))===v)if(v=!v)a=i,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),u=i-1;u>=a;--u)h.point(b[u],g[u]);h.lineEnd(),h.areaEnd()}v&&(b[i]=+t(p,i,o),g[i]=+n(p,i,o),h.point(e?+e(p,i,o):b[i],l?+l(p,i,o):g[i]))}if(d)return h=null,d+""||null}function d(){return(0,a.Z)().defined(s).curve(f).context(c)}return p.x=function(n){return arguments.length?(t="function"==typeof n?n:(0,o.Z)(+n),e=null,p):t},p.x0=function(e){return arguments.length?(t="function"==typeof e?e:(0,o.Z)(+e),p):t},p.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:(0,o.Z)(+t),p):e},p.y=function(t){return arguments.length?(n="function"==typeof t?t:(0,o.Z)(+t),l=null,p):n},p.y0=function(t){return arguments.length?(n="function"==typeof t?t:(0,o.Z)(+t),p):n},p.y1=function(t){return arguments.length?(l=null==t?null:"function"==typeof t?t:(0,o.Z)(+t),p):l},p.lineX0=p.lineY0=function(){return d().x(t).y(n)},p.lineY1=function(){return d().x(t).y(l)},p.lineX1=function(){return d().x(e).y(n)},p.defined=function(t){return arguments.length?(s="function"==typeof t?t:(0,o.Z)(!!t),p):s},p.curve=function(t){return arguments.length?(f=t,null!=c&&(h=f(c)),p):f},p.context=function(t){return arguments.length?(null==t?c=h=null:h=f(c=t),p):c},p}},3583:function(t,e,n){"use strict";function r(t){return function(){return t}}n.d(e,{Z:function(){return r}})},18091:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var r=n(41584),o=n(3583),i=n(30964),a=n(92519);function u(){var t=a.x,e=a.y,n=(0,o.Z)(!0),u=null,l=i.Z,s=null;function c(o){var i,a,c,f=o.length,h=!1;for(null==u&&(s=l(c=(0,r.Z)())),i=0;i<=f;++i)!(i<f&&n(a=o[i],i,o))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(a,i,o),+e(a,i,o));if(c)return s=null,c+""||null}return c.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,o.Z)(+e),c):t},c.y=function(t){return arguments.length?(e="function"==typeof t?t:(0,o.Z)(+t),c):e},c.defined=function(t){return arguments.length?(n="function"==typeof t?t:(0,o.Z)(!!t),c):n},c.curve=function(t){return arguments.length?(l=t,null!=u&&(s=l(u)),c):l},c.context=function(t){return arguments.length?(null==t?u=s=null:s=l(u=t),c):u},c}},92519:function(t,e,n){"use strict";function r(t){return t[0]}function o(t){return t[1]}n.d(e,{x:function(){return r},y:function(){return o}})},62370:function(t,e,n){"use strict";n.d(e,{h8:function(){return u},h6:function(){return l},Ld:function(){return s}});var r=n(48159),o=n.n(r),i=n(76744),a=n.n(i),u=function(t,e){var n=(void 0===e?{}:e).exclude,r=void 0===n?[]:n;return function(e,n){void 0===n&&(n={});var i={};return Object.keys(e).forEach((function(r){t[r]&&(i[r]=t[r](e[r],e,n))})),Object.assign({},o()(e,r),i)}},l=function(t){return function(e,n){return n["axis"+a()(t)].enable?o()(e,["enable"]):null}},s=function(t){var e=t.format;return t.enabled?e:void 0}},48176:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return w}});var r=n(27378),o=n(48159),i=n.n(o),a=n(15409),u=n.n(a),l=n(27570),s=n(69857),c=n(40499),f=n(62370),h=(0,f.h8)({valueFormat:f.Ld}),p=n(649),d=n(80169),y=[{key:"data",group:"Base",type:"Datum[]",required:!0,help:"Chart data.",flavors:["svg"],description:"\n            Chart data, which must conform to this structure:\n\n            ```\n            {\n                id:    string | number\n                label: string\n                value: number\n            }[]\n            ```\n            \n            Datum is a generic and can be overriden, this can be useful\n            to attach a color to each datum for example, and then use\n            this for the `colors` property.            \n        "},{key:"margin",group:"Base",type:"object",required:!1,help:"Chart margin.",flavors:["svg"],controlType:"margin"},{key:"direction",group:"Base",help:"Direction of the chart.",type:"string",required:!1,defaultValue:l.XB.direction,flavors:["svg"],controlType:"radio",controlOptions:{choices:[{label:"horizontal",value:"horizontal"},{label:"vertical",value:"vertical"}]}},{key:"interpolation",group:"Base",type:"string",required:!1,help:"Part shape interpolation.",defaultValue:l.XB.interpolation,flavors:["svg"],controlType:"radio",controlOptions:{choices:[{label:"smooth",value:"smooth"},{label:"linear",value:"linear"}]}},{key:"spacing",group:"Base",help:"Spacing between parts",type:"number",required:!1,defaultValue:l.XB.spacing,flavors:["svg"],controlType:"range",controlOptions:{min:0,max:30,unit:"px"}},{key:"shapeBlending",group:"Base",help:"Blend shapes.",type:"number",required:!1,defaultValue:l.XB.shapeBlending,flavors:["svg"],controlType:"range",controlOptions:{min:0,max:1,step:.01}},{key:"valueFormat",group:"Base",help:"\n            Value format supporting d3-format notation, this formatted value\n            will then be used for labels and tooltips.\n        ",type:"string | Function",required:!1,flavors:["svg"],controlType:"valueFormat"},(0,d.JR)(["svg"]),{key:"colors",group:"Style",help:"Defines how to compute parts color.",type:"string | Function | string[]",required:!1,defaultValue:l.XB.colors,flavors:["svg"],controlType:"ordinalColors"},{key:"fillOpacity",group:"Style",help:"Part background opacity.",required:!1,defaultValue:l.XB.fillOpacity,type:"number",flavors:["svg"],controlType:"opacity"},{key:"borderWidth",group:"Style",help:"Width of part border.",type:"number",required:!1,defaultValue:l.XB.borderWidth,flavors:["svg"],controlType:"lineWidth"},{key:"borderColor",group:"Style",help:"Method to compute border color.",description:"\n            how to compute border color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:l.XB.borderColor,flavors:["svg"],controlType:"inheritedColor"},{key:"borderOpacity",group:"Style",help:"Part border opacity.",required:!1,defaultValue:l.XB.borderOpacity,type:"number",flavors:["svg"],controlType:"opacity"},{key:"enableLabel",group:"Labels",help:"\n            Enable/disable labels. Use styles from\n            theme.labels.text.\n        ",type:"boolean",required:!1,defaultValue:l.XB.enableLabel,flavors:["svg"],controlType:"switch"},{key:"labelColor",group:"Labels",help:"Method to compute label color.",description:"\n            how to compute label color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:l.XB.labelColor,flavors:["svg"],controlType:"inheritedColor"},{key:"enableBeforeSeparators",group:"Separators",help:"\n            Enable/disable before separators.\n            Separators inherit styles from theme.grid.line.\n        ",type:"boolean",required:!1,defaultValue:l.XB.enableBeforeSeparators,flavors:["svg"],controlType:"switch"},{key:"beforeSeparatorLength",group:"Separators",help:"\n            Length of the before separator lines. You should add margin\n            for them to be visible if the value is greater than 0.\n        ",required:!1,defaultValue:l.XB.beforeSeparatorLength,type:"number",flavors:["svg"],controlType:"range",controlOptions:{unit:"px",min:0,max:100}},{key:"beforeSeparatorOffset",group:"Separators",help:"\n            Offset from the parts for the before separator lines.\n            You should add margin for them to be visible\n            if the value is greater than 0.\n        ",required:!1,defaultValue:l.XB.beforeSeparatorOffset,type:"number",flavors:["svg"],controlType:"range",controlOptions:{unit:"px",min:0,max:100}},{key:"enableAfterSeparators",group:"Separators",help:"\n            Enable/disable after separators.\n            Separators inherit styles from theme.grid.line.\n        ",type:"boolean",required:!1,defaultValue:l.XB.enableAfterSeparators,flavors:["svg"],controlType:"switch"},{key:"afterSeparatorLength",group:"Separators",help:"\n            Length of the after separator lines. You should add margin\n            for them to be visible if the value is greater than 0.\n        ",required:!1,defaultValue:l.XB.afterSeparatorLength,type:"number",flavors:["svg"],controlType:"range",controlOptions:{unit:"px",min:0,max:100}},{key:"afterSeparatorOffset",group:"Separators",help:"\n            Offset from the parts for the after separator lines.\n            You should add margin for them to be visible\n            if the value is greater than 0.\n        ",required:!1,defaultValue:l.XB.afterSeparatorOffset,type:"number",flavors:["svg"],controlType:"range",controlOptions:{unit:"px",min:0,max:100}},{key:"layers",group:"Customization",help:"Defines the order of layers and add custom layers.",description:"\n            You can also use this to insert extra layers\n            to the chart, the extra layer must be a function.\n            \n            The layer function which will receive the chart's\n            context & computed data and must return a valid SVG element.\n        ",required:!1,type:"Array<string | Function>",flavors:["svg"],defaultValue:l.XB.layers},{key:"isInteractive",group:"Interactivity",type:"boolean",help:"Enable/disable interactivity.",required:!1,defaultValue:l.XB.isInteractive,flavors:["svg"],controlType:"switch"},{key:"currentPartSizeExtension",group:"Interactivity",help:"\n            Expand part size by this amount of pixels on each side\n            when it's active \n        ",required:!1,defaultValue:l.XB.currentPartSizeExtension,type:"number",flavors:["svg"],controlType:"range",controlOptions:{unit:"px",min:0,max:100}},{key:"currentBorderWidth",group:"Interactivity",help:"Override default border width when a part is active.",required:!1,type:"number",flavors:["svg"],controlType:"range",controlOptions:{unit:"px",min:0,max:100}},{key:"onMouseEnter",group:"Interactivity",help:"onMouseEnter handler.",type:"(part, event) => void",required:!1,flavors:["svg"]},{key:"onMouseMove",group:"Interactivity",help:"onMouseMove handler.",type:"(part, event) => void",required:!1,flavors:["svg"]},{key:"onMouseLeave",group:"Interactivity",help:"onMouseLeave handler.",type:"(part, event) => void",required:!1,flavors:["svg"]},{key:"onClick",group:"Interactivity",help:"onClick handler.",type:"(part, event) => void",required:!1,flavors:["svg"]}].concat((0,p.Z)((0,d.$j)(["svg"],l.XB,"react-spring"))),v=(0,d.R2)(y),b=n(34981),g=n.n(b),m=n(91311),x=n.n(m),j=function(){var t=1e5;return["sent","viewed","clicked","add_to_card","purchased"].map((function(e){return{id:"step_"+e,value:t=Math.round(t*x()(.6,.95)),label:g()(e)}}))},k={margin:{top:20,right:20,bottom:20,left:20},direction:l.XB.direction,interpolation:l.XB.interpolation,shapeBlending:l.XB.shapeBlending,spacing:l.XB.spacing,valueFormat:{format:">-.4s",enabled:!0},colors:{scheme:"spectral"},fillOpacity:l.XB.fillOpacity,borderWidth:20,borderColor:l.XB.borderColor,borderOpacity:l.XB.borderOpacity,enableLabel:l.XB.enableLabel,labelColor:{from:"color",modifiers:[["darker",3]]},enableBeforeSeparators:l.XB.enableBeforeSeparators,beforeSeparatorLength:100,beforeSeparatorOffset:20,enableAfterSeparators:l.XB.enableAfterSeparators,afterSeparatorLength:100,afterSeparatorOffset:20,isInteractive:!0,currentPartSizeExtension:10,currentBorderWidth:40,animate:!0,motionConfig:"wobbly"},w=function(){return r.createElement(s.T,{name:"Funnel",meta:c.o,icon:"funnel",flavors:c.K,currentFlavor:"svg",properties:v,initialProperties:k,defaultProperties:l.XB,propertiesMapper:h,generateData:j},(function(t,e,n,o){return r.createElement(l.mj,Object.assign({data:e},t,{theme:u()({},n,{labels:{text:{fontSize:14}}}),onClick:function(t){o({type:"click",label:"[part] id: "+t.data.id+", value: "+t.formattedValue,color:t.color,data:i()(t,["points","areaPoints","borderPoints"])})}}))}))}},54358:function(t,e,n){"use strict";n.d(e,{q6:function(){return F},dS:function(){return z},O2:function(){return B},zs:function(){return W}});var r=n(27378),o=n(48159),i=n.n(o),a=n(78581),u=n.n(a),l=n(69238),s=n.n(l),c=n(45434),f=n(58493),h=n(24246);function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function g(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function m(t){return function(t){if(Array.isArray(t))return v(t)}(t)||b(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=4,j=120,k=8,w=function(t){return"circle"===t.type},S=function(t){return"dot"===t.type},O=function(t){return"rect"===t.type},_=function(t){var e,n,r=t.x,o=t.y,i=t.noteX,a=t.noteY,l=t.noteWidth,s=void 0===l?j:l,f=t.noteTextOffset,h=void 0===f?k:f;if(u()(i))e=r+i;else{if(void 0===i.abs)throw new Error("noteX should be either a number or an object containing an 'abs' property");e=i.abs}if(u()(a))n=o+a;else{if(void 0===a.abs)throw new Error("noteY should be either a number or an object containing an 'abs' property");n=a.abs}var p=r,d=o,y=function(t,e,n,r){var o=Math.atan2(r-e,n-t);return(0,c.bt)((0,c.vi)(o))}(r,o,e,n);if(w(t)){var v=(0,c.re)((0,c.Ht)(y),t.size/2);p+=v.x,d+=v.y}if(O(t)){var b=Math.round((y+90)/45)%8;0===b&&(d-=t.height/2),1===b&&(p+=t.width/2,d-=t.height/2),2===b&&(p+=t.width/2),3===b&&(p+=t.width/2,d+=t.height/2),4===b&&(d+=t.height/2),5===b&&(p-=t.width/2,d+=t.height/2),6===b&&(p-=t.width/2),7===b&&(p-=t.width/2,d-=t.height/2)}var g=e,m=e;return(y+90)%360>180?(g-=s,m-=s):m+=s,{points:[[p,d],[e,n],[m,n]],text:[g,n-h],angle:y+90}},B=function(t){var e=t.data,n=t.annotations,o=t.getPosition,a=t.getDimensions;return(0,r.useMemo)((function(){return function(t){var e=t.data,n=t.annotations,r=t.getPosition,o=t.getDimensions;return n.reduce((function(t,n){var a=n.offset||0;return[].concat(m(t),m(s()(e,n.match).map((function(t){var e=r(t),u=o(t);return(w(n)||O(n))&&(u.size=u.size+2*a,u.width=u.width+2*a,u.height=u.height+2*a),y(y(y(y({},i()(n,["match","offset"])),e),u),{},{size:n.size||u.size,datum:t})}))))}),[])}({data:e,annotations:n,getPosition:o,getDimensions:a})}),[e,n,o,a])},W=function(t){var e=t.annotations;return(0,r.useMemo)((function(){return e.map((function(t){return y(y({},t),{},{computed:_(y({},t))})}))}),[e])},M=function(t){var e=t.datum,n=t.x,o=t.y,a=t.note,u=(0,c.Fg)(),l=(0,c.tf)(),s=l.animate,p=l.config,d=(0,f.useSpring)({x:n,y:o,config:p,immediate:!s});return"function"==typeof a?(0,r.createElement)(a,{x:n,y:o,datum:e}):(0,h.jsxs)(h.Fragment,{children:[u.annotations.text.outlineWidth>0&&(0,h.jsx)(f.q.text,{x:d.x,y:d.y,style:y(y({},u.annotations.text),{},{strokeLinejoin:"round",strokeWidth:2*u.annotations.text.outlineWidth,stroke:u.annotations.text.outlineColor}),children:a}),(0,h.jsx)(f.q.text,{x:d.x,y:d.y,style:i()(u.annotations.text,["outlineWidth","outlineColor"]),children:a})]})};function q(t){if(Array.isArray(t))return t}function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(t,e){return q(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||g(t,e)||A()}var P=function(t){var e=t.points,n=t.isOutline,o=void 0!==n&&n,i=(0,c.Fg)(),a=(0,r.useMemo)((function(){var t,n=q(t=e)||b(t)||g(t)||A(),r=n[0];return n.slice(1).reduce((function(t,e){var n=C(e,2),r=n[0],o=n[1];return"".concat(t," L").concat(r,",").concat(o)}),"M".concat(r[0],",").concat(r[1]))}),[e]),u=(0,c.NS)(a);if(o&&i.annotations.link.outlineWidth<=0)return null;var l=y({},i.annotations.link);return o&&(l.strokeLinecap="square",l.strokeWidth=i.annotations.link.strokeWidth+2*i.annotations.link.outlineWidth,l.stroke=i.annotations.link.outlineColor),(0,h.jsx)(f.q.path,{fill:"none",d:u,style:l})},E=function(t){var e=t.x,n=t.y,r=t.size,o=(0,c.Fg)(),i=(0,c.tf)(),a=i.animate,u=i.config,l=(0,f.useSpring)({x:e,y:n,radius:r/2,config:u,immediate:!a});return(0,h.jsxs)(h.Fragment,{children:[o.annotations.outline.outlineWidth>0&&(0,h.jsx)(f.q.circle,{cx:l.x,cy:l.y,r:l.radius,style:y(y({},o.annotations.outline),{},{fill:"none",strokeWidth:o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor})}),(0,h.jsx)(f.q.circle,{cx:l.x,cy:l.y,r:l.radius,style:o.annotations.outline})]})},T=function(t){var e=t.x,n=t.y,r=t.size,o=void 0===r?x:r,i=(0,c.Fg)(),a=(0,c.tf)(),u=a.animate,l=a.config,s=(0,f.useSpring)({x:e,y:n,radius:o/2,config:l,immediate:!u});return(0,h.jsxs)(h.Fragment,{children:[i.annotations.outline.outlineWidth>0&&(0,h.jsx)(f.q.circle,{cx:s.x,cy:s.y,r:s.radius,style:y(y({},i.annotations.outline),{},{fill:"none",strokeWidth:2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor})}),(0,h.jsx)(f.q.circle,{cx:s.x,cy:s.y,r:s.radius,style:i.annotations.symbol})]})},X=function(t){var e=t.x,n=t.y,r=t.width,o=t.height,i=(0,c.Fg)(),a=(0,c.tf)(),u=a.animate,l=a.config,s=(0,f.useSpring)({x:e-r/2,y:n-o/2,width:r,height:o,config:l,immediate:!u});return(0,h.jsxs)(h.Fragment,{children:[i.annotations.outline.outlineWidth>0&&(0,h.jsx)(f.q.rect,{x:s.x,y:s.y,width:s.width,height:s.height,style:y(y({},i.annotations.outline),{},{fill:"none",strokeWidth:i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor})}),(0,h.jsx)(f.q.rect,{x:s.x,y:s.y,width:s.width,height:s.height,style:i.annotations.outline})]})},F=function(t){var e=t.datum,n=t.x,o=t.y,i=t.note,a=function(t){return(0,r.useMemo)((function(){return _(t)}),[t])}(t);if(!function(t){var e=typeof t;return(0,r.isValidElement)(t)||"string"===e||"function"===e||"object"===e}(i))throw new Error("note should be a valid react element");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(P,{points:a.points,isOutline:!0}),w(t)&&(0,h.jsx)(E,{x:n,y:o,size:t.size}),S(t)&&(0,h.jsx)(T,{x:n,y:o,size:t.size}),O(t)&&(0,h.jsx)(X,{x:n,y:o,width:t.width,height:t.height}),(0,h.jsx)(P,{points:a.points}),(0,h.jsx)(M,{datum:e,x:a.text[0],y:a.text[1],note:i})]})},I=function(t,e){e.forEach((function(e,n){var r=C(e,2),o=r[0],i=r[1];0===n?t.moveTo(o,i):t.lineTo(o,i)}))},z=function(t,e){var n=e.annotations,r=e.theme;0!==n.length&&(t.save(),n.forEach((function(e){if(n=e.note,"string"!==(o=typeof n)&&"function"!==o)throw new Error("note is invalid for canvas implementation");var n,o;r.annotations.link.outlineWidth>0&&(t.lineCap="square",t.strokeStyle=r.annotations.link.outlineColor,t.lineWidth=r.annotations.link.strokeWidth+2*r.annotations.link.outlineWidth,t.beginPath(),I(t,e.computed.points),t.stroke(),t.lineCap="butt"),w(e)&&r.annotations.outline.outlineWidth>0&&(t.strokeStyle=r.annotations.outline.outlineColor,t.lineWidth=r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,t.beginPath(),t.arc(e.x,e.y,e.size/2,0,2*Math.PI),t.stroke()),S(e)&&r.annotations.symbol.outlineWidth>0&&(t.strokeStyle=r.annotations.symbol.outlineColor,t.lineWidth=2*r.annotations.symbol.outlineWidth,t.beginPath(),t.arc(e.x,e.y,e.size/2,0,2*Math.PI),t.stroke()),O(e)&&r.annotations.outline.outlineWidth>0&&(t.strokeStyle=r.annotations.outline.outlineColor,t.lineWidth=r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,t.beginPath(),t.rect(e.x-e.width/2,e.y-e.height/2,e.width,e.height),t.stroke()),t.strokeStyle=r.annotations.link.stroke,t.lineWidth=r.annotations.link.strokeWidth,t.beginPath(),I(t,e.computed.points),t.stroke(),w(e)&&(t.strokeStyle=r.annotations.outline.stroke,t.lineWidth=r.annotations.outline.strokeWidth,t.beginPath(),t.arc(e.x,e.y,e.size/2,0,2*Math.PI),t.stroke()),S(e)&&(t.fillStyle=r.annotations.symbol.fill,t.beginPath(),t.arc(e.x,e.y,e.size/2,0,2*Math.PI),t.fill()),O(e)&&(t.strokeStyle=r.annotations.outline.stroke,t.lineWidth=r.annotations.outline.strokeWidth,t.beginPath(),t.rect(e.x-e.width/2,e.y-e.height/2,e.width,e.height),t.stroke()),"function"==typeof e.note?e.note(t,{datum:e.datum,x:e.computed.text[0],y:e.computed.text[1],theme:r}):(t.font="".concat(r.annotations.text.fontSize,"px ").concat(r.annotations.text.fontFamily),t.fillStyle=r.annotations.text.fill,t.strokeStyle=r.annotations.text.outlineColor,t.lineWidth=2*r.annotations.text.outlineWidth,r.annotations.text.outlineWidth>0&&(t.lineJoin="round",t.strokeText(e.note,e.computed.text[0],e.computed.text[1]),t.lineJoin="miter"),t.fillText(e.note,e.computed.text[0],e.computed.text[1]))})),t.restore())}},80594:function(t){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},41876:function(t,e,n){var r=n(35159),o=n(50098);t.exports=function(t,e){return t&&r(e,o(e),t)}},5947:function(t,e,n){var r=n(35159),o=n(53893);t.exports=function(t,e){return t&&r(e,o(e),t)}},40699:function(t,e,n){var r=n(23694),o=n(80594),i=n(71928),a=n(41876),u=n(5947),l=n(2734),s=n(37561),c=n(31102),f=n(37048),h=n(51385),p=n(39759),d=n(3533),y=n(86541),v=n(2078),b=n(97635),g=n(19785),m=n(43854),x=n(98247),j=n(11611),k=n(47614),w=n(50098),S=n(53893),O="[object Arguments]",_="[object Function]",B="[object Object]",W={};W[O]=W["[object Array]"]=W["[object ArrayBuffer]"]=W["[object DataView]"]=W["[object Boolean]"]=W["[object Date]"]=W["[object Float32Array]"]=W["[object Float64Array]"]=W["[object Int8Array]"]=W["[object Int16Array]"]=W["[object Int32Array]"]=W["[object Map]"]=W["[object Number]"]=W[B]=W["[object RegExp]"]=W["[object Set]"]=W["[object String]"]=W["[object Symbol]"]=W["[object Uint8Array]"]=W["[object Uint8ClampedArray]"]=W["[object Uint16Array]"]=W["[object Uint32Array]"]=!0,W["[object Error]"]=W[_]=W["[object WeakMap]"]=!1,t.exports=function t(e,n,M,q,A,C){var P,E=1&n,T=2&n,X=4&n;if(M&&(P=A?M(e,q,A,C):M(e)),void 0!==P)return P;if(!j(e))return e;var F=g(e);if(F){if(P=y(e),!E)return s(e,P)}else{var I=d(e),z=I==_||"[object GeneratorFunction]"==I;if(m(e))return l(e,E);if(I==B||I==O||z&&!A){if(P=T||z?{}:b(e),!E)return T?f(e,u(P,e)):c(e,a(P,e))}else{if(!W[I])return A?e:{};P=v(e,I,E)}}C||(C=new r);var L=C.get(e);if(L)return L;C.set(e,P),k(e)?e.forEach((function(r){P.add(t(r,n,M,r,e,C))})):x(e)&&e.forEach((function(r,o){P.set(o,t(r,n,M,o,e,C))}));var V=F?void 0:(X?T?p:h:T?S:w)(e);return o(V||e,(function(r,o){V&&(r=e[o=r]),i(P,o,t(r,n,M,o,e,C))})),P}},98129:function(t,e,n){var r=n(52033);t.exports=function(t,e){var n=[];return r(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}},57657:function(t,e,n){var r=n(3533),o=n(92360);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},26903:function(t,e,n){var r=n(3533),o=n(92360);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},76418:function(t){var e=Math.floor,n=Math.random;t.exports=function(t,r){return t+e(n()*(r-t+1))}},70830:function(t,e,n){var r=n(76747),o=n(31159),i=n(64373),a=n(37948);t.exports=function(t,e){return e=r(e,t),null==(t=i(t,e))||delete t[a(o(e))]}},61859:function(t,e,n){var r=n(95825);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},9377:function(t){var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},24116:function(t,e,n){var r=n(96539),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},31102:function(t,e,n){var r=n(35159),o=n(83080);t.exports=function(t,e){return r(t,o(t),e)}},37048:function(t,e,n){var r=n(35159),o=n(54568);t.exports=function(t,e){return r(t,o(t),e)}},97820:function(t,e,n){var r=n(40861);t.exports=function(t){return r(t)?void 0:t}},39759:function(t,e,n){var r=n(11324),o=n(54568),i=n(53893);t.exports=function(t){return r(t,i,o)}},54568:function(t,e,n){var r=n(97141),o=n(2173),i=n(83080),a=n(15937),u=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=u},86541:function(t){var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},2078:function(t,e,n){var r=n(95825),o=n(61859),i=n(9377),a=n(24116),u=n(63428);t.exports=function(t,e,n){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return i(t);case"[object Symbol]":return a(t)}}},64373:function(t,e,n){var r=n(79867),o=n(75733);t.exports=function(t,e){return e.length<2?t:r(t,o(e,0,-1))}},69238:function(t,e,n){var r=n(10263),o=n(98129),i=n(89278),a=n(19785);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},98247:function(t,e,n){var r=n(57657),o=n(39334),i=n(18125),a=i&&i.isMap,u=a?o(a):r;t.exports=u},47614:function(t,e,n){var r=n(26903),o=n(39334),i=n(18125),a=i&&i.isSet,u=a?o(a):r;t.exports=u},48159:function(t,e,n){var r=n(66070),o=n(40699),i=n(70830),a=n(76747),u=n(35159),l=n(97820),s=n(24288),c=n(39759),f=s((function(t,e){var n={};if(null==t)return n;var s=!1;e=r(e,(function(e){return e=a(e,t),s||(s=e.length>1),e})),u(t,c(t),n),s&&(n=o(n,7,l));for(var f=e.length;f--;)i(n,e[f]);return n}));t.exports=f},91311:function(t,e,n){var r=n(76418),o=n(57535),i=n(94919),a=parseFloat,u=Math.min,l=Math.random;t.exports=function(t,e,n){if(n&&"boolean"!=typeof n&&o(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=i(t),void 0===e?(e=t,t=0):e=i(e)),t>e){var s=t;t=e,e=s}if(n||t%1||e%1){var c=l();return u(t+c*(e-t+a("1e-"+((c+"").length-1))),e)}return r(t,e)}},34981:function(t,e,n){var r=n(68267),o=n(76744),i=r((function(t,e,n){return t+(n?" ":"")+o(e)}));t.exports=i}}]);
//# sourceMappingURL=component---src-pages-funnel-index-tsx-a7ad7b7380067c4ea692.js.map