{"version":3,"sources":["webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/ascending.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/bisect.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/bisector.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/array.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/ticks.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/max.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/min.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/sum.js","webpack:///../node_modules/d3-sankey/src/align.js","webpack:///../node_modules/d3-sankey/src/constant.js","webpack:///../node_modules/d3-sankey/src/sankey.js","webpack:///../node_modules/d3-sankey/src/sankeyLinkHorizontal.js"],"names":["a","b","NaN","f","ascending","length","compare","d","x","Array","prototype","slice","map","Math","sqrt","o","allowArrayLike","it","Symbol","iterator","isArray","minLen","n","Object","toString","call","constructor","name","from","test","i","F","s","done","value","e","_e","TypeError","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","values","valueof","min","undefined","_step","_iterator","_step2","index","_iterator2","_value","sum","targetDepth","target","depth","node","height","justify","sourceLinks","center","targetLinks","ascendingSourceBreadth","ascendingBreadth","source","ascendingTargetBreadth","y0","defaultId","defaultNodes","graph","nodes","defaultLinks","links","find","nodeById","id","get","Error","computeLinkBreadths","_ref","y1","link","width","_step3","_iterator3","_link","Sankey","sort","linkSort","x0","x1","dx","py","align","iterations","sankey","apply","arguments","computeNodeLinks","computeNodeValues","computeNodeDepths","computeNodeHeights","computeNodeBreadths","_ref2","_step4","_iterator4","entries","_step4$value","_step5","Map","_iterator5","_step5$value","_i","push","_ref3","_step6","_iterator6","max","_ref4","current","Set","size","_step7","_iterator7","_step8","_iterator8","add","_ref5","_step9","_iterator9","_step10","_iterator10","computeNodeLayers","_ref6","_step11","kx","columns","_iterator11","floor","layer","_step12","_iterator12","_step13","ky","c","_iterator13","_step14","_nodes","y","_iterator14","_node","_step15","_iterator15","reorderLinks","initializeNodeBreadths","alpha","pow","beta","relaxRightToLeft","relaxLeftToRight","_step16","column","_iterator16","_step17","w","_iterator17","_step17$value","v","targetTop","dy","reorderNodeLinks","resolveCollisions","_step18","_iterator18","_step19","_iterator19","_step19$value","sourceTop","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","_ref7","_step20","_iterator20","_step21","_iterator21","_step22","_iterator22","_step22$value","_step23","_iterator23","_step23$value","_step24","_iterator24","_step24$value","_node2","_width","_step25","_iterator25","_step25$value","_step26","_iterator26","_step26$value","_node3","_width2","update","nodeId","_","nodeAlign","nodeSort","nodeWidth","nodePadding","extent","horizontalSource","horizontalTarget"],"mappings":"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","file":"8db6dc99b0ac5477ac683358a92861d4213f6948-f1606c9dc4352c429a18.js","sourcesContent":["export default function (a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;","import ascending from \"./ascending\";\nexport default function (compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function left(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n      }\n\n      return lo;\n    },\n    right: function right(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n      }\n\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function (d, x) {\n    return ascending(f(d), x);\n  };\n}","var array = Array.prototype;\nexport var slice = array.slice;\nexport var map = array.map;","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\nexport default function (start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n\n    while (++i < n) {\n      ticks[i] = (start + i) * step;\n    }\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n\n    while (++i < n) {\n      ticks[i] = (start - i) / step;\n    }\n  }\n\n  if (reverse) ticks.reverse();\n  return ticks;\n}\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nexport default function max(values, valueof) {\n  var max;\n\n  if (valueof === undefined) {\n    var _iterator = _createForOfIteratorHelper(values),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var value = _step.value;\n\n        if (value != null && value >= value && (max === undefined || max < value)) {\n          max = value;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else {\n    var index = -1;\n\n    var _iterator2 = _createForOfIteratorHelper(values),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _value = _step2.value;\n\n        if ((_value = valueof(_value, ++index, values)) != null && _value >= _value && (max === undefined || max < _value)) {\n          max = _value;\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n\n  return max;\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nexport default function min(values, valueof) {\n  var min;\n\n  if (valueof === undefined) {\n    var _iterator = _createForOfIteratorHelper(values),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var value = _step.value;\n\n        if (value != null && value >= value && (min === undefined || min > value)) {\n          min = value;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else {\n    var index = -1;\n\n    var _iterator2 = _createForOfIteratorHelper(values),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _value = _step2.value;\n\n        if ((_value = valueof(_value, ++index, values)) != null && _value >= _value && (min === undefined || min > _value)) {\n          min = _value;\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n\n  return min;\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nexport default function sum(values, valueof) {\n  var sum = 0;\n\n  if (valueof === undefined) {\n    var _iterator = _createForOfIteratorHelper(values),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var value = _step.value;\n\n        if (value = +value) {\n          sum += value;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else {\n    var index = -1;\n\n    var _iterator2 = _createForOfIteratorHelper(values),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _value = _step2.value;\n\n        if (_value = +valueof(_value, ++index, values)) {\n          sum += _value;\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n\n  return sum;\n}","import { min } from \"d3-array\";\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? min(node.sourceLinks, targetDepth) - 1 : 0;\n}","export default function constant(x) {\n  return function () {\n    return x;\n  };\n}","import _slicedToArray from \"/Users/raph/projects/plouc/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { max, min, sum } from \"d3-array\";\nimport { justify } from \"./align.js\";\nimport constant from \"./constant.js\";\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  var node = nodeById.get(id);\n  if (!node) throw new Error(\"missing: \" + id);\n  return node;\n}\n\nfunction computeLinkBreadths(_ref) {\n  var nodes = _ref.nodes;\n\n  var _iterator = _createForOfIteratorHelper(nodes),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var node = _step.value;\n      var y0 = node.y0;\n      var y1 = y0;\n\n      var _iterator2 = _createForOfIteratorHelper(node.sourceLinks),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var link = _step2.value;\n          link.y0 = y0 + link.width / 2;\n          y0 += link.width;\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      var _iterator3 = _createForOfIteratorHelper(node.targetLinks),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var _link = _step3.value;\n          _link.y1 = y1 + _link.width / 2;\n          y1 += _link.width;\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\n\nexport default function Sankey() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 1,\n      y1 = 1; // extent\n\n  var dx = 24; // nodeWidth\n\n  var py = 8; // nodePadding\n\n  var id = defaultId;\n  var align = justify;\n  var sort;\n  var linkSort;\n  var nodes = defaultNodes;\n  var links = defaultLinks;\n  var iterations = 6;\n\n  function sankey() {\n    var graph = {\n      nodes: nodes.apply(null, arguments),\n      links: links.apply(null, arguments)\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? (id = typeof _ === \"function\" ? _ : constant(_), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? (align = typeof _ === \"function\" ? _ : constant(_), sankey) : align;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? (sort = _, sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? (dx = +_, sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? (py = +_, sankey) : py;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? (nodes = typeof _ === \"function\" ? _ : constant(_), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? (links = typeof _ === \"function\" ? _ : constant(_), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? (linkSort = _, sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], sankey) : [[x0, y0], [x1, y1]];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? (iterations = +_, sankey) : iterations;\n  };\n\n  function computeNodeLinks(_ref2) {\n    var nodes = _ref2.nodes,\n        links = _ref2.links;\n\n    var _iterator4 = _createForOfIteratorHelper(nodes.entries()),\n        _step4;\n\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var _step4$value = _slicedToArray(_step4.value, 2),\n            i = _step4$value[0],\n            node = _step4$value[1];\n\n        node.index = i;\n        node.sourceLinks = [];\n        node.targetLinks = [];\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n\n    var nodeById = new Map(nodes.map(function (d, i) {\n      return [id(d, i, nodes), d];\n    }));\n\n    var _iterator5 = _createForOfIteratorHelper(links.entries()),\n        _step5;\n\n    try {\n      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n        var _step5$value = _slicedToArray(_step5.value, 2),\n            _i = _step5$value[0],\n            link = _step5$value[1];\n\n        link.index = _i;\n        var source = link.source,\n            target = link.target;\n        if (typeof source !== \"object\") source = link.source = find(nodeById, source);\n        if (typeof target !== \"object\") target = link.target = find(nodeById, target);\n        source.sourceLinks.push(link);\n        target.targetLinks.push(link);\n      }\n    } catch (err) {\n      _iterator5.e(err);\n    } finally {\n      _iterator5.f();\n    }\n  }\n\n  function computeNodeValues(_ref3) {\n    var nodes = _ref3.nodes;\n\n    var _iterator6 = _createForOfIteratorHelper(nodes),\n        _step6;\n\n    try {\n      for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n        var node = _step6.value;\n        node.value = Math.max(sum(node.sourceLinks, value), sum(node.targetLinks, value));\n      }\n    } catch (err) {\n      _iterator6.e(err);\n    } finally {\n      _iterator6.f();\n    }\n  }\n\n  function computeNodeDepths(_ref4) {\n    var nodes = _ref4.nodes;\n    var n = nodes.length;\n    var current = new Set(nodes);\n    var next = new Set();\n    var x = 0;\n\n    while (current.size) {\n      var _iterator7 = _createForOfIteratorHelper(current),\n          _step7;\n\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var node = _step7.value;\n          node.depth = x;\n\n          var _iterator8 = _createForOfIteratorHelper(node.sourceLinks),\n              _step8;\n\n          try {\n            for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n              var target = _step8.value.target;\n              next.add(target);\n            }\n          } catch (err) {\n            _iterator8.e(err);\n          } finally {\n            _iterator8.f();\n          }\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeHeights(_ref5) {\n    var nodes = _ref5.nodes;\n    var n = nodes.length;\n    var current = new Set(nodes);\n    var next = new Set();\n    var x = 0;\n\n    while (current.size) {\n      var _iterator9 = _createForOfIteratorHelper(current),\n          _step9;\n\n      try {\n        for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n          var node = _step9.value;\n          node.height = x;\n\n          var _iterator10 = _createForOfIteratorHelper(node.targetLinks),\n              _step10;\n\n          try {\n            for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n              var source = _step10.value.source;\n              next.add(source);\n            }\n          } catch (err) {\n            _iterator10.e(err);\n          } finally {\n            _iterator10.f();\n          }\n        }\n      } catch (err) {\n        _iterator9.e(err);\n      } finally {\n        _iterator9.f();\n      }\n\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers(_ref6) {\n    var nodes = _ref6.nodes;\n    var x = max(nodes, function (d) {\n      return d.depth;\n    }) + 1;\n    var kx = (x1 - x0 - dx) / (x - 1);\n    var columns = new Array(x);\n\n    var _iterator11 = _createForOfIteratorHelper(nodes),\n        _step11;\n\n    try {\n      for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n        var node = _step11.value;\n        var i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n        node.layer = i;\n        node.x0 = x0 + i * kx;\n        node.x1 = node.x0 + dx;\n        if (columns[i]) columns[i].push(node);else columns[i] = [node];\n      }\n    } catch (err) {\n      _iterator11.e(err);\n    } finally {\n      _iterator11.f();\n    }\n\n    if (sort) {\n      var _iterator12 = _createForOfIteratorHelper(columns),\n          _step12;\n\n      try {\n        for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n          var column = _step12.value;\n          column.sort(sort);\n        }\n      } catch (err) {\n        _iterator12.e(err);\n      } finally {\n        _iterator12.f();\n      }\n    }\n\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    var ky = min(columns, function (c) {\n      return (y1 - y0 - (c.length - 1) * py) / sum(c, value);\n    });\n\n    var _iterator13 = _createForOfIteratorHelper(columns),\n        _step13;\n\n    try {\n      for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n        var _nodes = _step13.value;\n        var y = y0;\n\n        var _iterator14 = _createForOfIteratorHelper(_nodes),\n            _step14;\n\n        try {\n          for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n            var _node = _step14.value;\n            _node.y0 = y;\n            _node.y1 = y + _node.value * ky;\n            y = _node.y1 + py;\n\n            var _iterator15 = _createForOfIteratorHelper(_node.sourceLinks),\n                _step15;\n\n            try {\n              for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n                var link = _step15.value;\n                link.width = link.value * ky;\n              }\n            } catch (err) {\n              _iterator15.e(err);\n            } finally {\n              _iterator15.f();\n            }\n          }\n        } catch (err) {\n          _iterator14.e(err);\n        } finally {\n          _iterator14.f();\n        }\n\n        y = (y1 - y + py) / (_nodes.length + 1);\n\n        for (var i = 0; i < _nodes.length; ++i) {\n          var node = _nodes[i];\n          node.y0 += y * (i + 1);\n          node.y1 += y * (i + 1);\n        }\n\n        reorderLinks(_nodes);\n      }\n    } catch (err) {\n      _iterator13.e(err);\n    } finally {\n      _iterator13.f();\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    var columns = computeNodeLayers(graph);\n    initializeNodeBreadths(columns);\n\n    for (var i = 0; i < iterations; ++i) {\n      var alpha = Math.pow(0.99, i);\n      var beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  } // Reposition each node based on its incoming (target) links.\n\n\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (var i = 1, n = columns.length; i < n; ++i) {\n      var column = columns[i];\n\n      var _iterator16 = _createForOfIteratorHelper(column),\n          _step16;\n\n      try {\n        for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\n          var target = _step16.value;\n          var y = 0;\n          var w = 0;\n\n          var _iterator17 = _createForOfIteratorHelper(target.targetLinks),\n              _step17;\n\n          try {\n            for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {\n              var _step17$value = _step17.value,\n                  source = _step17$value.source,\n                  _value = _step17$value.value;\n              var v = _value * (target.layer - source.layer);\n              y += targetTop(source, target) * v;\n              w += v;\n            }\n          } catch (err) {\n            _iterator17.e(err);\n          } finally {\n            _iterator17.f();\n          }\n\n          if (!(w > 0)) continue;\n          var dy = (y / w - target.y0) * alpha;\n          target.y0 += dy;\n          target.y1 += dy;\n          reorderNodeLinks(target);\n        }\n      } catch (err) {\n        _iterator16.e(err);\n      } finally {\n        _iterator16.f();\n      }\n\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  } // Reposition each node based on its outgoing (source) links.\n\n\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (var n = columns.length, i = n - 2; i >= 0; --i) {\n      var column = columns[i];\n\n      var _iterator18 = _createForOfIteratorHelper(column),\n          _step18;\n\n      try {\n        for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {\n          var source = _step18.value;\n          var y = 0;\n          var w = 0;\n\n          var _iterator19 = _createForOfIteratorHelper(source.sourceLinks),\n              _step19;\n\n          try {\n            for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {\n              var _step19$value = _step19.value,\n                  target = _step19$value.target,\n                  _value2 = _step19$value.value;\n              var v = _value2 * (target.layer - source.layer);\n              y += sourceTop(source, target) * v;\n              w += v;\n            }\n          } catch (err) {\n            _iterator19.e(err);\n          } finally {\n            _iterator19.f();\n          }\n\n          if (!(w > 0)) continue;\n          var dy = (y / w - source.y0) * alpha;\n          source.y0 += dy;\n          source.y1 += dy;\n          reorderNodeLinks(source);\n        }\n      } catch (err) {\n        _iterator18.e(err);\n      } finally {\n        _iterator18.f();\n      }\n\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    var i = nodes.length >> 1;\n    var subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  } // Push any overlapping nodes down.\n\n\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      var node = nodes[i];\n      var dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) node.y0 += dy, node.y1 += dy;\n      y = node.y1 + py;\n    }\n  } // Push any overlapping nodes up.\n\n\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      var node = nodes[i];\n      var dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) node.y0 -= dy, node.y1 -= dy;\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks(_ref7) {\n    var sourceLinks = _ref7.sourceLinks,\n        targetLinks = _ref7.targetLinks;\n\n    if (linkSort === undefined) {\n      var _iterator20 = _createForOfIteratorHelper(targetLinks),\n          _step20;\n\n      try {\n        for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {\n          var _sourceLinks = _step20.value.source.sourceLinks;\n\n          _sourceLinks.sort(ascendingTargetBreadth);\n        }\n      } catch (err) {\n        _iterator20.e(err);\n      } finally {\n        _iterator20.f();\n      }\n\n      var _iterator21 = _createForOfIteratorHelper(sourceLinks),\n          _step21;\n\n      try {\n        for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {\n          var _targetLinks = _step21.value.target.targetLinks;\n\n          _targetLinks.sort(ascendingSourceBreadth);\n        }\n      } catch (err) {\n        _iterator21.e(err);\n      } finally {\n        _iterator21.f();\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      var _iterator22 = _createForOfIteratorHelper(nodes),\n          _step22;\n\n      try {\n        for (_iterator22.s(); !(_step22 = _iterator22.n()).done;) {\n          var _step22$value = _step22.value,\n              sourceLinks = _step22$value.sourceLinks,\n              targetLinks = _step22$value.targetLinks;\n          sourceLinks.sort(ascendingTargetBreadth);\n          targetLinks.sort(ascendingSourceBreadth);\n        }\n      } catch (err) {\n        _iterator22.e(err);\n      } finally {\n        _iterator22.f();\n      }\n    }\n  } // Returns the target.y0 that would produce an ideal link from source to target.\n\n\n  function targetTop(source, target) {\n    var y = source.y0 - (source.sourceLinks.length - 1) * py / 2;\n\n    var _iterator23 = _createForOfIteratorHelper(source.sourceLinks),\n        _step23;\n\n    try {\n      for (_iterator23.s(); !(_step23 = _iterator23.n()).done;) {\n        var _step23$value = _step23.value,\n            node = _step23$value.target,\n            width = _step23$value.width;\n        if (node === target) break;\n        y += width + py;\n      }\n    } catch (err) {\n      _iterator23.e(err);\n    } finally {\n      _iterator23.f();\n    }\n\n    var _iterator24 = _createForOfIteratorHelper(target.targetLinks),\n        _step24;\n\n    try {\n      for (_iterator24.s(); !(_step24 = _iterator24.n()).done;) {\n        var _step24$value = _step24.value,\n            _node2 = _step24$value.source,\n            _width = _step24$value.width;\n        if (_node2 === source) break;\n        y -= _width;\n      }\n    } catch (err) {\n      _iterator24.e(err);\n    } finally {\n      _iterator24.f();\n    }\n\n    return y;\n  } // Returns the source.y0 that would produce an ideal link from source to target.\n\n\n  function sourceTop(source, target) {\n    var y = target.y0 - (target.targetLinks.length - 1) * py / 2;\n\n    var _iterator25 = _createForOfIteratorHelper(target.targetLinks),\n        _step25;\n\n    try {\n      for (_iterator25.s(); !(_step25 = _iterator25.n()).done;) {\n        var _step25$value = _step25.value,\n            node = _step25$value.source,\n            width = _step25$value.width;\n        if (node === source) break;\n        y += width + py;\n      }\n    } catch (err) {\n      _iterator25.e(err);\n    } finally {\n      _iterator25.f();\n    }\n\n    var _iterator26 = _createForOfIteratorHelper(source.sourceLinks),\n        _step26;\n\n    try {\n      for (_iterator26.s(); !(_step26 = _iterator26.n()).done;) {\n        var _step26$value = _step26.value,\n            _node3 = _step26$value.target,\n            _width2 = _step26$value.width;\n        if (_node3 === target) break;\n        y -= _width2;\n      }\n    } catch (err) {\n      _iterator26.e(err);\n    } finally {\n      _iterator26.f();\n    }\n\n    return y;\n  }\n\n  return sankey;\n}","import { linkHorizontal } from \"d3-shape\";\n\nfunction horizontalSource(d) {\n  return [d.source.x1, d.y0];\n}\n\nfunction horizontalTarget(d) {\n  return [d.target.x0, d.y1];\n}\n\nexport default function () {\n  return linkHorizontal().source(horizontalSource).target(horizontalTarget);\n}"],"sourceRoot":""}