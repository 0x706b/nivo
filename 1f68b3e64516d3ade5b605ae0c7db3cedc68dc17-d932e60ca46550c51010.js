(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[6194],{55851:function(e,r,t){"use strict";t.d(r,{VC:function(){return ne},Yr:function(){return F},LJ:function(){return ce},Sy:function(){return ue}});var n=t(27378),o=t(52770),i=t(45638),a=t(47425),c=t(23615),u=t.n(c),l=t(89193),s=t(24246),d=t(10832),b=t(71024),f=Math.cos,g=Math.sin,p=Math.PI,h=p/2,v=2*p,y=Math.max;function m(e){return function(r,t){return e(r.source.value+r.target.value,t.source.value+t.target.value)}}var O=Array.prototype.slice;function A(e){return function(){return e}}var M=t(53380);function R(e){return e.source}function x(e){return e.target}function C(e){return e.radius}function j(e){return e.startAngle}function E(e){return e.endAngle}var k=t(25389),w=t.n(k),B=t(62707),S=t(88692);function T(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function q(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function H(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?q(Object(t),!0).forEach((function(r){T(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var L=(0,n.memo)((function(e){var r=e.arc;return(0,s.jsx)(l._5,{id:r.label,value:r.formattedValue,color:r.color,enableChip:!0})}));L.displayName="ChordArcTooltip";var G=(0,n.memo)((function(e){var r=e.ribbon,t=(0,o.Fg)();return(0,s.jsx)(l.zI,{theme:t,rows:[[(0,s.jsx)(l.Af,{color:r.source.color},"chip"),(0,s.jsx)("strong",{children:r.source.label},"id"),r.source.formattedValue],[(0,s.jsx)(l.Af,{color:r.target.color},"chip"),(0,s.jsx)("strong",{children:r.target.label},"id"),r.target.formattedValue]]})}));G.displayName="ChordRibbonTooltip";var W={keys:u().arrayOf(u().string).isRequired,matrix:u().arrayOf(u().arrayOf(u().number)).isRequired,valueFormat:u().oneOfType([u().func,u().string]),padAngle:u().number.isRequired,innerRadiusRatio:u().number.isRequired,innerRadiusOffset:u().number.isRequired,layers:u().arrayOf(u().oneOfType([u().oneOf(["ribbons","arcs","labels","legends"]),u().func])).isRequired,arcOpacity:u().number.isRequired,arcHoverOpacity:u().number.isRequired,arcHoverOthersOpacity:u().number.isRequired,arcBorderWidth:u().number.isRequired,arcBorderColor:i.UO.isRequired,onArcMouseEnter:u().func,onArcMouseMove:u().func,onArcMouseLeave:u().func,onArcClick:u().func,arcTooltip:u().oneOfType([u().func,u().object]).isRequired,ribbonOpacity:u().number.isRequired,ribbonHoverOpacity:u().number.isRequired,ribbonHoverOthersOpacity:u().number.isRequired,ribbonBorderWidth:u().number.isRequired,ribbonBorderColor:i.UO.isRequired,ribbonBlendMode:o.wM.isRequired,onRibbonMouseEnter:u().func,onRibbonMouseMove:u().func,onRibbonMouseLeave:u().func,onRibbonClick:u().func,ribbonTooltip:u().oneOfType([u().func,u().object]).isRequired,enableLabel:u().bool.isRequired,label:u().oneOfType([u().string,u().func]).isRequired,labelOffset:u().number.isRequired,labelRotation:u().number.isRequired,labelTextColor:i.UO.isRequired,colors:i.qi.isRequired,isInteractive:u().bool.isRequired,legends:u().arrayOf(u().shape(a.iQ)).isRequired},I=(H(H(H({},W),o.w$),{},{role:u().string.isRequired}),H({pixelRatio:u().number.isRequired},W),{padAngle:0,innerRadiusRatio:.9,innerRadiusOffset:0,layers:["ribbons","arcs","labels","legends"],arcOpacity:1,arcHoverOpacity:1,arcHoverOthersOpacity:.15,arcBorderWidth:1,arcBorderColor:{from:"color",modifiers:[["darker",.4]]},arcTooltip:L,ribbonOpacity:.5,ribbonHoverOpacity:.85,ribbonHoverOthersOpacity:.15,ribbonBorderWidth:1,ribbonBorderColor:{from:"color",modifiers:[["darker",.4]]},ribbonBlendMode:"normal",ribbonTooltip:G,enableLabel:!0,label:"id",labelOffset:12,labelRotation:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},colors:{scheme:"nivo"},legends:[],isInteractive:!0}),F=H(H({},I),{},{animate:!0,motionStiffness:90,motionDamping:15,role:"img"}),P=H(H({},I),{},{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1});function V(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function N(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(u){o=!0,i=u}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return t}}(e,r)||function(e,r){if(e){if("string"==typeof e)return V(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?V(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $=function(e){var r=e.padAngle;return function(){var e=0,r=null,t=null,n=null;function o(o){var i,a,c,u,l,s,d=o.length,f=[],g=(0,b.w6)(d),p=[],h=[],m=h.groups=new Array(d),O=new Array(d*d);for(i=0,l=-1;++l<d;){for(a=0,s=-1;++s<d;)a+=o[l][s];f.push(a),p.push((0,b.w6)(d)),i+=a}for(r&&g.sort((function(e,t){return r(f[e],f[t])})),t&&p.forEach((function(e,r){e.sort((function(e,n){return t(o[r][e],o[r][n])}))})),u=(i=y(0,v-e*d)/i)?e:v/d,a=0,l=-1;++l<d;){for(c=a,s=-1;++s<d;){var A=g[l],M=p[A][s],R=o[A][M],x=a,C=a+=R*i;O[M*d+A]={index:A,subindex:M,startAngle:x,endAngle:C,value:R}}m[A]={index:A,startAngle:c,endAngle:a,value:f[A]},a+=u}for(l=-1;++l<d;)for(s=l-1;++s<d;){var j=O[s*d+l],E=O[l*d+s];(j.value||E.value)&&h.push(j.value<E.value?{source:E,target:j}:{source:j,target:E})}return n?h.sort(n):h}return o.padAngle=function(r){return arguments.length?(e=y(0,r),o):e},o.sortGroups=function(e){return arguments.length?(r=e,o):r},o.sortSubgroups=function(e){return arguments.length?(t=e,o):t},o.sortChords=function(e){return arguments.length?(null==e?n=null:(n=m(e))._=e,o):n&&n._},o}().padAngle(r)},_=function(e){var r=e.width,t=e.height,n=e.innerRadiusRatio,o=e.innerRadiusOffset,i=[r/2,t/2],a=Math.min(r,t)/2,c=a*n,u=a*(n-o),l=(0,d.Nb)().outerRadius(a).innerRadius(c),s=function(){var e=R,r=x,t=C,n=j,o=E,i=null;function a(){var a,c=O.call(arguments),u=e.apply(this,c),l=r.apply(this,c),s=+t.apply(this,(c[0]=u,c)),d=n.apply(this,c)-h,b=o.apply(this,c)-h,p=s*f(d),v=s*g(d),y=+t.apply(this,(c[0]=l,c)),m=n.apply(this,c)-h,A=o.apply(this,c)-h;if(i||(i=a=(0,M.E)()),i.moveTo(p,v),i.arc(0,0,s,d,b),d===m&&b===A||(i.quadraticCurveTo(0,0,y*f(m),y*g(m)),i.arc(0,0,y,m,A)),i.quadraticCurveTo(0,0,p,v),i.closePath(),a)return i=null,a+""||null}return a.radius=function(e){return arguments.length?(t="function"==typeof e?e:A(+e),a):t},a.startAngle=function(e){return arguments.length?(n="function"==typeof e?e:A(+e),a):n},a.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:A(+e),a):o},a.source=function(r){return arguments.length?(e=r,a):e},a.target=function(e){return arguments.length?(r=e,a):r},a.context=function(e){return arguments.length?(i=null==e?null:e,a):i},a}().radius(u);return{center:i,radius:a,innerRadius:c,arcGenerator:l,ribbonGenerator:s}},D=function(e){var r=e.keys,t=e.matrix,a=e.label,c=e.valueFormat,u=e.width,l=e.height,s=e.innerRadiusRatio,d=e.innerRadiusOffset,b=e.padAngle,f=e.colors,g=function(e){var r=e.padAngle;return(0,n.useMemo)((function(){return $({padAngle:r})}),[r])}({padAngle:b}),p=function(e){var r=e.width,t=e.height,o=e.innerRadiusRatio,i=e.innerRadiusOffset;return(0,n.useMemo)((function(){return _({width:r,height:t,innerRadiusRatio:o,innerRadiusOffset:i})}),[r,t,o,i])}({width:u,height:l,innerRadiusRatio:s,innerRadiusOffset:d}),h=p.center,v=p.radius,y=p.innerRadius,m=p.arcGenerator,O=p.ribbonGenerator,A=(0,n.useMemo)((function(){return(0,o.ji)(a)}),[a]),M=(0,o.O_)(c),R=(0,i.U)(f,"id"),x=function(e){var r=e.chord,t=e.getColor,o=e.keys,i=e.matrix,a=e.getLabel,c=e.formatValue;return(0,n.useMemo)((function(){return function(e){var r=e.chord,t=e.getColor,n=e.keys,o=e.matrix,i=e.getLabel,a=e.formatValue,c=r(o),u=c.groups.map((function(e){return e.id=n[e.index],e.color=t(e),e.formattedValue=a(e.value),e.label=i(e),e}));return c.forEach((function(e){e.source.id=n[e.source.index],e.source.color=t(e.source),e.source.formattedValue=a(e.source.value),e.source.label=i(e.source),e.target.id=n[e.target.index],e.target.color=t(e.target),e.target.formattedValue=a(e.target.value),e.target.label=i(e.target),e.id=[e.source.id,e.target.id].sort().join(".")})),{arcs:u,ribbons:c}}({chord:r,getColor:t,keys:o,matrix:i,getLabel:a,formatValue:c})}),[r,t,o,i,a,c])}({chord:g,getColor:R,keys:r,matrix:t,getLabel:A,formatValue:M});return{center:h,chord:g,radius:v,innerRadius:y,arcGenerator:m,ribbonGenerator:O,getColor:R,arcs:x.arcs,ribbons:x.ribbons}},U=function(e){var r=e.arcs,t=e.arcOpacity,o=e.arcHoverOpacity,i=e.arcHoverOthersOpacity,a=e.ribbons,c=e.ribbonOpacity,u=e.ribbonHoverOpacity,l=e.ribbonHoverOthersOpacity,s=N((0,n.useState)(null),2),d=s[0],b=s[1],f=N((0,n.useState)(null),2),g=f[0],p=f[1],h=(0,n.useMemo)((function(){var e=[],r=[];return d&&(e.push(d.id),a.filter((function(e){return e.source.id===d.id||e.target.id===d.id})).forEach((function(e){r.push(e.id)}))),g&&(e.push(g.source.id),e.push(g.target.id),r.push(g.id)),{selectedArcIds:e,selectedRibbonIds:r}}),[d,g,r,a]),v=h.selectedArcIds.length>1||h.selectedRibbonIds.length>0,y=(0,n.useMemo)((function(){return function(e){return v?h.selectedArcIds.includes(e.id)?o:i:t}}),[h.selectedArcIds,t,o,i]),m=(0,n.useMemo)((function(){return function(e){return v?h.selectedRibbonIds.includes(e.id)?u:l:c}}),[h.selectedRibbonIds,c,u,l]);return H(H({currentArc:d,setCurrentArc:b,currentRibbon:g,setCurrentRibbon:p,hasSelection:v},h),{},{getArcOpacity:y,getRibbonOpacity:m})},z=function(e){var r=e.center,t=e.radius,o=e.arcs,i=e.arcGenerator,a=e.ribbons,c=e.ribbonGenerator;return(0,n.useMemo)((function(){return{center:r,radius:t,arcs:o,arcGenerator:i,ribbons:a,ribbonGenerator:c}}),[r,t,o,i,a,c])},J=(0,n.memo)((function(e){var r=e.ribbon,t=e.ribbonGenerator,o=e.sourceStartAngle,i=e.sourceEndAngle,a=e.targetStartAngle,c=e.targetEndAngle,u=e.color,d=e.opacity,b=e.borderWidth,f=e.getBorderColor,g=e.blendMode,p=e.isInteractive,h=e.setCurrent,v=e.onMouseEnter,y=e.onMouseMove,m=e.onMouseLeave,O=e.onClick,A=e.tooltip,M=(0,l.lL)(),R=M.showTooltipFromEvent,x=M.hideTooltip,C=(0,n.useMemo)((function(){if(p)return function(e){h(r),R((0,n.createElement)(A,{ribbon:r}),e),v&&v(r,e)}}),[p,R,A,r,v]),j=(0,n.useMemo)((function(){if(p)return function(e){R((0,n.createElement)(A,{ribbon:r}),e),y&&y(r,e)}}),[p,R,A,r,y]),E=(0,n.useMemo)((function(){if(p)return function(e){h(null),x(),m&&m(r,e)}}),[p,x,r,m]),k=(0,n.useMemo)((function(){if(p&&O)return function(e){return O(r,e)}}),[p,r,O]);return(0,s.jsx)("path",{d:t({source:{startAngle:o,endAngle:i},target:{startAngle:a,endAngle:c}}),fill:u,fillOpacity:d,strokeWidth:b,stroke:f(H(H({},r),{},{color:u})),strokeOpacity:d,style:{mixBlendMode:g},onMouseEnter:C,onMouseMove:j,onMouseLeave:E,onClick:k})}));J.displayName="ChordRibbon";var Q=function(e,r,t){var n,i,a,c=e.source,u=e.target;if(c.startAngle<u.startAngle?(n=c,i=u):(n=u,i=c),!0===r){var l=(0,o.Vp)(n),s=(0,o.Vp)(i);a={sourceStartAngle:l,sourceEndAngle:l,targetStartAngle:s,targetEndAngle:s}}else a={sourceStartAngle:n.startAngle,sourceEndAngle:n.endAngle,targetStartAngle:i.startAngle,targetEndAngle:i.endAngle};return t?w()(a,(function(e){return(0,B.ST)(e,t)})):a},Y=function(e){var r=e.data;return H(H({},Q(r,!0)),{},{opacity:0},(0,i.BM)(r.source.color))},K=function(e){return function(r){var t=r.data;return H(H({},Q(t,!0,e)),{},{opacity:0},(0,i.BM)(t.source.color,e))}},X=(0,n.memo)((function(e){var r=e.ribbons,t=e.ribbonGenerator,n=e.borderWidth,a=e.getBorderColor,c=e.getOpacity,u=e.blendMode,l=e.isInteractive,d=e.setCurrent,b=e.onMouseEnter,f=e.onMouseMove,g=e.onMouseLeave,p=e.onClick,h=e.tooltip,v=(0,o.tf)(),y=v.animate,m=v.springConfig;if(!0!==y)return(0,s.jsx)("g",{children:r.map((function(e){return(0,s.jsx)(J,{ribbon:e,ribbonGenerator:t,sourceStartAngle:e.source.startAngle,sourceEndAngle:e.source.endAngle,targetStartAngle:e.target.startAngle,targetEndAngle:e.target.endAngle,color:e.source.color,blendMode:u,opacity:c(e),borderWidth:n,getBorderColor:a,isInteractive:l,setCurrent:d,onMouseEnter:b,onMouseMove:f,onMouseLeave:g,onClick:p,tooltip:h},e.id)}))});var O=H(H({},m),{},{precision:.001});return(0,s.jsx)(B.bg,{willEnter:Y,willLeave:K(O),styles:r.map((function(e){return{key:e.id,data:e,style:H(H({},Q(e,!1,O)),{},{opacity:(0,B.ST)(c(e),O)},(0,i.BM)(e.source.color,O))}})),children:function(e){return(0,s.jsx)(s.Fragment,{children:e.map((function(e){var r=e.key,o=e.style,c=e.data,v=(0,i.Tf)(o);return(0,s.jsx)(J,{ribbon:c,ribbonGenerator:t,sourceStartAngle:o.sourceStartAngle,sourceEndAngle:Math.max(o.sourceEndAngle,o.sourceStartAngle),targetStartAngle:o.targetStartAngle,targetEndAngle:Math.max(o.targetEndAngle,o.targetStartAngle),color:v,blendMode:u,opacity:o.opacity,borderWidth:n,getBorderColor:a,isInteractive:l,setCurrent:d,onMouseEnter:b,onMouseMove:f,onMouseLeave:g,onClick:p,tooltip:h},r)}))})}})}));X.displayName="ChordRibbons";var Z=(0,n.memo)((function(e){var r=e.arc,t=e.startAngle,o=e.endAngle,i=e.borderWidth,a=e.getBorderColor,c=e.opacity,u=e.arcGenerator,d=e.setCurrent,b=e.isInteractive,f=e.onMouseEnter,g=e.onMouseMove,p=e.onMouseLeave,h=e.onClick,v=e.tooltip,y=(0,l.lL)(),m=y.showTooltipFromEvent,O=y.hideTooltip,A=(0,n.useMemo)((function(){if(b)return function(e){d(r),m((0,n.createElement)(v,{arc:r}),e),f&&f(r,e)}}),[b,m,v,r,f]),M=(0,n.useMemo)((function(){if(b)return function(e){m((0,n.createElement)(v,{arc:r}),e),g&&g(r,e)}}),[b,m,v,r,g]),R=(0,n.useMemo)((function(){if(b)return function(e){d(null),O(),p&&p(r,e)}}),[b,O,r,p]),x=(0,n.useMemo)((function(){if(b&&h)return function(e){return h(r,e)}}),[b,r,h]);return(0,s.jsx)("path",{d:u({startAngle:t,endAngle:o}),fill:r.color,fillOpacity:c,strokeWidth:i,stroke:a(r),strokeOpacity:c,onMouseEnter:A,onMouseMove:M,onMouseLeave:R,onClick:x})}));Z.displayName="ChordArc";var ee=(0,n.memo)((function(e){var r=e.arcs,t=e.borderWidth,n=e.getBorderColor,a=e.getOpacity,c=e.arcGenerator,u=e.setCurrent,l=e.isInteractive,d=e.onMouseEnter,b=e.onMouseMove,f=e.onMouseLeave,g=e.onClick,p=e.tooltip,h=(0,o.tf)(),v=h.animate,y=h.springConfig;if(!0!==v)return r.map((function(e){return(0,s.jsx)(Z,{arc:e,arcGenerator:c,startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:a(e),borderWidth:t,getBorderColor:n,getOpacity:a,isInteractive:l,setCurrent:u,onMouseEnter:d,onMouseMove:b,onMouseLeave:f,onClick:g,tooltip:p},e.id)}));var m=H(H({},y),{},{precision:.001});return(0,s.jsx)(B.bg,{styles:r.map((function(e){return{key:e.id,data:e,style:H({startAngle:(0,B.ST)(e.startAngle,m),endAngle:(0,B.ST)(e.endAngle,m),opacity:(0,B.ST)(a(e),m)},(0,i.BM)(e.color,m))}})),children:function(e){return(0,s.jsx)(s.Fragment,{children:e.map((function(e){var r=e.key,o=e.style,h=e.data,v=(0,i.Tf)(o);return(0,s.jsx)(Z,{arc:h,arcGenerator:c,startAngle:o.startAngle,endAngle:o.endAngle,color:v,opacity:o.opacity,borderWidth:t,getBorderColor:n,getOpacity:a,isInteractive:l,setCurrent:u,onMouseEnter:d,onMouseMove:b,onMouseLeave:f,onClick:g,tooltip:p},r)}))})}})}));ee.displayName="ChordArcs";var re=function(e){var r=e.arcs,t=e.radius,n=e.rotation,i=e.getColor,a=(0,o.Fg)(),c=(0,o.tf)(),u=c.animate,l=c.springConfig;return!0!==u?(0,s.jsx)(s.Fragment,{children:r.map((function(e){var r=i(e,a),c=(0,o.Vp)(e),u=(0,o.$t)(t,c,n);return(0,s.jsx)("text",{transform:"translate(".concat(u.x,", ").concat(u.y,") rotate(").concat(u.rotate,")"),style:H(H({},a.labels.text),{},{pointerEvents:"none",fill:r}),textAnchor:u.align,dominantBaseline:u.baseline,children:e.label},e.id)}))}):(0,s.jsx)(B.bg,{styles:r.map((function(e){var r=(0,o.Vp)(e);return{key:e.id,data:e,style:{angle:(0,B.ST)(r,l)}}})),children:function(e){return(0,s.jsx)(s.Fragment,{children:e.map((function(e){var r=e.key,c=e.style,u=e.data,l=i(u,a),d=(0,o.$t)(t,c.angle,n);return(0,s.jsx)("text",{transform:"translate(".concat(d.x,", ").concat(d.y,") rotate(").concat(d.rotate,")"),style:H(H({},a.labels.text),{},{pointerEvents:"none",fill:l}),textAnchor:d.align,dominantBaseline:d.baseline,children:u.label},r)}))})}})},te=function(e){var r=e.margin,t=e.width,c=e.height,u=e.keys,l=e.matrix,d=e.label,b=e.valueFormat,f=e.innerRadiusRatio,g=e.innerRadiusOffset,p=e.padAngle,h=e.layers,v=e.colors,y=e.arcBorderWidth,m=e.arcBorderColor,O=e.arcOpacity,A=e.arcHoverOpacity,M=e.arcHoverOthersOpacity,R=e.arcTooltip,x=e.ribbonBorderWidth,C=e.ribbonBorderColor,j=e.ribbonBlendMode,E=e.ribbonOpacity,k=e.ribbonHoverOpacity,w=e.ribbonHoverOthersOpacity,B=e.ribbonTooltip,S=e.enableLabel,T=e.labelOffset,q=e.labelRotation,L=e.labelTextColor,G=e.isInteractive,W=e.onArcMouseEnter,I=e.onArcMouseMove,F=e.onArcMouseLeave,P=e.onArcClick,V=e.onRibbonMouseEnter,N=e.onRibbonMouseMove,$=e.onRibbonMouseLeave,_=e.onRibbonClick,J=e.legends,Q=e.role,Y=(0,o.Bs)(t,c,r),K=Y.margin,Z=Y.innerWidth,te=Y.innerHeight,ne=Y.outerWidth,oe=Y.outerHeight,ie=D({keys:u,matrix:l,label:d,valueFormat:b,width:Z,height:te,innerRadiusRatio:f,innerRadiusOffset:g,padAngle:p,colors:v}),ae=ie.center,ce=ie.radius,ue=ie.arcGenerator,le=ie.ribbonGenerator,se=ie.arcs,de=ie.ribbons,be=U({arcs:se,arcOpacity:O,arcHoverOpacity:A,arcHoverOthersOpacity:M,ribbons:de,ribbonOpacity:E,ribbonHoverOpacity:k,ribbonHoverOthersOpacity:w}),fe=be.setCurrentArc,ge=be.setCurrentRibbon,pe=be.getArcOpacity,he=be.getRibbonOpacity,ve=(0,o.Fg)(),ye=(0,i.Bf)(L,ve),me=(0,i.Bf)(m,ve),Oe=(0,i.Bf)(C,ve),Ae=z({center:ae,radius:ce,arcs:se,arcGenerator:ue,ribbons:de,ribbonGenerator:le});if(ce<=0)return null;var Me=se.map((function(e){return{id:e.id,label:e.label,color:e.color}})),Re={ribbons:(0,s.jsx)("g",{transform:"translate(".concat(ae[0],", ").concat(ae[1],")"),children:(0,s.jsx)(X,{ribbons:de,ribbonGenerator:le,borderWidth:x,getBorderColor:Oe,getOpacity:he,blendMode:j,setCurrent:ge,isInteractive:G,onMouseEnter:V,onMouseMove:N,onMouseLeave:$,onClick:_,tooltip:B})},"ribbons"),arcs:(0,s.jsx)("g",{transform:"translate(".concat(ae[0],", ").concat(ae[1],")"),children:(0,s.jsx)(ee,{arcs:se,arcGenerator:ue,borderWidth:y,getBorderColor:me,getOpacity:pe,setCurrent:fe,isInteractive:G,onMouseEnter:W,onMouseMove:I,onMouseLeave:F,onClick:P,tooltip:R})},"arcs"),labels:null,legends:(0,s.jsx)(n.Fragment,{children:J.map((function(e,r){return(0,s.jsx)(a.$6,H(H({},e),{},{containerWidth:Z,containerHeight:te,data:Me,theme:ve}),r)}))},"legends")};return!0===S&&(Re.labels=(0,s.jsx)("g",{transform:"translate(".concat(ae[0],", ").concat(ae[1],")"),children:(0,s.jsx)(re,{arcs:se,radius:ce+T,rotation:q,getColor:ye})},"labels")),(0,s.jsx)(o.tM,{width:ne,height:oe,margin:K,theme:ve,role:Q,children:h.map((function(e,r){return void 0!==Re[e]?Re[e]:"function"==typeof e?(0,s.jsx)(n.Fragment,{children:e(Ae)},r):null}))})};te.defaultProps=F;var ne=(0,o.li)(te),oe=function(e){var r=e.event,t=e.canvasEl,n=e.center,i=e.margin,a=e.radius,c=e.innerRadius,u=e.arcs,l=N((0,o.P6)(t,r),2),s=l[0],d=l[1],b=i.left+n[0],f=i.top+n[1];return(0,S.oO)(b,f,a,c,u,s,d)},ie=(0,n.memo)((function(e){var r=e.pixelRatio,t=e.margin,c=e.width,u=e.height,d=e.keys,b=e.matrix,f=e.label,g=e.valueFormat,p=e.innerRadiusRatio,h=e.innerRadiusOffset,v=e.padAngle,y=e.layers,m=e.colors,O=e.arcBorderWidth,A=e.arcBorderColor,M=e.arcOpacity,R=e.arcHoverOpacity,x=e.arcHoverOthersOpacity,C=e.arcTooltip,j=e.ribbonBorderWidth,E=e.ribbonBorderColor,k=e.ribbonOpacity,w=e.ribbonHoverOpacity,B=e.ribbonHoverOthersOpacity,S=e.enableLabel,T=e.labelOffset,q=e.labelRotation,L=e.labelTextColor,G=e.isInteractive,W=e.onArcMouseEnter,I=e.onArcMouseMove,F=e.onArcMouseLeave,P=e.onArcClick,V=e.legends,N=(0,n.useRef)(null),$=(0,o.Bs)(c,u,t),_=$.innerWidth,J=$.innerHeight,Q=$.outerWidth,Y=$.outerHeight,K=$.margin,X=D({keys:d,matrix:b,label:f,valueFormat:g,width:_,height:J,innerRadiusRatio:p,innerRadiusOffset:h,padAngle:v,colors:m}),Z=X.center,ee=X.radius,re=X.innerRadius,te=X.arcGenerator,ne=X.ribbonGenerator,ie=X.arcs,ae=X.ribbons,ce=U({arcs:ie,arcOpacity:M,arcHoverOpacity:R,arcHoverOthersOpacity:x,ribbons:ae,ribbonOpacity:k,ribbonHoverOpacity:w,ribbonHoverOthersOpacity:B}),ue=ce.currentArc,le=ce.setCurrentArc,se=ce.getArcOpacity,de=ce.getRibbonOpacity,be=(0,o.Fg)(),fe=(0,i.Bf)(L,be),ge=(0,i.Bf)(A,be),pe=(0,i.Bf)(E,be),he=z({center:Z,radius:ee,arcs:ie,arcGenerator:te,ribbons:ae,ribbonGenerator:ne});(0,n.useEffect)((function(){N.current.width=Q*r,N.current.height=Y*r;var e=N.current.getContext("2d");e.scale(r,r),e.fillStyle=be.background,e.fillRect(0,0,Q,Y),ee<=0||y.forEach((function(r){if("ribbons"===r&&(e.save(),e.translate(K.left+Z[0],K.top+Z[1]),ne.context(e),ae.forEach((function(r){e.save(),e.globalAlpha=de(r),e.fillStyle=r.source.color,e.beginPath(),ne(r),e.fill(),j>0&&(e.strokeStyle=pe(H(H({},r),{},{color:r.source.color})),e.lineWidth=j,e.stroke()),e.restore()})),e.restore()),"arcs"===r&&(e.save(),e.translate(K.left+Z[0],K.top+Z[1]),te.context(e),ie.forEach((function(r){e.save(),e.globalAlpha=se(r),e.fillStyle=r.color,e.beginPath(),te(r),e.fill(),O>0&&(e.strokeStyle=ge(r),e.lineWidth=O,e.stroke()),e.restore()})),e.restore()),"labels"===r&&!0===S&&(e.save(),e.translate(K.left+Z[0],K.top+Z[1]),e.font="".concat(be.labels.text.fontSize,"px ").concat(be.labels.text.fontFamily||"sans-serif"),ie.forEach((function(r){var t=(0,o.Vp)(r),n=(0,o.$t)(ee+T,t,q);e.save(),e.translate(n.x,n.y),e.rotate((0,o.Ht)(n.rotate)),e.textAlign=n.align,e.textBaseline=n.baseline,e.fillStyle=fe(r,be),e.fillText(r.label,0,0),e.restore()})),e.restore()),"legends"===r){e.save(),e.translate(K.left,K.top);var t=ie.map((function(e){return{id:e.id,label:e.label,color:e.color}}));V.forEach((function(r){(0,a.as)(e,H(H({},r),{},{data:t,containerWidth:_,containerHeight:J,theme:be}))})),e.restore()}"function"==typeof r&&r(e,he)}))}),[N,_,J,Q,Y,K,r,be,y,ie,te,se,O,ge,ae,ne,de,j,pe,S,T,q,fe,V,he]);var ve=(0,l.lL)(),ye=ve.showTooltipFromEvent,me=ve.hideTooltip,Oe=(0,n.useCallback)((function(e){var r=oe({event:e,canvasEl:N.current,center:Z,margin:K,radius:ee,innerRadius:re,arcs:ie});r?(le(r),ye((0,n.createElement)(C,{arc:r}),e),!ue&&W&&W(r,e),I&&I(r,e),ue&&ue.id!==r.id&&F&&F(r,e)):(le(null),me(),ue&&F&&F(ue,e))}),[N,Z,K,ee,re,ie,le,ye,me,W,I,F]),Ae=(0,n.useCallback)((function(){le(null),me()}),[le,me]),Me=(0,n.useCallback)((function(e){if(P){var r=oe({event:e,canvasEl:N.current,center:Z,margin:K,radius:ee,innerRadius:re,arcs:ie});r&&P(r,e)}}),[N,Z,K,ee,re,ie,P]);return(0,s.jsx)("canvas",{ref:N,width:Q*r,height:Y*r,style:{width:Q,height:Y,cursor:G?"auto":"normal"},onMouseEnter:G?Oe:void 0,onMouseMove:G?Oe:void 0,onMouseLeave:G?Ae:void 0,onClick:G?Me:void 0})}));ie.defaultProps=P;var ae=(0,o.li)(ie),ce=function(e){return(0,s.jsx)(o.d,{children:function(r){var t=r.width,n=r.height;return(0,s.jsx)(ne,H({width:t,height:n},e))}})},ue=function(e){return(0,s.jsx)(o.d,{children:function(r){var t=r.width,n=r.height;return(0,s.jsx)(ae,H({width:t,height:n},e))}})}},71024:function(e,r,t){"use strict";function n(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}t.d(r,{TS:function(){return c},w6:function(){return u}});1===(o=n).length&&(i=o,o=function(e,r){return n(i(e),r)});var o,i,a=Array.prototype;a.slice,a.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function c(e){for(var r,t,n,o=e.length,i=-1,a=0;++i<o;)a+=e[i].length;for(t=new Array(a);--o>=0;)for(r=(n=e[o]).length;--r>=0;)t[--a]=n[r];return t}function u(e,r,t){e=+e,r=+r,t=(o=arguments.length)<2?(r=e,e=0,1):o<3?1:+t;for(var n=-1,o=0|Math.max(0,Math.ceil((r-e)/t)),i=new Array(o);++n<o;)i[n]=e+n*t;return i}},25389:function(e,r,t){var n=t(88799),o=t(26194),i=t(89278);e.exports=function(e,r){var t={};return r=i(r,3),o(e,(function(e,o,i){n(t,o,r(e,o,i))})),t}}}]);
//# sourceMappingURL=1f68b3e64516d3ade5b605ae0c7db3cedc68dc17-d932e60ca46550c51010.js.map