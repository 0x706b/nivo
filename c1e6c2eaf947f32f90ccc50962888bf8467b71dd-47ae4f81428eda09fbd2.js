"use strict";(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[1909],{92345:function(e,t,n){n.d(t,{DQ:function(){return te},rN:function(){return ie},It:function(){return ee},tn:function(){return J},Gh:function(){return V},K0:function(){return z},PT:function(){return E}});var o=n(45434),r=n(47425),i=n(27378),a=n(24246),c=n(89193),d=n(6164),l=n(46806),u=n(4215),h=n.n(u),s=n(16651),f=n.n(s),g=n(96560),y=n.n(g),m=n(1274),v=n(60755),p=n(18957),b=n(51240);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var L,O=(0,i.memo)((function(e){var t=e.years,n=e.legend,o=e.theme;return(0,a.jsx)(a.Fragment,{children:t.map((function(e){return(0,a.jsx)("text",{transform:"translate(".concat(e.x,",").concat(e.y,") rotate(").concat(e.rotation,")"),textAnchor:"middle",style:o.labels.text,children:n(e.year)},e.year)}))})})),W=(0,i.memo)((function(e){var t=e.path,n=e.borderWidth,o=e.borderColor;return(0,a.jsx)("path",{d:t,style:{fill:"none",strokeWidth:n,stroke:o,pointerEvents:"none"}})})),k=(0,i.memo)((function(e){var t=e.months,n=e.legend,o=e.theme;return(0,a.jsx)(a.Fragment,{children:t.map((function(e){return(0,a.jsx)("text",{transform:"translate(".concat(e.x,",").concat(e.y,") rotate(").concat(e.rotation,")"),textAnchor:"middle",style:o.labels.text,children:n(e.year,e.month,e.date)},"".concat(e.date.toString(),".legend"))}))})})),C=(0,i.memo)((function(e){var t=e.data,n=e.x,o=e.y,r=e.size,d=e.color,l=e.borderWidth,u=e.borderColor,h=e.isInteractive,s=e.tooltip,f=e.onMouseEnter,g=e.onMouseMove,y=e.onMouseLeave,m=e.onClick,v=e.formatValue,p=(0,c.lL)(),b=p.showTooltipFromEvent,x=p.hideTooltip,S=(0,i.useCallback)((function(e){if("value"in t){var n=w(w({},t),{},{value:v(t.value),data:w({},t.data)});b((0,i.createElement)(s,w({},n)),e),null==f||f(t,e)}}),[b,s,t,f,v]),M=(0,i.useCallback)((function(e){if("value"in t){var n=w(w({},t),{},{value:v(t.value),data:w({},t.data)});b((0,i.createElement)(s,w({},n)),e),g&&g(t,e)}}),[b,s,t,g,v]),L=(0,i.useCallback)((function(e){"value"in t&&(x(),null==y||y(t,e))}),[x,t,y]),O=(0,i.useCallback)((function(e){return null==m?void 0:m(t,e)}),[t,m]);return(0,a.jsx)("rect",{x:n,y:o,width:r,height:r,style:{fill:d,strokeWidth:l,stroke:u},onMouseEnter:h?S:void 0,onMouseMove:h?M:void 0,onMouseLeave:h?L:void 0,onClick:h?O:void 0})})),j=(0,i.memo)((function(e){var t=e.value,n=e.day,o=e.color;return void 0===t||isNaN(Number(t))?null:(0,a.jsx)(c._5,{id:n,value:t,color:o,enableChip:!0})})),I=(0,d.i$)("%b"),P={colors:["#61cdbb","#97e3d5","#e8c1a0","#f47560"],align:"center",direction:"horizontal",emptyColor:"#fff",minValue:0,maxValue:"auto",yearSpacing:30,yearLegend:function(e){return e},yearLegendPosition:"before",yearLegendOffset:10,monthBorderWidth:2,monthBorderColor:"#000",monthSpacing:0,monthLegend:function(e,t,n){return I(n)},monthLegendPosition:"before",monthLegendOffset:10,daySpacing:0,dayBorderWidth:1,dayBorderColor:"#000",isInteractive:!0,legends:[],tooltip:j},z=w(w({},P),{},{role:"img"}),V=w(w({},P),{},{pixelRatio:"undefined"!=typeof window&&null!==(L=window.devicePixelRatio)&&void 0!==L?L:1}),E=w(w({},z),{},{dayBorderColor:"#fff",dayRadius:0,square:!0,weekdayLegendOffset:75});function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function D(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(d){r=!0,i=d}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var T=f()((function(e){var t,n=e.date,o=e.cellSize,r=e.yearIndex,i=e.yearSpacing,a=e.monthSpacing,c=e.daySpacing,d=e.direction,l=e.originX,u=e.originY,h=new Date(n.getFullYear(),n.getMonth()+1,0),s=m.OM.count((0,v.Z)(n),n),f=m.OM.count((0,v.Z)(h),h),g=n.getDay(),y=h.getDay(),p=l,b=u,x=r*(7*(o+c)+i),S=n.getMonth()*a;"horizontal"===d?(b+=x,p+=S):(b+=S,p+=x);var w={x:p,y:b,width:0,height:0};return"horizontal"===d?(t=["M".concat(p+(s+1)*(o+c),",").concat(b+g*(o+c)),"H".concat(p+s*(o+c),"V").concat(b+7*(o+c)),"H".concat(p+f*(o+c),"V").concat(b+(y+1)*(o+c)),"H".concat(p+(f+1)*(o+c),"V").concat(b),"H".concat(p+(s+1)*(o+c),"Z")].join(""),w.x=p+s*(o+c),w.width=p+(f+1)*(o+c)-w.x,w.height=7*(o+c)):(t=["M".concat(p+g*(o+c),",").concat(b+(s+1)*(o+c)),"H".concat(p,"V").concat(b+(f+1)*(o+c)),"H".concat(p+(y+1)*(o+c),"V").concat(b+f*(o+c)),"H".concat(p+7*(o+c),"V").concat(b+s*(o+c)),"H".concat(p+g*(o+c),"Z")].join(""),w.y=b+s*(o+c),w.width=7*(o+c),w.height=b+(f+1)*(o+c)-w.y),{path:t,bbox:w}}),(function(e){var t=e.date,n=e.cellSize,o=e.yearIndex,r=e.yearSpacing,i=e.monthSpacing,a=e.daySpacing,c=e.direction,d=e.originX,l=e.originY;return"".concat(t.toString(),".").concat(n,".").concat(o,".").concat(r,".").concat(i,".").concat(a,".").concat(c,".").concat(d,".").concat(l)})),A=(0,d.i$)("%Y-%m-%d"),R=function(e){var t,n=e.width,r=e.height,i=e.from,a=e.to,c=e.direction,d=e.yearSpacing,l=e.monthSpacing,u=e.daySpacing,s=e.align,f=y()(i)?i:new Date(i),g=y()(a)?a:new Date(a),x=h()(f.getFullYear(),g.getFullYear()+1),S=Math.max.apply(Math,F(x.map((function(e){return(0,m.vm)(new Date(e,0,1),new Date(e+1,0,1)).length}))))+1,M=function(e){var t,n,o=e.width,r=e.height,i=e.direction,a=e.yearRange,c=e.yearSpacing,d=e.monthSpacing,l=e.daySpacing,u=e.maxWeeks;return"horizontal"===i?(t=(o-12*d-l*u)/u,n=(r-(a.length-1)*c-a.length*(8*l))/(7*a.length)):(t=(o-(a.length-1)*c-a.length*(8*l))/(7*a.length),n=(r-12*d-l*u)/u),Math.min(t,n)}({width:n,height:r,direction:c,yearRange:x,yearSpacing:d,monthSpacing:l,daySpacing:u,maxWeeks:S}),L=M*S+u*S+12*l,O=7*(M+u)*x.length+d*(x.length-1),W="horizontal"===c?L:O,k="horizontal"===c?O:L,C=B((0,o.fH)({x:0,y:0,width:W,height:k},{x:0,y:0,width:n,height:r},s),2),j=C[0],I=C[1];t="horizontal"===c?function(e,t,n,o){return function(r,i,a,c){return{x:r+m.OM.count((0,v.Z)(a),a)*(e+o)+o/2+a.getMonth()*n,y:i+a.getDay()*(e+o)+o/2+c*(t+7*(e+o))}}}(M,d,l,u):function(e,t,n,o){return function(r,i,a,c){var d=m.OM.count((0,v.Z)(a),a);return{x:r+a.getDay()*(e+o)+o/2+c*(t+7*(e+o)),y:i+d*(e+o)+o/2+a.getMonth()*n}}}(M,d,l,u);var P=[],z=[],V=[];return x.forEach((function(e,n){var o=new Date(e,0,1),r=new Date(e+1,0,1);V=V.concat((0,p.a)(o,r).map((function(e){return w({date:e,day:A(e),size:M},t(j,I,e,n))})));var i=(0,b.e)(o,r).map((function(e){return w({date:e,year:e.getFullYear(),month:e.getMonth()},T({originX:j,originY:I,date:e,direction:c,yearIndex:n,yearSpacing:d,monthSpacing:l,daySpacing:u,cellSize:M}))}));z=z.concat(i),P.push({year:e,bbox:{x:i[0].bbox.x,y:i[0].bbox.y,width:i[11].bbox.x-i[0].bbox.x+i[11].bbox.width,height:i[11].bbox.y-i[0].bbox.y+i[11].bbox.height}})})),{years:P,months:z,days:V,cellSize:M,calendarWidth:W,calendarHeight:k,originX:j,originY:I}},Y=function(e){var t=e.width,n=e.height,o=e.from,r=e.to,a=e.direction,c=e.yearSpacing,d=e.monthSpacing,l=e.daySpacing,u=e.align;return(0,i.useMemo)((function(){return R({width:t,height:n,from:o,to:r,direction:a,yearSpacing:c,monthSpacing:d,daySpacing:l,align:u})}),[t,n,o,r,a,c,d,l,u])},_=function(e){var t=e.data,n=e.minValue,o=e.maxValue,r=e.colors,a=e.colorScale;return(0,i.useMemo)((function(){if(a)return a;var e=function(e,t,n){var o=e.map((function(e){return e.value}));return["auto"===t?Math.min.apply(Math,F(o)):t,"auto"===n?Math.max.apply(Math,F(o)):n]}(t,n,o);return(0,l.Z)().domain(e).range(r)}),[t,n,o,r,a])},Z=function(e){var t=e.years,n=e.direction,o=e.yearLegendPosition,r=e.yearLegendOffset;return(0,i.useMemo)((function(){return function(e){var t=e.years,n=e.direction,o=e.position,r=e.offset;return t.map((function(e){var t=0,i=0,a=0;return"horizontal"===n&&"before"===o?(t=e.bbox.x-r,i=e.bbox.y+e.bbox.height/2,a=-90):"horizontal"===n&&"after"===o?(t=e.bbox.x+e.bbox.width+r,i=e.bbox.y+e.bbox.height/2,a=-90):"vertical"===n&&"before"===o?(t=e.bbox.x+e.bbox.width/2,i=e.bbox.y-r):(t=e.bbox.x+e.bbox.width/2,i=e.bbox.y+e.bbox.height+r),w(w({},e),{},{x:t,y:i,rotation:a})}))}({years:t,direction:n,position:o,offset:r})}),[t,n,o,r])},$=function(e){var t=e.months,n=e.direction,o=e.monthLegendPosition,r=e.monthLegendOffset;return(0,i.useMemo)((function(){return function(e){var t=e.months,n=e.direction,o=e.position,r=e.offset;return t.map((function(e){var t=0,i=0,a=0;return"horizontal"===n&&"before"===o?(t=e.bbox.x+e.bbox.width/2,i=e.bbox.y-r):"horizontal"===n&&"after"===o?(t=e.bbox.x+e.bbox.width/2,i=e.bbox.y+e.bbox.height+r):"vertical"===n&&"before"===o?(t=e.bbox.x-r,i=e.bbox.y+e.bbox.height/2,a=-90):(t=e.bbox.x+e.bbox.width+r,i=e.bbox.y+e.bbox.height/2,a=-90),w(w({},e),{},{x:t,y:i,rotation:a})}))}({months:t,direction:n,position:o,offset:r})}),[t,n,o,r])},q=function(e){var t=e.days,n=e.data,o=e.colorScale,r=e.emptyColor;return(0,i.useMemo)((function(){return function(e){var t=e.days,n=e.data,o=e.colorScale,r=e.emptyColor;return t.map((function(e){var t=n.find((function(t){return t.day===e.day}));return w(w({},e),{},t?{color:o(t.value),data:t,value:t.value}:{color:r})}))}({days:t,data:n,colorScale:o,emptyColor:r})}),[t,n,o,r])},N=function(e){var t=e.margin,n=e.width,i=e.height,c=e.align,d=void 0===c?z.align:c,l=e.colors,u=void 0===l?z.colors:l,h=e.colorScale,s=e.data,f=e.direction,g=void 0===f?z.direction:f,y=e.emptyColor,m=void 0===y?z.emptyColor:y,v=e.from,p=e.to,b=e.minValue,x=void 0===b?z.minValue:b,S=e.maxValue,L=void 0===S?z.maxValue:S,j=e.valueFormat,I=e.legendFormat,P=e.yearLegend,V=void 0===P?z.yearLegend:P,E=e.yearLegendOffset,H=void 0===E?z.yearLegendOffset:E,D=e.yearLegendPosition,B=void 0===D?z.yearLegendPosition:D,F=e.yearSpacing,T=void 0===F?z.yearSpacing:F,A=e.monthBorderColor,R=void 0===A?z.monthBorderColor:A,N=e.monthBorderWidth,X=void 0===N?z.monthBorderWidth:N,G=e.monthLegend,K=void 0===G?z.monthLegend:G,Q=e.monthLegendOffset,U=void 0===Q?z.monthLegendOffset:Q,J=e.monthLegendPosition,ee=void 0===J?z.monthLegendPosition:J,te=e.monthSpacing,ne=void 0===te?z.monthSpacing:te,oe=e.dayBorderColor,re=void 0===oe?z.dayBorderColor:oe,ie=e.dayBorderWidth,ae=void 0===ie?z.dayBorderWidth:ie,ce=e.daySpacing,de=void 0===ce?z.daySpacing:ce,le=e.isInteractive,ue=void 0===le?z.isInteractive:le,he=e.tooltip,se=void 0===he?z.tooltip:he,fe=e.onClick,ge=e.onMouseEnter,ye=e.onMouseLeave,me=e.onMouseMove,ve=e.legends,pe=void 0===ve?z.legends:ve,be=e.role,xe=void 0===be?z.role:be,Se=(0,o.Fg)(),we=(0,o.Bs)(n,i,t),Me=we.margin,Le=we.innerWidth,Oe=we.innerHeight,We=we.outerWidth,ke=we.outerHeight,Ce=Y({width:Le,height:Oe,from:v,to:p,direction:g,yearSpacing:T,monthSpacing:ne,daySpacing:de,align:d}),je=Ce.months,Ie=Ce.years,Pe=M(Ce,["months","years"]),ze=_({data:s,minValue:x,maxValue:L,colors:u,colorScale:h}),Ve=$({months:je,direction:g,monthLegendPosition:ee,monthLegendOffset:U}),Ee=Z({years:Ie,direction:g,yearLegendPosition:B,yearLegendOffset:H}),He=q({days:Pe.days,data:s,colorScale:ze,emptyColor:m}),De=(0,o.O_)(I),Be=(0,o.O_)(j);return(0,a.jsxs)(o.tM,{width:We,height:ke,margin:Me,role:xe,children:[He.map((function(e){return(0,a.jsx)(C,{data:e,x:e.x,y:e.y,size:e.size,color:e.color,borderWidth:ae,borderColor:re,onMouseEnter:ge,onMouseLeave:ye,onMouseMove:me,isInteractive:ue,tooltip:se,onClick:fe,formatValue:Be},e.date.toString())})),je.map((function(e){return(0,a.jsx)(W,{path:e.path,borderWidth:X,borderColor:R},e.date.toString())})),(0,a.jsx)(k,{months:Ve,legend:K,theme:Se}),(0,a.jsx)(O,{years:Ee,legend:V,theme:Se}),pe.map((function(e,t){var o=ze.ticks(e.itemCount).map((function(e){return{id:e,label:De(e),color:ze(e)}}));return(0,a.jsx)(r.$6,w(w({},e),{},{containerWidth:n,containerHeight:i,data:o}),t)}))]})},X=function(e){var t=e.isInteractive,n=void 0===t?z.isInteractive:t,r=e.renderWrapper,i=e.theme,c=M(e,["isInteractive","renderWrapper","theme"]);return(0,a.jsx)(o.W2,{isInteractive:n,renderWrapper:r,theme:i,children:(0,a.jsx)(N,w({isInteractive:n},c))})},G=(0,d.i$)("%Y-%m-%d");var K=function(e){var t=e.direction,n=e.colorScale,o=e.emptyColor,r=e.from,i=e.to,a=e.data,c=e.cellWidth,d=e.cellHeight,l=e.daySpacing,u=e.offset,h=l,s=l;"horizontal"===t?h+=u:s+=u;var f=r||a[0].date,g=i||a[a.length-1].date,v=y()(f)?f:new Date(f),b=y()(g)?g:new Date(g),x=(0,p.a)(v,b).map((function(e){return{date:e,day:G(e)}})).map((function(e){var r=a.find((function(t){return t.day===e.day})),i=function(e){var t=e.startDate,n=e.date,o=e.direction,r=m.OM.count(t,n),i=n.getMonth(),a=n.getFullYear(),c=0,d=0;return"horizontal"===o?(c=r,d=n.getDay()):(c=n.getDay(),d=r),{currentColumn:c,year:a,currentRow:d,firstWeek:r,month:i,date:n}}({startDate:v,date:e.date,direction:t}),u=i.currentColumn,f=i.currentRow,g=i.firstWeek,y=i.year,p=i.month,b=i.date,x={x:h+l*u+c*u,y:s+l*f+d*f};return r?w(w({},r),{},{coordinates:x,firstWeek:g,month:p,year:y,date:b,color:n(r.value),width:c,height:d}):w(w({},e),{},{coordinates:x,firstWeek:g,month:p,year:y,date:b,color:o,width:c,height:d})}));return x},Q=(0,i.memo)((function(e){var t=e.data,n=e.x,o=e.ry,r=void 0===o?5:o,d=e.rx,l=void 0===d?5:d,u=e.y,h=e.width,s=e.height,f=e.color,g=e.borderWidth,y=e.borderColor,m=e.isInteractive,v=e.tooltip,p=e.onMouseEnter,b=e.onMouseMove,x=e.onMouseLeave,S=e.onClick,M=e.formatValue,L=(0,c.lL)(),O=L.showTooltipFromEvent,W=L.hideTooltip,k=(0,i.useCallback)((function(e){if("value"in t){var n=w(w({},t),{},{value:M(t.value)});O((0,i.createElement)(v,w({},n)),e),null==p||p(t,e)}}),[O,v,t,p,M]),C=(0,i.useCallback)((function(e){if("value"in t){var n=w(w({},t),{},{value:M(t.value)});O((0,i.createElement)(v,w({},n)),e),null==b||b(t,e)}}),[O,v,t,b,M]),j=(0,i.useCallback)((function(e){"value"in t&&(W(),null==x||x(t,e))}),[W,t,x]),I=(0,i.useCallback)((function(e){return null==S?void 0:S(t,e)}),[t,S]);return(0,a.jsx)("rect",{x:n,y:u,rx:l,ry:r,width:h,height:s,style:{fill:f,strokeWidth:g,stroke:y},onMouseEnter:m?k:void 0,onMouseMove:m?C:void 0,onMouseLeave:m?j:void 0,onClick:m?I:void 0})})),U=function(e){var t=e.margin,n=e.width,c=e.height,d=e.square,l=void 0===d?E.square:d,u=e.colors,h=void 0===u?E.colors:u,s=e.colorScale,f=e.emptyColor,g=void 0===f?E.emptyColor:f,m=e.from,v=e.to,b=e.data,x=e.direction,S=void 0===x?E.direction:x,M=e.minValue,L=void 0===M?E.minValue:M,O=e.maxValue,W=void 0===O?E.maxValue:O,C=e.valueFormat,j=e.legendFormat,I=e.monthLegend,P=void 0===I?E.monthLegend:I,z=e.monthLegendOffset,V=void 0===z?E.monthLegendOffset:z,H=e.monthLegendPosition,D=void 0===H?E.monthLegendPosition:H,B=e.weekdayLegendOffset,F=void 0===B?E.weekdayLegendOffset:B,T=e.weekdayTicks,A=e.dayBorderColor,R=void 0===A?E.dayBorderColor:A,Y=e.dayBorderWidth,Z=void 0===Y?E.dayBorderWidth:Y,q=e.daySpacing,N=void 0===q?E.daySpacing:q,X=e.dayRadius,G=void 0===X?E.dayRadius:X,U=e.isInteractive,J=void 0===U?E.isInteractive:U,ee=e.tooltip,te=void 0===ee?E.tooltip:ee,ne=e.onClick,oe=e.onMouseEnter,re=e.onMouseLeave,ie=e.onMouseMove,ae=e.legends,ce=void 0===ae?E.legends:ae,de=e.role,le=void 0===de?E.role:de,ue=(0,o.Bs)(n,c,t),he=ue.margin,se=ue.innerWidth,fe=ue.innerHeight,ge=ue.outerWidth,ye=ue.outerHeight,me=(0,i.useMemo)((function(){return b.map((function(e){return w(w({},e),{},{date:new Date("".concat(e.day,"T00:00:00"))})})).sort((function(e,t){return e.day.localeCompare(t.day)}))}),[b]),ve=(0,o.Fg)(),pe=_({data:me,minValue:L,maxValue:W,colors:h,colorScale:s}),be=function(e){var t,n,o=e.from,r=e.to,i=e.data;return t=o?y()(o)?o:new Date(o):i[0].date,n=o&&r?y()(r)?r:new Date(r):i[i.length-1].date,t.getDay()+p.Z.count(t,n)}({from:m,to:v,data:me}),xe=function(e){var t,n,o=e.direction,r=e.daySpacing,i=e.offset,a=e.square,c=e.totalDays,d=e.width,l=e.height;"horizontal"===o?(d-=i,t=7,n=Math.ceil(c/7)):(l-=i,n=7,t=Math.ceil(c/7));var u=(l-r*(t+1))/t,h=(d-r*(n+1))/n,s=Math.min(u,h);return{columns:n,rows:t,cellHeight:a?s:u,cellWidth:a?s:h}}({square:l,offset:F,totalDays:be,width:se,height:fe,daySpacing:N,direction:S}),Se=xe.cellHeight,we=xe.cellWidth,Me=K({offset:F,colorScale:pe,emptyColor:g,cellHeight:Se,cellWidth:we,from:m,to:v,data:me,direction:S,daySpacing:N}),Le=Object.values(function(e){var t=e.direction,n=e.daySpacing,o=e.days,r=e.cellHeight,i=e.cellWidth;return o.reduce((function(e,o){if(e.weeks.length===o.firstWeek){e.weeks.push(o);var a="".concat(o.year,"-").concat(o.month);if(Object.keys(e.months).includes(a))"horizontal"===t?e.months[a].bbox.width=(o.firstWeek-e.months[a].firstWeek)*(i+n):e.months[a].bbox.height=(o.firstWeek-e.months[a].firstWeek)*(r+n);else{var c={x:0,y:0,width:0,height:0};"horizontal"===t?(c.x=o.coordinates.x-n,c.height=r+n,c.width=i+2*n):(c.y=o.coordinates.y-n,c.height=r+2*n,c.width=i+2*n),e.months[a]={date:o.date,bbox:c,firstWeek:o.firstWeek,month:0,year:0}}}return e}),{months:{},weeks:[]})}({daySpacing:N,direction:S,cellHeight:Se,cellWidth:we,days:Me}).months),Oe=function(e){var t=e.cellHeight,n=e.cellWidth,o=e.direction,r=e.daySpacing,i=e.ticks,a=void 0===i?[1,3,5]:i,c=e.arrayOfWeekdays,d=void 0===c?["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]:c,l=n+r,u=t+r;return a.map((function(e){return{value:d[e],rotation:"horizontal"===o?0:-90,y:"horizontal"===o?u*(e+1)-u/3:0,x:"horizontal"===o?0:l*(e+1)-l/3}}))}({direction:S,cellHeight:Se,cellWidth:we,daySpacing:N,ticks:T}),We=$({months:Le,direction:S,monthLegendPosition:D,monthLegendOffset:V}),ke=(0,o.O_)(C),Ce=(0,o.O_)(j);return(0,a.jsxs)(o.tM,{width:ge,height:ye,margin:he,role:le,children:[Oe.map((function(e){return(0,a.jsx)("text",{transform:"translate(".concat(e.x,",").concat(e.y,") rotate(").concat(e.rotation,")"),textAnchor:"left",style:ve.labels.text,children:e.value},e.value)})),Me.map((function(e){return(0,a.jsx)(Q,{data:e,x:e.coordinates.x,rx:G,y:e.coordinates.y,ry:G,width:we,height:Se,color:e.color,borderWidth:Z,borderColor:R,onMouseEnter:oe,onMouseLeave:re,onMouseMove:ie,isInteractive:J,tooltip:te,onClick:ne,formatValue:ke},e.date.toString())})),(0,a.jsx)(k,{months:We,legend:P,theme:ve}),ce.map((function(e,t){var o=pe.ticks(e.itemCount).map((function(e){return{id:e,label:Ce(e),color:pe(e)}}));return(0,a.jsx)(r.$6,w(w({},e),{},{containerWidth:n,containerHeight:c,data:o}),t)}))]})},J=function(e){var t=e.isInteractive,n=void 0===t?E.isInteractive:t,r=e.renderWrapper,i=e.theme,c=M(e,["isInteractive","renderWrapper","theme"]);return(0,a.jsx)(o.W2,{isInteractive:n,renderWrapper:r,theme:i,children:(0,a.jsx)(U,w({isInteractive:n},c))})},ee=function(e){return(0,a.jsx)(o.d,{children:function(t){var n=t.width,o=t.height;return(0,a.jsx)(J,w({width:n,height:o},e))}})},te=function(e){return(0,a.jsx)(o.d,{children:function(t){var n=t.width,o=t.height;return(0,a.jsx)(X,w({width:n,height:o},e))}})},ne=function(e,t,n,r,i,a){var c=B((0,o.P6)(t,e),2),d=c[0],l=c[1];return n.find((function(e){return"value"in e&&(0,o.zn)(e.x+a.left-i/2,e.y+a.top-i/2,r+i,r+i,d,l)}))},oe=(0,i.memo)((function(e){var t=e.margin,n=e.width,d=e.height,l=e.pixelRatio,u=void 0===l?V.pixelRatio:l,h=e.align,s=void 0===h?V.align:h,f=e.colors,g=void 0===f?V.colors:f,y=e.colorScale,m=e.data,v=e.direction,p=void 0===v?V.direction:v,b=e.emptyColor,x=void 0===b?V.emptyColor:b,S=e.from,L=e.to,O=e.minValue,W=void 0===O?V.minValue:O,k=e.maxValue,C=void 0===k?V.maxValue:k,j=e.valueFormat,I=e.legendFormat,P=e.yearLegend,z=void 0===P?V.yearLegend:P,E=e.yearLegendOffset,H=void 0===E?V.yearLegendOffset:E,D=e.yearLegendPosition,F=void 0===D?V.yearLegendPosition:D,T=e.yearSpacing,A=void 0===T?V.yearSpacing:T,R=e.monthLegend,N=void 0===R?V.monthLegend:R,X=e.monthLegendOffset,G=void 0===X?V.monthLegendOffset:X,K=e.monthLegendPosition,Q=void 0===K?V.monthLegendPosition:K,U=e.monthSpacing,J=void 0===U?V.monthSpacing:U,ee=e.dayBorderColor,te=void 0===ee?V.dayBorderColor:ee,oe=e.dayBorderWidth,re=void 0===oe?V.dayBorderWidth:oe,ie=e.daySpacing,ae=void 0===ie?V.daySpacing:ie,ce=e.isInteractive,de=void 0===ce?V.isInteractive:ce,le=e.tooltip,ue=void 0===le?V.tooltip:le,he=e.onClick,se=e.onMouseEnter,fe=e.onMouseLeave,ge=e.onMouseMove,ye=e.legends,me=void 0===ye?V.legends:ye,ve=(0,i.useRef)(null),pe=(0,o.Bs)(n,d,t),be=pe.innerWidth,xe=pe.innerHeight,Se=pe.outerWidth,we=pe.outerHeight,Me=pe.margin,Le=Y({width:be,height:xe,from:S,to:L,direction:p,yearSpacing:A,monthSpacing:J,daySpacing:ae,align:s}),Oe=Le.months,We=Le.years,ke=M(Le,["months","years"]),Ce=_({data:m,minValue:W,maxValue:C,colors:g,colorScale:y}),je=$({months:Oe,direction:p,monthLegendPosition:Q,monthLegendOffset:G}),Ie=Z({years:We,direction:p,yearLegendPosition:F,yearLegendOffset:H}),Pe=q({days:ke.days,data:m,colorScale:Ce,emptyColor:x}),ze=B((0,i.useState)(null),2),Ve=ze[0],Ee=ze[1],He=(0,o.Fg)(),De=(0,o.O_)(j),Be=(0,o.O_)(I),Fe=(0,c.lL)(),Te=Fe.showTooltipFromEvent,Ae=Fe.hideTooltip;(0,i.useEffect)((function(){var e;if(ve.current){ve.current.width=Se*u,ve.current.height=we*u;var t=ve.current.getContext("2d");t&&(t.scale(u,u),t.fillStyle=He.background,t.fillRect(0,0,Se,we),t.translate(Me.left,Me.top),Pe.forEach((function(e){t.fillStyle=e.color,re>0&&(t.strokeStyle=te,t.lineWidth=re),t.beginPath(),t.rect(e.x,e.y,e.size,e.size),t.fill(),re>0&&t.stroke()})),t.textAlign="center",t.textBaseline="middle",t.fillStyle=null!==(e=He.labels.text.fill)&&void 0!==e?e:"",t.font="".concat(He.labels.text.fontSize,"px ").concat(He.labels.text.fontFamily),je.forEach((function(e){t.save(),t.translate(e.x,e.y),t.rotate((0,o.Ht)(e.rotation)),t.fillText(String(N(e.year,e.month,e.date)),0,0),t.restore()})),Ie.forEach((function(e){t.save(),t.translate(e.x,e.y),t.rotate((0,o.Ht)(e.rotation)),t.fillText(String(z(e.year)),0,0),t.restore()})),me.forEach((function(e){var n=Ce.ticks(e.itemCount).map((function(e){return{id:e,label:Be(e),color:Ce(e)}}));(0,r.as)(t,w(w({},e),{},{data:n,containerWidth:be,containerHeight:xe,theme:He}))})))}}),[ve,xe,be,Se,we,u,Me,Pe,te,re,y,z,Ie,N,je,me,He,Be,Ce]);var Re=(0,i.useCallback)((function(e){if(ve.current){var t=ne(e,ve.current,Pe,Pe[0].size,re,Me);if(t){if(Ee(t),!("value"in t))return;var n=w(w({},t),{},{value:De(t.value),data:w({},t.data)});Te((0,i.createElement)(ue,w({},n)),e),!Ve&&(null==se||se(t,e)),null==ge||ge(t,e),Ve&&(null==fe||fe(t,e))}else Ae(),t&&(null==fe||fe(t,e))}}),[ve,Ve,Me,Pe,Ee,De,re,Te,Ae,se,ge,fe,ue]),Ye=(0,i.useCallback)((function(){Ee(null),Ae()}),[Ee,Ae]),_e=(0,i.useCallback)((function(e){if(he&&ve.current){var t=ne(e,ve.current,Pe,Pe[0].size,ae,Me);t&&he(t,e)}}),[ve,ae,Me,Pe,he]);return(0,a.jsx)("canvas",{ref:ve,width:Se*u,height:we*u,style:{width:Se,height:we},onMouseEnter:de?Re:void 0,onMouseMove:de?Re:void 0,onMouseLeave:de?Ye:void 0,onClick:de?_e:void 0})})),re=function(e){var t=e.isInteractive,n=void 0===t?V.isInteractive:t,r=e.renderWrapper,i=e.theme,c=M(e,["isInteractive","renderWrapper","theme"]);return(0,a.jsx)(o.W2,{isInteractive:n,renderWrapper:r,theme:i,children:(0,a.jsx)(oe,w({isInteractive:n},c))})},ie=function(e){return(0,a.jsx)(o.d,{children:function(t){var n=t.width,o=t.height;return(0,a.jsx)(re,w({width:n,height:o},e))}})}}}]);
//# sourceMappingURL=c1e6c2eaf947f32f90ccc50962888bf8467b71dd-47ae4f81428eda09fbd2.js.map