{"version":3,"sources":["webpack:///./src/data/components/scatterplot/generator.js","webpack:///../node_modules/lodash/_baseIsDate.js","webpack:///../node_modules/gatsby/node_modules/core-js/modules/es6.typed.uint32-array.js","webpack:///./src/data/components/scatterplot/props.js","webpack:///../packages/annotations/dist/nivo-annotations.esm.js","webpack:///./src/pages/scatterplot/canvas.js","webpack:///../node_modules/gatsby/node_modules/core-js/modules/es6.typed.int32-array.js","webpack:///../packages/axes/dist/nivo-axes.esm.js","webpack:///../node_modules/lodash/uniqBy.js","webpack:///../packages/scales/dist/nivo-scales.esm.js","webpack:///../packages/scatterplot/dist/nivo-scatterplot.esm.js","webpack:///../node_modules/lodash/filter.js","webpack:///../node_modules/lodash/_baseFilter.js","webpack:///../node_modules/lodash/isDate.js","webpack:///../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///../node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///../node_modules/delaunator/index.js","webpack:///../node_modules/d3-delaunay/src/path.js","webpack:///../node_modules/d3-delaunay/src/polygon.js","webpack:///../node_modules/d3-delaunay/src/voronoi.js","webpack:///../node_modules/d3-delaunay/src/delaunay.js","webpack:///../packages/voronoi/dist/nivo-voronoi.esm.js","webpack:///./src/data/components/scatterplot/mapper.js"],"names":["keys","ageRange","weightRange","generateData","size","map","key","id","data","range","i","x","random","y","generateLightDataSet","generateHeavyDataSet","baseGetTag","isObjectLike","dateTag","module","exports","value","init","byteOffset","length","this","props","group","help","description","required","type","controlType","controlOptions","disabled","choices","v","label","disabledValue","defaultValue","min","max","defaults","nodeSize","unit","enableControlForFlavors","step","flavors","colors","blendMode","layers","enableGridX","enableGridY","axesProperties","isInteractive","useMesh","debugMesh","getLegendsProps","shouldCreate","addLabel","shouldRemove","getItemTitle","index","legend","anchor","direction","justify","translateX","translateY","itemWidth","itemHeight","itemsSpacing","symbolSize","itemDirection","onClick","alert","JSON","stringify","motionProperties","groups","groupProperties","annotationSpecPropType","PropTypes","shape","match","oneOfType","func","object","isRequired","oneOf","noteX","number","abs","noteY","noteWidth","noteTextOffset","note","node","offset","defaultProps","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","defaultPositionAccessor","item","bindAnnotations","_ref","items","annotations","_ref$getPosition","getPosition","getDimensions","reduce","acc","annotation","filter","forEach","position","dimensions","push","target","arguments","source","ownKeys","getOwnPropertySymbols","concat","sym","getOwnPropertyDescriptor","_objectSpread","omit","datum","computeAnnotation","_ref2","computedNoteX","computedNoteY","width","height","_ref2$noteWidth","_ref2$noteTextOffset","isPlainObject","undefined","computedX","computedY","angle","sourceX","sourceY","targetX","targetY","Math","atan2","absoluteAngleDegrees","radiansToDegrees","getLinkAngle","positionFromAngle","degreesToRadians","eighth","round","textX","noteLineX","points","text","_objectSpread$1","_defineProperty$1","useAnnotations","useMemo","useComputedAnnotations","containerWidth","containerHeight","computed","_objectSpread$2","_defineProperty$2","AnnotationNote","memo","theme","useTheme","React","createElement","Fragment","outlineWidth","style","strokeLinejoin","strokeWidth","stroke","outlineColor","_defineProperty$3","displayName","AnnotationLink","isOutline","_useMotionConfig","useMotionConfig","animate","springConfig","link","_objectSpread$3","strokeLinecap","path","slice","point","SmartMotion","spring","d","interpolated","fill","_objectSpread$4","_defineProperty$4","CircleAnnotationOutline","Motion","outline","cx","cy","r","_objectSpread$5","_defineProperty$5","DotAnnotationOutline","symbol","_objectSpread$6","_defineProperty$6","RectAnnotationOutline","Annotation","_ref3","useComputedAnnotation","_slicedToArray","arr","Array","isArray","_arrayWithHoles","Symbol","iterator","prototype","toString","call","_arr","_n","_d","_e","_s","_i","next","done","err","_iterableToArrayLimit","TypeError","_nonIterableRest","drawPoints","ctx","moveTo","lineTo","renderAnnotationsToCanvas","save","lineCap","strokeStyle","lineWidth","beginPath","arc","PI","rect","fillStyle","font","fontSize","fontFamily","lineJoin","strokeText","fillText","restore","initialProperties","margin","top","right","bottom","left","xScale","xFormat","yScale","yFormat","pixelRatio","window","devicePixelRatio","ScatterPlotCanvasDefaultProps","axisTop","enable","orient","tickSize","tickPadding","tickRotation","legendOffset","axisRight","axisBottom","legendPosition","format","axisLeft","legends","symbolShape","effects","on","itemOpacity","ScatterPlotCanvas","name","meta","icon","currentFlavor","properties","defaultProperties","propertiesMapper","mapper","logAction","serieId","color","centerScale","scale","bandwidth","timeByType","millisecond","timeMillisecond","utcMillisecond","second","timeSecond","utcSecond","minute","timeMinute","utcMinute","hour","timeHour","utcHour","day","timeDay","utcDay","week","timeWeek","utcWeek","sunday","timeSunday","utcSunday","monday","timeMonday","utcMonday","tuesday","timeTuesday","utcTuesday","wednesday","timeWednesday","utcWednesday","thursday","timeThursday","utcThursday","friday","timeFriday","utcFriday","saturday","timeSaturday","utcSaturday","month","timeMonth","utcMonth","year","timeYear","utcYear","timeTypes","timeIntervalRegexp","RegExp","join","getScaleTicks","spec","ticks","isNumber","matches","timeType","useUTC","every","Number","Error","domain","computeCartesianTicks","translate","axis","ticksPosition","tickValues","_ref$engine","engine","values","textProps","textPropsByEngine","line","lineX","lineY","textY","textAlign","align","center","textBaseline","baseline","getFormatter","format$1","f","timeFormat","Date","computeGridLines","lines","_values","lineValues","lineCount","x1","x2","y1","y2","axisPropTypes","arrayOf","string","instanceOf","renderTick","axisPropType","_extends","assign","hasOwnProperty","apply","AxisTick","_value","opacity","rotate","_onClick","textAnchor","gStyle","transform","e","dominantBaseline","AxisTick$1","_extends$1","willEnter","willLeave","_ref$style","val","Axis","formatValue","_computeCartesianTick","legendNode","legendX","legendY","legendRotation","tick","tickIndex","xy","TransitionMotion","styles","interpolatedStyles","Axis$1","_extends$2","positions","Axes$1","axes","isXAxis","GridLine","GridLine$1","_extends$3","GridLines$1","lineWillEnter","lineWillLeave","interpolatedStyle","grid","Grid$1","xValues","yValues","xLines","yLines","degrees","renderAxisToCanvas","_ref$x","_ref$y","_ref$tickSize","_ref$tickPadding","_ref$tickRotation","_ref$legendPosition","_ref$legendOffset","_textAlign","fontWeight","positions$1","renderAxesToCanvas","renderGridLinesToCanvas","baseIteratee","baseUniq","array","iteratee","_precisionCutOffsByTy","linearScalePropTypes","stacked","bool","reverse","logScalePropTypes","base","pointScalePropTypes","timePrecisions","precisionCutOffs","date","setMilliseconds","setSeconds","setMinutes","setHours","setDate","setMonth","precisionCutOffsByType","createDateNormalizer","_ref$format","_ref$precision","precision","_ref$useUTC","precisionFn","cutOff","createPrecisionMethod","parseTime","utcParse","timeParse","timeScalePropTypes","_toConsumableArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","getOtherAxis","compareValues","a","b","compareDateValues","getTime","computeXYScalesForSeries","_series","xScaleSpec","yScaleSpec","series","serie","generateSeriesXY","stackX","stackY","computeScale","xStacked","yStacked","_ref$min","_ref$max","_ref$stacked","_ref$reverse","minValue","minStacked","maxValue","maxStacked","scaleLinear","rangeRound","linearScale","scalePoint","all","pointScale","normalize","scaleUtc","scaleTime","timeScale","sign","_ref$base","hasZero","some","hasMixedSign","scaleLog","nice","logScale","generateSeriesAxis","scaleSpec","_ref$getValue","getValue","_ref$setValue","setValue","parseFloat","uniq","sortBy","uniqBy","sort","last","stackAxis","otherType","otherAxis","compare","isDate","stack","find","stackValue","head","scalePropType","useNodeSize","isString","sizes","sizeScale","get","getNodeSizeGenerator","useScatterPlot","_useMemo","formatX","useValueFormatter","formatY","rawNodes","agg","formattedX","formattedY","computePoints","getNodeSize","getColor","useOrdinalColorScale","nodes","rawNode","legendData","Node$1","onMouseEnter","onMouseMove","onMouseLeave","mixBlendMode","Tooltip$1","BasicTooltip","enableChip","commonPropTypes","any","renderNode","ordinalColorsPropType","blendModePropType","tooltip","markers","LegendPropShape","commonDefaultProps","motionPropTypes","scheme","ScatterPlotDefaultProps","motionStiffness","motionDamping","global","NodeWrapper$1","NodeComponent","_useTooltip","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","useCallback","event","handleMouseMove","handleMouseLeave","handleClick","AnimatedNodes$1","ScatterPlotAnnotations","innerWidth","innerHeight","useScatterPlotAnnotations","StaticNodes$1","Mesh$1","debug","Mesh$2","ScatterPlot","partialMargin","gridXValues","gridYValues","_useDimensions","useDimensions","outerWidth","outerHeight","_useScatterPlot","customLayerProps","Nodes","layerById","Grid","Axes","CartesianMarkers","mesh","BoxLegendSvg","SvgWrapper","layer","ScatterPlot$1","withContainer","ResponsiveScatterPlot","ResponsiveWrapper","canvasEl","useRef","_useState2","useState","currentNode","setCurrentNode","_useVoronoiMesh","useVoronoiMesh","delaunay","voronoi","useEffect","current","getContext","background","fillRect","renderVoronoiToCanvas","renderVoronoiCellToCanvas","renderLegendToCanvas","getNodeFromMouseEvent","_getRelativeCursor2","getRelativeCursor","isCursorInRect","nodeIndex","handleMouseHover","ref","cursor","ScatterPlotCanvas$1","ResponsiveScatterPlotCanvas","arrayFilter","baseFilter","collection","predicate","baseEach","result","baseIsDate","baseUnary","nodeUtil","nodeIsDate","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","EPSILON","pow","EDGE_STACK","Uint32Array","Delaunator","coords","n","maxTriangles","_triangles","_halfedges","Int32Array","_hashSize","ceil","sqrt","_hullPrev","_hullNext","_hullTri","_hullHash","_ids","_dists","Float64Array","update","getX","defaultGetX","getY","defaultGetY","p","hullPrev","hullNext","hullTri","hullHash","minX","Infinity","minY","maxX","maxY","i0","i1","i2","minDist","dist","i0x","i0y","_i2","i1x","i1y","minRadius","_i3","circumradius","i2x","i2y","_i4","quicksort","hull","j","_i5","d0","subarray","triangles","halfedges","_i6","_x","_y","ax","ay","bx","by","dx","dy","ex","ey","bl","cl","circumcenter","_cx","_cy","_i7","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","k","_i8","_x2","_y2","start","_j","q","t","_legalize","_i9","floor","px","py","fx","fy","bp","cp","ar","a0","b0","al","p0","pr","pl","p1","ap","hbl","_link","br","c","qx","qy","rx","ry","ids","dists","temp","tempDist","_i10","_j2","swap","_temp","_tempDist","tmp","Path","_x0","_y0","_x1","_y1","_","x0","y0","w","h","Polygon","Voronoi","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","_this$delaunay","circumcenters","t1","t2","t3","x3","y3","a2","a3","b2","b3","d1","d2","d3","ab","context","buffer","_this$delaunay2","inedges","ti","tj","xi","yi","xj","yj","_renderSegment","h0","h1","_project","_clip","closePath","mark","cellPolygons","cell","wrap","_context","prev","cellPolygon","stop","polygon","renderCell","S","c0","_regioncode","c1","_clipSegment","_step","_this$delaunay3","e0","_cell","V","_clipInfinite","_clipFinite","e1","P","sx0","sy0","sx1","sy1","_S","_S2","_S3","_S4","_edgecode","_edge","contains","vx0","vy0","vxn","vyn","unshift","splice","vx","vy","_marked","flatIterable","tau","pointX","pointY","jitter","sin","cos","Delaunay","_delaunator","_hullIndex","area","collinear","bounds","hullIndex","_p","_n2","neighbors","l","indexOf","abrupt","dc","dt","renderHull","_h","t0","trianglePolygons","_context2","trianglePolygon","renderTriangle","flatArray","that","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step2","_context3","finish","Component","VoronoiDefaultProps","xDomain","yDomain","enableLinks","linkLineWidth","linkLineColor","enableCells","cellLineWidth","cellLineColor","enablePoints","pointSize","pointColor","Voronoi$1","renderBounds","links","render","cells","renderPoints","Container","compose","withTheme","withDimensions","withPropsOnChange","scaledPoints","pure","ResponsiveVoronoi","getAccessor","directive","points2d","computeMeshPoints","computeMesh","Mesh","elementRef","currentIndex","setCurrentIndex","voronoiPath","getIndexAndNodeFromEvent","_getIndexAndNodeFromE2","_getIndexAndNodeFromE4","previousNode","_getIndexAndNodeFromE6","globalAlpha","settingsMapper","mapAxis","exclude"],"mappings":"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","file":"component---src-pages-scatterplot-canvas-js-01d3b1489b4501123970.js","sourcesContent":["/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport range from 'lodash/range'\nimport random from 'lodash/random'\n\nconst keys = ['group A', 'group B', 'group C', 'group D', 'group E']\nconst ageRange = [0, 100]\nconst weightRange = [0, 120]\n\nconst generateData = size =>\n    keys.map(key => ({\n        id: key,\n        data: range(size).map(i => ({\n            x: random(ageRange[0], ageRange[1]),\n            y: random(weightRange[0], weightRange[1]),\n        })),\n    }))\n\nexport const generateLightDataSet = () => generateData(50)\n\nexport const generateHeavyDataSet = () => generateData(800)\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n/** `Object#toString` result references. */\n\n\nvar dateTag = '[object Date]';\n/**\n * The base implementation of `_.isDate` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n */\n\nfunction baseIsDate(value) {\n  return isObjectLike(value) && baseGetTag(value) == dateTag;\n}\n\nmodule.exports = baseIsDate;","require('./_typed-array')('Uint32', 4, function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { ScatterPlotDefaultProps as defaults } from '@nivo/scatterplot'\nimport {\n    axesProperties,\n    motionProperties,\n    getLegendsProps,\n    groupProperties,\n} from '../../../lib/componentProperties'\n\nconst props = [\n    {\n        key: 'data',\n        group: 'Base',\n        help: 'Chart data.',\n        description: `\n            Chart data, which must conform to this structure:\n            \\`\\`\\`\n            Array<{\n                id:   string | number\n                data: Array<{\n                    x: number | string | Date\n                    y: number | string | Date\n                }>\n            }>\n            \\`\\`\\`\n\n            Please note that you should adjust \\`xScale\\`\n            and \\`yScale\\` according to \\`x\\` and \\`y\\` type,\n            for example if you use dates, you should use\n            a \\`time\\` scale.\n        `,\n        required: true,\n    },\n    {\n        key: 'xScale',\n        type: 'object',\n        help: `X scale configuration.`,\n        group: 'Base',\n        controlType: 'object',\n        controlOptions: {\n            props: [\n                {\n                    key: 'type',\n                    help: `Scale type, supports linear, point and time scales.`,\n                    type: 'string',\n                    controlType: 'choices',\n                    controlOptions: {\n                        disabled: true,\n                        choices: ['linear'].map(v => ({\n                            label: v,\n                            value: v,\n                        })),\n                    },\n                },\n                {\n                    key: 'min',\n                    help: 'Minimum scale value.',\n                    required: false,\n                    type: `number | 'auto'`,\n                    controlType: 'switchableRange',\n                    controlOptions: {\n                        disabledValue: 'auto',\n                        defaultValue: 0,\n                        min: -2000,\n                        max: 2000,\n                    },\n                },\n                {\n                    key: 'max',\n                    help: 'Maximum scale value.',\n                    required: false,\n                    type: `number | 'auto'`,\n                    controlType: 'switchableRange',\n                    controlOptions: {\n                        disabledValue: 'auto',\n                        defaultValue: 1200,\n                        min: -2000,\n                        max: 2000,\n                    },\n                },\n            ],\n        },\n    },\n    {\n        key: 'xFormat',\n        group: 'Base',\n        type: 'string | Function',\n        help: 'Optional formatter for x values.',\n        description: `\n            The formatted value can then be used for labels & tooltips.\n\n            If you use a time scale, you must provide a time format\n            as values are converted to Date objects.\n            \n            Under the hood, nivo uses [d3-format](https://github.com/d3/d3-format),\n            please have a look at it for available formats, you can also pass a function\n            which will receive the raw value and should return the formatted one.\n        `,\n    },\n    {\n        key: 'yScale',\n        group: 'Base',\n        type: 'object',\n        help: `Y scale configuration.`,\n        controlType: 'object',\n        controlOptions: {\n            props: [\n                {\n                    key: 'type',\n                    help: `Scale type, supports linear, point and time scales.`,\n                    type: 'string',\n                    controlType: 'choices',\n                    controlOptions: {\n                        disabled: true,\n                        choices: ['linear'].map(v => ({\n                            label: v,\n                            value: v,\n                        })),\n                    },\n                },\n                {\n                    key: 'min',\n                    help: 'Minimum scale value.',\n                    required: false,\n                    type: `number | 'auto'`,\n                    controlType: 'switchableRange',\n                    controlOptions: {\n                        disabledValue: 'auto',\n                        defaultValue: 0,\n                        min: -2000,\n                        max: 2000,\n                    },\n                },\n                {\n                    key: 'max',\n                    help: 'Maximum scale value.',\n                    required: false,\n                    type: `number | 'auto'`,\n                    controlType: 'switchableRange',\n                    controlOptions: {\n                        disabledValue: 'auto',\n                        defaultValue: 1200,\n                        min: -2000,\n                        max: 2000,\n                    },\n                },\n            ],\n        },\n    },\n    {\n        key: 'yFormat',\n        group: 'Base',\n        type: 'string | Function',\n        help: 'Optional formatter for y values.',\n        description: `\n            The formatted value can then be used for labels & tooltips.\n\n            If you use a time scale, you must provide a time format\n            as values are converted to Date objects.\n            \n            Under the hood, nivo uses [d3-format](https://github.com/d3/d3-format),\n            please have a look at it for available formats, you can also pass a function\n            which will receive the raw value and should return the formatted one.\n        `,\n    },\n    {\n        key: 'nodeSize',\n        group: 'Base',\n        defaultValue: defaults.nodeSize,\n        type: 'number | object | Function',\n        help: `How to compute node size, static or dynamic.`,\n        description: `\n            If you provide a **number**, all nodes will have the same\n            **fixed size**.\n\n            You can also use an object to define a varying size,\n            it must conform to the following interface:\n\n            \\`\\`\\`\n            {\n                key:    string\n                values: [min: number, max: number]\n                sizes:  [min: number, max: number]\n            }\n            \\`\\`\\`\n\n            Then the size of each node will **depend on the value\n            of \\`key\\` and \\`sizes\\`**.\n\n            If you use a **custom function**, it will receive the current\n            node and must **return a number**.\n        `,\n        controlType: 'range',\n        controlOptions: {\n            unit: 'px',\n            min: 2,\n            max: 24,\n        },\n    },\n    {\n        key: 'width',\n        enableControlForFlavors: ['api'],\n        description: `\n            Not required if using\n            \\`Responsive*\\` component.\n            Also note that width exclude left/right axes,\n            please add margin to make sure they're visible.\n        `,\n        help: 'Chart width.',\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1000,\n            step: 5,\n        },\n    },\n    {\n        key: 'height',\n        enableControlForFlavors: ['api'],\n        description: `\n            Not required if using\n            \\`Responsive*\\` component.\n            Also note that width exclude top/bottom axes,\n            please add margin to make sure they're visible.\n        `,\n        help: 'Chart height.',\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1000,\n            step: 5,\n        },\n    },\n    {\n        key: 'pixelRatio',\n        flavors: ['canvas'],\n        help: `Adjust pixel ratio, useful for HiDPI screens.`,\n        required: false,\n        defaultValue: 'Depends on device',\n        type: `number`,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            min: 1,\n            max: 2,\n        },\n    },\n    {\n        key: 'margin',\n        help: 'Chart margin.',\n        type: 'object',\n        required: false,\n        controlType: 'margin',\n        group: 'Base',\n    },\n    {\n        key: 'colors',\n        group: 'Style',\n        help: 'Defines color range.',\n        type: 'string | Function | string[]',\n        required: false,\n        defaultValue: defaults.colors,\n        controlType: 'ordinalColors',\n    },\n    {\n        key: 'blendMode',\n        group: 'Style',\n        flavors: ['svg'],\n        help: 'Defines CSS mix-blend-mode property.',\n        description: `\n            Defines CSS \\`mix-blend-mode\\` property for nodes,\n            see\n            [MDN documentation](https://developer.mozilla.org/fr/docs/Web/CSS/mix-blend-mode).\n        `,\n        type: 'string',\n        required: false,\n        defaultValue: defaults.blendMode,\n        controlType: 'blendMode',\n    },\n    {\n        key: 'layers',\n        flavors: ['svg', 'canvas'],\n        group: 'Customization',\n        help: 'Defines the order of layers.',\n        description: `\n            Defines the order of layers, available layers are:\n            \\`grid\\`, \\`axes\\`, \\`points\\`, \\`markers\\`,\n            \\`mesh\\`, \\`legends\\`.\n\n            You can also use this to insert extra layers\n            to the chart.\n            \n            For \\`ScatterPlot\\`, the extra layer should be a component\n            and will receive current chart context as props.\n\n            If using \\`ScatterPlotCanvas\\`, the extra layer should be\n            a function and will receive canvas context as first argument\n            and current chart context object as second.\n        `,\n        required: false,\n        defaultValue: defaults.layers,\n    },\n    {\n        key: 'renderNode',\n        flavors: ['svg', 'canvas'],\n        group: 'Customization',\n        help: 'Override default node rendering.',\n    },\n    {\n        key: 'enableGridX',\n        help: 'Enable/disable x grid.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableGridX,\n        controlType: 'switch',\n        group: 'Grid & Axes',\n    },\n    {\n        key: 'gridXValues',\n        group: 'Grid & Axes',\n        help: 'Specify values to use for vertical grid lines.',\n        type: 'Array<number | string | Date>',\n        required: false,\n    },\n    {\n        key: 'enableGridY',\n        group: 'Grid & Axes',\n        help: 'Enable/disable y grid.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableGridY,\n        controlType: 'switch',\n    },\n    {\n        key: 'gridYValues',\n        group: 'Grid & Axes',\n        help: 'Specify values to use for horizontal grid lines.',\n        type: 'Array<number | string | Date>',\n        required: false,\n    },\n    ...axesProperties(),\n    {\n        key: 'isInteractive',\n        help: 'Enable/disable interactivity.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.isInteractive,\n        controlType: 'switch',\n        group: 'Interactivity',\n    },\n    {\n        key: 'useMesh',\n        group: 'Interactivity',\n        flavors: ['svg'],\n        help: 'Use a mesh to detect mouse interactions.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.useMesh,\n        controlType: 'switch',\n    },\n    {\n        key: 'debugMesh',\n        help: 'Display mesh used to detect mouse interactions (voronoi cells).',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.debugMesh,\n        controlType: 'switch',\n        group: 'Interactivity',\n    },\n    {\n        key: 'tooltip',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        type: 'Function',\n        required: false,\n        help: 'Custom tooltip component',\n        description: `\n            A function allowing complete tooltip customisation,\n            it must return a valid HTML element and will\n            receive the node as a property.\n            \n            You can also customize the tooltip style\n            using the \\`theme.tooltip\\` object.\n        `,\n    },\n    {\n        key: 'onMouseEnter',\n        group: 'Interactivity',\n        help: 'onMouseEnter handler, it receives target node data and mouse event.',\n        type: '(node, event) => void',\n        required: false,\n    },\n    {\n        key: 'onMouseMove',\n        group: 'Interactivity',\n        help: 'onMouseMove handler, it receives target node data and mouse event.',\n        type: '(node, event) => void',\n        required: false,\n    },\n    {\n        key: 'onMouseLeave',\n        group: 'Interactivity',\n        help: 'onMouseLeave handler, it receives target node data and mouse event.',\n        type: '(node, event) => void',\n        required: false,\n    },\n    {\n        key: 'onClick',\n        group: 'Interactivity',\n        help: 'onClick handler, it receives target node data and mouse event.',\n        type: '(node, event) => void',\n        required: false,\n    },\n    ,\n    {\n        key: 'legends',\n        group: 'Legends',\n        flavors: ['svg', 'canvas'],\n        type: 'object[]',\n        help: `Optional chart's legends.`,\n        controlType: 'array',\n        controlOptions: {\n            props: getLegendsProps(['svg', 'canvas']),\n            shouldCreate: true,\n            addLabel: 'add legend',\n            shouldRemove: true,\n            getItemTitle: (index, legend) =>\n                `legend[${index}]: ${legend.anchor}, ${legend.direction}`,\n            defaults: {\n                anchor: 'top-left',\n                direction: 'column',\n                justify: false,\n                translateX: 0,\n                translateY: 0,\n                itemWidth: 100,\n                itemHeight: 20,\n                itemsSpacing: 0,\n                symbolSize: 20,\n                itemDirection: 'left-to-right',\n                onClick: data => {\n                    alert(JSON.stringify(data, null, '    '))\n                },\n            },\n        },\n    },\n    ...motionProperties(['svg'], defaults),\n]\n\nexport const groups = groupProperties(props)\n","import React, { useMemo, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Motion, spring } from 'react-motion';\nimport { absoluteAngleDegrees, radiansToDegrees, positionFromAngle, degreesToRadians, useTheme, useMotionConfig, SmartMotion } from '@nivo/core';\nimport isPlainObject from 'lodash/isPlainObject';\nimport filter from 'lodash/filter';\nimport omit from 'lodash/omit';\n\nvar annotationSpecPropType = PropTypes.shape({\n  match: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  type: PropTypes.oneOf(['circle', 'rect', 'dot']).isRequired,\n  noteX: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    abs: PropTypes.number.isRequired\n  })]).isRequired,\n  noteY: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    abs: PropTypes.number.isRequired\n  })]).isRequired,\n  noteWidth: PropTypes.number,\n  noteTextOffset: PropTypes.number,\n  note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  offset: PropTypes.number\n});\nvar defaultProps = {\n  noteWidth: 120,\n  noteTextOffset: 8,\n  animate: true,\n  motionStiffness: 90,\n  motionDamping: 13\n};\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar defaultPositionAccessor = function defaultPositionAccessor(item) {\n  return {\n    x: item.x,\n    y: item.y\n  };\n};\nvar bindAnnotations = function bindAnnotations(_ref) {\n  var items = _ref.items,\n      annotations = _ref.annotations,\n      _ref$getPosition = _ref.getPosition,\n      getPosition = _ref$getPosition === void 0 ? defaultPositionAccessor : _ref$getPosition,\n      getDimensions = _ref.getDimensions;\n  return annotations.reduce(function (acc, annotation) {\n    filter(items, annotation.match).forEach(function (item) {\n      var position = getPosition(item);\n      var dimensions = getDimensions(item, annotation.offset || 0);\n      acc.push(_objectSpread({}, omit(annotation, ['match', 'offset']), position, dimensions, {\n        datum: item,\n        size: annotation.size || dimensions.size\n      }));\n    });\n    return acc;\n  }, []);\n};\nvar getLinkAngle = function getLinkAngle(sourceX, sourceY, targetX, targetY) {\n  var angle = Math.atan2(targetY - sourceY, targetX - sourceX);\n  return absoluteAngleDegrees(radiansToDegrees(angle));\n};\nvar computeAnnotation = function computeAnnotation(_ref2) {\n  var type = _ref2.type,\n      x = _ref2.x,\n      y = _ref2.y,\n      size = _ref2.size,\n      width = _ref2.width,\n      height = _ref2.height,\n      noteX = _ref2.noteX,\n      noteY = _ref2.noteY,\n      _ref2$noteWidth = _ref2.noteWidth,\n      noteWidth = _ref2$noteWidth === void 0 ? defaultProps.noteWidth : _ref2$noteWidth,\n      _ref2$noteTextOffset = _ref2.noteTextOffset,\n      noteTextOffset = _ref2$noteTextOffset === void 0 ? defaultProps.noteTextOffset : _ref2$noteTextOffset;\n  var computedNoteX;\n  var computedNoteY;\n  if (isPlainObject(noteX)) {\n    if (noteX.abs !== undefined) {\n      computedNoteX = noteX.abs;\n    }\n  } else {\n    computedNoteX = x + noteX;\n  }\n  if (isPlainObject(noteY)) {\n    if (noteY.abs !== undefined) {\n      computedNoteY = noteY.abs;\n    }\n  } else {\n    computedNoteY = y + noteY;\n  }\n  var computedX = x;\n  var computedY = y;\n  var angle = getLinkAngle(x, y, computedNoteX, computedNoteY);\n  if (type === 'circle') {\n    var position = positionFromAngle(degreesToRadians(angle), size / 2);\n    computedX += position.x;\n    computedY += position.y;\n  }\n  if (type === 'rect') {\n    var eighth = Math.round((angle + 90) / 45) % 8;\n    if (eighth === 0) {\n      computedY -= height / 2;\n    }\n    if (eighth === 1) {\n      computedX += width / 2;\n      computedY -= height / 2;\n    }\n    if (eighth === 2) {\n      computedX += width / 2;\n    }\n    if (eighth === 3) {\n      computedX += width / 2;\n      computedY += height / 2;\n    }\n    if (eighth === 4) {\n      computedY += height / 2;\n    }\n    if (eighth === 5) {\n      computedX -= width / 2;\n      computedY += height / 2;\n    }\n    if (eighth === 6) {\n      computedX -= width / 2;\n    }\n    if (eighth === 7) {\n      computedX -= width / 2;\n      computedY -= height / 2;\n    }\n  }\n  var textX = computedNoteX;\n  var textY = computedNoteY - noteTextOffset;\n  var noteLineX = computedNoteX;\n  var noteLineY = computedNoteY;\n  if ((angle + 90) % 360 > 180) {\n    textX -= noteWidth;\n    noteLineX -= noteWidth;\n  } else {\n    noteLineX += noteWidth;\n  }\n  return {\n    points: [[computedX, computedY], [computedNoteX, computedNoteY], [noteLineX, noteLineY]],\n    text: [textX, textY],\n    angle: angle + 90\n  };\n};\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar useAnnotations = function useAnnotations(_ref) {\n  var items = _ref.items,\n      annotations = _ref.annotations,\n      getPosition = _ref.getPosition,\n      getDimensions = _ref.getDimensions;\n  return useMemo(function () {\n    return bindAnnotations({\n      items: items,\n      annotations: annotations,\n      getPosition: getPosition,\n      getDimensions: getDimensions\n    });\n  }, [items, annotations, getPosition, getDimensions]);\n};\nvar useComputedAnnotations = function useComputedAnnotations(_ref2) {\n  var annotations = _ref2.annotations,\n      containerWidth = _ref2.containerWidth,\n      containerHeight = _ref2.containerHeight;\n  return useMemo(function () {\n    return annotations.map(function (annotation) {\n      return _objectSpread$1({}, annotation, {\n        computed: computeAnnotation(_objectSpread$1({\n          containerWidth: containerWidth,\n          containerHeight: containerHeight\n        }, annotation))\n      });\n    });\n  }, [annotations, containerWidth, containerHeight]);\n};\nvar useComputedAnnotation = function useComputedAnnotation(_ref3) {\n  var type = _ref3.type,\n      containerWidth = _ref3.containerWidth,\n      containerHeight = _ref3.containerHeight,\n      x = _ref3.x,\n      y = _ref3.y,\n      size = _ref3.size,\n      width = _ref3.width,\n      height = _ref3.height,\n      noteX = _ref3.noteX,\n      noteY = _ref3.noteY,\n      noteWidth = _ref3.noteWidth,\n      noteTextOffset = _ref3.noteTextOffset;\n  return useMemo(function () {\n    return computeAnnotation({\n      type: type,\n      containerWidth: containerWidth,\n      containerHeight: containerHeight,\n      x: x,\n      y: y,\n      size: size,\n      width: width,\n      height: height,\n      noteX: noteX,\n      noteY: noteY,\n      noteWidth: noteWidth,\n      noteTextOffset: noteTextOffset\n    });\n  }, [type, containerWidth, containerHeight, x, y, size, width, height, noteX, noteY, noteWidth, noteTextOffset]);\n};\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar AnnotationNote = memo(function (_ref) {\n  var datum = _ref.datum,\n      x = _ref.x,\n      y = _ref.y,\n      note = _ref.note;\n  var theme = useTheme();\n  if (typeof note === 'function') {\n    return note({\n      x: x,\n      y: y,\n      datum: datum\n    });\n  }\n  return React.createElement(React.Fragment, null, theme.annotations.text.outlineWidth > 0 && React.createElement(\"text\", {\n    x: x,\n    y: y,\n    style: _objectSpread$2({}, theme.annotations.text, {\n      strokeLinejoin: 'round',\n      strokeWidth: theme.annotations.text.outlineWidth * 2,\n      stroke: theme.annotations.text.outlineColor\n    })\n  }, note), React.createElement(\"text\", {\n    x: x,\n    y: y,\n    style: omit(theme.annotations.text, ['outlineWidth', 'outlineColor'])\n  }, note));\n});\nAnnotationNote.displayName = 'AnnotationNote';\nAnnotationNote.propTypes = {\n  datum: PropTypes.object.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired\n};\nAnnotationNote.defaultProps = {};\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$3(target, key, source[key]); }); } return target; }\nfunction _defineProperty$3(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar AnnotationLink = memo(function (_ref) {\n  var points = _ref.points,\n      isOutline = _ref.isOutline;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (isOutline && theme.annotations.link.outlineWidth <= 0) {\n    return null;\n  }\n  var style = _objectSpread$3({}, theme.annotations.link);\n  if (isOutline) {\n    style.strokeLinecap = 'square';\n    style.strokeWidth = theme.annotations.link.strokeWidth + theme.annotations.link.outlineWidth * 2;\n    style.stroke = theme.annotations.link.outlineColor;\n  }\n  var path = \"M\".concat(points[0][0], \",\").concat(points[0][1]);\n  points.slice(1).forEach(function (point) {\n    path = \"\".concat(path, \" L\").concat(point[0], \",\").concat(point[1]);\n  });\n  if (!animate) {\n    return React.createElement(\"path\", {\n      fill: \"none\",\n      d: path,\n      style: style\n    });\n  }\n  return React.createElement(SmartMotion, {\n    style: function style(spring) {\n      return {\n        d: spring(path, springConfig)\n      };\n    }\n  }, function (interpolated) {\n    return React.createElement(\"path\", {\n      fill: \"none\",\n      d: interpolated.d,\n      style: style\n    });\n  });\n});\nAnnotationLink.displayName = 'AnnotationLink';\nAnnotationLink.propTypes = {\n  points: PropTypes.arrayOf(PropTypes.array).isRequired,\n  isOutline: PropTypes.bool.isRequired\n};\nAnnotationLink.defaultProps = {\n  isOutline: false\n};\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$4(target, key, source[key]); }); } return target; }\nfunction _defineProperty$4(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar CircleAnnotationOutline = memo(function (_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (!animate) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"circle\", {\n      cx: x,\n      cy: y,\n      r: size / 2,\n      style: _objectSpread$4({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"circle\", {\n      cx: x,\n      cy: y,\n      r: size / 2,\n      style: theme.annotations.outline\n    }));\n  }\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x, springConfig),\n      y: spring(y, springConfig),\n      size: spring(size, springConfig)\n    }\n  }, function (interpolated) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"circle\", {\n      cx: interpolated.x,\n      cy: interpolated.y,\n      r: interpolated.size / 2,\n      style: _objectSpread$4({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"circle\", {\n      cx: interpolated.x,\n      cy: interpolated.y,\n      r: interpolated.size / 2,\n      style: theme.annotations.outline\n    }));\n  });\n});\nCircleAnnotationOutline.displayName = 'CircleAnnotationOutline';\nCircleAnnotationOutline.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired\n};\n\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$5(target, key, source[key]); }); } return target; }\nfunction _defineProperty$5(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar DotAnnotationOutline = memo(function (_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (!animate) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"circle\", {\n      cx: x,\n      cy: y,\n      r: size / 2,\n      style: _objectSpread$5({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"circle\", {\n      cx: x,\n      cy: y,\n      r: size / 2,\n      style: theme.annotations.symbol\n    }));\n  }\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x, springConfig),\n      y: spring(y, springConfig),\n      size: spring(size, springConfig)\n    }\n  }, function (interpolated) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"circle\", {\n      cx: interpolated.x,\n      cy: interpolated.y,\n      r: interpolated.size / 2,\n      style: _objectSpread$5({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"circle\", {\n      cx: interpolated.x,\n      cy: interpolated.y,\n      r: interpolated.size / 2,\n      style: theme.annotations.symbol\n    }));\n  });\n});\nDotAnnotationOutline.displayName = 'DotAnnotationOutline';\nDotAnnotationOutline.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired\n};\nDotAnnotationOutline.defaultProps = {\n  size: 4\n};\n\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$6(target, key, source[key]); }); } return target; }\nfunction _defineProperty$6(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar RectAnnotationOutline = memo(function (_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (!animate) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"rect\", {\n      x: x - width / 2,\n      y: y - height / 2,\n      width: width,\n      height: height,\n      style: _objectSpread$6({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"rect\", {\n      x: x - width / 2,\n      y: y - height / 2,\n      width: width,\n      height: height,\n      style: theme.annotations.outline\n    }));\n  }\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x - width / 2, springConfig),\n      y: spring(y - height / 2, springConfig),\n      width: spring(width, springConfig),\n      height: spring(height, springConfig)\n    }\n  }, function (interpolated) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"rect\", {\n      x: interpolated.x,\n      y: interpolated.y,\n      width: interpolated.width,\n      height: interpolated.height,\n      style: _objectSpread$6({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"rect\", {\n      x: interpolated.x,\n      y: interpolated.y,\n      width: interpolated.width,\n      height: interpolated.height,\n      style: theme.annotations.outline\n    }));\n  });\n});\nRectAnnotationOutline.displayName = 'RectAnnotationOutline';\nRectAnnotationOutline.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\n\nvar Annotation = memo(function (_ref) {\n  var datum = _ref.datum,\n      type = _ref.type,\n      containerWidth = _ref.containerWidth,\n      containerHeight = _ref.containerHeight,\n      x = _ref.x,\n      y = _ref.y,\n      size = _ref.size,\n      width = _ref.width,\n      height = _ref.height,\n      noteX = _ref.noteX,\n      noteY = _ref.noteY,\n      noteWidth = _ref.noteWidth,\n      noteTextOffset = _ref.noteTextOffset,\n      note = _ref.note;\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  var computed = useComputedAnnotation({\n    type: type,\n    containerWidth: containerWidth,\n    containerHeight: containerHeight,\n    x: x,\n    y: y,\n    size: size,\n    width: width,\n    height: height,\n    noteX: noteX,\n    noteY: noteY,\n    noteWidth: noteWidth,\n    noteTextOffset: noteTextOffset\n  });\n  return React.createElement(React.Fragment, null, React.createElement(AnnotationLink, {\n    points: computed.points,\n    isOutline: true\n  }), type === 'circle' && React.createElement(CircleAnnotationOutline, {\n    x: x,\n    y: y,\n    size: size\n  }), type === 'dot' && React.createElement(DotAnnotationOutline, {\n    x: x,\n    y: y,\n    size: size\n  }), type === 'rect' && React.createElement(RectAnnotationOutline, {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  }), React.createElement(AnnotationLink, {\n    points: computed.points\n  }), !animate && React.createElement(AnnotationNote, {\n    x: computed.text[0],\n    y: computed.text[1],\n    note: note\n  }), animate && React.createElement(Motion, {\n    style: {\n      x: spring(computed.text[0], springConfig),\n      y: spring(computed.text[1], springConfig)\n    }\n  }, function (interpolated) {\n    return React.createElement(AnnotationNote, {\n      datum: datum,\n      x: interpolated.x,\n      y: interpolated.y,\n      note: note\n    });\n  }));\n});\nAnnotation.displayName = 'Annotation';\nAnnotation.propTypes = {\n  datum: PropTypes.object.isRequired,\n  type: PropTypes.oneOf(['circle', 'rect', 'dot']).isRequired,\n  containerWidth: PropTypes.number.isRequired,\n  containerHeight: PropTypes.number.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  noteX: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    abs: PropTypes.number.isRequired\n  })]).isRequired,\n  noteY: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    abs: PropTypes.number.isRequired\n  })]).isRequired,\n  noteWidth: PropTypes.number.isRequired,\n  noteTextOffset: PropTypes.number.isRequired,\n  note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired\n};\nAnnotation.defaultProps = {\n  noteWidth: defaultProps.noteWidth,\n  noteTextOffset: defaultProps.noteTextOffset\n};\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar drawPoints = function drawPoints(ctx, points) {\n  points.forEach(function (_ref, index) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        x = _ref2[0],\n        y = _ref2[1];\n    if (index === 0) {\n      ctx.moveTo(x, y);\n    } else {\n      ctx.lineTo(x, y);\n    }\n  });\n};\nvar renderAnnotationsToCanvas = function renderAnnotationsToCanvas(ctx, _ref3) {\n  var annotations = _ref3.annotations,\n      theme = _ref3.theme;\n  if (annotations.length === 0) return;\n  ctx.save();\n  annotations.forEach(function (annotation) {\n    if (theme.annotations.link.outlineWidth > 0) {\n      ctx.lineCap = 'square';\n      ctx.strokeStyle = theme.annotations.link.outlineColor;\n      ctx.lineWidth = theme.annotations.link.strokeWidth + theme.annotations.link.outlineWidth * 2;\n      ctx.beginPath();\n      drawPoints(ctx, annotation.computed.points);\n      ctx.stroke();\n      ctx.lineCap = 'butt';\n    }\n    if (annotation.type === 'circle' && theme.annotations.outline.outlineWidth > 0) {\n      ctx.strokeStyle = theme.annotations.outline.outlineColor;\n      ctx.lineWidth = theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2;\n      ctx.beginPath();\n      ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI);\n      ctx.stroke();\n    }\n    if (annotation.type === 'dot' && theme.annotations.symbol.outlineWidth > 0) {\n      ctx.strokeStyle = theme.annotations.symbol.outlineColor;\n      ctx.lineWidth = theme.annotations.symbol.outlineWidth * 2;\n      ctx.beginPath();\n      ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI);\n      ctx.stroke();\n    }\n    if (annotation.type === 'rect' && theme.annotations.outline.outlineWidth > 0) {\n      ctx.strokeStyle = theme.annotations.outline.outlineColor;\n      ctx.lineWidth = theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2;\n      ctx.beginPath();\n      ctx.rect(annotation.x - annotation.width / 2, annotation.y - annotation.height / 2, annotation.width, annotation.height);\n      ctx.stroke();\n    }\n    ctx.strokeStyle = theme.annotations.link.stroke;\n    ctx.lineWidth = theme.annotations.link.strokeWidth;\n    ctx.beginPath();\n    drawPoints(ctx, annotation.computed.points);\n    ctx.stroke();\n    if (annotation.type === 'circle') {\n      ctx.strokeStyle = theme.annotations.outline.stroke;\n      ctx.lineWidth = theme.annotations.outline.strokeWidth;\n      ctx.beginPath();\n      ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI);\n      ctx.stroke();\n    }\n    if (annotation.type === 'dot') {\n      ctx.fillStyle = theme.annotations.symbol.fill;\n      ctx.beginPath();\n      ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI);\n      ctx.fill();\n    }\n    if (annotation.type === 'rect') {\n      ctx.strokeStyle = theme.annotations.outline.stroke;\n      ctx.lineWidth = theme.annotations.outline.strokeWidth;\n      ctx.beginPath();\n      ctx.rect(annotation.x - annotation.width / 2, annotation.y - annotation.height / 2, annotation.width, annotation.height);\n      ctx.stroke();\n    }\n    if (typeof annotation.note === 'function') {\n      annotation.note(ctx, {\n        datum: annotation.datum,\n        x: annotation.computed.text[0],\n        y: annotation.computed.text[1],\n        theme: theme\n      });\n    } else {\n      ctx.font = \"\".concat(theme.annotations.text.fontSize, \"px \").concat(theme.annotations.text.fontFamily);\n      ctx.fillStyle = theme.annotations.text.fill;\n      ctx.strokeStyle = theme.annotations.text.outlineColor;\n      ctx.lineWidth = theme.annotations.text.outlineWidth * 2;\n      if (theme.annotations.text.outlineWidth > 0) {\n        ctx.lineJoin = 'round';\n        ctx.strokeText(annotation.note, annotation.computed.text[0], annotation.computed.text[1]);\n        ctx.lineJoin = 'miter';\n      }\n      ctx.fillText(annotation.note, annotation.computed.text[0], annotation.computed.text[1]);\n    }\n  });\n  ctx.restore();\n};\n\nexport { Annotation, annotationSpecPropType, bindAnnotations, computeAnnotation, defaultProps, getLinkAngle, renderAnnotationsToCanvas, useAnnotations, useComputedAnnotation, useComputedAnnotations };\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveScatterPlotCanvas, ScatterPlotCanvasDefaultProps } from '@nivo/scatterplot'\nimport ComponentTemplate from '../../components/components/ComponentTemplate'\nimport meta from '../../data/components/scatterplot/meta.yml'\nimport mapper from '../../data/components/scatterplot/mapper'\nimport { groups } from '../../data/components/scatterplot/props'\nimport { generateHeavyDataSet } from '../../data/components/scatterplot/generator'\n\nconst initialProperties = {\n    margin: {\n        top: 60,\n        right: 140,\n        bottom: 70,\n        left: 90,\n    },\n\n    xScale: {\n        type: 'linear',\n        min: 0,\n        max: 'auto',\n    },\n    xFormat: d => `${d} kg`,\n    yScale: {\n        type: 'linear',\n        min: 0,\n        max: 'auto',\n    },\n    yFormat: d => `${d} cm`,\n\n    pixelRatio:\n        typeof window !== 'undefined' && window.devicePixelRatio ? window.devicePixelRatio : 1,\n\n    colors: ScatterPlotCanvasDefaultProps.colors,\n\n    nodeSize: 5,\n\n    axisTop: {\n        enable: false,\n        orient: 'top',\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: '',\n        legendOffset: 36,\n    },\n    axisRight: {\n        enable: false,\n        orient: 'right',\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: '',\n        legendOffset: 0,\n    },\n    axisBottom: {\n        enable: true,\n        orient: 'bottom',\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: 'weight',\n        legendPosition: 'middle',\n        legendOffset: 46,\n        format: d => `${d} kg`,\n    },\n    axisLeft: {\n        enable: true,\n        orient: 'left',\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: 'size',\n        legendPosition: 'middle',\n        legendOffset: -60,\n        format: d => `${d} cm`,\n    },\n\n    enableGridX: ScatterPlotCanvasDefaultProps.enableGridX,\n    enableGridY: ScatterPlotCanvasDefaultProps.enableGridY,\n\n    isInteractive: ScatterPlotCanvasDefaultProps.isInteractive,\n    useMesh: ScatterPlotCanvasDefaultProps.useMesh,\n    debugMesh: ScatterPlotCanvasDefaultProps.debugMesh,\n\n    legends: [\n        {\n            anchor: 'bottom-right',\n            direction: 'column',\n            justify: false,\n            translateX: 130,\n            translateY: 0,\n            itemWidth: 100,\n            itemHeight: 12,\n            itemsSpacing: 5,\n            itemDirection: 'left-to-right',\n            symbolSize: 12,\n            symbolShape: 'rect',\n            onClick: d => {\n                alert(JSON.stringify(d, null, '    '))\n            },\n            effects: [\n                {\n                    on: 'hover',\n                    style: {\n                        itemOpacity: 1,\n                    },\n                },\n            ],\n        },\n    ],\n}\n\nconst ScatterPlotCanvas = () => {\n    return (\n        <ComponentTemplate\n            name=\"ScatterPlotCanvas\"\n            meta={meta.ScatterPlotCanvas}\n            icon=\"scatterplot\"\n            flavors={meta.flavors}\n            currentFlavor=\"canvas\"\n            properties={groups}\n            initialProperties={initialProperties}\n            defaultProperties={ScatterPlotCanvasDefaultProps}\n            propertiesMapper={mapper}\n            generateData={generateHeavyDataSet}\n        >\n            {(properties, data, theme, logAction) => (\n                <ResponsiveScatterPlotCanvas\n                    data={data}\n                    {...properties}\n                    theme={theme}\n                    onClick={node => {\n                        logAction({\n                            type: 'click',\n                            label: `[node] serie: ${node.data.serieId}, x: ${node.x}, y: ${node.y}`,\n                            color: node.style.color,\n                            data: node,\n                        })\n                    }}\n                />\n            )}\n        </ComponentTemplate>\n    )\n}\n\nexport default ScatterPlotCanvas\n","require('./_typed-array')('Int32', 4, function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","import React, { memo, useMemo, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Motion, spring, TransitionMotion } from 'react-motion';\nimport { textPropsByEngine, useTheme, useMotionConfig } from '@nivo/core';\nimport isNumber from 'lodash/isNumber';\nimport { timeMillisecond, utcMillisecond, timeSecond, utcSecond, timeMinute, utcMinute, timeHour, utcHour, timeDay, utcDay, timeWeek, utcWeek, timeSunday, utcSunday, timeMonday, utcMonday, timeTuesday, utcTuesday, timeWednesday, utcWednesday, timeThursday, utcThursday, timeFriday, utcFriday, timeSaturday, utcSaturday, timeMonth, utcMonth, timeYear, utcYear } from 'd3-time';\nimport { timeFormat } from 'd3-time-format';\nimport { format } from 'd3-format';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar centerScale = function centerScale(scale) {\n  var bandwidth = scale.bandwidth();\n  if (bandwidth === 0) return scale;\n  var offset = bandwidth / 2;\n  if (scale.round()) {\n    offset = Math.round(offset);\n  }\n  return function (d) {\n    return scale(d) + offset;\n  };\n};\nvar timeByType = {\n  millisecond: [timeMillisecond, utcMillisecond],\n  second: [timeSecond, utcSecond],\n  minute: [timeMinute, utcMinute],\n  hour: [timeHour, utcHour],\n  day: [timeDay, utcDay],\n  week: [timeWeek, utcWeek],\n  sunday: [timeSunday, utcSunday],\n  monday: [timeMonday, utcMonday],\n  tuesday: [timeTuesday, utcTuesday],\n  wednesday: [timeWednesday, utcWednesday],\n  thursday: [timeThursday, utcThursday],\n  friday: [timeFriday, utcFriday],\n  saturday: [timeSaturday, utcSaturday],\n  month: [timeMonth, utcMonth],\n  year: [timeYear, utcYear]\n};\nvar timeTypes = Object.keys(timeByType);\nvar timeIntervalRegexp = new RegExp(\"^every\\\\s*(\\\\d+)?\\\\s*(\".concat(timeTypes.join('|'), \")s?$\"), 'i');\nvar getScaleTicks = function getScaleTicks(scale, spec) {\n  if (Array.isArray(spec)) {\n    return spec;\n  }\n  if (scale.ticks) {\n    if (spec === undefined) {\n      return scale.ticks();\n    }\n    if (isNumber(spec)) {\n      return scale.ticks(spec);\n    }\n    if (typeof spec === 'string') {\n      var matches = spec.match(timeIntervalRegexp);\n      if (matches) {\n        var timeType = timeByType[matches[2]][scale.useUTC ? 1 : 0];\n        if (matches[1] === undefined) {\n          return scale.ticks(timeType);\n        }\n        return scale.ticks(timeType.every(Number(matches[1])));\n      }\n      throw new Error(\"Invalid tickValues: \".concat(spec));\n    }\n  }\n  return scale.domain();\n};\nvar computeCartesianTicks = function computeCartesianTicks(_ref) {\n  var axis = _ref.axis,\n      scale = _ref.scale,\n      ticksPosition = _ref.ticksPosition,\n      tickValues = _ref.tickValues,\n      tickSize = _ref.tickSize,\n      tickPadding = _ref.tickPadding,\n      tickRotation = _ref.tickRotation,\n      _ref$engine = _ref.engine,\n      engine = _ref$engine === void 0 ? 'svg' : _ref$engine;\n  var values = getScaleTicks(scale, tickValues);\n  var textProps = textPropsByEngine[engine];\n  var position = scale.bandwidth ? centerScale(scale) : scale;\n  var line = {\n    lineX: 0,\n    lineY: 0\n  };\n  var text = {\n    textX: 0,\n    textY: 0\n  };\n  var translate;\n  var textAlign = textProps.align.center;\n  var textBaseline = textProps.baseline.center;\n  if (axis === 'x') {\n    translate = function translate(d) {\n      return {\n        x: position(d),\n        y: 0\n      };\n    };\n    line.lineY = tickSize * (ticksPosition === 'after' ? 1 : -1);\n    text.textY = (tickSize + tickPadding) * (ticksPosition === 'after' ? 1 : -1);\n    if (ticksPosition === 'after') {\n      textBaseline = textProps.baseline.top;\n    } else {\n      textBaseline = textProps.baseline.bottom;\n    }\n    if (tickRotation === 0) {\n      textAlign = textProps.align.center;\n    } else if (ticksPosition === 'after' && tickRotation < 0 || ticksPosition === 'before' && tickRotation > 0) {\n      textAlign = textProps.align.right;\n      textBaseline = textProps.baseline.center;\n    } else if (ticksPosition === 'after' && tickRotation > 0 || ticksPosition === 'before' && tickRotation < 0) {\n      textAlign = textProps.align.left;\n      textBaseline = textProps.baseline.center;\n    }\n  } else {\n    translate = function translate(d) {\n      return {\n        x: 0,\n        y: position(d)\n      };\n    };\n    line.lineX = tickSize * (ticksPosition === 'after' ? 1 : -1);\n    text.textX = (tickSize + tickPadding) * (ticksPosition === 'after' ? 1 : -1);\n    if (ticksPosition === 'after') {\n      textAlign = textProps.align.left;\n    } else {\n      textAlign = textProps.align.right;\n    }\n  }\n  var ticks = values.map(function (value) {\n    return _objectSpread({\n      key: value,\n      value: value\n    }, translate(value), line, text);\n  });\n  return {\n    ticks: ticks,\n    textAlign: textAlign,\n    textBaseline: textBaseline\n  };\n};\nvar getFormatter = function getFormatter(format$1, scale) {\n  if (!format$1 || typeof format$1 === 'function') return format$1;\n  if (scale.type === 'time') {\n    var f = timeFormat(format$1);\n    return function (d) {\n      return f(new Date(d));\n    };\n  }\n  return format(format$1);\n};\nvar computeGridLines = function computeGridLines(_ref2) {\n  var width = _ref2.width,\n      height = _ref2.height,\n      scale = _ref2.scale,\n      axis = _ref2.axis,\n      _values = _ref2.values;\n  var lineValues = Array.isArray(_values) ? _values : undefined;\n  var lineCount = isNumber(_values) ? _values : undefined;\n  var values = lineValues || getScaleTicks(scale, lineCount);\n  var position = scale.bandwidth ? centerScale(scale) : scale;\n  var lines;\n  if (axis === 'x') {\n    lines = values.map(function (v) {\n      return {\n        key: \"\".concat(v),\n        x1: position(v),\n        x2: position(v),\n        y1: 0,\n        y2: height\n      };\n    });\n  } else if (axis === 'y') {\n    lines = values.map(function (v) {\n      return {\n        key: \"\".concat(v),\n        x1: 0,\n        x2: width,\n        y1: position(v),\n        y2: position(v)\n      };\n    });\n  }\n  return lines;\n};\n\nvar axisPropTypes = {\n  ticksPosition: PropTypes.oneOf(['before', 'after']),\n  tickValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])), PropTypes.string]),\n  tickSize: PropTypes.number,\n  tickPadding: PropTypes.number,\n  tickRotation: PropTypes.number,\n  format: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  renderTick: PropTypes.func,\n  legend: PropTypes.node,\n  legendPosition: PropTypes.oneOf(['start', 'middle', 'end']),\n  legendOffset: PropTypes.number\n};\nvar axisPropType = PropTypes.shape(axisPropTypes);\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar AxisTick = function AxisTick(_ref) {\n  var _value = _ref.value,\n      x = _ref.x,\n      y = _ref.y,\n      opacity = _ref.opacity,\n      rotate = _ref.rotate,\n      format = _ref.format,\n      lineX = _ref.lineX,\n      lineY = _ref.lineY,\n      _onClick = _ref.onClick,\n      textX = _ref.textX,\n      textY = _ref.textY,\n      textBaseline = _ref.textBaseline,\n      textAnchor = _ref.textAnchor;\n  var theme = useTheme();\n  var value = _value;\n  if (format !== undefined) {\n    value = format(value);\n  }\n  var gStyle = {\n    opacity: opacity\n  };\n  if (_onClick) {\n    gStyle['cursor'] = 'pointer';\n  }\n  return React.createElement(\"g\", _extends({\n    transform: \"translate(\".concat(x, \",\").concat(y, \")\")\n  }, _onClick ? {\n    onClick: function onClick(e) {\n      return _onClick(e, value);\n    }\n  } : {}, {\n    style: gStyle\n  }), React.createElement(\"line\", {\n    x1: 0,\n    x2: lineX,\n    y1: 0,\n    y2: lineY,\n    style: theme.axis.ticks.line\n  }), React.createElement(\"text\", {\n    dominantBaseline: textBaseline,\n    textAnchor: textAnchor,\n    transform: \"translate(\".concat(textX, \",\").concat(textY, \") rotate(\").concat(rotate, \")\"),\n    style: theme.axis.ticks.text\n  }, value));\n};\nAxisTick.propTypes = {\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n  format: PropTypes.func,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  lineX: PropTypes.number.isRequired,\n  lineY: PropTypes.number.isRequired,\n  textX: PropTypes.number.isRequired,\n  textY: PropTypes.number.isRequired,\n  textBaseline: PropTypes.string.isRequired,\n  textAnchor: PropTypes.string.isRequired,\n  opacity: PropTypes.number.isRequired,\n  rotate: PropTypes.number.isRequired,\n  onClick: PropTypes.func\n};\nAxisTick.defaultProps = {\n  opacity: 1,\n  rotate: 0\n};\nvar AxisTick$1 = memo(AxisTick);\n\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar willEnter = function willEnter() {\n  return {\n    rotate: 0,\n    opacity: 0,\n    x: 0,\n    y: 0\n  };\n};\nvar willLeave = function willLeave(springConfig) {\n  return function (_ref) {\n    var _ref$style = _ref.style,\n        x = _ref$style.x,\n        y = _ref$style.y,\n        rotate = _ref$style.rotate;\n    return {\n      rotate: rotate,\n      opacity: spring(0, springConfig),\n      x: spring(x.val, springConfig),\n      y: spring(y.val, springConfig)\n    };\n  };\n};\nvar defaultTickRenderer = function defaultTickRenderer(props) {\n  return React.createElement(AxisTick$1, props);\n};\nvar Axis = function Axis(_ref2) {\n  var axis = _ref2.axis,\n      scale = _ref2.scale,\n      x = _ref2.x,\n      y = _ref2.y,\n      length = _ref2.length,\n      ticksPosition = _ref2.ticksPosition,\n      tickValues = _ref2.tickValues,\n      tickSize = _ref2.tickSize,\n      tickPadding = _ref2.tickPadding,\n      tickRotation = _ref2.tickRotation,\n      format = _ref2.format,\n      renderTick = _ref2.renderTick,\n      legend = _ref2.legend,\n      legendPosition = _ref2.legendPosition,\n      legendOffset = _ref2.legendOffset,\n      onClick = _ref2.onClick;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  var formatValue = useMemo(function () {\n    return getFormatter(format, scale);\n  }, [format, scale]);\n  var _computeCartesianTick = computeCartesianTicks({\n    axis: axis,\n    scale: scale,\n    ticksPosition: ticksPosition,\n    tickValues: tickValues,\n    tickSize: tickSize,\n    tickPadding: tickPadding,\n    tickRotation: tickRotation\n  }),\n      ticks = _computeCartesianTick.ticks,\n      textAlign = _computeCartesianTick.textAlign,\n      textBaseline = _computeCartesianTick.textBaseline;\n  var legendNode = null;\n  if (legend !== undefined) {\n    var legendX = 0;\n    var legendY = 0;\n    var legendRotation = 0;\n    var textAnchor;\n    if (axis === 'y') {\n      legendRotation = -90;\n      legendX = legendOffset;\n      if (legendPosition === 'start') {\n        textAnchor = 'start';\n        legendY = length;\n      } else if (legendPosition === 'middle') {\n        textAnchor = 'middle';\n        legendY = length / 2;\n      } else if (legendPosition === 'end') {\n        textAnchor = 'end';\n      }\n    } else {\n      legendY = legendOffset;\n      if (legendPosition === 'start') {\n        textAnchor = 'start';\n      } else if (legendPosition === 'middle') {\n        textAnchor = 'middle';\n        legendX = length / 2;\n      } else if (legendPosition === 'end') {\n        textAnchor = 'end';\n        legendX = length;\n      }\n    }\n    legendNode = React.createElement(\"text\", {\n      transform: \"translate(\".concat(legendX, \", \").concat(legendY, \") rotate(\").concat(legendRotation, \")\"),\n      textAnchor: textAnchor,\n      style: _objectSpread$1({\n        dominantBaseline: 'central'\n      }, theme.axis.legend.text)\n    }, legend);\n  }\n  if (animate !== true) {\n    return React.createElement(\"g\", {\n      transform: \"translate(\".concat(x, \",\").concat(y, \")\")\n    }, ticks.map(function (tick, tickIndex) {\n      return React.createElement(renderTick, _objectSpread$1({\n        tickIndex: tickIndex,\n        format: formatValue,\n        rotate: tickRotation,\n        textBaseline: textBaseline,\n        textAnchor: textAlign\n      }, tick, onClick ? {\n        onClick: onClick\n      } : {}));\n    }), React.createElement(\"line\", {\n      style: theme.axis.domain.line,\n      x1: 0,\n      x2: axis === 'x' ? length : 0,\n      y1: 0,\n      y2: axis === 'x' ? 0 : length\n    }), legendNode);\n  }\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x, springConfig),\n      y: spring(y, springConfig)\n    }\n  }, function (xy) {\n    return React.createElement(\"g\", {\n      transform: \"translate(\".concat(xy.x, \",\").concat(xy.y, \")\")\n    }, React.createElement(TransitionMotion, {\n      willEnter: willEnter,\n      willLeave: willLeave(springConfig),\n      styles: ticks.map(function (tick) {\n        return {\n          key: \"\".concat(tick.key),\n          data: tick,\n          style: {\n            opacity: spring(1, springConfig),\n            x: spring(tick.x, springConfig),\n            y: spring(tick.y, springConfig),\n            rotate: spring(tickRotation, springConfig)\n          }\n        };\n      })\n    }, function (interpolatedStyles) {\n      return React.createElement(Fragment, null, interpolatedStyles.map(function (_ref3, tickIndex) {\n        var style = _ref3.style,\n            tick = _ref3.data;\n        return React.createElement(renderTick, _objectSpread$1({\n          tickIndex: tickIndex,\n          format: formatValue,\n          textBaseline: textBaseline,\n          textAnchor: textAlign\n        }, tick, style, onClick ? {\n          onClick: onClick\n        } : {}));\n      }));\n    }), React.createElement(Motion, {\n      style: {\n        x2: spring(axis === 'x' ? length : 0, springConfig),\n        y2: spring(axis === 'x' ? 0 : length, springConfig)\n      }\n    }, function (values) {\n      return React.createElement(\"line\", _extends$1({\n        style: theme.axis.domain.line,\n        x1: 0,\n        y1: 0\n      }, values));\n    }), legendNode);\n  });\n};\nAxis.propTypes = {\n  axis: PropTypes.oneOf(['x', 'y']).isRequired,\n  scale: PropTypes.func.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  length: PropTypes.number.isRequired,\n  ticksPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n  tickValues: axisPropTypes.tickValues,\n  tickSize: PropTypes.number.isRequired,\n  tickPadding: PropTypes.number.isRequired,\n  tickRotation: PropTypes.number.isRequired,\n  format: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  renderTick: PropTypes.func.isRequired,\n  legend: PropTypes.node,\n  legendPosition: PropTypes.oneOf(['start', 'middle', 'end']).isRequired,\n  legendOffset: PropTypes.number.isRequired,\n  onClick: PropTypes.func\n};\nAxis.defaultProps = {\n  x: 0,\n  y: 0,\n  tickSize: 5,\n  tickPadding: 5,\n  tickRotation: 0,\n  renderTick: defaultTickRenderer,\n  legendPosition: 'end',\n  legendOffset: 0\n};\nvar Axis$1 = memo(Axis);\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\nvar positions = ['top', 'right', 'bottom', 'left'];\nvar Axes = function Axes(_ref) {\n  var xScale = _ref.xScale,\n      yScale = _ref.yScale,\n      width = _ref.width,\n      height = _ref.height,\n      top = _ref.top,\n      right = _ref.right,\n      bottom = _ref.bottom,\n      left = _ref.left;\n  var axes = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  return positions.map(function (position) {\n    var axis = axes[position];\n    if (!axis) return null;\n    var isXAxis = position === 'top' || position === 'bottom';\n    var ticksPosition = position === 'top' || position === 'left' ? 'before' : 'after';\n    return React.createElement(Axis$1, _extends$2({\n      key: position\n    }, axis, {\n      axis: isXAxis ? 'x' : 'y',\n      x: position === 'right' ? width : 0,\n      y: position === 'bottom' ? height : 0,\n      scale: isXAxis ? xScale : yScale,\n      length: isXAxis ? width : height,\n      ticksPosition: ticksPosition\n    }));\n  });\n};\nAxes.propTypes = {\n  xScale: PropTypes.func,\n  yScale: PropTypes.func,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  top: axisPropType,\n  right: axisPropType,\n  bottom: axisPropType,\n  left: axisPropType\n};\nvar Axes$1 = memo(Axes);\n\nvar GridLine = function GridLine(props) {\n  return React.createElement(\"line\", props);\n};\nGridLine.propTypes = {\n  x1: PropTypes.number.isRequired,\n  x2: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired,\n  y2: PropTypes.number.isRequired\n};\nGridLine.defaultProps = {\n  x1: 0,\n  x2: 0,\n  y1: 0,\n  y2: 0\n};\nvar GridLine$1 = memo(GridLine);\n\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\nvar GridLines = function GridLines(_ref) {\n  var type = _ref.type,\n      lines = _ref.lines;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  var lineWillEnter = useMemo(function () {\n    return function (_ref2) {\n      var style = _ref2.style;\n      return {\n        opacity: 0,\n        x1: type === 'x' ? 0 : style.x1.val,\n        x2: type === 'x' ? 0 : style.x2.val,\n        y1: type === 'y' ? 0 : style.y1.val,\n        y2: type === 'y' ? 0 : style.y2.val\n      };\n    };\n  }, [type]);\n  var lineWillLeave = useMemo(function () {\n    return function (_ref3) {\n      var style = _ref3.style;\n      return {\n        opacity: spring(0, springConfig),\n        x1: spring(style.x1.val, springConfig),\n        x2: spring(style.x2.val, springConfig),\n        y1: spring(style.y1.val, springConfig),\n        y2: spring(style.y2.val, springConfig)\n      };\n    };\n  }, [springConfig]);\n  if (!animate) {\n    return React.createElement(\"g\", null, lines.map(function (line) {\n      return React.createElement(GridLine$1, _extends$3({\n        key: line.key\n      }, line, theme.grid.line));\n    }));\n  }\n  return React.createElement(TransitionMotion, {\n    willEnter: lineWillEnter,\n    willLeave: lineWillLeave,\n    styles: lines.map(function (line) {\n      return {\n        key: line.key,\n        style: {\n          opacity: spring(1, springConfig),\n          x1: spring(line.x1 || 0, springConfig),\n          x2: spring(line.x2 || 0, springConfig),\n          y1: spring(line.y1 || 0, springConfig),\n          y2: spring(line.y2 || 0, springConfig)\n        }\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(\"g\", null, interpolatedStyles.map(function (interpolatedStyle) {\n      var key = interpolatedStyle.key,\n          style = interpolatedStyle.style;\n      return React.createElement(GridLine$1, _extends$3({\n        key: key\n      }, theme.grid.line, style));\n    }));\n  });\n};\nGridLines.propTypes = {\n  type: PropTypes.oneOf(['x', 'y']).isRequired,\n  lines: PropTypes.arrayOf(PropTypes.shape({\n    key: PropTypes.string.isRequired,\n    x1: PropTypes.number,\n    x2: PropTypes.number,\n    y1: PropTypes.number,\n    y2: PropTypes.number\n  })).isRequired\n};\nvar GridLines$1 = memo(GridLines);\n\nvar Grid = function Grid(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      xScale = _ref.xScale,\n      yScale = _ref.yScale,\n      xValues = _ref.xValues,\n      yValues = _ref.yValues;\n  var xLines = useMemo(function () {\n    if (!xScale) return false;\n    return computeGridLines({\n      width: width,\n      height: height,\n      scale: xScale,\n      axis: 'x',\n      values: xValues\n    });\n  }, [xScale, xValues]);\n  var yLines = yScale ? computeGridLines({\n    width: width,\n    height: height,\n    scale: yScale,\n    axis: 'y',\n    values: yValues\n  }) : false;\n  return React.createElement(React.Fragment, null, xLines && React.createElement(GridLines$1, {\n    type: \"x\",\n    lines: xLines\n  }), yLines && React.createElement(GridLines$1, {\n    type: \"y\",\n    lines: yLines\n  }));\n};\nGrid.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  xScale: PropTypes.func,\n  yScale: PropTypes.func,\n  xValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))]),\n  yValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))])\n};\nvar Grid$1 = memo(Grid);\n\nvar degreesToRadians = function degreesToRadians(degrees) {\n  return degrees * Math.PI / 180;\n};\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar renderAxisToCanvas = function renderAxisToCanvas(ctx, _ref) {\n  var axis = _ref.axis,\n      scale = _ref.scale,\n      _ref$x = _ref.x,\n      x = _ref$x === void 0 ? 0 : _ref$x,\n      _ref$y = _ref.y,\n      y = _ref$y === void 0 ? 0 : _ref$y,\n      length = _ref.length,\n      ticksPosition = _ref.ticksPosition,\n      tickValues = _ref.tickValues,\n      _ref$tickSize = _ref.tickSize,\n      tickSize = _ref$tickSize === void 0 ? 5 : _ref$tickSize,\n      _ref$tickPadding = _ref.tickPadding,\n      tickPadding = _ref$tickPadding === void 0 ? 5 : _ref$tickPadding,\n      _ref$tickRotation = _ref.tickRotation,\n      tickRotation = _ref$tickRotation === void 0 ? 0 : _ref$tickRotation,\n      format = _ref.format,\n      legend = _ref.legend,\n      _ref$legendPosition = _ref.legendPosition,\n      legendPosition = _ref$legendPosition === void 0 ? 'end' : _ref$legendPosition,\n      _ref$legendOffset = _ref.legendOffset,\n      legendOffset = _ref$legendOffset === void 0 ? 0 : _ref$legendOffset,\n      theme = _ref.theme;\n  var _computeCartesianTick = computeCartesianTicks({\n    axis: axis,\n    scale: scale,\n    ticksPosition: ticksPosition,\n    tickValues: tickValues,\n    tickSize: tickSize,\n    tickPadding: tickPadding,\n    tickRotation: tickRotation,\n    engine: 'canvas'\n  }),\n      ticks = _computeCartesianTick.ticks,\n      textAlign = _computeCartesianTick.textAlign,\n      textBaseline = _computeCartesianTick.textBaseline;\n  ctx.save();\n  ctx.translate(x, y);\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  ctx.font = \"\".concat(theme.axis.ticks.text.fontSize, \"px \").concat(theme.axis.ticks.text.fontFamily);\n  if (theme.axis.domain.line.strokeWidth > 0) {\n    ctx.lineWidth = theme.axis.domain.line.strokeWidth;\n    ctx.lineCap = 'square';\n    ctx.strokeStyle = theme.axis.domain.line.stroke;\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(axis === 'x' ? length : 0, axis === 'x' ? 0 : length);\n    ctx.stroke();\n  }\n  ticks.forEach(function (tick) {\n    if (theme.axis.ticks.line.strokeWidth > 0) {\n      ctx.lineWidth = theme.axis.ticks.line.strokeWidth;\n      ctx.lineCap = 'square';\n      ctx.strokeStyle = theme.axis.ticks.line.stroke;\n      ctx.beginPath();\n      ctx.moveTo(tick.x, tick.y);\n      ctx.lineTo(tick.x + tick.lineX, tick.y + tick.lineY);\n      ctx.stroke();\n    }\n    var value = format !== undefined ? format(tick.value) : tick.value;\n    ctx.save();\n    ctx.translate(tick.x + tick.textX, tick.y + tick.textY);\n    ctx.rotate(degreesToRadians(tickRotation));\n    ctx.fillStyle = theme.axis.ticks.text.fill;\n    ctx.fillText(value, 0, 0);\n    ctx.restore();\n  });\n  if (legend !== undefined) {\n    var legendX = 0;\n    var legendY = 0;\n    var legendRotation = 0;\n    var _textAlign;\n    if (axis === 'y') {\n      legendRotation = -90;\n      legendX = legendOffset;\n      if (legendPosition === 'start') {\n        _textAlign = 'start';\n        legendY = length;\n      } else if (legendPosition === 'middle') {\n        _textAlign = 'center';\n        legendY = length / 2;\n      } else if (legendPosition === 'end') {\n        _textAlign = 'end';\n      }\n    } else {\n      legendY = legendOffset;\n      if (legendPosition === 'start') {\n        _textAlign = 'start';\n      } else if (legendPosition === 'middle') {\n        _textAlign = 'center';\n        legendX = length / 2;\n      } else if (legendPosition === 'end') {\n        _textAlign = 'end';\n        legendX = length;\n      }\n    }\n    ctx.translate(legendX, legendY);\n    ctx.rotate(degreesToRadians(legendRotation));\n    ctx.font = \"\".concat(theme.axis.legend.text.fontWeight ? \"\".concat(theme.axis.legend.text.fontWeight, \" \") : '').concat(theme.axis.legend.text.fontSize, \"px \").concat(theme.axis.legend.text.fontFamily);\n    ctx.fillStyle = theme.axis.legend.text.fill;\n    ctx.textAlign = _textAlign;\n    ctx.textBaseline = 'middle';\n    ctx.fillText(legend, 0, 0);\n  }\n  ctx.restore();\n};\nvar positions$1 = ['top', 'right', 'bottom', 'left'];\nvar renderAxesToCanvas = function renderAxesToCanvas(ctx, _ref2) {\n  var xScale = _ref2.xScale,\n      yScale = _ref2.yScale,\n      width = _ref2.width,\n      height = _ref2.height,\n      top = _ref2.top,\n      right = _ref2.right,\n      bottom = _ref2.bottom,\n      left = _ref2.left,\n      theme = _ref2.theme;\n  var axes = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  positions$1.forEach(function (position) {\n    var axis = axes[position];\n    if (!axis) return null;\n    var isXAxis = position === 'top' || position === 'bottom';\n    var ticksPosition = position === 'top' || position === 'left' ? 'before' : 'after';\n    var scale = isXAxis ? xScale : yScale;\n    var format = getFormatter(axis.format, scale);\n    renderAxisToCanvas(ctx, _objectSpread$2({}, axis, {\n      axis: isXAxis ? 'x' : 'y',\n      x: position === 'right' ? width : 0,\n      y: position === 'bottom' ? height : 0,\n      scale: scale,\n      format: format,\n      length: isXAxis ? width : height,\n      ticksPosition: ticksPosition,\n      theme: theme\n    }));\n  });\n};\nvar renderGridLinesToCanvas = function renderGridLinesToCanvas(ctx, _ref3) {\n  var width = _ref3.width,\n      height = _ref3.height,\n      scale = _ref3.scale,\n      axis = _ref3.axis,\n      values = _ref3.values;\n  var lines = computeGridLines({\n    width: width,\n    height: height,\n    scale: scale,\n    axis: axis,\n    values: values\n  });\n  lines.forEach(function (line) {\n    ctx.beginPath();\n    ctx.moveTo(line.x1, line.y1);\n    ctx.lineTo(line.x2, line.y2);\n    ctx.stroke();\n  });\n};\n\nexport { Axes$1 as Axes, Axis$1 as Axis, Grid$1 as Grid, axisPropType, axisPropTypes, renderAxesToCanvas, renderAxisToCanvas, renderGridLinesToCanvas };\n","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\n\n\nfunction uniqBy(array, iteratee) {\n  return array && array.length ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;","import PropTypes from 'prop-types';\nimport { scaleLinear, scaleLog, scalePoint, scaleUtc, scaleTime } from 'd3-scale';\nimport { utcParse, timeParse } from 'd3-time-format';\nimport uniq from 'lodash/uniq';\nimport uniqBy from 'lodash/uniqBy';\nimport sortBy from 'lodash/sortBy';\nimport last from 'lodash/last';\nimport isDate from 'lodash/isDate';\n\nvar linearScale = function linearScale(_ref, xy, width, height) {\n  var axis = _ref.axis,\n      _ref$min = _ref.min,\n      min = _ref$min === void 0 ? 0 : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? 'auto' : _ref$max,\n      _ref$stacked = _ref.stacked,\n      stacked = _ref$stacked === void 0 ? false : _ref$stacked,\n      _ref$reverse = _ref.reverse,\n      reverse = _ref$reverse === void 0 ? false : _ref$reverse;\n  var values = xy[axis];\n  var size = axis === 'x' ? width : height;\n  var minValue = min;\n  if (min === 'auto') {\n    minValue = stacked === true ? values.minStacked : values.min;\n  }\n  var maxValue = max;\n  if (max === 'auto') {\n    maxValue = stacked === true ? values.maxStacked : values.max;\n  }\n  var scale = scaleLinear().rangeRound(axis === 'x' ? [0, size] : [size, 0]);\n  if (reverse === true) scale.domain([maxValue, minValue]);else scale.domain([minValue, maxValue]);\n  scale.type = 'linear';\n  scale.stacked = stacked;\n  return scale;\n};\nvar linearScalePropTypes = {\n  type: PropTypes.oneOf(['linear']).isRequired,\n  min: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n  max: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n  stacked: PropTypes.bool,\n  reverse: PropTypes.bool\n};\n\nvar logScale = function logScale(_ref, xy, width, height) {\n  var axis = _ref.axis,\n      _ref$base = _ref.base,\n      base = _ref$base === void 0 ? 10 : _ref$base,\n      _ref$min = _ref.min,\n      min = _ref$min === void 0 ? 'auto' : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? 'auto' : _ref$max;\n  var values = xy[axis];\n  var size = axis === 'x' ? width : height;\n  var hasZero = values.all.some(function (v) {\n    return v === 0;\n  });\n  var sign;\n  var hasMixedSign = false;\n  values.all.forEach(function (v) {\n    if (hasMixedSign === true) return;\n    if (sign === undefined) {\n      sign = Math.sign(v);\n    } else if (Math.sign(v) !== sign) {\n      hasMixedSign = true;\n    }\n  });\n  if (hasZero || hasMixedSign) {\n    throw new Error([\"a log scale domain must be strictly-positive or strictly-negative,\", \"and must not include or cross zero.\"].join('\\n'));\n  }\n  var minValue = min;\n  if (min === 'auto') {\n    minValue = values.min;\n  }\n  var maxValue = max;\n  if (max === 'auto') {\n    maxValue = values.max;\n  }\n  var scale = scaleLog().domain([minValue, maxValue]).rangeRound(axis === 'x' ? [0, size] : [size, 0]).base(base).nice();\n  scale.type = 'log';\n  return scale;\n};\nvar logScalePropTypes = {\n  type: PropTypes.oneOf(['log']).isRequired,\n  base: PropTypes.number,\n  min: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n  max: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number])\n};\n\nvar pointScale = function pointScale(_ref, xy, width, height) {\n  var axis = _ref.axis;\n  var values = xy[axis];\n  var size = axis === 'x' ? width : height;\n  var scale = scalePoint().range([0, size]).domain(values.all);\n  scale.type = 'point';\n  return scale;\n};\nvar pointScalePropTypes = {\n  type: PropTypes.oneOf(['point']).isRequired\n};\n\nvar _precisionCutOffsByTy;\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar TIME_PRECISION_MILLISECOND = 'millisecond';\nvar TIME_PRECISION_SECOND = 'second';\nvar TIME_PRECISION_MINUTE = 'minute';\nvar TIME_PRECISION_HOUR = 'hour';\nvar TIME_PRECISION_DAY = 'day';\nvar TIME_PRECISION_MONTH = 'month';\nvar TIME_PRECISION_YEAR = 'year';\nvar timePrecisions = [TIME_PRECISION_MILLISECOND, TIME_PRECISION_SECOND, TIME_PRECISION_MINUTE, TIME_PRECISION_HOUR, TIME_PRECISION_DAY, TIME_PRECISION_MONTH, TIME_PRECISION_YEAR];\nvar precisionCutOffs = [function (date) {\n  return date.setMilliseconds(0);\n}, function (date) {\n  return date.setSeconds(0);\n}, function (date) {\n  return date.setMinutes(0);\n}, function (date) {\n  return date.setHours(0);\n}, function (date) {\n  return date.setDate(1);\n}, function (date) {\n  return date.setMonth(0);\n}];\nvar precisionCutOffsByType = (_precisionCutOffsByTy = {}, _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_MILLISECOND, []), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_SECOND, precisionCutOffs.slice(0, 1)), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_MINUTE, precisionCutOffs.slice(0, 2)), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_HOUR, precisionCutOffs.slice(0, 3)), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_DAY, precisionCutOffs.slice(0, 4)), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_MONTH, precisionCutOffs.slice(0, 5)), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_YEAR, precisionCutOffs.slice(0, 6)), _precisionCutOffsByTy);\nvar createPrecisionMethod = function createPrecisionMethod(precision) {\n  return function (date) {\n    precisionCutOffsByType[precision].forEach(function (cutOff) {\n      cutOff(date);\n    });\n    return date;\n  };\n};\nvar createDateNormalizer = function createDateNormalizer(_ref) {\n  var _ref$format = _ref.format,\n      format = _ref$format === void 0 ? 'native' : _ref$format,\n      _ref$precision = _ref.precision,\n      precision = _ref$precision === void 0 ? 'millisecond' : _ref$precision,\n      _ref$useUTC = _ref.useUTC,\n      useUTC = _ref$useUTC === void 0 ? true : _ref$useUTC;\n  var precisionFn = createPrecisionMethod(precision);\n  if (format === 'native') return function (v) {\n    return precisionFn(v);\n  };\n  var parseTime = useUTC ? utcParse(format) : timeParse(format);\n  return function (v) {\n    return precisionFn(parseTime(v));\n  };\n};\n\nvar timeScale = function timeScale(_ref, xy, width, height) {\n  var axis = _ref.axis,\n      _ref$format = _ref.format,\n      format = _ref$format === void 0 ? 'native' : _ref$format,\n      _ref$precision = _ref.precision,\n      precision = _ref$precision === void 0 ? TIME_PRECISION_MILLISECOND : _ref$precision,\n      _ref$min = _ref.min,\n      min = _ref$min === void 0 ? 'auto' : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? 'auto' : _ref$max,\n      _ref$useUTC = _ref.useUTC,\n      useUTC = _ref$useUTC === void 0 ? true : _ref$useUTC;\n  var values = xy[axis];\n  var size = axis === 'x' ? width : height;\n  var normalize = createDateNormalizer({\n    format: format,\n    precision: precision,\n    useUTC: useUTC\n  });\n  var minValue = min;\n  if (min === 'auto') {\n    minValue = values.min;\n  } else if (format !== 'native') {\n    minValue = normalize(min);\n  }\n  var maxValue = max;\n  if (max === 'auto') {\n    maxValue = values.max;\n  } else if (format !== 'native') {\n    maxValue = normalize(max);\n  }\n  var scale = useUTC ? scaleUtc() : scaleTime();\n  scale.domain([minValue, maxValue]).range([0, size]);\n  scale.type = 'time';\n  scale.useUTC = useUTC;\n  return scale;\n};\nvar timeScalePropTypes = {\n  type: PropTypes.oneOf(['time']).isRequired,\n  format: PropTypes.string,\n  precision: PropTypes.oneOf(timePrecisions)\n};\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar getOtherAxis = function getOtherAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n};\nvar compareValues = function compareValues(a, b) {\n  return a === b;\n};\nvar compareDateValues = function compareDateValues(a, b) {\n  return a.getTime() === b.getTime();\n};\nvar computeXYScalesForSeries = function computeXYScalesForSeries(_series, xScaleSpec, yScaleSpec, width, height) {\n  var series = _series.map(function (serie) {\n    return _objectSpread({}, serie, {\n      data: serie.data.map(function (d) {\n        return {\n          data: _objectSpread({}, d)\n        };\n      })\n    });\n  });\n  var xy = generateSeriesXY(series, xScaleSpec, yScaleSpec);\n  if (xScaleSpec.stacked === true) {\n    stackX(yScaleSpec.type, xy, series);\n  }\n  if (yScaleSpec.stacked === true) {\n    stackY(xScaleSpec.type, xy, series);\n  }\n  var xScale = computeScale(_objectSpread({}, xScaleSpec, {\n    axis: 'x'\n  }), xy, width, height);\n  var yScale = computeScale(_objectSpread({}, yScaleSpec, {\n    axis: 'y'\n  }), xy, width, height);\n  series.forEach(function (serie) {\n    serie.data.forEach(function (d) {\n      d.position = {\n        x: xScale.stacked === true ? d.data.xStacked === null ? null : xScale(d.data.xStacked) : d.data.x === null ? null : xScale(d.data.x),\n        y: yScale.stacked === true ? d.data.yStacked === null ? null : yScale(d.data.yStacked) : d.data.y === null ? null : yScale(d.data.y)\n      };\n    });\n  });\n  return _objectSpread({}, xy, {\n    series: series,\n    xScale: xScale,\n    yScale: yScale\n  });\n};\nvar computeScale = function computeScale(spec, xy, width, height) {\n  if (spec.type === 'linear') return linearScale(spec, xy, width, height);else if (spec.type === 'point') return pointScale(spec, xy, width, height);else if (spec.type === 'time') return timeScale(spec, xy, width, height);else if (spec.type === 'log') return logScale(spec, xy, width, height);\n};\nvar generateSeriesXY = function generateSeriesXY(series, xScaleSpec, yScaleSpec) {\n  return {\n    x: generateSeriesAxis(series, 'x', xScaleSpec),\n    y: generateSeriesAxis(series, 'y', yScaleSpec)\n  };\n};\nvar generateSeriesAxis = function generateSeriesAxis(series, axis, scaleSpec) {\n  var _ref = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},\n      _ref$getValue = _ref.getValue,\n      getValue = _ref$getValue === void 0 ? function (d) {\n    return d.data[axis];\n  } : _ref$getValue,\n      _ref$setValue = _ref.setValue,\n      setValue = _ref$setValue === void 0 ? function (d, v) {\n    d.data[axis] = v;\n  } : _ref$setValue;\n  if (scaleSpec.type === 'linear') {\n    series.forEach(function (serie) {\n      serie.data.forEach(function (d) {\n        setValue(d, getValue(d) === null ? null : parseFloat(getValue(d)));\n      });\n    });\n  } else if (scaleSpec.type === 'time' && scaleSpec.format !== 'native') {\n    var parseTime = createDateNormalizer(scaleSpec);\n    series.forEach(function (serie) {\n      serie.data.forEach(function (d) {\n        setValue(d, getValue(d) === null ? null : parseTime(getValue(d)));\n      });\n    });\n  }\n  var all = [];\n  series.forEach(function (serie) {\n    serie.data.forEach(function (d) {\n      all.push(getValue(d));\n    });\n  });\n  var min, max;\n  if (scaleSpec.type === 'linear') {\n    all = uniq(all);\n    all = sortBy(all, function (v) {\n      return v;\n    });\n    min = Math.min.apply(Math, _toConsumableArray(all));\n    max = Math.max.apply(Math, _toConsumableArray(all));\n  } else if (scaleSpec.type === 'time') {\n    all = uniqBy(all, function (v) {\n      return v.getTime();\n    });\n    all = all.slice(0).sort(function (a, b) {\n      return b - a;\n    }).reverse();\n    min = all[0];\n    max = last(all);\n  } else {\n    all = uniq(all);\n    min = all[0];\n    max = last(all);\n  }\n  return {\n    all: all,\n    min: min,\n    max: max\n  };\n};\nvar stackAxis = function stackAxis(axis, otherType, xy, series) {\n  var otherAxis = getOtherAxis(axis);\n  var all = [];\n  xy[otherAxis].all.forEach(function (v) {\n    var compare = isDate(v) ? compareDateValues : compareValues;\n    var stack = [];\n    series.forEach(function (serie) {\n      var datum = serie.data.find(function (d) {\n        return compare(d.data[otherAxis], v);\n      });\n      var value = null;\n      var stackValue = null;\n      if (datum !== undefined) {\n        value = datum.data[axis];\n        if (value !== null) {\n          var head = last(stack);\n          if (head === undefined) {\n            stackValue = value;\n          } else if (head !== null) {\n            stackValue = head + value;\n          }\n        }\n        datum.data[\"\".concat(axis, \"Stacked\")] = stackValue;\n      }\n      stack.push(stackValue);\n      all.push(stackValue);\n    });\n  });\n  all = all.filter(function (v) {\n    return v !== null;\n  });\n  xy[axis].minStacked = Math.min.apply(Math, _toConsumableArray(all));\n  xy[axis].maxStacked = Math.max.apply(Math, _toConsumableArray(all));\n};\nvar stackX = function stackX(xy, otherType, series) {\n  return stackAxis('x', xy, otherType, series);\n};\nvar stackY = function stackY(xy, otherType, series) {\n  return stackAxis('y', xy, otherType, series);\n};\nvar computeAxisSlices = function computeAxisSlices(axis, data) {\n  var otherAxis = getOtherAxis(axis);\n  return data[otherAxis].all.map(function (v) {\n    var _slice;\n    var slice = (_slice = {\n      id: v\n    }, _defineProperty$1(_slice, otherAxis, data[\"\".concat(otherAxis, \"Scale\")](v)), _defineProperty$1(_slice, \"data\", []), _slice);\n    var compare = isDate(v) ? compareDateValues : compareValues;\n    data.series.forEach(function (serie) {\n      var datum = serie.data.find(function (d) {\n        return compare(d.data[otherAxis], v);\n      });\n      if (datum !== undefined) {\n        slice.data.push(_objectSpread({}, datum, {\n          serie: serie\n        }));\n      }\n    });\n    slice.data.reverse();\n    return slice;\n  });\n};\nvar computeXSlices = function computeXSlices(data) {\n  return computeAxisSlices('x', data);\n};\nvar computeYSlices = function computeYSlices(data) {\n  return computeAxisSlices('y', data);\n};\n\nvar scalePropType = PropTypes.oneOfType([PropTypes.shape(linearScalePropTypes), PropTypes.shape(pointScalePropTypes), PropTypes.shape(timeScalePropTypes), PropTypes.shape(logScalePropTypes)]);\n\nexport { compareDateValues, compareValues, computeAxisSlices, computeScale, computeXSlices, computeXYScalesForSeries, computeYSlices, generateSeriesAxis, generateSeriesXY, getOtherAxis, linearScale, linearScalePropTypes, logScale, logScalePropTypes, pointScale, pointScalePropTypes, scalePropType, stackAxis, stackX, stackY, timeScale, timeScalePropTypes };\n","import React, { useMemo, memo, useCallback, Fragment, useRef, useState, useEffect } from 'react';\nimport { useValueFormatter, blendModePropType, motionPropTypes, useMotionConfig, withContainer, useDimensions, useTheme, CartesianMarkers, SvgWrapper, ResponsiveWrapper, getRelativeCursor, isCursorInRect } from '@nivo/core';\nimport { axisPropType, Grid, Axes, renderGridLinesToCanvas, renderAxesToCanvas } from '@nivo/axes';\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport { useOrdinalColorScale, ordinalColorsPropType } from '@nivo/colors';\nimport { computeXYScalesForSeries, scalePropType } from '@nivo/scales';\nimport { useAnnotations, annotationSpecPropType, Annotation } from '@nivo/annotations';\nimport get from 'lodash/get';\nimport isString from 'lodash/isString';\nimport isNumber from 'lodash/isNumber';\nimport isPlainObject from 'lodash/isPlainObject';\nimport { scaleLinear } from 'd3-scale';\nimport PropTypes from 'prop-types';\nimport { BasicTooltip, useTooltip } from '@nivo/tooltip';\nimport { TransitionMotion, spring } from 'react-motion';\nimport { Mesh as Mesh$2, useVoronoiMesh, renderVoronoiToCanvas, renderVoronoiCellToCanvas } from '@nivo/voronoi';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\nvar getNodeSizeGenerator = function getNodeSizeGenerator(size) {\n  if (typeof size === 'function') return size;\n  if (isNumber(size)) return function () {\n    return size;\n  };\n  if (isPlainObject(size)) {\n    if (!isString(size.key)) {\n      throw new Error('symbolSize is invalid, key should be a string pointing to the property to use to determine node size');\n    }\n    if (!Array.isArray(size.values) || size.values.length !== 2) {\n      throw new Error('symbolSize is invalid, values spec should be an array containing two values, min and max');\n    }\n    if (!Array.isArray(size.sizes) || size.sizes.length !== 2) {\n      throw new Error('symbolSize is invalid, sizes spec should be an array containing two values, min and max');\n    }\n    var sizeScale = scaleLinear().domain([size.values[0], size.values[1]]).range([size.sizes[0], size.sizes[1]]);\n    return function (d) {\n      return sizeScale(get(d, size.key));\n    };\n  }\n  throw new Error('symbolSize is invalid, it should be either a function, a number or an object');\n};\nvar computePoints = function computePoints(_ref) {\n  var series = _ref.series,\n      formatX = _ref.formatX,\n      formatY = _ref.formatY;\n  return series.reduce(function (agg, serie) {\n    return [].concat(_toConsumableArray(agg), _toConsumableArray(serie.data.map(function (d, i) {\n      return {\n        index: agg.length + i,\n        id: \"\".concat(serie.id, \".\").concat(i),\n        x: d.position.x,\n        y: d.position.y,\n        data: _objectSpread({}, d.data, {\n          id: \"\".concat(serie.id, \".\").concat(i),\n          serieId: serie.id,\n          formattedX: formatX(d.data.x),\n          formattedY: formatY(d.data.y)\n        })\n      };\n    })));\n  }, []);\n};\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar useNodeSize = function useNodeSize(size) {\n  return useMemo(function () {\n    return getNodeSizeGenerator(size);\n  }, [size]);\n};\nvar useScatterPlot = function useScatterPlot(_ref) {\n  var data = _ref.data,\n      xScaleSpec = _ref.xScaleSpec,\n      xFormat = _ref.xFormat,\n      yScaleSpec = _ref.yScaleSpec,\n      yFormat = _ref.yFormat,\n      width = _ref.width,\n      height = _ref.height,\n      nodeSize = _ref.nodeSize,\n      colors = _ref.colors;\n  var _useMemo = useMemo(function () {\n    return computeXYScalesForSeries(data, xScaleSpec, yScaleSpec, width, height);\n  }, [data, xScaleSpec, yScaleSpec, width, height]),\n      series = _useMemo.series,\n      xScale = _useMemo.xScale,\n      yScale = _useMemo.yScale;\n  var formatX = useValueFormatter(xFormat);\n  var formatY = useValueFormatter(yFormat);\n  var rawNodes = useMemo(function () {\n    return computePoints({\n      series: series,\n      formatX: formatX,\n      formatY: formatY\n    });\n  }, [series, formatX, formatY]);\n  var getNodeSize = useNodeSize(nodeSize);\n  var getColor = useOrdinalColorScale(colors, 'serieId');\n  var nodes = useMemo(function () {\n    return rawNodes.map(function (rawNode) {\n      return _objectSpread$1({}, rawNode, {\n        size: getNodeSize(rawNode.data),\n        style: {\n          color: getColor(rawNode.data)\n        }\n      });\n    });\n  }, [rawNodes, getNodeSize, getColor]);\n  var legendData = useMemo(function () {\n    return series.map(function (serie) {\n      return {\n        id: serie.id,\n        label: serie.id,\n        color: getColor({\n          serieId: serie.id\n        })\n      };\n    });\n  }, [series, getColor]);\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    nodes: nodes,\n    legendData: legendData\n  };\n};\nvar useScatterPlotAnnotations = function useScatterPlotAnnotations(items, annotations) {\n  return useAnnotations({\n    items: items,\n    annotations: annotations,\n    getDimensions: function getDimensions(node, offset) {\n      var size = node.size + offset * 2;\n      return {\n        size: size,\n        width: size,\n        height: size\n      };\n    }\n  });\n};\n\nvar Node = function Node(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size,\n      color = _ref.color,\n      blendMode = _ref.blendMode,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick;\n  return React.createElement(\"circle\", {\n    cx: x,\n    cy: y,\n    r: size / 2,\n    fill: color,\n    style: {\n      mixBlendMode: blendMode\n    },\n    onMouseEnter: onMouseEnter,\n    onMouseMove: onMouseMove,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick\n  });\n};\nNode.propTypes = {\n  node: PropTypes.object.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  blendMode: blendModePropType.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func\n};\nvar Node$1 = memo(Node);\n\nvar Tooltip = function Tooltip(_ref) {\n  var node = _ref.node;\n  return React.createElement(BasicTooltip, {\n    id: node.data.serieId,\n    value: \"x: \".concat(node.data.formattedX, \", y: \").concat(node.data.formattedY),\n    enableChip: true,\n    color: node.style.color\n  });\n};\nTooltip.propTypes = {\n  node: PropTypes.object.isRequired\n};\nvar Tooltip$1 = memo(Tooltip);\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar commonPropTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    data: PropTypes.arrayOf(PropTypes.shape({\n      x: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n      y: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired\n    })).isRequired\n  })).isRequired,\n  xScale: scalePropType.isRequired,\n  xFormat: PropTypes.any,\n  yScale: scalePropType.isRequired,\n  yFormat: PropTypes.any,\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['grid', 'axes', 'nodes', 'markers', 'mesh', 'legends', 'annotations']), PropTypes.func])).isRequired,\n  enableGridX: PropTypes.bool.isRequired,\n  enableGridY: PropTypes.bool.isRequired,\n  axisTop: axisPropType,\n  axisRight: axisPropType,\n  axisBottom: axisPropType,\n  axisLeft: axisPropType,\n  annotations: PropTypes.arrayOf(annotationSpecPropType).isRequired,\n  nodeSize: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    key: PropTypes.string.isRequired,\n    values: PropTypes.arrayOf(PropTypes.number).isRequired,\n    sizes: PropTypes.arrayOf(PropTypes.number).isRequired\n  }), PropTypes.func]).isRequired,\n  renderNode: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  colors: ordinalColorsPropType.isRequired,\n  blendMode: blendModePropType.isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  debugMesh: PropTypes.bool.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  markers: PropTypes.arrayOf(PropTypes.shape({\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    style: PropTypes.object\n  })),\n  legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired\n};\nvar ScatterPlotPropTypes = _objectSpread$2({}, commonPropTypes, {\n  useMesh: PropTypes.bool.isRequired\n}, motionPropTypes);\nvar ScatterPlotCanvasPropTypes = _objectSpread$2({}, commonPropTypes, {\n  pixelRatio: PropTypes.number.isRequired\n});\nvar commonDefaultProps = {\n  xScale: {\n    type: 'linear',\n    min: 0,\n    max: 'auto'\n  },\n  yScale: {\n    type: 'linear',\n    min: 0,\n    max: 'auto'\n  },\n  enableGridX: true,\n  enableGridY: true,\n  axisBottom: {},\n  axisLeft: {},\n  nodeSize: 9,\n  renderNode: Node$1,\n  colors: {\n    scheme: 'nivo'\n  },\n  blendMode: 'normal',\n  isInteractive: true,\n  debugMesh: false,\n  tooltip: Tooltip$1,\n  markers: [],\n  legends: [],\n  annotations: []\n};\nvar ScatterPlotDefaultProps = _objectSpread$2({}, commonDefaultProps, {\n  layers: ['grid', 'axes', 'nodes', 'markers', 'mesh', 'legends', 'annotations'],\n  useMesh: true,\n  animate: true,\n  motionStiffness: 90,\n  motionDamping: 15\n});\nvar ScatterPlotCanvasDefaultProps = _objectSpread$2({}, commonDefaultProps, {\n  layers: ['grid', 'axes', 'nodes', 'mesh', 'legends', 'annotations'],\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n});\nvar NodePropType = PropTypes.shape({\n  id: PropTypes.string.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired,\n  data: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    serieId: PropTypes.string.isRequired,\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    formattedX: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    formattedY: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n  }).isRequired,\n  style: PropTypes.shape({\n    color: PropTypes.string.isRequired\n  }).isRequired\n});\n\nvar NodeWrapper = function NodeWrapper(_ref) {\n  var node = _ref.node,\n      NodeComponent = _ref.renderNode,\n      x = _ref.x,\n      y = _ref.y,\n      size = _ref.size,\n      color = _ref.color,\n      isInteractive = _ref.isInteractive,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip,\n      blendMode = _ref.blendMode;\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseEnter = useCallback(function (event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      node: node\n    }), event);\n    onMouseEnter && onMouseEnter(node, event);\n  }, [node, tooltip, showTooltipFromEvent, onMouseEnter]);\n  var handleMouseMove = useCallback(function (event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      node: node\n    }), event);\n    onMouseMove && onMouseMove(node, event);\n  }, [node, tooltip, showTooltipFromEvent, onMouseMove]);\n  var handleMouseLeave = useCallback(function (event) {\n    hideTooltip();\n    onMouseLeave && onMouseLeave(node, event);\n  }, [node, hideTooltip, onMouseLeave]);\n  var handleClick = useCallback(function (event) {\n    onClick && onClick(node, event);\n  }, [node, onClick]);\n  return React.createElement(NodeComponent, {\n    node: node,\n    x: x,\n    y: y,\n    size: size,\n    color: color,\n    blendMode: blendMode,\n    onMouseEnter: isInteractive ? handleMouseEnter : undefined,\n    onMouseMove: isInteractive ? handleMouseMove : undefined,\n    onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n    onClick: isInteractive && onClick ? handleClick : undefined\n  });\n};\nNodeWrapper.propTypes = {\n  node: NodePropType.isRequired,\n  renderNode: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  blendMode: blendModePropType.isRequired\n};\nvar NodeWrapper$1 = memo(NodeWrapper);\n\nvar AnimatedNodes = function AnimatedNodes(_ref) {\n  var nodes = _ref.nodes,\n      renderNode = _ref.renderNode,\n      isInteractive = _ref.isInteractive,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip,\n      blendMode = _ref.blendMode;\n  var _useMotionConfig = useMotionConfig(),\n      springConfig = _useMotionConfig.springConfig;\n  return React.createElement(TransitionMotion, {\n    styles: nodes.map(function (node) {\n      return {\n        key: node.id,\n        data: node,\n        style: {\n          x: spring(node.x, springConfig),\n          y: spring(node.y, springConfig),\n          size: spring(node.size, springConfig)\n        }\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(React.Fragment, null, interpolatedStyles.map(function (_ref2) {\n      var key = _ref2.key,\n          style = _ref2.style,\n          node = _ref2.data;\n      return React.createElement(NodeWrapper$1, {\n        key: key,\n        node: node,\n        renderNode: renderNode,\n        x: style.x,\n        y: style.y,\n        size: style.size,\n        color: node.style.color,\n        isInteractive: isInteractive,\n        onMouseEnter: onMouseEnter,\n        onMouseMove: onMouseMove,\n        onMouseLeave: onMouseLeave,\n        onClick: onClick,\n        tooltip: tooltip,\n        blendMode: blendMode\n      });\n    }));\n  });\n};\nAnimatedNodes.propTypes = {\n  nodes: PropTypes.arrayOf(NodePropType).isRequired,\n  renderNode: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  blendMode: blendModePropType.isRequired\n};\nvar AnimatedNodes$1 = memo(AnimatedNodes);\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar ScatterPlotAnnotations = function ScatterPlotAnnotations(_ref) {\n  var nodes = _ref.nodes,\n      annotations = _ref.annotations,\n      innerWidth = _ref.innerWidth,\n      innerHeight = _ref.innerHeight;\n  var boundAnnotations = useScatterPlotAnnotations(nodes, annotations);\n  return boundAnnotations.map(function (annotation, i) {\n    return React.createElement(Annotation, _extends({\n      key: i\n    }, annotation, {\n      containerWidth: innerWidth,\n      containerHeight: innerHeight\n    }));\n  });\n};\nScatterPlotAnnotations.propTypes = {};\n\nvar StaticNodes = function StaticNodes(_ref) {\n  var nodes = _ref.nodes,\n      renderNode = _ref.renderNode,\n      isInteractive = _ref.isInteractive,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip,\n      blendMode = _ref.blendMode;\n  return nodes.map(function (node) {\n    return React.createElement(NodeWrapper$1, {\n      key: node.id,\n      node: node,\n      renderNode: renderNode,\n      x: node.x,\n      y: node.y,\n      size: node.size,\n      color: node.style.color,\n      isInteractive: isInteractive,\n      onMouseEnter: onMouseEnter,\n      onMouseMove: onMouseMove,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      tooltip: tooltip,\n      blendMode: blendMode\n    });\n  });\n};\nStaticNodes.propTypes = {\n  nodes: PropTypes.arrayOf(NodePropType).isRequired,\n  renderNode: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  blendMode: blendModePropType.isRequired\n};\nvar StaticNodes$1 = memo(StaticNodes);\n\nvar Mesh = function Mesh(_ref) {\n  var nodes = _ref.nodes,\n      width = _ref.width,\n      height = _ref.height,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip,\n      debug = _ref.debug;\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseEnter = useCallback(function (node, event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      node: node\n    }), event);\n    onMouseEnter && onMouseEnter(node, event);\n  }, [showTooltipFromEvent, tooltip, onMouseEnter]);\n  var handleMouseMove = useCallback(function (node, event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      node: node\n    }), event);\n    onMouseMove && onMouseMove(node, event);\n  }, [showTooltipFromEvent, tooltip, onMouseMove]);\n  var handleMouseLeave = useCallback(function () {\n    hideTooltip();\n  }, [hideTooltip]);\n  var handleClick = useCallback(function (node, event) {\n    onClick && onClick(node, event);\n  }, [onClick]);\n  return React.createElement(Mesh$2, {\n    nodes: nodes,\n    width: width,\n    height: height,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick,\n    debug: debug\n  });\n};\nMesh.propTypes = {\n  nodes: PropTypes.arrayOf(NodePropType).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  debug: PropTypes.bool.isRequired\n};\nvar Mesh$1 = memo(Mesh);\n\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$3(target, key, source[key]); }); } return target; }\nfunction _defineProperty$3(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar ScatterPlot = function ScatterPlot(props) {\n  var data = props.data,\n      xScaleSpec = props.xScale,\n      xFormat = props.xFormat,\n      yScaleSpec = props.yScale,\n      yFormat = props.yFormat,\n      width = props.width,\n      height = props.height,\n      partialMargin = props.margin,\n      layers = props.layers,\n      colors = props.colors,\n      blendMode = props.blendMode,\n      nodeSize = props.nodeSize,\n      renderNode = props.renderNode,\n      enableGridX = props.enableGridX,\n      enableGridY = props.enableGridY,\n      gridXValues = props.gridXValues,\n      gridYValues = props.gridYValues,\n      axisTop = props.axisTop,\n      axisRight = props.axisRight,\n      axisBottom = props.axisBottom,\n      axisLeft = props.axisLeft,\n      annotations = props.annotations,\n      isInteractive = props.isInteractive,\n      useMesh = props.useMesh,\n      debugMesh = props.debugMesh,\n      onMouseEnter = props.onMouseEnter,\n      onMouseMove = props.onMouseMove,\n      onMouseLeave = props.onMouseLeave,\n      onClick = props.onClick,\n      tooltip = props.tooltip,\n      markers = props.markers,\n      legends = props.legends;\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate;\n  var _useScatterPlot = useScatterPlot({\n    data: data,\n    xScaleSpec: xScaleSpec,\n    xFormat: xFormat,\n    yScaleSpec: yScaleSpec,\n    yFormat: yFormat,\n    width: innerWidth,\n    height: innerHeight,\n    nodeSize: nodeSize,\n    colors: colors\n  }),\n      xScale = _useScatterPlot.xScale,\n      yScale = _useScatterPlot.yScale,\n      nodes = _useScatterPlot.nodes,\n      legendData = _useScatterPlot.legendData;\n  var customLayerProps = useMemo(function () {\n    return _objectSpread$3({}, props, {\n      xScale: xScale,\n      yScale: yScale,\n      nodes: nodes,\n      margin: margin,\n      innerWidth: innerWidth,\n      innerHeight: innerHeight,\n      outerWidth: outerWidth,\n      outerHeight: outerHeight\n    });\n  }, [xScale, yScale, nodes, margin, innerWidth, innerHeight, outerWidth, outerHeight]);\n  var Nodes = animate ? AnimatedNodes$1 : StaticNodes$1;\n  var layerById = {\n    grid: React.createElement(Grid, {\n      key: \"grid\",\n      width: innerWidth,\n      height: innerHeight,\n      xScale: enableGridX ? xScale : null,\n      yScale: enableGridY ? yScale : null,\n      xValues: gridXValues,\n      yValues: gridYValues\n    }),\n    axes: React.createElement(Axes, {\n      key: \"axes\",\n      xScale: xScale,\n      yScale: yScale,\n      width: innerWidth,\n      height: innerHeight,\n      top: axisTop,\n      right: axisRight,\n      bottom: axisBottom,\n      left: axisLeft\n    }),\n    nodes: React.createElement(Nodes, {\n      key: 'nodes',\n      nodes: nodes,\n      renderNode: renderNode,\n      isInteractive: isInteractive,\n      onMouseEnter: onMouseEnter,\n      onMouseMove: onMouseMove,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      tooltip: tooltip,\n      blendMode: blendMode\n    }),\n    markers: React.createElement(CartesianMarkers, {\n      key: \"markers\",\n      markers: markers,\n      width: innerWidth,\n      height: innerHeight,\n      xScale: xScale,\n      yScale: yScale\n    }),\n    mesh: null,\n    annotations: React.createElement(ScatterPlotAnnotations, {\n      key: \"annotations\",\n      nodes: nodes,\n      annotations: annotations,\n      innerWidth: innerWidth,\n      innerHeight: innerHeight,\n      animate: animate\n    }),\n    legends: legends.map(function (legend, i) {\n      return React.createElement(BoxLegendSvg, _extends$1({\n        key: i\n      }, legend, {\n        containerWidth: innerWidth,\n        containerHeight: innerHeight,\n        data: legendData,\n        theme: theme\n      }));\n    })\n  };\n  if (isInteractive === true && useMesh === true) {\n    layerById.mesh = React.createElement(Mesh$1, {\n      key: \"mesh\",\n      nodes: nodes,\n      width: innerWidth,\n      height: innerHeight,\n      onMouseEnter: onMouseEnter,\n      onMouseMove: onMouseMove,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      tooltip: tooltip,\n      debug: debugMesh\n    });\n  }\n  return React.createElement(SvgWrapper, {\n    width: outerWidth,\n    height: outerHeight,\n    margin: margin,\n    theme: theme\n  }, layers.map(function (layer, i) {\n    if (layerById[layer] !== undefined) {\n      return layerById[layer];\n    }\n    if (typeof layer === 'function') {\n      return React.createElement(Fragment, {\n        key: i\n      }, React.createElement(layer, customLayerProps));\n    }\n    throw new Error(\"Unknown layer (\".concat(layer, \")\"));\n  }));\n};\nScatterPlot.propTypes = ScatterPlotPropTypes;\nScatterPlot.defaultProps = ScatterPlotDefaultProps;\nvar ScatterPlot$1 = memo(withContainer(ScatterPlot));\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\nvar ResponsiveScatterPlot = function ResponsiveScatterPlot(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(ScatterPlot$1, _extends$2({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$4(target, key, source[key]); }); } return target; }\nfunction _defineProperty$4(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar ScatterPlotCanvas = function ScatterPlotCanvas(props) {\n  var data = props.data,\n      xScaleSpec = props.xScale,\n      xFormat = props.xFormat,\n      yScaleSpec = props.yScale,\n      yFormat = props.yFormat,\n      width = props.width,\n      height = props.height,\n      partialMargin = props.margin,\n      pixelRatio = props.pixelRatio,\n      layers = props.layers,\n      colors = props.colors,\n      nodeSize = props.nodeSize,\n      renderNode = props.renderNode,\n      enableGridX = props.enableGridX,\n      gridXValues = props.gridXValues,\n      enableGridY = props.enableGridY,\n      gridYValues = props.gridYValues,\n      axisTop = props.axisTop,\n      axisRight = props.axisRight,\n      axisBottom = props.axisBottom,\n      axisLeft = props.axisLeft,\n      isInteractive = props.isInteractive,\n      debugMesh = props.debugMesh,\n      onMouseEnter = props.onMouseEnter,\n      onMouseMove = props.onMouseMove,\n      onMouseLeave = props.onMouseLeave,\n      onClick = props.onClick,\n      tooltip = props.tooltip,\n      legends = props.legends;\n  var canvasEl = useRef(null);\n  var theme = useTheme();\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentNode = _useState2[0],\n      setCurrentNode = _useState2[1];\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n  var _useScatterPlot = useScatterPlot({\n    data: data,\n    xScaleSpec: xScaleSpec,\n    xFormat: xFormat,\n    yScaleSpec: yScaleSpec,\n    yFormat: yFormat,\n    width: innerWidth,\n    height: innerHeight,\n    nodeSize: nodeSize,\n    colors: colors\n  }),\n      xScale = _useScatterPlot.xScale,\n      yScale = _useScatterPlot.yScale,\n      nodes = _useScatterPlot.nodes,\n      legendData = _useScatterPlot.legendData;\n  var _useVoronoiMesh = useVoronoiMesh({\n    points: nodes,\n    width: innerWidth,\n    height: innerHeight,\n    debug: debugMesh\n  }),\n      delaunay = _useVoronoiMesh.delaunay,\n      voronoi = _useVoronoiMesh.voronoi;\n  var customLayerProps = useMemo(function () {\n    return _objectSpread$4({}, props, {\n      xScale: xScale,\n      yScale: yScale,\n      nodes: nodes,\n      margin: margin,\n      innerWidth: innerWidth,\n      innerHeight: innerHeight,\n      outerWidth: outerWidth,\n      outerHeight: outerHeight\n    });\n  }, [xScale, yScale, nodes, margin, innerWidth, innerHeight, outerWidth, outerHeight]);\n  useEffect(function () {\n    canvasEl.current.width = outerWidth * pixelRatio;\n    canvasEl.current.height = outerHeight * pixelRatio;\n    var ctx = canvasEl.current.getContext('2d');\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.fillStyle = theme.background;\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\n    ctx.translate(margin.left, margin.top);\n    layers.forEach(function (layer) {\n      if (layer === 'grid') {\n        ctx.lineWidth = theme.grid.line.strokeWidth;\n        ctx.strokeStyle = theme.grid.line.stroke;\n        enableGridX && renderGridLinesToCanvas(ctx, {\n          width: innerWidth,\n          height: innerHeight,\n          scale: xScale,\n          axis: 'x',\n          values: gridXValues\n        });\n        enableGridY && renderGridLinesToCanvas(ctx, {\n          width: innerWidth,\n          height: innerHeight,\n          scale: yScale,\n          axis: 'y',\n          values: gridYValues\n        });\n      } else if (layer === 'axes') {\n        renderAxesToCanvas(ctx, {\n          xScale: xScale,\n          yScale: yScale,\n          width: innerWidth,\n          height: innerHeight,\n          top: axisTop,\n          right: axisRight,\n          bottom: axisBottom,\n          left: axisLeft,\n          theme: theme\n        });\n      } else if (layer === 'nodes') {\n        nodes.forEach(function (node) {\n          renderNode(ctx, node);\n        });\n      } else if (layer === 'mesh') {\n        if (debugMesh === true) {\n          renderVoronoiToCanvas(ctx, voronoi);\n          if (currentNode) {\n            renderVoronoiCellToCanvas(ctx, voronoi, currentNode.index);\n          }\n        }\n      } else if (layer === 'legends') {\n        legends.forEach(function (legend) {\n          renderLegendToCanvas(ctx, _objectSpread$4({}, legend, {\n            data: legendData,\n            containerWidth: innerWidth,\n            containerHeight: innerHeight,\n            theme: theme\n          }));\n        });\n      } else if (typeof layer === 'function') {\n        layer(ctx, customLayerProps);\n      } else {\n        throw new Error(\"Invalid layer: \".concat(layer));\n      }\n    });\n  }, [canvasEl, innerWidth, innerHeight, outerWidth, outerHeight, margin.top, margin.left, pixelRatio, renderNode, layers, customLayerProps, theme, xScale, yScale, nodes, enableGridX, enableGridY, axisTop, axisRight, axisBottom, axisLeft, legends, legendData, debugMesh, voronoi, currentNode]);\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var getNodeFromMouseEvent = useCallback(function (event) {\n    var _getRelativeCursor = getRelativeCursor(canvasEl.current, event),\n        _getRelativeCursor2 = _slicedToArray(_getRelativeCursor, 2),\n        x = _getRelativeCursor2[0],\n        y = _getRelativeCursor2[1];\n    if (!isCursorInRect(margin.left, margin.top, innerWidth, innerHeight, x, y)) return null;\n    var nodeIndex = delaunay.find(x - margin.left, y - margin.top);\n    return nodes[nodeIndex];\n  }, [canvasEl, margin, innerWidth, innerHeight, delaunay]);\n  var handleMouseHover = useCallback(function (event) {\n    var node = getNodeFromMouseEvent(event);\n    setCurrentNode(node);\n    if (node) {\n      showTooltipFromEvent(React.createElement(tooltip, {\n        node: node\n      }), event);\n      if (currentNode && currentNode.id !== node.id) {\n        onMouseLeave && onMouseLeave(currentNode, event);\n        onMouseEnter && onMouseEnter(node, event);\n      }\n      if (!currentNode) {\n        onMouseEnter && onMouseEnter(node, event);\n      }\n      onMouseMove && onMouseMove(node, event);\n    } else {\n      hideTooltip();\n      currentNode && onMouseLeave && onMouseLeave(currentNode, event);\n    }\n  }, [getNodeFromMouseEvent, currentNode, setCurrentNode, showTooltipFromEvent, hideTooltip, tooltip, onMouseEnter, onMouseMove, onMouseLeave]);\n  var handleMouseLeave = useCallback(function (event) {\n    hideTooltip();\n    setCurrentNode(null);\n    currentNode && onMouseLeave && onMouseLeave(currentNode, event);\n  }, [hideTooltip, currentNode, setCurrentNode, onMouseLeave]);\n  var handleClick = useCallback(function (event) {\n    if (onClick) {\n      var node = getNodeFromMouseEvent(event);\n      node && onClick(node, event);\n    }\n  }, [getNodeFromMouseEvent, onClick]);\n  return React.createElement(\"canvas\", {\n    ref: canvasEl,\n    width: outerWidth * pixelRatio,\n    height: outerHeight * pixelRatio,\n    style: {\n      width: outerWidth,\n      height: outerHeight,\n      cursor: isInteractive ? 'auto' : 'normal'\n    },\n    onMouseEnter: isInteractive ? handleMouseHover : undefined,\n    onMouseMove: isInteractive ? handleMouseHover : undefined,\n    onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n    onClick: isInteractive ? handleClick : undefined\n  });\n};\nScatterPlotCanvas.propTypes = ScatterPlotCanvasPropTypes;\nScatterPlotCanvas.defaultProps = _objectSpread$4({}, ScatterPlotCanvasDefaultProps, {\n  renderNode: function renderNode(ctx, node) {\n    ctx.beginPath();\n    ctx.arc(node.x, node.y, node.size / 2, 0, 2 * Math.PI);\n    ctx.fillStyle = node.style.color;\n    ctx.fill();\n  }\n});\nvar ScatterPlotCanvas$1 = memo(withContainer(ScatterPlotCanvas));\n\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\nvar ResponsiveScatterPlotCanvas = function ResponsiveScatterPlotCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(ScatterPlotCanvas$1, _extends$3({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { NodePropType, ResponsiveScatterPlot, ResponsiveScatterPlotCanvas, ScatterPlot$1 as ScatterPlot, ScatterPlotCanvas$1 as ScatterPlotCanvas, ScatterPlotCanvasDefaultProps, ScatterPlotCanvasPropTypes, ScatterPlotDefaultProps, ScatterPlotPropTypes, useScatterPlot, useScatterPlotAnnotations };\n","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\n\n\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;","var baseEach = require('./_baseEach');\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\n\n\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function (value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;","var baseIsDate = require('./_baseIsDate'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n/* Node.js helper references. */\n\n\nvar nodeIsDate = nodeUtil && nodeUtil.isDate;\n/**\n * Checks if `value` is classified as a `Date` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n * @example\n *\n * _.isDate(new Date);\n * // => true\n *\n * _.isDate('Mon April 23 2012');\n * // => false\n */\n\nvar isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\nmodule.exports = isDate;","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.typed.int32-array\";\nimport \"core-js/modules/es6.typed.float64-array\";\nimport _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport \"core-js/modules/es6.typed.uint32-array\";\nvar EPSILON = Math.pow(2, -52);\nvar EDGE_STACK = new Uint32Array(512);\n\nvar Delaunator =\n/*#__PURE__*/\nfunction () {\n  _createClass(Delaunator, null, [{\n    key: \"from\",\n    value: function from(points) {\n      var getX = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetX;\n      var getY = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGetY;\n      var n = points.length;\n      var coords = new Float64Array(n * 2);\n\n      for (var i = 0; i < n; i++) {\n        var p = points[i];\n        coords[2 * i] = getX(p);\n        coords[2 * i + 1] = getY(p);\n      }\n\n      return new Delaunator(coords);\n    }\n  }]);\n\n  function Delaunator(coords) {\n    _classCallCheck(this, Delaunator);\n\n    var n = coords.length >> 1;\n    if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n    this.coords = coords; // arrays that will store the triangulation graph\n\n    var maxTriangles = Math.max(2 * n - 5, 0);\n    this._triangles = new Uint32Array(maxTriangles * 3);\n    this._halfedges = new Int32Array(maxTriangles * 3); // temporary arrays for tracking the edges of the advancing convex hull\n\n    this._hashSize = Math.ceil(Math.sqrt(n));\n    this._hullPrev = new Uint32Array(n); // edge to prev edge\n\n    this._hullNext = new Uint32Array(n); // edge to next edge\n\n    this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n\n    this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n    // temporary arrays for sorting points\n\n    this._ids = new Uint32Array(n);\n    this._dists = new Float64Array(n);\n    this.update();\n  }\n\n  _createClass(Delaunator, [{\n    key: \"update\",\n    value: function update() {\n      var coords = this.coords,\n          hullPrev = this._hullPrev,\n          hullNext = this._hullNext,\n          hullTri = this._hullTri,\n          hullHash = this._hullHash;\n      var n = coords.length >> 1; // populate an array of point indices; calculate input data bbox\n\n      var minX = Infinity;\n      var minY = Infinity;\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n\n      for (var i = 0; i < n; i++) {\n        var x = coords[2 * i];\n        var y = coords[2 * i + 1];\n        if (x < minX) minX = x;\n        if (y < minY) minY = y;\n        if (x > maxX) maxX = x;\n        if (y > maxY) maxY = y;\n        this._ids[i] = i;\n      }\n\n      var cx = (minX + maxX) / 2;\n      var cy = (minY + maxY) / 2;\n      var minDist = Infinity;\n      var i0, i1, i2; // pick a seed point close to the center\n\n      for (var _i = 0; _i < n; _i++) {\n        var d = dist(cx, cy, coords[2 * _i], coords[2 * _i + 1]);\n\n        if (d < minDist) {\n          i0 = _i;\n          minDist = d;\n        }\n      }\n\n      var i0x = coords[2 * i0];\n      var i0y = coords[2 * i0 + 1];\n      minDist = Infinity; // find the point closest to the seed\n\n      for (var _i2 = 0; _i2 < n; _i2++) {\n        if (_i2 === i0) continue;\n\n        var _d = dist(i0x, i0y, coords[2 * _i2], coords[2 * _i2 + 1]);\n\n        if (_d < minDist && _d > 0) {\n          i1 = _i2;\n          minDist = _d;\n        }\n      }\n\n      var i1x = coords[2 * i1];\n      var i1y = coords[2 * i1 + 1];\n      var minRadius = Infinity; // find the third point which forms the smallest circumcircle with the first two\n\n      for (var _i3 = 0; _i3 < n; _i3++) {\n        if (_i3 === i0 || _i3 === i1) continue;\n        var r = circumradius(i0x, i0y, i1x, i1y, coords[2 * _i3], coords[2 * _i3 + 1]);\n\n        if (r < minRadius) {\n          i2 = _i3;\n          minRadius = r;\n        }\n      }\n\n      var i2x = coords[2 * i2];\n      var i2y = coords[2 * i2 + 1];\n\n      if (minRadius === Infinity) {\n        // order collinear points by dx (or dy if all x are identical)\n        // and return the list as a hull\n        for (var _i4 = 0; _i4 < n; _i4++) {\n          this._dists[_i4] = coords[2 * _i4] - coords[0] || coords[2 * _i4 + 1] - coords[1];\n        }\n\n        quicksort(this._ids, this._dists, 0, n - 1);\n        var hull = new Uint32Array(n);\n        var j = 0;\n\n        for (var _i5 = 0, d0 = -Infinity; _i5 < n; _i5++) {\n          var id = this._ids[_i5];\n\n          if (this._dists[id] > d0) {\n            hull[j++] = id;\n            d0 = this._dists[id];\n          }\n        }\n\n        this.hull = hull.subarray(0, j);\n        this.triangles = new Uint32Array(0);\n        this.halfedges = new Uint32Array(0);\n        return;\n      } // swap the order of the seed points for counter-clockwise orientation\n\n\n      if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n        var _i6 = i1;\n        var _x = i1x;\n        var _y = i1y;\n        i1 = i2;\n        i1x = i2x;\n        i1y = i2y;\n        i2 = _i6;\n        i2x = _x;\n        i2y = _y;\n      }\n\n      var center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n      this._cx = center.x;\n      this._cy = center.y;\n\n      for (var _i7 = 0; _i7 < n; _i7++) {\n        this._dists[_i7] = dist(coords[2 * _i7], coords[2 * _i7 + 1], center.x, center.y);\n      } // sort the points by distance from the seed triangle circumcenter\n\n\n      quicksort(this._ids, this._dists, 0, n - 1); // set up the seed triangle as the starting hull\n\n      this._hullStart = i0;\n      var hullSize = 3;\n      hullNext[i0] = hullPrev[i2] = i1;\n      hullNext[i1] = hullPrev[i0] = i2;\n      hullNext[i2] = hullPrev[i1] = i0;\n      hullTri[i0] = 0;\n      hullTri[i1] = 1;\n      hullTri[i2] = 2;\n      hullHash.fill(-1);\n      hullHash[this._hashKey(i0x, i0y)] = i0;\n      hullHash[this._hashKey(i1x, i1y)] = i1;\n      hullHash[this._hashKey(i2x, i2y)] = i2;\n      this.trianglesLen = 0;\n\n      this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n      for (var k = 0, xp, yp; k < this._ids.length; k++) {\n        var _i8 = this._ids[k];\n        var _x2 = coords[2 * _i8];\n        var _y2 = coords[2 * _i8 + 1]; // skip near-duplicate points\n\n        if (k > 0 && Math.abs(_x2 - xp) <= EPSILON && Math.abs(_y2 - yp) <= EPSILON) continue;\n        xp = _x2;\n        yp = _y2; // skip seed triangle points\n\n        if (_i8 === i0 || _i8 === i1 || _i8 === i2) continue; // find a visible edge on the convex hull using edge hash\n\n        var start = 0;\n\n        for (var _j = 0, key = this._hashKey(_x2, _y2); _j < this._hashSize; _j++) {\n          start = hullHash[(key + _j) % this._hashSize];\n          if (start !== -1 && start !== hullNext[start]) break;\n        }\n\n        start = hullPrev[start];\n        var e = start,\n            q = void 0;\n\n        while (q = hullNext[e], !orient(_x2, _y2, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n          e = q;\n\n          if (e === start) {\n            e = -1;\n            break;\n          }\n        }\n\n        if (e === -1) continue; // likely a near-duplicate point; skip it\n        // add the first triangle from the point\n\n        var t = this._addTriangle(e, _i8, hullNext[e], -1, -1, hullTri[e]); // recursively flip triangles from the point until they satisfy the Delaunay condition\n\n\n        hullTri[_i8] = this._legalize(t + 2);\n        hullTri[e] = t; // keep track of boundary triangles on the hull\n\n        hullSize++; // walk forward through the hull, adding more triangles and flipping recursively\n\n        var _n = hullNext[e];\n\n        while (q = hullNext[_n], orient(_x2, _y2, coords[2 * _n], coords[2 * _n + 1], coords[2 * q], coords[2 * q + 1])) {\n          t = this._addTriangle(_n, _i8, q, hullTri[_i8], -1, hullTri[_n]);\n          hullTri[_i8] = this._legalize(t + 2);\n          hullNext[_n] = _n; // mark as removed\n\n          hullSize--;\n          _n = q;\n        } // walk backward from the other side, adding more triangles and flipping\n\n\n        if (e === start) {\n          while (q = hullPrev[e], orient(_x2, _y2, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n            t = this._addTriangle(q, _i8, e, -1, hullTri[e], hullTri[q]);\n\n            this._legalize(t + 2);\n\n            hullTri[q] = t;\n            hullNext[e] = e; // mark as removed\n\n            hullSize--;\n            e = q;\n          }\n        } // update the hull indices\n\n\n        this._hullStart = hullPrev[_i8] = e;\n        hullNext[e] = hullPrev[_n] = _i8;\n        hullNext[_i8] = _n; // save the two new edges in the hash table\n\n        hullHash[this._hashKey(_x2, _y2)] = _i8;\n        hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n      }\n\n      this.hull = new Uint32Array(hullSize);\n\n      for (var _i9 = 0, _e = this._hullStart; _i9 < hullSize; _i9++) {\n        this.hull[_i9] = _e;\n        _e = hullNext[_e];\n      } // trim typed triangle mesh arrays\n\n\n      this.triangles = this._triangles.subarray(0, this.trianglesLen);\n      this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n  }, {\n    key: \"_hashKey\",\n    value: function _hashKey(x, y) {\n      return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n  }, {\n    key: \"_legalize\",\n    value: function _legalize(a) {\n      var triangles = this._triangles,\n          halfedges = this._halfedges,\n          coords = this.coords;\n      var i = 0;\n      var ar = 0; // recursion eliminated with a fixed-size stack\n\n      while (true) {\n        var b = halfedges[a];\n        /* if the pair of triangles doesn't satisfy the Delaunay condition\n         * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n         * then do the same check/flip recursively for the new pair of triangles\n         *\n         *           pl                    pl\n         *          /||\\                  /  \\\n         *       al/ || \\bl            al/    \\a\n         *        /  ||  \\              /      \\\n         *       /  a||b  \\    flip    /___ar___\\\n         *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n         *        \\  ||  /              \\      /\n         *       ar\\ || /br             b\\    /br\n         *          \\||/                  \\  /\n         *           pr                    pr\n         */\n\n        var a0 = a - a % 3;\n        ar = a0 + (a + 2) % 3;\n\n        if (b === -1) {\n          // convex hull edge\n          if (i === 0) break;\n          a = EDGE_STACK[--i];\n          continue;\n        }\n\n        var b0 = b - b % 3;\n        var al = a0 + (a + 1) % 3;\n        var bl = b0 + (b + 2) % 3;\n        var p0 = triangles[ar];\n        var pr = triangles[a];\n        var pl = triangles[al];\n        var p1 = triangles[bl];\n        var illegal = inCircle(coords[2 * p0], coords[2 * p0 + 1], coords[2 * pr], coords[2 * pr + 1], coords[2 * pl], coords[2 * pl + 1], coords[2 * p1], coords[2 * p1 + 1]);\n\n        if (illegal) {\n          triangles[a] = p1;\n          triangles[b] = p0;\n          var hbl = halfedges[bl]; // edge swapped on the other side of the hull (rare); fix the halfedge reference\n\n          if (hbl === -1) {\n            var e = this._hullStart;\n\n            do {\n              if (this._hullTri[e] === bl) {\n                this._hullTri[e] = a;\n                break;\n              }\n\n              e = this._hullPrev[e];\n            } while (e !== this._hullStart);\n          }\n\n          this._link(a, hbl);\n\n          this._link(b, halfedges[ar]);\n\n          this._link(ar, bl);\n\n          var br = b0 + (b + 1) % 3; // don't worry about hitting the cap: it can only happen on extremely degenerate input\n\n          if (i < EDGE_STACK.length) {\n            EDGE_STACK[i++] = br;\n          }\n        } else {\n          if (i === 0) break;\n          a = EDGE_STACK[--i];\n        }\n      }\n\n      return ar;\n    }\n  }, {\n    key: \"_link\",\n    value: function _link(a, b) {\n      this._halfedges[a] = b;\n      if (b !== -1) this._halfedges[b] = a;\n    } // add a new triangle given vertex indices and adjacent half-edge ids\n\n  }, {\n    key: \"_addTriangle\",\n    value: function _addTriangle(i0, i1, i2, a, b, c) {\n      var t = this.trianglesLen;\n      this._triangles[t] = i0;\n      this._triangles[t + 1] = i1;\n      this._triangles[t + 2] = i2;\n\n      this._link(t, a);\n\n      this._link(t + 1, b);\n\n      this._link(t + 2, c);\n\n      this.trianglesLen += 3;\n      return t;\n    }\n  }]);\n\n  return Delaunator;\n}(); // monotonically increases with real angle, but doesn't need expensive trigonometry\n\n\nexport { Delaunator as default };\n\nfunction pseudoAngle(dx, dy) {\n  var p = dx / (Math.abs(dx) + Math.abs(dy));\n  return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n  var dx = ax - bx;\n  var dy = ay - by;\n  return dx * dx + dy * dy;\n}\n\nfunction orient(px, py, qx, qy, rx, ry) {\n  return (qy - py) * (rx - qx) - (qx - px) * (ry - qy) < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n  var dx = ax - px;\n  var dy = ay - py;\n  var ex = bx - px;\n  var ey = by - py;\n  var fx = cx - px;\n  var fy = cy - py;\n  var ap = dx * dx + dy * dy;\n  var bp = ex * ex + ey * ey;\n  var cp = fx * fx + fy * fy;\n  return dx * (ey * cp - bp * fy) - dy * (ex * cp - bp * fx) + ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var ex = cx - ax;\n  var ey = cy - ay;\n  var bl = dx * dx + dy * dy;\n  var cl = ex * ex + ey * ey;\n  var d = 0.5 / (dx * ey - dy * ex);\n  var x = (ey * bl - dy * cl) * d;\n  var y = (dx * cl - ex * bl) * d;\n  return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var ex = cx - ax;\n  var ey = cy - ay;\n  var bl = dx * dx + dy * dy;\n  var cl = ex * ex + ey * ey;\n  var d = 0.5 / (dx * ey - dy * ex);\n  var x = ax + (ey * bl - dy * cl) * d;\n  var y = ay + (dx * cl - ex * bl) * d;\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction quicksort(ids, dists, left, right) {\n  if (right - left <= 20) {\n    for (var i = left + 1; i <= right; i++) {\n      var temp = ids[i];\n      var tempDist = dists[temp];\n      var j = i - 1;\n\n      while (j >= left && dists[ids[j]] > tempDist) {\n        ids[j + 1] = ids[j--];\n      }\n\n      ids[j + 1] = temp;\n    }\n  } else {\n    var median = left + right >> 1;\n\n    var _i10 = left + 1;\n\n    var _j2 = right;\n    swap(ids, median, _i10);\n    if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n    if (dists[ids[_i10]] > dists[ids[right]]) swap(ids, _i10, right);\n    if (dists[ids[left]] > dists[ids[_i10]]) swap(ids, left, _i10);\n    var _temp = ids[_i10];\n    var _tempDist = dists[_temp];\n\n    while (true) {\n      do {\n        _i10++;\n      } while (dists[ids[_i10]] < _tempDist);\n\n      do {\n        _j2--;\n      } while (dists[ids[_j2]] > _tempDist);\n\n      if (_j2 < _i10) break;\n      swap(ids, _i10, _j2);\n    }\n\n    ids[left + 1] = ids[_j2];\n    ids[_j2] = _temp;\n\n    if (right - _i10 + 1 >= _j2 - left) {\n      quicksort(ids, dists, _i10, right);\n      quicksort(ids, dists, left, _j2 - 1);\n    } else {\n      quicksort(ids, dists, left, _j2 - 1);\n      quicksort(ids, dists, _i10, right);\n    }\n  }\n}\n\nfunction swap(arr, i, j) {\n  var tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n  return p[0];\n}\n\nfunction defaultGetY(p) {\n  return p[1];\n}","import _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar epsilon = 1e-6;\n\nvar Path =\n/*#__PURE__*/\nfunction () {\n  function Path() {\n    _classCallCheck(this, Path);\n\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n\n    this._ = \"\";\n  }\n\n  _createClass(Path, [{\n    key: \"moveTo\",\n    value: function moveTo(x, y) {\n      this._ += \"M\".concat(this._x0 = this._x1 = +x, \",\").concat(this._y0 = this._y1 = +y);\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      if (this._x1 !== null) {\n        this._x1 = this._x0, this._y1 = this._y0;\n        this._ += \"Z\";\n      }\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(x, y) {\n      this._ += \"L\".concat(this._x1 = +x, \",\").concat(this._y1 = +y);\n    }\n  }, {\n    key: \"arc\",\n    value: function arc(x, y, r) {\n      x = +x, y = +y, r = +r;\n      var x0 = x + r;\n      var y0 = y;\n      if (r < 0) throw new Error(\"negative radius\");\n      if (this._x1 === null) this._ += \"M\".concat(x0, \",\").concat(y0);else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n      if (!r) return;\n      this._ += \"A\".concat(r, \",\").concat(r, \",0,1,1,\").concat(x - r, \",\").concat(y, \"A\").concat(r, \",\").concat(r, \",0,1,1,\").concat(this._x1 = x0, \",\").concat(this._y1 = y0);\n    }\n  }, {\n    key: \"rect\",\n    value: function rect(x, y, w, h) {\n      this._ += \"M\".concat(this._x0 = this._x1 = +x, \",\").concat(this._y0 = this._y1 = +y, \"h\").concat(+w, \"v\").concat(+h, \"h\").concat(-w, \"Z\");\n    }\n  }, {\n    key: \"value\",\n    value: function value() {\n      return this._ || null;\n    }\n  }]);\n\n  return Path;\n}();\n\nexport { Path as default };","import _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar Polygon =\n/*#__PURE__*/\nfunction () {\n  function Polygon() {\n    _classCallCheck(this, Polygon);\n\n    this._ = [];\n  }\n\n  _createClass(Polygon, [{\n    key: \"moveTo\",\n    value: function moveTo(x, y) {\n      this._.push([x, y]);\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      this._.push(this._[0].slice());\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(x, y) {\n      this._.push([x, y]);\n    }\n  }, {\n    key: \"value\",\n    value: function value() {\n      return this._.length ? this._ : null;\n    }\n  }]);\n\n  return Polygon;\n}();\n\nexport { Polygon as default };","import \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport _regeneratorRuntime from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/regenerator\";\nimport \"regenerator-runtime/runtime\";\nimport \"core-js/modules/es6.typed.float64-array\";\nimport _slicedToArray from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nvar Voronoi =\n/*#__PURE__*/\nfunction () {\n  function Voronoi(delaunay) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0, 960, 500],\n        _ref2 = _slicedToArray(_ref, 4),\n        xmin = _ref2[0],\n        ymin = _ref2[1],\n        xmax = _ref2[2],\n        ymax = _ref2[3];\n\n    _classCallCheck(this, Voronoi);\n\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n\n    this._init();\n  }\n\n  _createClass(Voronoi, [{\n    key: \"update\",\n    value: function update() {\n      this.delaunay.update();\n\n      this._init();\n\n      return this;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var _this$delaunay = this.delaunay,\n          points = _this$delaunay.points,\n          hull = _this$delaunay.hull,\n          triangles = _this$delaunay.triangles,\n          vectors = this.vectors; // Compute circumcenters.\n\n      var circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n\n      for (var i = 0, j = 0, n = triangles.length; i < n; i += 3, j += 2) {\n        var t1 = triangles[i] * 2;\n        var t2 = triangles[i + 1] * 2;\n        var t3 = triangles[i + 2] * 2;\n        var _x = points[t1];\n        var _y = points[t1 + 1];\n        var x2 = points[t2];\n        var y2 = points[t2 + 1];\n        var x3 = points[t3];\n        var y3 = points[t3 + 1];\n        var a2 = _x - x2;\n        var a3 = _x - x3;\n        var b2 = _y - y2;\n        var b3 = _y - y3;\n        var d1 = _x * _x + _y * _y;\n        var d2 = d1 - x2 * x2 - y2 * y2;\n        var d3 = d1 - x3 * x3 - y3 * y3;\n        var ab = (a3 * b2 - a2 * b3) * 2; // degenerate case (2 points)\n\n        if (!ab) {\n          circumcenters[j] = (_x + x3) / 2 + 1e8 * b3;\n          circumcenters[j + 1] = (_y + y3) / 2 - 1e8 * a3;\n        } else {\n          circumcenters[j] = (b2 * d3 - b3 * d2) / ab;\n          circumcenters[j + 1] = (a3 * d2 - a2 * d3) / ab;\n        }\n      } // Compute exterior cell rays.\n\n\n      var h = hull[hull.length - 1];\n      var p0,\n          p1 = h * 4;\n      var x0,\n          x1 = points[2 * h];\n      var y0,\n          y1 = points[2 * h + 1];\n\n      for (var _i = 0; _i < hull.length; ++_i) {\n        h = hull[_i];\n        p0 = p1, x0 = x1, y0 = y1;\n        p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n        vectors[p0 + 2] = vectors[p1] = y0 - y1;\n        vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var _this$delaunay2 = this.delaunay,\n          halfedges = _this$delaunay2.halfedges,\n          inedges = _this$delaunay2.inedges,\n          hull = _this$delaunay2.hull,\n          circumcenters = this.circumcenters,\n          vectors = this.vectors;\n      if (hull.length <= 1) return null;\n\n      for (var i = 0, n = halfedges.length; i < n; ++i) {\n        var j = halfedges[i];\n        if (j < i) continue;\n        var ti = Math.floor(i / 3) * 2;\n        var tj = Math.floor(j / 3) * 2;\n        var xi = circumcenters[ti];\n        var yi = circumcenters[ti + 1];\n        var xj = circumcenters[tj];\n        var yj = circumcenters[tj + 1];\n\n        this._renderSegment(xi, yi, xj, yj, context);\n      }\n\n      var h0,\n          h1 = hull[hull.length - 1];\n\n      for (var _i2 = 0; _i2 < hull.length; ++_i2) {\n        h0 = h1, h1 = hull[_i2];\n        var t = Math.floor(inedges[h1] / 3) * 2;\n        var x = circumcenters[t];\n        var y = circumcenters[t + 1];\n        var v = h0 * 4;\n\n        var p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n\n        if (p) this._renderSegment(x, y, p[0], p[1], context);\n      }\n\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderBounds\",\n    value: function renderBounds(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderCell\",\n    value: function renderCell(i, context) {\n      var buffer = context == null ? context = new Path() : undefined;\n\n      var points = this._clip(i);\n\n      if (points === null) return;\n      context.moveTo(points[0], points[1]);\n\n      for (var _i3 = 2, n = points.length; _i3 < n; _i3 += 2) {\n        context.lineTo(points[_i3], points[_i3 + 1]);\n      }\n\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"cellPolygons\",\n    value:\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function cellPolygons() {\n      var points, i, n, cell;\n      return _regeneratorRuntime.wrap(function cellPolygons$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              points = this.delaunay.points;\n              i = 0, n = points.length / 2;\n\n            case 2:\n              if (!(i < n)) {\n                _context.next = 10;\n                break;\n              }\n\n              cell = this.cellPolygon(i);\n\n              if (!cell) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 7;\n              return cell;\n\n            case 7:\n              ++i;\n              _context.next = 2;\n              break;\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, cellPolygons, this);\n    })\n  }, {\n    key: \"cellPolygon\",\n    value: function cellPolygon(i) {\n      var polygon = new Polygon();\n      this.renderCell(i, polygon);\n      return polygon.value();\n    }\n  }, {\n    key: \"_renderSegment\",\n    value: function _renderSegment(x0, y0, x1, y1, context) {\n      var S;\n\n      var c0 = this._regioncode(x0, y0);\n\n      var c1 = this._regioncode(x1, y1);\n\n      if (c0 === 0 && c1 === 0) {\n        context.moveTo(x0, y0);\n        context.lineTo(x1, y1);\n      } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n        context.moveTo(S[0], S[1]);\n        context.lineTo(S[2], S[3]);\n      }\n    }\n  }, {\n    key: \"contains\",\n    value: function contains(i, x, y) {\n      if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n      return this.delaunay._step(i, x, y) === i;\n    }\n  }, {\n    key: \"_cell\",\n    value: function _cell(i) {\n      var circumcenters = this.circumcenters,\n          _this$delaunay3 = this.delaunay,\n          inedges = _this$delaunay3.inedges,\n          halfedges = _this$delaunay3.halfedges,\n          triangles = _this$delaunay3.triangles;\n      var e0 = inedges[i];\n      if (e0 === -1) return null; // coincident point\n\n      var points = [];\n      var e = e0;\n\n      do {\n        var t = Math.floor(e / 3);\n        points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n        e = e % 3 === 2 ? e - 2 : e + 1;\n        if (triangles[e] !== i) break; // bad triangulation\n\n        e = halfedges[e];\n      } while (e !== e0 && e !== -1);\n\n      return points;\n    }\n  }, {\n    key: \"_clip\",\n    value: function _clip(i) {\n      // degenerate case (1 valid point: return the box)\n      if (i === 0 && this.delaunay.hull.length === 1) {\n        return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n      }\n\n      var points = this._cell(i);\n\n      if (points === null) return null;\n      var V = this.vectors;\n      var v = i * 4;\n      return V[v] || V[v + 1] ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3]) : this._clipFinite(i, points);\n    }\n  }, {\n    key: \"_clipFinite\",\n    value: function _clipFinite(i, points) {\n      var n = points.length;\n      var P = null;\n      var x0,\n          y0,\n          x1 = points[n - 2],\n          y1 = points[n - 1];\n\n      var c0,\n          c1 = this._regioncode(x1, y1);\n\n      var e0, e1;\n\n      for (var j = 0; j < n; j += 2) {\n        x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n        c0 = c1, c1 = this._regioncode(x1, y1);\n\n        if (c0 === 0 && c1 === 0) {\n          e0 = e1, e1 = 0;\n          if (P) P.push(x1, y1);else P = [x1, y1];\n        } else {\n          var S = void 0,\n              sx0 = void 0,\n              sy0 = void 0,\n              sx1 = void 0,\n              sy1 = void 0;\n\n          if (c0 === 0) {\n            if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n            var _S = S;\n\n            var _S2 = _slicedToArray(_S, 4);\n\n            sx0 = _S2[0];\n            sy0 = _S2[1];\n            sx1 = _S2[2];\n            sy1 = _S2[3];\n          } else {\n            if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n            var _S3 = S;\n\n            var _S4 = _slicedToArray(_S3, 4);\n\n            sx1 = _S4[0];\n            sy1 = _S4[1];\n            sx0 = _S4[2];\n            sy0 = _S4[3];\n            e0 = e1, e1 = this._edgecode(sx0, sy0);\n            if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n            if (P) P.push(sx0, sy0);else P = [sx0, sy0];\n          }\n\n          e0 = e1, e1 = this._edgecode(sx1, sy1);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx1, sy1);else P = [sx1, sy1];\n        }\n      }\n\n      if (P) {\n        e0 = e1, e1 = this._edgecode(P[0], P[1]);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n      } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n        return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n      }\n\n      return P;\n    }\n  }, {\n    key: \"_clipSegment\",\n    value: function _clipSegment(x0, y0, x1, y1, c0, c1) {\n      while (true) {\n        if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n        if (c0 & c1) return null;\n        var x = void 0,\n            y = void 0,\n            c = c0 || c1;\n        if (c & 8) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;else if (c & 4) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;else if (c & 2) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n        if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n      }\n    }\n  }, {\n    key: \"_clipInfinite\",\n    value: function _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n      var P = Array.from(points),\n          p;\n      if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n      if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n\n      if (P = this._clipFinite(i, P)) {\n        for (var j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n          c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n          if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n        }\n      } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n        P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n      }\n\n      return P;\n    }\n  }, {\n    key: \"_edge\",\n    value: function _edge(i, e0, e1, P, j) {\n      while (e0 !== e1) {\n        var x = void 0,\n            y = void 0;\n\n        switch (e0) {\n          case 5:\n            e0 = 4;\n            continue;\n          // top-left\n\n          case 4:\n            e0 = 6, x = this.xmax, y = this.ymin;\n            break;\n          // top\n\n          case 6:\n            e0 = 2;\n            continue;\n          // top-right\n\n          case 2:\n            e0 = 10, x = this.xmax, y = this.ymax;\n            break;\n          // right\n\n          case 10:\n            e0 = 8;\n            continue;\n          // bottom-right\n\n          case 8:\n            e0 = 9, x = this.xmin, y = this.ymax;\n            break;\n          // bottom\n\n          case 9:\n            e0 = 1;\n            continue;\n          // bottom-left\n\n          case 1:\n            e0 = 5, x = this.xmin, y = this.ymin;\n            break;\n          // left\n        }\n\n        if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n          P.splice(j, 0, x, y), j += 2;\n        }\n      }\n\n      return j;\n    }\n  }, {\n    key: \"_project\",\n    value: function _project(x0, y0, vx, vy) {\n      var t = Infinity,\n          c,\n          x,\n          y;\n\n      if (vy < 0) {\n        // top\n        if (y0 <= this.ymin) return null;\n        if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n      } else if (vy > 0) {\n        // bottom\n        if (y0 >= this.ymax) return null;\n        if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n      }\n\n      if (vx > 0) {\n        // right\n        if (x0 >= this.xmax) return null;\n        if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n      } else if (vx < 0) {\n        // left\n        if (x0 <= this.xmin) return null;\n        if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n      }\n\n      return [x, y];\n    }\n  }, {\n    key: \"_edgecode\",\n    value: function _edgecode(x, y) {\n      return (x === this.xmin ? 1 : x === this.xmax ? 2 : 0) | (y === this.ymin ? 4 : y === this.ymax ? 8 : 0);\n    }\n  }, {\n    key: \"_regioncode\",\n    value: function _regioncode(x, y) {\n      return (x < this.xmin ? 1 : x > this.xmax ? 2 : 0) | (y < this.ymin ? 4 : y > this.ymax ? 8 : 0);\n    }\n  }]);\n\n  return Voronoi;\n}();\n\nexport { Voronoi as default };","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.typed.float64-array\";\nimport _regeneratorRuntime from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/regenerator\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"regenerator-runtime/runtime\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.typed.int32-array\";\nimport _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(flatIterable);\n\nimport Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\nvar tau = 2 * Math.PI;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\nfunction area(hull, points) {\n  var n = hull.length,\n      x0,\n      y0,\n      x1 = points[2 * hull[n - 1]],\n      y1 = points[2 * hull[n - 1] + 1],\n      area = 0;\n\n  for (var i = 0; i < n; i++) {\n    x0 = x1, y0 = y1;\n    x1 = points[2 * hull[i]];\n    y1 = points[2 * hull[i] + 1];\n    area += y0 * x1 - x0 * y1;\n  }\n\n  return area / 2;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nvar Delaunay =\n/*#__PURE__*/\nfunction () {\n  function Delaunay(points) {\n    _classCallCheck(this, Delaunay);\n\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n\n    this._init();\n  }\n\n  _createClass(Delaunay, [{\n    key: \"update\",\n    value: function update() {\n      this._delaunator.update();\n\n      this._init();\n\n      return this;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var d = this._delaunator,\n          points = this.points; // check for collinear\n\n      if (d.hull && d.hull.length > 2 && area(d.hull, points) < 1e-10) {\n        this.collinear = Int32Array.from({\n          length: points.length / 2\n        }, function (_, i) {\n          return i;\n        }).sort(function (i, j) {\n          return points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1];\n        }); // for exact neighbors\n\n        var e = this.collinear[0],\n            f = this.collinear[this.collinear.length - 1],\n            bounds = [points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1]],\n            r = 1e-8 * Math.sqrt(Math.pow(bounds[3] - bounds[1], 2) + Math.pow(bounds[2] - bounds[0], 2));\n\n        for (var i = 0, n = points.length / 2; i < n; ++i) {\n          var p = jitter(points[2 * i], points[2 * i + 1], r);\n          points[2 * i] = p[0];\n          points[2 * i + 1] = p[1];\n        }\n\n        this._delaunator = new Delaunator(points);\n      } else {\n        delete this.collinear;\n      }\n\n      var halfedges = this.halfedges = this._delaunator.halfedges;\n      var hull = this.hull = this._delaunator.hull;\n      var triangles = this.triangles = this._delaunator.triangles;\n      var inedges = this.inedges.fill(-1);\n\n      var hullIndex = this._hullIndex.fill(-1); // Compute an index from each point to an (arbitrary) incoming halfedge\n      // Used to give the first neighbor of each point; for this reason,\n      // on the hull we give priority to exterior halfedges\n\n\n      for (var _e = 0, _n = halfedges.length; _e < _n; ++_e) {\n        var _p = triangles[_e % 3 === 2 ? _e - 2 : _e + 1];\n        if (halfedges[_e] === -1 || inedges[_p] === -1) inedges[_p] = _e;\n      }\n\n      for (var _i = 0, _n2 = hull.length; _i < _n2; ++_i) {\n        hullIndex[hull[_i]] = _i;\n      } // degenerate case: 1 or 2 (distinct) points\n\n\n      if (hull.length <= 2 && hull.length > 0) {\n        this.triangles = new Int32Array(3).fill(-1);\n        this.halfedges = new Int32Array(3).fill(-1);\n        this.triangles[0] = hull[0];\n        this.triangles[1] = hull[1];\n        this.triangles[2] = hull[1];\n        inedges[hull[0]] = 1;\n        if (hull.length === 2) inedges[hull[1]] = 0;\n      }\n    }\n  }, {\n    key: \"voronoi\",\n    value: function voronoi(bounds) {\n      return new Voronoi(this, bounds);\n    }\n  }, {\n    key: \"neighbors\",\n    value:\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function neighbors(i) {\n      var inedges, hull, _hullIndex, halfedges, triangles, l, e0, e, p0, p;\n\n      return _regeneratorRuntime.wrap(function neighbors$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              inedges = this.inedges, hull = this.hull, _hullIndex = this._hullIndex, halfedges = this.halfedges, triangles = this.triangles; // degenerate case with several collinear points\n\n              if (!this.collinear) {\n                _context.next = 10;\n                break;\n              }\n\n              l = this.collinear.indexOf(i);\n\n              if (!(l > 0)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 6;\n              return this.collinear[l - 1];\n\n            case 6:\n              if (!(l < this.collinear.length - 1)) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.next = 9;\n              return this.collinear[l + 1];\n\n            case 9:\n              return _context.abrupt(\"return\");\n\n            case 10:\n              e0 = inedges[i];\n\n              if (!(e0 === -1)) {\n                _context.next = 13;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 13:\n              // coincident point\n              e = e0, p0 = -1;\n\n            case 14:\n              _context.next = 16;\n              return p0 = triangles[e];\n\n            case 16:\n              e = e % 3 === 2 ? e - 2 : e + 1;\n\n              if (!(triangles[e] !== i)) {\n                _context.next = 19;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 19:\n              // bad triangulation\n              e = halfedges[e];\n\n              if (!(e === -1)) {\n                _context.next = 26;\n                break;\n              }\n\n              p = hull[(_hullIndex[i] + 1) % hull.length];\n\n              if (!(p !== p0)) {\n                _context.next = 25;\n                break;\n              }\n\n              _context.next = 25;\n              return p;\n\n            case 25:\n              return _context.abrupt(\"return\");\n\n            case 26:\n              if (e !== e0) {\n                _context.next = 14;\n                break;\n              }\n\n            case 27:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, neighbors, this);\n    })\n  }, {\n    key: \"find\",\n    value: function find(x, y) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n      var i0 = i;\n      var c;\n\n      while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) {\n        i = c;\n      }\n\n      return c;\n    }\n  }, {\n    key: \"_step\",\n    value: function _step(i, x, y) {\n      var inedges = this.inedges,\n          hull = this.hull,\n          _hullIndex = this._hullIndex,\n          halfedges = this.halfedges,\n          triangles = this.triangles,\n          points = this.points;\n      if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n      var c = i;\n      var dc = Math.pow(x - points[i * 2], 2) + Math.pow(y - points[i * 2 + 1], 2);\n      var e0 = inedges[i];\n      var e = e0;\n\n      do {\n        var t = triangles[e];\n        var dt = Math.pow(x - points[t * 2], 2) + Math.pow(y - points[t * 2 + 1], 2);\n        if (dt < dc) dc = dt, c = t;\n        e = e % 3 === 2 ? e - 2 : e + 1;\n        if (triangles[e] !== i) break; // bad triangulation\n\n        e = halfedges[e];\n\n        if (e === -1) {\n          e = hull[(_hullIndex[i] + 1) % hull.length];\n\n          if (e !== t) {\n            if (Math.pow(x - points[e * 2], 2) + Math.pow(y - points[e * 2 + 1], 2) < dc) return e;\n          }\n\n          break;\n        }\n      } while (e !== e0);\n\n      return c;\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points,\n          halfedges = this.halfedges,\n          triangles = this.triangles;\n\n      for (var i = 0, n = halfedges.length; i < n; ++i) {\n        var j = halfedges[i];\n        if (j < i) continue;\n        var ti = triangles[i] * 2;\n        var tj = triangles[j] * 2;\n        context.moveTo(points[ti], points[ti + 1]);\n        context.lineTo(points[tj], points[tj + 1]);\n      }\n\n      this.renderHull(context);\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderPoints\",\n    value: function renderPoints(context) {\n      var r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points;\n\n      for (var i = 0, n = points.length; i < n; i += 2) {\n        var x = points[i],\n            y = points[i + 1];\n        context.moveTo(x + r, y);\n        context.arc(x, y, r, 0, tau);\n      }\n\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderHull\",\n    value: function renderHull(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var hull = this.hull,\n          points = this.points;\n      var h = hull[0] * 2,\n          n = hull.length;\n      context.moveTo(points[h], points[h + 1]);\n\n      for (var i = 1; i < n; ++i) {\n        var _h = 2 * hull[i];\n\n        context.lineTo(points[_h], points[_h + 1]);\n      }\n\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"hullPolygon\",\n    value: function hullPolygon() {\n      var polygon = new Polygon();\n      this.renderHull(polygon);\n      return polygon.value();\n    }\n  }, {\n    key: \"renderTriangle\",\n    value: function renderTriangle(i, context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points,\n          triangles = this.triangles;\n      var t0 = triangles[i *= 3] * 2;\n      var t1 = triangles[i + 1] * 2;\n      var t2 = triangles[i + 2] * 2;\n      context.moveTo(points[t0], points[t0 + 1]);\n      context.lineTo(points[t1], points[t1 + 1]);\n      context.lineTo(points[t2], points[t2 + 1]);\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"trianglePolygons\",\n    value:\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function trianglePolygons() {\n      var triangles, i, n;\n      return _regeneratorRuntime.wrap(function trianglePolygons$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              triangles = this.triangles;\n              i = 0, n = triangles.length / 3;\n\n            case 2:\n              if (!(i < n)) {\n                _context2.next = 8;\n                break;\n              }\n\n              _context2.next = 5;\n              return this.trianglePolygon(i);\n\n            case 5:\n              ++i;\n              _context2.next = 2;\n              break;\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, trianglePolygons, this);\n    })\n  }, {\n    key: \"trianglePolygon\",\n    value: function trianglePolygon(i) {\n      var polygon = new Polygon();\n      this.renderTriangle(i, polygon);\n      return polygon.value();\n    }\n  }]);\n\n  return Delaunay;\n}();\n\nexport { Delaunay as default };\n\nDelaunay.from = function (points) {\n  var fx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : pointX;\n  var fy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : pointY;\n  var that = arguments.length > 3 ? arguments[3] : undefined;\n  return new Delaunay(\"length\" in points ? flatArray(points, fx, fy, that) : Float64Array.from(flatIterable(points, fx, fy, that)));\n};\n\nfunction flatArray(points, fx, fy, that) {\n  var n = points.length;\n  var array = new Float64Array(n * 2);\n\n  for (var i = 0; i < n; ++i) {\n    var p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n\n  return array;\n}\n\nfunction flatIterable(points, fx, fy, that) {\n  var i, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step2, p;\n\n  return _regeneratorRuntime.wrap(function flatIterable$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          i = 0;\n          _iteratorNormalCompletion = true;\n          _didIteratorError = false;\n          _iteratorError = undefined;\n          _context3.prev = 4;\n          _iterator = points[Symbol.iterator]();\n\n        case 6:\n          if (_iteratorNormalCompletion = (_step2 = _iterator.next()).done) {\n            _context3.next = 16;\n            break;\n          }\n\n          p = _step2.value;\n          _context3.next = 10;\n          return fx.call(that, p, i, points);\n\n        case 10:\n          _context3.next = 12;\n          return fy.call(that, p, i, points);\n\n        case 12:\n          ++i;\n\n        case 13:\n          _iteratorNormalCompletion = true;\n          _context3.next = 6;\n          break;\n\n        case 16:\n          _context3.next = 22;\n          break;\n\n        case 18:\n          _context3.prev = 18;\n          _context3.t0 = _context3[\"catch\"](4);\n          _didIteratorError = true;\n          _iteratorError = _context3.t0;\n\n        case 22:\n          _context3.prev = 22;\n          _context3.prev = 23;\n\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n\n        case 25:\n          _context3.prev = 25;\n\n          if (!_didIteratorError) {\n            _context3.next = 28;\n            break;\n          }\n\n          throw _iteratorError;\n\n        case 28:\n          return _context3.finish(25);\n\n        case 29:\n          return _context3.finish(22);\n\n        case 30:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked, null, [[4, 18, 22, 30], [23,, 25, 29]]);\n}","import React, { Fragment, useMemo, useRef, useState, useCallback } from 'react';\nimport { withTheme, withDimensions, Container, SvgWrapper, ResponsiveWrapper, getRelativeCursor } from '@nivo/core';\nimport { scaleLinear } from 'd3-scale';\nimport { Delaunay } from 'd3-delaunay';\nimport compose from 'recompose/compose';\nimport defaultProps from 'recompose/defaultProps';\nimport withPropsOnChange from 'recompose/withPropsOnChange';\nimport pure from 'recompose/pure';\nimport PropTypes from 'prop-types';\n\nvar VoronoiPropTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired\n  })).isRequired,\n  xDomain: PropTypes.arrayOf(PropTypes.number).isRequired,\n  yDomain: PropTypes.arrayOf(PropTypes.number).isRequired,\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['links', 'cells', 'points', 'bounds']), PropTypes.func])).isRequired,\n  enableLinks: PropTypes.bool.isRequired,\n  linkLineWidth: PropTypes.number.isRequired,\n  linkLineColor: PropTypes.string.isRequired,\n  enableCells: PropTypes.bool.isRequired,\n  cellLineWidth: PropTypes.number.isRequired,\n  cellLineColor: PropTypes.string.isRequired,\n  enablePoints: PropTypes.bool.isRequired,\n  pointSize: PropTypes.number.isRequired,\n  pointColor: PropTypes.string.isRequired,\n  delaunay: PropTypes.object.isRequired,\n  voronoi: PropTypes.object.isRequired\n};\nvar VoronoiDefaultProps = {\n  xDomain: [0, 1],\n  yDomain: [0, 1],\n  layers: ['links', 'cells', 'points', 'bounds'],\n  enableLinks: false,\n  linkLineWidth: 1,\n  linkLineColor: '#bbb',\n  enableCells: true,\n  cellLineWidth: 2,\n  cellLineColor: '#000',\n  enablePoints: true,\n  pointSize: 4,\n  pointColor: '#666'\n};\n\nvar enhance = (function (Component) {\n  return compose(defaultProps(VoronoiDefaultProps), withTheme(), withDimensions(), withPropsOnChange(['xDomain', 'yDomain', 'width', 'height'], function (_ref) {\n    var xDomain = _ref.xDomain,\n        yDomain = _ref.yDomain,\n        width = _ref.width,\n        height = _ref.height;\n    return {\n      xScale: scaleLinear().domain(xDomain).range([0, width]),\n      yScale: scaleLinear().domain(yDomain).range([0, height])\n    };\n  }), withPropsOnChange(['data', 'xScale', 'yScale'], function (_ref2) {\n    var data = _ref2.data,\n        xScale = _ref2.xScale,\n        yScale = _ref2.yScale;\n    return {\n      scaledPoints: data.map(function (d) {\n        return {\n          data: d,\n          x: xScale(d.x),\n          y: yScale(d.y)\n        };\n      })\n    };\n  }), withPropsOnChange(['scaledPoints', 'width', 'height'], function (_ref3) {\n    var scaledPoints = _ref3.scaledPoints,\n        width = _ref3.width,\n        height = _ref3.height;\n    var delaunay = Delaunay.from(scaledPoints.map(function (p) {\n      return [p.x, p.y];\n    }));\n    var voronoi = delaunay.voronoi([0, 0, width, height]);\n    return {\n      delaunay: delaunay,\n      voronoi: voronoi\n    };\n  }), pure)(Component);\n});\n\nvar Voronoi = function Voronoi(_ref) {\n  var delaunay = _ref.delaunay,\n      voronoi = _ref.voronoi,\n      data = _ref.data,\n      layers = _ref.layers,\n      margin = _ref.margin,\n      width = _ref.width,\n      height = _ref.height,\n      outerWidth = _ref.outerWidth,\n      outerHeight = _ref.outerHeight,\n      enableLinks = _ref.enableLinks,\n      linkLineWidth = _ref.linkLineWidth,\n      linkLineColor = _ref.linkLineColor,\n      enableCells = _ref.enableCells,\n      cellLineWidth = _ref.cellLineWidth,\n      cellLineColor = _ref.cellLineColor,\n      enablePoints = _ref.enablePoints,\n      pointSize = _ref.pointSize,\n      pointColor = _ref.pointColor,\n      theme = _ref.theme;\n  var context = {\n    width: width,\n    height: height,\n    data: data,\n    delaunay: delaunay,\n    voronoi: voronoi\n  };\n  var layerById = {\n    bounds: React.createElement(\"path\", {\n      key: \"bounds\",\n      fill: \"none\",\n      stroke: cellLineColor,\n      strokeWidth: cellLineWidth,\n      d: voronoi.renderBounds()\n    })\n  };\n  if (enableLinks === true) {\n    layerById.links = React.createElement(\"path\", {\n      key: \"links\",\n      stroke: linkLineColor,\n      strokeWidth: linkLineWidth,\n      fill: \"none\",\n      d: delaunay.render()\n    });\n  }\n  if (enableCells === true) {\n    layerById.cells = React.createElement(\"path\", {\n      key: \"cells\",\n      d: voronoi.render(),\n      fill: \"none\",\n      stroke: cellLineColor,\n      strokeWidth: cellLineWidth\n    });\n  }\n  if (enablePoints === true) {\n    layerById.points = React.createElement(\"path\", {\n      key: \"points\",\n      stroke: \"none\",\n      fill: pointColor,\n      d: delaunay.renderPoints(undefined, pointSize / 2)\n    });\n  }\n  return React.createElement(Container, {\n    isInteractive: false,\n    theme: theme,\n    animate: false\n  }, function () {\n    return (\n      React.createElement(SvgWrapper, {\n        width: outerWidth,\n        height: outerHeight,\n        margin: margin,\n        theme: theme\n      }, layers.map(function (layer, i) {\n        if (typeof layer === 'function') {\n          return React.createElement(Fragment, {\n            key: i\n          }, layer(context));\n        }\n        return layerById[layer];\n      }))\n    );\n  });\n};\nVoronoi.propTypes = VoronoiPropTypes;\nvar Voronoi$1 = enhance(Voronoi);\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar ResponsiveVoronoi = function ResponsiveVoronoi(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Voronoi$1, _extends({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nvar getAccessor = function getAccessor(directive) {\n  return typeof directive === 'function' ? directive : function (d) {\n    return d[directive];\n  };\n};\nvar computeMeshPoints = function computeMeshPoints(_ref) {\n  var points = _ref.points,\n      _ref$x = _ref.x,\n      x = _ref$x === void 0 ? 'x' : _ref$x,\n      _ref$y = _ref.y,\n      y = _ref$y === void 0 ? 'y' : _ref$y;\n  var getX = getAccessor(x);\n  var getY = getAccessor(y);\n  return points.map(function (p) {\n    return [getX(p), getY(p)];\n  });\n};\nvar computeMesh = function computeMesh(_ref2) {\n  var points = _ref2.points,\n      width = _ref2.width,\n      height = _ref2.height,\n      debug = _ref2.debug;\n  var delaunay = Delaunay.from(points);\n  var voronoi = debug === true ? delaunay.voronoi([0, 0, width, height]) : undefined;\n  return {\n    delaunay: delaunay,\n    voronoi: voronoi\n  };\n};\n\nvar useVoronoiMesh = function useVoronoiMesh(_ref) {\n  var points = _ref.points,\n      x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      debug = _ref.debug;\n  var points2d = useMemo(function () {\n    return computeMeshPoints({\n      points: points,\n      x: x,\n      y: y\n    });\n  }, [points, x, y]);\n  return useMemo(function () {\n    return computeMesh({\n      points: points2d,\n      width: width,\n      height: height,\n      debug: debug\n    });\n  }, [points2d, width, height, debug]);\n};\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar Mesh = function Mesh(_ref) {\n  var nodes = _ref.nodes,\n      width = _ref.width,\n      height = _ref.height,\n      x = _ref.x,\n      y = _ref.y,\n      debug = _ref.debug,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick;\n  var elementRef = useRef(null);\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentIndex = _useState2[0],\n      setCurrentIndex = _useState2[1];\n  var _useVoronoiMesh = useVoronoiMesh({\n    points: nodes,\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    debug: debug\n  }),\n      delaunay = _useVoronoiMesh.delaunay,\n      voronoi = _useVoronoiMesh.voronoi;\n  var voronoiPath = useMemo(function () {\n    return debug ? voronoi.render() : undefined;\n  });\n  var getIndexAndNodeFromEvent = useCallback(function (event) {\n    var _getRelativeCursor = getRelativeCursor(elementRef.current, event),\n        _getRelativeCursor2 = _slicedToArray(_getRelativeCursor, 2),\n        x = _getRelativeCursor2[0],\n        y = _getRelativeCursor2[1];\n    var index = delaunay.find(x, y);\n    return [index, index !== undefined ? nodes[index] : null];\n  }, [delaunay]);\n  var handleMouseEnter = useCallback(function (event) {\n    var _getIndexAndNodeFromE = getIndexAndNodeFromEvent(event),\n        _getIndexAndNodeFromE2 = _slicedToArray(_getIndexAndNodeFromE, 2),\n        index = _getIndexAndNodeFromE2[0],\n        node = _getIndexAndNodeFromE2[1];\n    if (currentIndex !== index) setCurrentIndex(index);\n    node && onMouseEnter && onMouseEnter(node, event);\n  }, [getIndexAndNodeFromEvent, setCurrentIndex]);\n  var handleMouseMove = useCallback(function (event) {\n    var _getIndexAndNodeFromE3 = getIndexAndNodeFromEvent(event),\n        _getIndexAndNodeFromE4 = _slicedToArray(_getIndexAndNodeFromE3, 2),\n        index = _getIndexAndNodeFromE4[0],\n        node = _getIndexAndNodeFromE4[1];\n    if (currentIndex !== index) setCurrentIndex(index);\n    node && onMouseMove && onMouseMove(node, event);\n  }, [getIndexAndNodeFromEvent, setCurrentIndex]);\n  var handleMouseLeave = useCallback(function (event) {\n    setCurrentIndex(null);\n    if (onMouseLeave) {\n      var previousNode;\n      if (currentIndex !== undefined && currentIndex !== null) {\n        previousNode = nodes[currentIndex];\n      }\n      previousNode && onMouseLeave(previousNode, event);\n    }\n  }, [setCurrentIndex, currentIndex, nodes]);\n  var handleClick = useCallback(function (event) {\n    var _getIndexAndNodeFromE5 = getIndexAndNodeFromEvent(event),\n        _getIndexAndNodeFromE6 = _slicedToArray(_getIndexAndNodeFromE5, 2),\n        index = _getIndexAndNodeFromE6[0],\n        node = _getIndexAndNodeFromE6[1];\n    if (currentIndex !== index) setCurrentIndex(index);\n    onClick && onClick(node, event);\n  }, [getIndexAndNodeFromEvent, setCurrentIndex]);\n  return React.createElement(\"g\", {\n    ref: elementRef\n  }, debug && React.createElement(\"path\", {\n    d: voronoiPath,\n    stroke: \"red\",\n    strokeWidth: 1,\n    opacity: 0.75\n  }), currentIndex !== null && debug && React.createElement(\"path\", {\n    fill: \"red\",\n    opacity: 0.35,\n    d: voronoi.renderCell(currentIndex)\n  }), React.createElement(\"rect\", {\n    width: width,\n    height: height,\n    fill: \"red\",\n    opacity: 0,\n    style: {\n      cursor: 'auto'\n    },\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick\n  }));\n};\nMesh.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  nodes: PropTypes.array.isRequired,\n  x: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func]).isRequired,\n  y: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func]).isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  debug: PropTypes.bool.isRequired\n};\nMesh.defaultProps = {\n  x: 'x',\n  y: 'y',\n  debug: false\n};\n\nvar renderVoronoiToCanvas = function renderVoronoiToCanvas(ctx, voronoi) {\n  ctx.save();\n  ctx.globalAlpha = 0.75;\n  ctx.beginPath();\n  voronoi.render(ctx);\n  ctx.strokeStyle = 'red';\n  ctx.lineWidth = 1;\n  ctx.stroke();\n  ctx.restore();\n};\nvar renderVoronoiCellToCanvas = function renderVoronoiCellToCanvas(ctx, voronoi, index) {\n  ctx.save();\n  ctx.globalAlpha = 0.35;\n  ctx.beginPath();\n  voronoi.renderCell(index, ctx);\n  ctx.fillStyle = 'red';\n  ctx.fill();\n  ctx.restore();\n};\n\nexport { Mesh, ResponsiveVoronoi, Voronoi$1 as Voronoi, VoronoiDefaultProps, VoronoiPropTypes, computeMesh, computeMeshPoints, renderVoronoiCellToCanvas, renderVoronoiToCanvas, useVoronoiMesh };\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport styled from 'styled-components'\nimport { settingsMapper, mapAxis } from '../../../lib/settings'\n\nexport default settingsMapper(\n    {\n        axisTop: mapAxis('top'),\n        axisRight: mapAxis('right'),\n        axisBottom: mapAxis('bottom'),\n        axisLeft: mapAxis('left'),\n    },\n    {\n        exclude: ['enable axisTop', 'enable axisRight', 'enable axisBottom', 'enable axisLeft'],\n    }\n)\n"],"sourceRoot":""}