"use strict";(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[8735],{64548:function(e,i,t){t.d(i,{Br:function(){return F},Pm:function(){return z},Tu:function(){return J},mX:function(){return x},Pq:function(){return g},XB:function(){return p}});var o=t(27378),n=t(98383),r=t(44365),a=t(47425),l=t(14503),d=t(54358),c=t(89193),u=t(64253),s=t(46448),v=t(9841),h=t(770),m=t(58493);function f(){return f=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},f.apply(this,arguments)}function b(e,i){if(null==e)return{};var t,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],i.indexOf(t)>=0||(n[t]=e[t]);return n}var g={layers:["grid","axes","cells","legends","annotations"],forceSquare:!1,xInnerPadding:0,xOuterPadding:0,yInnerPadding:0,yOuterPadding:0,sizeVariation:!1,opacity:1,activeOpacity:1,inactiveOpacity:.15,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",.8]]},enableGridX:!1,enableGridY:!1,enableLabels:!0,label:"formattedValue",labelTextColor:{from:"color",modifiers:[["darker",2]]},colors:{type:"sequential",scheme:"brown_blueGreen"},emptyColor:"#000000",legends:[],annotations:[],isInteractive:!0,hoverTarget:"rowColumn",tooltip:(0,o.memo)((function(e){var i=e.cell;return null===i.formattedValue?null:(0,u.jsxDEV)(c._5,{id:i.serieId+" - "+i.data.x,value:i.formattedValue,enableChip:!0,color:i.color},void 0,!1,{fileName:"/Users/raph/projects/plouc/nivo/packages/heatmap/src/HeatMapTooltip.tsx",lineNumber:9,columnNumber:9},void 0)})),animate:!0,motionConfig:"gentle"},p=f({},g,{axisTop:{},axisRight:null,axisBottom:null,axisLeft:{},borderRadius:0,cellComponent:"rect"}),x=f({},g,{axisTop:{},axisRight:null,axisBottom:null,axisLeft:{},renderCell:"rect",pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),y=function(e){var i=e.data,t=e.width,o=e.height,n=e.xInnerPadding,r=e.xOuterPadding,a=e.yInnerPadding,l=e.yOuterPadding,d=e.forceSquare,c=new Set,u=[],v=[],m=[];i.forEach((function(e){u.push(e.id),e.data.forEach((function(i){c.add(i.x);var t=null;void 0!==i.y&&null!==i.y&&(v.push(i.y),t=i.y),m.push({id:e.id+"."+i.x,serieId:e.id,value:t,data:i})}))}));var b=Array.from(c),g=function(e){var i=e.width,t=e.height,o=e.rows,n=e.columns,r=i,a=t,l=0,d=0;if(e.forceSquare){var c=Math.max(i/n,0),u=Math.max(t/o,0),s=Math.min(c,u);l=(i-(r=s*n))/2,d=(t-(a=s*o))/2}return{offsetX:l,offsetY:d,width:r,height:a}}({width:t,height:o,columns:b.length,rows:u.length,forceSquare:d}),p=g.width,x=g.height,y=g.offsetX,C=g.offsetY,N=(0,h.NB)((0,s.Z)().domain(b).range([0,p]).paddingOuter(r).paddingInner(n)),w=(0,h.NB)((0,s.Z)().domain(u).range([0,x]).paddingOuter(l).paddingInner(a)),M=N.bandwidth(),P=w.bandwidth(),O=m.map((function(e){return f({},e,{x:N(e.data.x)+M/2,y:w(e.serieId)+P/2,width:M,height:P})}));return{width:p,height:x,offsetX:y,offsetY:C,xScale:N,yScale:w,minValue:Math.min.apply(Math,v),maxValue:Math.max.apply(Math,v),cells:O}},C=function(e){return{x:e.x,y:e.y}},N=function(e){return{size:Math.max(e.width,e.height),width:e.width,height:e.height}},w=function(e){var i=e.data,t=e.width,n=e.height,r=e.xInnerPadding,a=e.xOuterPadding,l=e.yInnerPadding,d=e.yOuterPadding,c=e.forceSquare;return(0,o.useMemo)((function(){return y({data:i,width:t,height:n,xInnerPadding:r,xOuterPadding:a,yInnerPadding:l,yOuterPadding:d,forceSquare:c})}),[i,t,n,r,a,l,d,c])},M={cell:function(e,i){return e.id===i.id},row:function(e,i){return e.serieId===i.serieId},column:function(e,i){return e.data.x===i.data.x},rowColumn:function(e,i){return e.serieId===i.serieId||e.data.x===i.data.x}},P=function(e){var i,t,r,a=e.cells,d=e.minValue,c=e.maxValue,u=e.sizeVariation,s=e.colors,h=e.emptyColor,m=e.opacity,b=e.activeOpacity,g=e.inactiveOpacity,p=e.borderColor,x=e.label,y=e.labelTextColor,C=e.valueFormat,N=e.activeIds,w=(0,o.useMemo)((function(){return function(e,i,t){if(!e)return function(){return 1};var o=(0,v.Z)().domain(e.values?e.values:[i,t]).range(e.sizes);return function(e){return null===e?1:o(e)}}(i,t,r)}),[i=u,t=d,r=c]),M=(0,o.useMemo)((function(){return"function"==typeof s?null:(0,l.EB)(s,{min:d,max:c})}),[s,d,c]),P=(0,o.useCallback)((function(e){if(null!==e.value){if("function"==typeof s)return s(e);if(null!==M)return M(e.value)}return h}),[s,M,h]),O=(0,n.Fg)(),I=(0,l.Bf)(p,O),E=(0,l.Bf)(y,O),S=(0,n.O_)(C),V=(0,n.LR)(x);return{cells:(0,o.useMemo)((function(){return a.map((function(e){var i=m;N.length>0&&(i=N.includes(e.id)?b:g);var t=w(e.value),o=f({},e,{width:e.width*t,height:e.height*t,formattedValue:null!==e.value?S(e.value):null,opacity:i});return o.label=V(o),o.color=P(o),o.borderColor=I(o),o.labelTextColor=E(o),o}))}),[a,w,P,I,E,S,V,N,m,b,g]),colorScale:M}},O=function(e){var i=e.data,t=e.valueFormat,n=e.width,r=e.height,a=e.xOuterPadding,l=void 0===a?g.xOuterPadding:a,d=e.xInnerPadding,c=void 0===d?g.xInnerPadding:d,u=e.yOuterPadding,s=void 0===u?g.yOuterPadding:u,v=e.yInnerPadding,h=void 0===v?g.yInnerPadding:v,m=e.forceSquare,f=void 0===m?g.forceSquare:m,b=e.sizeVariation,p=void 0===b?g.sizeVariation:b,x=e.colors,y=void 0===x?g.colors:x,C=e.emptyColor,N=void 0===C?g.emptyColor:C,O=e.opacity,I=void 0===O?g.opacity:O,E=e.activeOpacity,S=void 0===E?g.activeOpacity:E,V=e.inactiveOpacity,T=void 0===V?g.inactiveOpacity:V,k=e.borderColor,j=void 0===k?g.borderColor:k,L=e.label,W=void 0===L?g.label:L,D=e.labelTextColor,B=void 0===D?g.labelTextColor:D,R=e.hoverTarget,q=void 0===R?g.hoverTarget:R,F=(0,o.useState)(null),A=F[0],z=F[1],H=w({data:i,width:n,height:r,xOuterPadding:l,xInnerPadding:c,yOuterPadding:s,yInnerPadding:h,forceSquare:f}),X=H.width,Y=H.height,G=H.offsetX,_=H.offsetY,U=H.cells,Z=H.xScale,J=H.yScale,K=H.minValue,Q=H.maxValue,$=(0,o.useMemo)((function(){if(!A)return[];var e=M[q];return U.filter((function(i){return e(i,A)})).map((function(e){return e.id}))}),[U,A,q]),ee=P({cells:U,minValue:K,maxValue:Q,sizeVariation:p,colors:y,emptyColor:N,opacity:I,activeOpacity:S,inactiveOpacity:T,borderColor:j,label:W,labelTextColor:B,valueFormat:t,activeIds:$});return{width:X,height:Y,offsetX:G,offsetY:_,cells:ee.cells,xScale:Z,yScale:J,colorScale:ee.colorScale,activeCell:A,setActiveCell:z}},I=function(e,i){return(0,d.O2)({data:e,annotations:i,getPosition:C,getDimensions:N})},E="/Users/raph/projects/plouc/nivo/packages/heatmap/src/HeatMapCellRect.tsx",S=(0,o.memo)((function(e){var i=e.cell,t=e.borderWidth,r=e.borderRadius,a=e.animatedProps,l=e.onMouseEnter,d=e.onMouseMove,c=e.onMouseLeave,s=e.onClick,v=e.enableLabels,h=(0,n.Fg)(),b=(0,o.useMemo)((function(){return{onMouseEnter:l?l(i):void 0,onMouseMove:d?d(i):void 0,onMouseLeave:c?c(i):void 0,onClick:s?s(i):void 0}}),[i,l,d,c,s]);return(0,u.jsxDEV)(m.q.g,f({"data-testid":"cell."+i.id,style:{cursor:"pointer"},opacity:a.opacity},b,{transform:(0,m.to)([a.x,a.y,a.scale],(function(e,i,t){return"translate("+e+", "+i+") scale("+t+")"})),children:[(0,u.jsxDEV)(m.q.rect,{transform:(0,m.to)([a.width,a.height],(function(e,i){return"translate("+-.5*e+", "+-.5*i+")"})),fill:a.color,width:a.width,height:a.height,stroke:a.borderColor,strokeWidth:t,rx:r,ry:r},i.id,!1,{fileName:E,lineNumber:40,columnNumber:13},void 0),v&&(0,u.jsxDEV)(m.q.text,{textAnchor:"middle",dominantBaseline:"central",fill:a.labelTextColor,style:f({},h.labels.text,{fill:void 0,userSelect:"none"}),children:i.label},void 0,!1,{fileName:E,lineNumber:55,columnNumber:17},void 0)]}),void 0,!0,{fileName:E,lineNumber:30,columnNumber:9},void 0)})),V="/Users/raph/projects/plouc/nivo/packages/heatmap/src/HeatMapCellCircle.tsx",T=(0,o.memo)((function(e){var i=e.cell,t=e.borderWidth,r=e.animatedProps,a=e.onMouseEnter,l=e.onMouseMove,d=e.onMouseLeave,c=e.onClick,s=e.enableLabels,v=(0,n.Fg)(),h=(0,o.useMemo)((function(){return{onMouseEnter:a?a(i):void 0,onMouseMove:l?l(i):void 0,onMouseLeave:d?d(i):void 0,onClick:c?c(i):void 0}}),[i,a,l,d,c]);return(0,u.jsxDEV)(m.q.g,f({"data-testid":"cell."+i.id,style:{cursor:"pointer"},opacity:r.opacity},h,{transform:(0,m.to)([r.x,r.y],(function(e,i){return"translate("+e+", "+i+")"})),children:[(0,u.jsxDEV)(m.q.circle,{r:(0,m.to)([r.width,r.height],(function(e,i){return Math.min(e,i)/2})),fill:r.color,fillOpacity:r.opacity,strokeWidth:t,stroke:r.borderColor},void 0,!1,{fileName:V,lineNumber:36,columnNumber:13},void 0),s&&(0,u.jsxDEV)(m.q.text,{dominantBaseline:"central",textAnchor:"middle",fill:r.labelTextColor,style:f({},v.labels.text,{fill:void 0}),children:i.label},void 0,!1,{fileName:V,lineNumber:47,columnNumber:17},void 0)]}),void 0,!0,{fileName:V,lineNumber:29,columnNumber:9},void 0)})),k=function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,opacity:0,borderColor:e.borderColor,labelTextColor:e.labelTextColor,scale:0}},j=function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,opacity:e.opacity,borderColor:e.borderColor,labelTextColor:e.labelTextColor,scale:1}},L=function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,opacity:0,borderColor:e.borderColor,labelTextColor:e.labelTextColor,scale:0}},W=function(e){var i,t=e.cells,r=e.cellComponent,a=e.borderRadius,l=e.borderWidth,d=e.isInteractive,s=e.setActiveCell,v=e.onMouseEnter,h=e.onMouseMove,f=e.onMouseLeave,b=e.onClick,g=e.tooltip,p=e.enableLabels,x=(0,n.tf)(),y=x.animate,C=x.config,N=(0,m.useTransition)(t,{keys:function(e){return e.id},initial:j,from:k,enter:j,update:j,leave:L,config:C,immediate:!y}),w=(0,c.lL)(),M=w.showTooltipFromEvent,P=w.hideTooltip,O=(0,o.useMemo)((function(){if(d)return function(e){return function(i){M((0,o.createElement)(g,{cell:e}),i),s(e),null==v||v(e,i)}}}),[d,M,g,s,v]),I=(0,o.useMemo)((function(){if(d)return function(e){return function(i){M((0,o.createElement)(g,{cell:e}),i),null==h||h(e,i)}}}),[d,M,g,h]),E=(0,o.useMemo)((function(){if(d)return function(e){return function(i){P(),s(null),null==f||f(e,i)}}}),[d,P,s,f]),V=(0,o.useMemo)((function(){if(d)return function(e){return function(i){null==b||b(e,i)}}}),[d,b]);return i="rect"===r?S:"circle"===r?T:r,(0,u.jsxDEV)(u.Fragment,{children:N((function(e,t){return(0,o.createElement)(i,{cell:t,borderRadius:a,borderWidth:l,animatedProps:e,enableLabels:p,onMouseEnter:O,onMouseMove:I,onMouseLeave:E,onClick:V})}))},void 0,!1)},D=function(e){var i=e.cells,t=e.annotations,o=I(i,t);return(0,u.jsxDEV)(u.Fragment,{children:o.map((function(e,i){return(0,u.jsxDEV)(d.q6,f({},e),i,!1,{fileName:"/Users/raph/projects/plouc/nivo/packages/heatmap/src/HeatMapCellAnnotations.tsx",lineNumber:19,columnNumber:17},void 0)}))},void 0,!1)},B=["isInteractive","animate","motionConfig","theme","renderWrapper"],R="/Users/raph/projects/plouc/nivo/packages/heatmap/src/HeatMap.tsx",q=function(e){var i=e.data,t=e.layers,l=void 0===t?p.layers:t,d=e.valueFormat,c=e.width,s=e.height,v=e.margin,h=e.forceSquare,m=void 0===h?p.forceSquare:h,b=e.xInnerPadding,g=void 0===b?p.xInnerPadding:b,x=e.xOuterPadding,y=void 0===x?p.xOuterPadding:x,C=e.yInnerPadding,N=void 0===C?p.yInnerPadding:C,w=e.yOuterPadding,M=void 0===w?p.yOuterPadding:w,P=e.sizeVariation,I=void 0===P?p.sizeVariation:P,E=e.cellComponent,S=void 0===E?p.cellComponent:E,V=e.opacity,T=void 0===V?p.opacity:V,k=e.activeOpacity,j=void 0===k?p.activeOpacity:k,L=e.inactiveOpacity,B=void 0===L?p.inactiveOpacity:L,q=e.borderRadius,F=void 0===q?p.borderRadius:q,A=e.borderWidth,z=void 0===A?p.borderWidth:A,H=e.borderColor,X=void 0===H?p.borderColor:H,Y=e.enableGridX,G=void 0===Y?p.enableGridX:Y,_=e.enableGridY,U=void 0===_?p.enableGridY:_,Z=e.axisTop,J=void 0===Z?p.axisTop:Z,K=e.axisRight,Q=void 0===K?p.axisRight:K,$=e.axisBottom,ee=void 0===$?p.axisBottom:$,ie=e.axisLeft,te=void 0===ie?p.axisLeft:ie,oe=e.enableLabels,ne=void 0===oe?p.enableLabels:oe,re=e.label,ae=void 0===re?p.label:re,le=e.labelTextColor,de=void 0===le?p.labelTextColor:le,ce=e.colors,ue=void 0===ce?p.colors:ce,se=e.emptyColor,ve=void 0===se?p.emptyColor:se,he=e.legends,me=void 0===he?p.legends:he,fe=e.annotations,be=void 0===fe?p.annotations:fe,ge=e.isInteractive,pe=void 0===ge?p.isInteractive:ge,xe=e.onMouseEnter,ye=e.onMouseMove,Ce=e.onMouseLeave,Ne=e.onClick,we=e.hoverTarget,Me=void 0===we?p.hoverTarget:we,Pe=e.tooltip,Oe=void 0===Pe?p.tooltip:Pe,Ie=e.role,Ee=e.ariaLabel,Se=e.ariaLabelledBy,Ve=e.ariaDescribedBy,Te=(0,n.Bs)(c,s,v),ke=Te.margin,je=Te.innerWidth,Le=Te.innerHeight,We=Te.outerWidth,De=Te.outerHeight,Be=O({data:i,valueFormat:d,width:je,height:Le,forceSquare:m,xInnerPadding:g,xOuterPadding:y,yInnerPadding:N,yOuterPadding:M,sizeVariation:I,colors:ue,emptyColor:ve,opacity:T,activeOpacity:j,inactiveOpacity:B,borderColor:X,label:ae,labelTextColor:de,hoverTarget:Me}),Re=Be.width,qe=Be.height,Fe=Be.offsetX,Ae=Be.offsetY,ze=Be.xScale,He=Be.yScale,Xe=Be.cells,Ye=Be.colorScale,Ge=Be.activeCell,_e=Be.setActiveCell,Ue=(0,o.useMemo)((function(){return f({},ke,{top:ke.top+Ae,left:ke.left+Fe})}),[ke,Fe,Ae]),Ze={grid:null,axes:null,cells:null,legends:null,annotations:null};l.includes("grid")&&(Ze.grid=(0,u.jsxDEV)(r.rj,{width:Re,height:qe,xScale:G?ze:null,yScale:U?He:null},"grid",!1,{fileName:R,lineNumber:130,columnNumber:13},void 0)),l.includes("axes")&&(Ze.axes=(0,u.jsxDEV)(r.dk,{xScale:ze,yScale:He,width:Re,height:qe,top:J,right:Q,bottom:ee,left:te},"axes",!1,{fileName:R,lineNumber:142,columnNumber:13},void 0)),l.includes("cells")&&(Ze.cells=(0,u.jsxDEV)(o.Fragment,{children:(0,u.jsxDEV)(W,{cells:Xe,cellComponent:S,borderRadius:F,borderWidth:z,isInteractive:pe,setActiveCell:_e,onMouseEnter:xe,onMouseMove:ye,onMouseLeave:Ce,onClick:Ne,tooltip:Oe,enableLabels:ne},void 0,!1,{fileName:R,lineNumber:159,columnNumber:17},void 0)},"cells",!1,{fileName:R,lineNumber:158,columnNumber:13},void 0)),l.includes("legends")&&null!==Ye&&(Ze.legends=(0,u.jsxDEV)(o.Fragment,{children:me.map((function(e,i){return(0,o.createElement)(a.Bo,f({},e,{key:i,containerWidth:Re,containerHeight:qe,scale:Ye,__self:void 0,__source:{fileName:R,lineNumber:181,columnNumber:21}}))}))},"legends",!1,{fileName:R,lineNumber:179,columnNumber:13},void 0)),l.includes("annotations")&&be.length>0&&(Ze.annotations=(0,u.jsxDEV)(D,{cells:Xe,annotations:be},"annotations",!1,{fileName:R,lineNumber:195,columnNumber:13},void 0));var Je={cells:Xe,activeCell:Ge,setActiveCell:_e};return(0,u.jsxDEV)(n.tM,{width:We,height:De,margin:Object.assign({},Ue,{top:Ue.top,left:Ue.left}),role:Ie,ariaLabel:Ee,ariaLabelledBy:Se,ariaDescribedBy:Ve,children:l.map((function(e,i){var t;return"function"==typeof e?(0,u.jsxDEV)(o.Fragment,{children:(0,o.createElement)(e,Je)},i,!1,{fileName:R,lineNumber:224,columnNumber:28},void 0):null!=(t=null==Ze?void 0:Ze[e])?t:null}))},void 0,!1,{fileName:R,lineNumber:210,columnNumber:9},void 0)},F=function(e){var i=e.isInteractive,t=void 0===i?p.isInteractive:i,o=e.animate,r=void 0===o?p.animate:o,a=e.motionConfig,l=void 0===a?p.motionConfig:a,d=e.theme,c=e.renderWrapper,s=b(e,B);return(0,u.jsxDEV)(n.W2,{animate:r,isInteractive:t,motionConfig:l,renderWrapper:c,theme:d,children:(0,u.jsxDEV)(q,f({isInteractive:t},s),void 0,!1,{fileName:R,lineNumber:253,columnNumber:9},void 0)},void 0,!1,{fileName:R,lineNumber:244,columnNumber:5},void 0)},A="/Users/raph/projects/plouc/nivo/packages/heatmap/src/ResponsiveHeatMap.tsx",z=function(e){return(0,u.jsxDEV)(n.d,{children:function(i){var t=i.width,o=i.height;return(0,u.jsxDEV)(F,f({width:t,height:o},e),void 0,!1,{fileName:A,lineNumber:13,columnNumber:13},void 0)}},void 0,!1,{fileName:A,lineNumber:11,columnNumber:5},void 0)},H=function(e,i){var t=i.cell,o=t.x,n=t.y,r=t.width,a=t.height,l=t.color,d=t.borderColor,c=t.opacity,u=t.labelTextColor,s=t.label,v=i.borderWidth,h=i.enableLabels,m=i.theme;e.save(),e.globalAlpha=c,e.fillStyle=l,v>0&&(e.strokeStyle=d,e.lineWidth=v),e.fillRect(o-r/2,n-a/2,r,a),v>0&&e.strokeRect(o-r/2,n-a/2,r,a),h&&(e.fillStyle=u,e.font=(m.labels.text.fontWeight?m.labels.text.fontWeight+" ":"")+m.labels.text.fontSize+"px "+m.labels.text.fontFamily,e.textAlign="center",e.textBaseline="middle",e.fillText(s,o,n)),e.restore()},X=function(e,i){var t=i.cell,o=t.x,n=t.y,r=t.width,a=t.height,l=t.color,d=t.borderColor,c=t.opacity,u=t.labelTextColor,s=t.label,v=i.borderWidth,h=i.enableLabels,m=i.theme;e.save(),e.globalAlpha=c;var f=Math.min(r,a)/2;e.fillStyle=l,v>0&&(e.strokeStyle=d,e.lineWidth=v),e.beginPath(),e.arc(o,n,f,0,2*Math.PI),e.fill(),v>0&&e.stroke(),h&&(e.fillStyle=u,e.font=(m.labels.text.fontWeight?m.labels.text.fontWeight+" ":"")+m.labels.text.fontSize+"px "+m.labels.text.fontFamily,e.textAlign="center",e.textBaseline="middle",e.fillText(s,o,n)),e.restore()},Y=["theme","isInteractive","animate","motionConfig","renderWrapper"],G="/Users/raph/projects/plouc/nivo/packages/heatmap/src/HeatMapCanvas.tsx",_=function(e){var i,t=e.data,l=e.layers,s=void 0===l?x.layers:l,v=e.valueFormat,h=e.width,m=e.height,b=e.margin,g=e.xInnerPadding,p=void 0===g?x.xInnerPadding:g,y=e.xOuterPadding,C=void 0===y?x.xOuterPadding:y,N=e.yInnerPadding,w=void 0===N?x.yInnerPadding:N,M=e.yOuterPadding,P=void 0===M?x.yOuterPadding:M,E=e.forceSquare,S=void 0===E?x.forceSquare:E,V=e.sizeVariation,T=void 0===V?x.sizeVariation:V,k=e.renderCell,j=void 0===k?x.renderCell:k,L=e.opacity,W=void 0===L?x.opacity:L,D=e.activeOpacity,B=void 0===D?x.activeOpacity:D,R=e.inactiveOpacity,q=void 0===R?x.inactiveOpacity:R,F=e.borderWidth,A=void 0===F?x.borderWidth:F,z=e.borderColor,Y=void 0===z?x.borderColor:z,_=e.enableGridX,U=void 0===_?x.enableGridX:_,Z=e.enableGridY,J=void 0===Z?x.enableGridY:Z,K=e.axisTop,Q=void 0===K?x.axisTop:K,$=e.axisRight,ee=void 0===$?x.axisRight:$,ie=e.axisBottom,te=void 0===ie?x.axisBottom:ie,oe=e.axisLeft,ne=void 0===oe?x.axisLeft:oe,re=e.enableLabels,ae=void 0===re?x.enableLabels:re,le=e.label,de=void 0===le?x.label:le,ce=e.labelTextColor,ue=void 0===ce?x.labelTextColor:ce,se=e.colors,ve=void 0===se?x.colors:se,he=e.emptyColor,me=void 0===he?x.emptyColor:he,fe=e.legends,be=void 0===fe?x.legends:fe,ge=e.annotations,pe=void 0===ge?x.annotations:ge,xe=e.isInteractive,ye=void 0===xe?x.isInteractive:xe,Ce=e.onClick,Ne=e.hoverTarget,we=void 0===Ne?x.hoverTarget:Ne,Me=e.tooltip,Pe=void 0===Me?x.tooltip:Me,Oe=e.role,Ie=e.ariaLabel,Ee=e.ariaLabelledBy,Se=e.ariaDescribedBy,Ve=e.pixelRatio,Te=void 0===Ve?x.pixelRatio:Ve,ke=(0,o.useRef)(null),je=(0,n.Bs)(h,m,b),Le=je.margin,We=je.innerWidth,De=je.innerHeight,Be=je.outerWidth,Re=je.outerHeight,qe=O({data:t,valueFormat:v,width:We,height:De,xInnerPadding:p,xOuterPadding:C,yInnerPadding:w,yOuterPadding:P,forceSquare:S,sizeVariation:T,colors:ve,emptyColor:me,opacity:W,activeOpacity:B,inactiveOpacity:q,borderColor:Y,label:de,labelTextColor:ue,hoverTarget:we}),Fe=qe.width,Ae=qe.height,ze=qe.offsetX,He=qe.offsetY,Xe=qe.xScale,Ye=qe.yScale,Ge=qe.cells,_e=qe.colorScale,Ue=qe.activeCell,Ze=qe.setActiveCell,Je=(0,o.useMemo)((function(){return f({},Le,{top:Le.top+He,left:Le.left+ze})}),[Le,ze,He]),Ke=I(Ge,pe),Qe=(0,d.zs)({annotations:Ke});i="function"==typeof j?j:"circle"===j?X:H;var $e=(0,n.Fg)(),ei=(0,o.useMemo)((function(){return{cells:Ge,activeCell:Ue,setActiveCell:Ze}}),[Ge,Ue,Ze]);(0,o.useEffect)((function(){if(null!==ke.current){var e=ke.current.getContext("2d");e&&(ke.current.width=Be*Te,ke.current.height=Re*Te,e.scale(Te,Te),e.fillStyle=$e.background,e.fillRect(0,0,Be,Re),e.translate(Je.left,Je.top),s.forEach((function(t){"grid"===t?(e.lineWidth=$e.grid.line.strokeWidth,e.strokeStyle=$e.grid.line.stroke,U&&(0,r.FA)(e,{width:Fe,height:Ae,scale:Xe,axis:"x"}),J&&(0,r.FA)(e,{width:Fe,height:Ae,scale:Ye,axis:"y"})):"axes"===t?(0,r.DZ)(e,{xScale:Xe,yScale:Ye,width:Fe,height:Ae,top:Q,right:ee,bottom:te,left:ne,theme:$e}):"cells"===t?(e.textAlign="center",e.textBaseline="middle",Ge.forEach((function(t){i(e,{cell:t,borderWidth:A,enableLabels:ae,theme:$e})}))):"legends"===t&&null!==_e?be.forEach((function(i){(0,a.aJ)(e,f({},i,{containerWidth:Fe,containerHeight:Ae,scale:_e,theme:$e}))})):"annotations"===t?(0,d.dS)(e,{annotations:Qe,theme:$e}):"function"==typeof t&&t(e,ei)})))}}),[ke,Te,Be,Re,Fe,Ae,Je,s,ei,Ge,i,U,J,Q,ee,te,ne,Xe,Ye,$e,A,ae,_e,be,Qe]);var ii=(0,c.lL)(),ti=ii.showTooltipFromEvent,oi=ii.hideTooltip,ni=(0,o.useCallback)((function(e){if(null!==ke.current){var i=(0,n.P6)(ke.current,e),t=i[0],r=i[1],a=Ge.find((function(e){return(0,n.zn)(e.x+Je.left-e.width/2,e.y+Je.top-e.height/2,e.width,e.height,t,r)}));void 0!==a?(Ze(a),ti((0,o.createElement)(Pe,{cell:a}),e)):(Ze(null),oi())}}),[ke,Ge,Je,Ze,ti,oi,Pe]),ri=(0,o.useCallback)((function(){Ze(null),oi()}),[Ze,oi]),ai=(0,o.useCallback)((function(e){null!==Ue&&(null==Ce||Ce(Ue,e))}),[Ue,Ce]);return(0,u.jsxDEV)("canvas",{ref:ke,width:Be*Te,height:Re*Te,style:{width:Be,height:Re},onMouseEnter:ye?ni:void 0,onMouseMove:ye?ni:void 0,onMouseLeave:ye?ri:void 0,onClick:ye?ai:void 0,role:Oe,"aria-label":Ie,"aria-labelledby":Ee,"aria-describedby":Se},void 0,!1,{fileName:G,lineNumber:300,columnNumber:9},void 0)},U=function(e){var i=e.theme,t=e.isInteractive,o=void 0===t?x.isInteractive:t,r=e.animate,a=void 0===r?x.animate:r,l=e.motionConfig,d=void 0===l?x.motionConfig:l,c=e.renderWrapper,s=b(e,Y);return(0,u.jsxDEV)(n.W2,{isInteractive:o,animate:a,motionConfig:d,theme:i,renderWrapper:c,children:(0,u.jsxDEV)(_,f({isInteractive:o},s),void 0,!1,{fileName:G,lineNumber:332,columnNumber:9},void 0)},void 0,!1,{fileName:G,lineNumber:331,columnNumber:5},void 0)},Z="/Users/raph/projects/plouc/nivo/packages/heatmap/src/ResponsiveHeatMapCanvas.tsx",J=function(e){return(0,u.jsxDEV)(n.d,{children:function(i){var t=i.width,o=i.height;return(0,u.jsxDEV)(U,f({width:t,height:o},e),void 0,!1,{fileName:Z,lineNumber:13,columnNumber:13},void 0)}},void 0,!1,{fileName:Z,lineNumber:11,columnNumber:5},void 0)}}}]);
//# sourceMappingURL=096aa4c48daa0638a58381eb85aaab634d0ec06a-f1f26737be97cd66f392.js.map