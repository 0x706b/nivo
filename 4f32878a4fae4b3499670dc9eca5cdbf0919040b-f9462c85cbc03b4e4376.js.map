{"version":3,"file":"4f32878a4fae4b3499670dc9eca5cdbf0919040b-f9462c85cbc03b4e4376.js","mappings":"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","sources":["webpack://nivo-website/../node_modules/core-js/modules/es.math.hypot.js","webpack://nivo-website/../node_modules/delaunator/index.js","webpack://nivo-website/../node_modules/d3-delaunay/src/path.js","webpack://nivo-website/../node_modules/d3-delaunay/src/polygon.js","webpack://nivo-website/../node_modules/d3-delaunay/src/voronoi.js","webpack://nivo-website/../node_modules/d3-delaunay/src/delaunay.js","webpack://nivo-website/../src/props.ts","webpack://nivo-website/../src/computeMesh.ts","webpack://nivo-website/../src/hooks.ts","webpack://nivo-website/../src/Voronoi.tsx","webpack://nivo-website/../src/ResponsiveVoronoi.tsx","webpack://nivo-website/../src/Mesh.tsx","webpack://nivo-website/../src/meshCanvas.ts"],"sourcesContent":["var $ = require('../internals/export');\n\n// eslint-disable-next-line es/no-math-hypot -- required for testing\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.es/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  hypot: function hypot(value1, value2) {\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","import _classCallCheck from \"/Users/raph/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/raph/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar EPSILON = Math.pow(2, -52);\nvar EDGE_STACK = new Uint32Array(512);\n\nvar Delaunator = /*#__PURE__*/function () {\n  function Delaunator(coords) {\n    _classCallCheck(this, Delaunator);\n\n    var n = coords.length >> 1;\n    if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n    this.coords = coords; // arrays that will store the triangulation graph\n\n    var maxTriangles = Math.max(2 * n - 5, 0);\n    this._triangles = new Uint32Array(maxTriangles * 3);\n    this._halfedges = new Int32Array(maxTriangles * 3); // temporary arrays for tracking the edges of the advancing convex hull\n\n    this._hashSize = Math.ceil(Math.sqrt(n));\n    this._hullPrev = new Uint32Array(n); // edge to prev edge\n\n    this._hullNext = new Uint32Array(n); // edge to next edge\n\n    this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n\n    this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n    // temporary arrays for sorting points\n\n    this._ids = new Uint32Array(n);\n    this._dists = new Float64Array(n);\n    this.update();\n  }\n\n  _createClass(Delaunator, [{\n    key: \"update\",\n    value: function update() {\n      var coords = this.coords,\n          hullPrev = this._hullPrev,\n          hullNext = this._hullNext,\n          hullTri = this._hullTri,\n          hullHash = this._hullHash;\n      var n = coords.length >> 1; // populate an array of point indices; calculate input data bbox\n\n      var minX = Infinity;\n      var minY = Infinity;\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n\n      for (var i = 0; i < n; i++) {\n        var x = coords[2 * i];\n        var y = coords[2 * i + 1];\n        if (x < minX) minX = x;\n        if (y < minY) minY = y;\n        if (x > maxX) maxX = x;\n        if (y > maxY) maxY = y;\n        this._ids[i] = i;\n      }\n\n      var cx = (minX + maxX) / 2;\n      var cy = (minY + maxY) / 2;\n      var minDist = Infinity;\n      var i0, i1, i2; // pick a seed point close to the center\n\n      for (var _i = 0; _i < n; _i++) {\n        var d = dist(cx, cy, coords[2 * _i], coords[2 * _i + 1]);\n\n        if (d < minDist) {\n          i0 = _i;\n          minDist = d;\n        }\n      }\n\n      var i0x = coords[2 * i0];\n      var i0y = coords[2 * i0 + 1];\n      minDist = Infinity; // find the point closest to the seed\n\n      for (var _i2 = 0; _i2 < n; _i2++) {\n        if (_i2 === i0) continue;\n\n        var _d = dist(i0x, i0y, coords[2 * _i2], coords[2 * _i2 + 1]);\n\n        if (_d < minDist && _d > 0) {\n          i1 = _i2;\n          minDist = _d;\n        }\n      }\n\n      var i1x = coords[2 * i1];\n      var i1y = coords[2 * i1 + 1];\n      var minRadius = Infinity; // find the third point which forms the smallest circumcircle with the first two\n\n      for (var _i3 = 0; _i3 < n; _i3++) {\n        if (_i3 === i0 || _i3 === i1) continue;\n        var r = circumradius(i0x, i0y, i1x, i1y, coords[2 * _i3], coords[2 * _i3 + 1]);\n\n        if (r < minRadius) {\n          i2 = _i3;\n          minRadius = r;\n        }\n      }\n\n      var i2x = coords[2 * i2];\n      var i2y = coords[2 * i2 + 1];\n\n      if (minRadius === Infinity) {\n        // order collinear points by dx (or dy if all x are identical)\n        // and return the list as a hull\n        for (var _i4 = 0; _i4 < n; _i4++) {\n          this._dists[_i4] = coords[2 * _i4] - coords[0] || coords[2 * _i4 + 1] - coords[1];\n        }\n\n        quicksort(this._ids, this._dists, 0, n - 1);\n        var hull = new Uint32Array(n);\n        var j = 0;\n\n        for (var _i5 = 0, d0 = -Infinity; _i5 < n; _i5++) {\n          var id = this._ids[_i5];\n\n          if (this._dists[id] > d0) {\n            hull[j++] = id;\n            d0 = this._dists[id];\n          }\n        }\n\n        this.hull = hull.subarray(0, j);\n        this.triangles = new Uint32Array(0);\n        this.halfedges = new Uint32Array(0);\n        return;\n      } // swap the order of the seed points for counter-clockwise orientation\n\n\n      if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n        var _i6 = i1;\n        var _x = i1x;\n        var _y = i1y;\n        i1 = i2;\n        i1x = i2x;\n        i1y = i2y;\n        i2 = _i6;\n        i2x = _x;\n        i2y = _y;\n      }\n\n      var center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n      this._cx = center.x;\n      this._cy = center.y;\n\n      for (var _i7 = 0; _i7 < n; _i7++) {\n        this._dists[_i7] = dist(coords[2 * _i7], coords[2 * _i7 + 1], center.x, center.y);\n      } // sort the points by distance from the seed triangle circumcenter\n\n\n      quicksort(this._ids, this._dists, 0, n - 1); // set up the seed triangle as the starting hull\n\n      this._hullStart = i0;\n      var hullSize = 3;\n      hullNext[i0] = hullPrev[i2] = i1;\n      hullNext[i1] = hullPrev[i0] = i2;\n      hullNext[i2] = hullPrev[i1] = i0;\n      hullTri[i0] = 0;\n      hullTri[i1] = 1;\n      hullTri[i2] = 2;\n      hullHash.fill(-1);\n      hullHash[this._hashKey(i0x, i0y)] = i0;\n      hullHash[this._hashKey(i1x, i1y)] = i1;\n      hullHash[this._hashKey(i2x, i2y)] = i2;\n      this.trianglesLen = 0;\n\n      this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n      for (var k = 0, xp, yp; k < this._ids.length; k++) {\n        var _i8 = this._ids[k];\n        var _x2 = coords[2 * _i8];\n        var _y2 = coords[2 * _i8 + 1]; // skip near-duplicate points\n\n        if (k > 0 && Math.abs(_x2 - xp) <= EPSILON && Math.abs(_y2 - yp) <= EPSILON) continue;\n        xp = _x2;\n        yp = _y2; // skip seed triangle points\n\n        if (_i8 === i0 || _i8 === i1 || _i8 === i2) continue; // find a visible edge on the convex hull using edge hash\n\n        var start = 0;\n\n        for (var _j = 0, key = this._hashKey(_x2, _y2); _j < this._hashSize; _j++) {\n          start = hullHash[(key + _j) % this._hashSize];\n          if (start !== -1 && start !== hullNext[start]) break;\n        }\n\n        start = hullPrev[start];\n        var e = start,\n            q = void 0;\n\n        while (q = hullNext[e], !orient(_x2, _y2, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n          e = q;\n\n          if (e === start) {\n            e = -1;\n            break;\n          }\n        }\n\n        if (e === -1) continue; // likely a near-duplicate point; skip it\n        // add the first triangle from the point\n\n        var t = this._addTriangle(e, _i8, hullNext[e], -1, -1, hullTri[e]); // recursively flip triangles from the point until they satisfy the Delaunay condition\n\n\n        hullTri[_i8] = this._legalize(t + 2);\n        hullTri[e] = t; // keep track of boundary triangles on the hull\n\n        hullSize++; // walk forward through the hull, adding more triangles and flipping recursively\n\n        var _n = hullNext[e];\n\n        while (q = hullNext[_n], orient(_x2, _y2, coords[2 * _n], coords[2 * _n + 1], coords[2 * q], coords[2 * q + 1])) {\n          t = this._addTriangle(_n, _i8, q, hullTri[_i8], -1, hullTri[_n]);\n          hullTri[_i8] = this._legalize(t + 2);\n          hullNext[_n] = _n; // mark as removed\n\n          hullSize--;\n          _n = q;\n        } // walk backward from the other side, adding more triangles and flipping\n\n\n        if (e === start) {\n          while (q = hullPrev[e], orient(_x2, _y2, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n            t = this._addTriangle(q, _i8, e, -1, hullTri[e], hullTri[q]);\n\n            this._legalize(t + 2);\n\n            hullTri[q] = t;\n            hullNext[e] = e; // mark as removed\n\n            hullSize--;\n            e = q;\n          }\n        } // update the hull indices\n\n\n        this._hullStart = hullPrev[_i8] = e;\n        hullNext[e] = hullPrev[_n] = _i8;\n        hullNext[_i8] = _n; // save the two new edges in the hash table\n\n        hullHash[this._hashKey(_x2, _y2)] = _i8;\n        hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n      }\n\n      this.hull = new Uint32Array(hullSize);\n\n      for (var _i9 = 0, _e = this._hullStart; _i9 < hullSize; _i9++) {\n        this.hull[_i9] = _e;\n        _e = hullNext[_e];\n      } // trim typed triangle mesh arrays\n\n\n      this.triangles = this._triangles.subarray(0, this.trianglesLen);\n      this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n  }, {\n    key: \"_hashKey\",\n    value: function _hashKey(x, y) {\n      return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n  }, {\n    key: \"_legalize\",\n    value: function _legalize(a) {\n      var triangles = this._triangles,\n          halfedges = this._halfedges,\n          coords = this.coords;\n      var i = 0;\n      var ar = 0; // recursion eliminated with a fixed-size stack\n\n      while (true) {\n        var b = halfedges[a];\n        /* if the pair of triangles doesn't satisfy the Delaunay condition\n         * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n         * then do the same check/flip recursively for the new pair of triangles\n         *\n         *           pl                    pl\n         *          /||\\                  /  \\\n         *       al/ || \\bl            al/    \\a\n         *        /  ||  \\              /      \\\n         *       /  a||b  \\    flip    /___ar___\\\n         *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n         *        \\  ||  /              \\      /\n         *       ar\\ || /br             b\\    /br\n         *          \\||/                  \\  /\n         *           pr                    pr\n         */\n\n        var a0 = a - a % 3;\n        ar = a0 + (a + 2) % 3;\n\n        if (b === -1) {\n          // convex hull edge\n          if (i === 0) break;\n          a = EDGE_STACK[--i];\n          continue;\n        }\n\n        var b0 = b - b % 3;\n        var al = a0 + (a + 1) % 3;\n        var bl = b0 + (b + 2) % 3;\n        var p0 = triangles[ar];\n        var pr = triangles[a];\n        var pl = triangles[al];\n        var p1 = triangles[bl];\n        var illegal = inCircle(coords[2 * p0], coords[2 * p0 + 1], coords[2 * pr], coords[2 * pr + 1], coords[2 * pl], coords[2 * pl + 1], coords[2 * p1], coords[2 * p1 + 1]);\n\n        if (illegal) {\n          triangles[a] = p1;\n          triangles[b] = p0;\n          var hbl = halfedges[bl]; // edge swapped on the other side of the hull (rare); fix the halfedge reference\n\n          if (hbl === -1) {\n            var e = this._hullStart;\n\n            do {\n              if (this._hullTri[e] === bl) {\n                this._hullTri[e] = a;\n                break;\n              }\n\n              e = this._hullPrev[e];\n            } while (e !== this._hullStart);\n          }\n\n          this._link(a, hbl);\n\n          this._link(b, halfedges[ar]);\n\n          this._link(ar, bl);\n\n          var br = b0 + (b + 1) % 3; // don't worry about hitting the cap: it can only happen on extremely degenerate input\n\n          if (i < EDGE_STACK.length) {\n            EDGE_STACK[i++] = br;\n          }\n        } else {\n          if (i === 0) break;\n          a = EDGE_STACK[--i];\n        }\n      }\n\n      return ar;\n    }\n  }, {\n    key: \"_link\",\n    value: function _link(a, b) {\n      this._halfedges[a] = b;\n      if (b !== -1) this._halfedges[b] = a;\n    } // add a new triangle given vertex indices and adjacent half-edge ids\n\n  }, {\n    key: \"_addTriangle\",\n    value: function _addTriangle(i0, i1, i2, a, b, c) {\n      var t = this.trianglesLen;\n      this._triangles[t] = i0;\n      this._triangles[t + 1] = i1;\n      this._triangles[t + 2] = i2;\n\n      this._link(t, a);\n\n      this._link(t + 1, b);\n\n      this._link(t + 2, c);\n\n      this.trianglesLen += 3;\n      return t;\n    }\n  }], [{\n    key: \"from\",\n    value: function from(points) {\n      var getX = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetX;\n      var getY = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGetY;\n      var n = points.length;\n      var coords = new Float64Array(n * 2);\n\n      for (var i = 0; i < n; i++) {\n        var p = points[i];\n        coords[2 * i] = getX(p);\n        coords[2 * i + 1] = getY(p);\n      }\n\n      return new Delaunator(coords);\n    }\n  }]);\n\n  return Delaunator;\n}(); // monotonically increases with real angle, but doesn't need expensive trigonometry\n\n\nexport { Delaunator as default };\n\nfunction pseudoAngle(dx, dy) {\n  var p = dx / (Math.abs(dx) + Math.abs(dy));\n  return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n  var dx = ax - bx;\n  var dy = ay - by;\n  return dx * dx + dy * dy;\n} // return 2d orientation sign if we're confident in it through J. Shewchuk's error bound check\n\n\nfunction orientIfSure(px, py, rx, ry, qx, qy) {\n  var l = (ry - py) * (qx - px);\n  var r = (rx - px) * (qy - py);\n  return Math.abs(l - r) >= 3.3306690738754716e-16 * Math.abs(l + r) ? l - r : 0;\n} // a more robust orientation test that's stable in a given triangle (to fix robustness issues)\n\n\nfunction orient(rx, ry, qx, qy, px, py) {\n  var sign = orientIfSure(px, py, rx, ry, qx, qy) || orientIfSure(rx, ry, qx, qy, px, py) || orientIfSure(qx, qy, px, py, rx, ry);\n  return sign < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n  var dx = ax - px;\n  var dy = ay - py;\n  var ex = bx - px;\n  var ey = by - py;\n  var fx = cx - px;\n  var fy = cy - py;\n  var ap = dx * dx + dy * dy;\n  var bp = ex * ex + ey * ey;\n  var cp = fx * fx + fy * fy;\n  return dx * (ey * cp - bp * fy) - dy * (ex * cp - bp * fx) + ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var ex = cx - ax;\n  var ey = cy - ay;\n  var bl = dx * dx + dy * dy;\n  var cl = ex * ex + ey * ey;\n  var d = 0.5 / (dx * ey - dy * ex);\n  var x = (ey * bl - dy * cl) * d;\n  var y = (dx * cl - ex * bl) * d;\n  return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var ex = cx - ax;\n  var ey = cy - ay;\n  var bl = dx * dx + dy * dy;\n  var cl = ex * ex + ey * ey;\n  var d = 0.5 / (dx * ey - dy * ex);\n  var x = ax + (ey * bl - dy * cl) * d;\n  var y = ay + (dx * cl - ex * bl) * d;\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction quicksort(ids, dists, left, right) {\n  if (right - left <= 20) {\n    for (var i = left + 1; i <= right; i++) {\n      var temp = ids[i];\n      var tempDist = dists[temp];\n      var j = i - 1;\n\n      while (j >= left && dists[ids[j]] > tempDist) {\n        ids[j + 1] = ids[j--];\n      }\n\n      ids[j + 1] = temp;\n    }\n  } else {\n    var median = left + right >> 1;\n\n    var _i10 = left + 1;\n\n    var _j2 = right;\n    swap(ids, median, _i10);\n    if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n    if (dists[ids[_i10]] > dists[ids[right]]) swap(ids, _i10, right);\n    if (dists[ids[left]] > dists[ids[_i10]]) swap(ids, left, _i10);\n    var _temp = ids[_i10];\n    var _tempDist = dists[_temp];\n\n    while (true) {\n      do {\n        _i10++;\n      } while (dists[ids[_i10]] < _tempDist);\n\n      do {\n        _j2--;\n      } while (dists[ids[_j2]] > _tempDist);\n\n      if (_j2 < _i10) break;\n      swap(ids, _i10, _j2);\n    }\n\n    ids[left + 1] = ids[_j2];\n    ids[_j2] = _temp;\n\n    if (right - _i10 + 1 >= _j2 - left) {\n      quicksort(ids, dists, _i10, right);\n      quicksort(ids, dists, left, _j2 - 1);\n    } else {\n      quicksort(ids, dists, left, _j2 - 1);\n      quicksort(ids, dists, _i10, right);\n    }\n  }\n}\n\nfunction swap(arr, i, j) {\n  var tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n  return p[0];\n}\n\nfunction defaultGetY(p) {\n  return p[1];\n}","import _classCallCheck from \"/Users/raph/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/raph/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar epsilon = 1e-6;\n\nvar Path = /*#__PURE__*/function () {\n  function Path() {\n    _classCallCheck(this, Path);\n\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n\n    this._ = \"\";\n  }\n\n  _createClass(Path, [{\n    key: \"moveTo\",\n    value: function moveTo(x, y) {\n      this._ += \"M\".concat(this._x0 = this._x1 = +x, \",\").concat(this._y0 = this._y1 = +y);\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      if (this._x1 !== null) {\n        this._x1 = this._x0, this._y1 = this._y0;\n        this._ += \"Z\";\n      }\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(x, y) {\n      this._ += \"L\".concat(this._x1 = +x, \",\").concat(this._y1 = +y);\n    }\n  }, {\n    key: \"arc\",\n    value: function arc(x, y, r) {\n      x = +x, y = +y, r = +r;\n      var x0 = x + r;\n      var y0 = y;\n      if (r < 0) throw new Error(\"negative radius\");\n      if (this._x1 === null) this._ += \"M\".concat(x0, \",\").concat(y0);else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n      if (!r) return;\n      this._ += \"A\".concat(r, \",\").concat(r, \",0,1,1,\").concat(x - r, \",\").concat(y, \"A\").concat(r, \",\").concat(r, \",0,1,1,\").concat(this._x1 = x0, \",\").concat(this._y1 = y0);\n    }\n  }, {\n    key: \"rect\",\n    value: function rect(x, y, w, h) {\n      this._ += \"M\".concat(this._x0 = this._x1 = +x, \",\").concat(this._y0 = this._y1 = +y, \"h\").concat(+w, \"v\").concat(+h, \"h\").concat(-w, \"Z\");\n    }\n  }, {\n    key: \"value\",\n    value: function value() {\n      return this._ || null;\n    }\n  }]);\n\n  return Path;\n}();\n\nexport { Path as default };","import _classCallCheck from \"/Users/raph/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/raph/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nvar Polygon = /*#__PURE__*/function () {\n  function Polygon() {\n    _classCallCheck(this, Polygon);\n\n    this._ = [];\n  }\n\n  _createClass(Polygon, [{\n    key: \"moveTo\",\n    value: function moveTo(x, y) {\n      this._.push([x, y]);\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      this._.push(this._[0].slice());\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(x, y) {\n      this._.push([x, y]);\n    }\n  }, {\n    key: \"value\",\n    value: function value() {\n      return this._.length ? this._ : null;\n    }\n  }]);\n\n  return Polygon;\n}();\n\nexport { Polygon as default };","import _slicedToArray from \"/Users/raph/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/Users/raph/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/raph/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport _regeneratorRuntime from \"/Users/raph/projects/plouc/nivo/node_modules/@babel/runtime/regenerator/index.js\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nvar Voronoi = /*#__PURE__*/function () {\n  function Voronoi(delaunay) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0, 960, 500],\n        _ref2 = _slicedToArray(_ref, 4),\n        xmin = _ref2[0],\n        ymin = _ref2[1],\n        xmax = _ref2[2],\n        ymax = _ref2[3];\n\n    _classCallCheck(this, Voronoi);\n\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n\n    this._init();\n  }\n\n  _createClass(Voronoi, [{\n    key: \"update\",\n    value: function update() {\n      this.delaunay.update();\n\n      this._init();\n\n      return this;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var _this$delaunay = this.delaunay,\n          points = _this$delaunay.points,\n          hull = _this$delaunay.hull,\n          triangles = _this$delaunay.triangles,\n          vectors = this.vectors; // Compute circumcenters.\n\n      var circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n\n      for (var i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n        var t1 = triangles[i] * 2;\n        var t2 = triangles[i + 1] * 2;\n        var t3 = triangles[i + 2] * 2;\n        var _x = points[t1];\n        var _y = points[t1 + 1];\n        var x2 = points[t2];\n        var y2 = points[t2 + 1];\n        var x3 = points[t3];\n        var y3 = points[t3 + 1];\n        var dx = x2 - _x;\n        var dy = y2 - _y;\n        var ex = x3 - _x;\n        var ey = y3 - _y;\n        var bl = dx * dx + dy * dy;\n        var cl = ex * ex + ey * ey;\n        var ab = (dx * ey - dy * ex) * 2;\n\n        if (!ab) {\n          // degenerate case (collinear diagram)\n          x = (_x + x3) / 2 - 1e8 * ey;\n          y = (_y + y3) / 2 + 1e8 * ex;\n        } else if (Math.abs(ab) < 1e-8) {\n          // almost equal points (degenerate triangle)\n          x = (_x + x3) / 2;\n          y = (_y + y3) / 2;\n        } else {\n          var d = 1 / ab;\n          x = _x + (ey * bl - dy * cl) * d;\n          y = _y + (dx * cl - ex * bl) * d;\n        }\n\n        circumcenters[j] = x;\n        circumcenters[j + 1] = y;\n      } // Compute exterior cell rays.\n\n\n      var h = hull[hull.length - 1];\n      var p0,\n          p1 = h * 4;\n      var x0,\n          x1 = points[2 * h];\n      var y0,\n          y1 = points[2 * h + 1];\n      vectors.fill(0);\n\n      for (var _i = 0; _i < hull.length; ++_i) {\n        h = hull[_i];\n        p0 = p1, x0 = x1, y0 = y1;\n        p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n        vectors[p0 + 2] = vectors[p1] = y0 - y1;\n        vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var _this$delaunay2 = this.delaunay,\n          halfedges = _this$delaunay2.halfedges,\n          inedges = _this$delaunay2.inedges,\n          hull = _this$delaunay2.hull,\n          circumcenters = this.circumcenters,\n          vectors = this.vectors;\n      if (hull.length <= 1) return null;\n\n      for (var i = 0, n = halfedges.length; i < n; ++i) {\n        var j = halfedges[i];\n        if (j < i) continue;\n        var ti = Math.floor(i / 3) * 2;\n        var tj = Math.floor(j / 3) * 2;\n        var xi = circumcenters[ti];\n        var yi = circumcenters[ti + 1];\n        var xj = circumcenters[tj];\n        var yj = circumcenters[tj + 1];\n\n        this._renderSegment(xi, yi, xj, yj, context);\n      }\n\n      var h0,\n          h1 = hull[hull.length - 1];\n\n      for (var _i2 = 0; _i2 < hull.length; ++_i2) {\n        h0 = h1, h1 = hull[_i2];\n        var t = Math.floor(inedges[h1] / 3) * 2;\n        var x = circumcenters[t];\n        var y = circumcenters[t + 1];\n        var v = h0 * 4;\n\n        var p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n\n        if (p) this._renderSegment(x, y, p[0], p[1], context);\n      }\n\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderBounds\",\n    value: function renderBounds(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderCell\",\n    value: function renderCell(i, context) {\n      var buffer = context == null ? context = new Path() : undefined;\n\n      var points = this._clip(i);\n\n      if (points === null || !points.length) return;\n      context.moveTo(points[0], points[1]);\n      var n = points.length;\n\n      while (points[0] === points[n - 2] && points[1] === points[n - 1] && n > 1) {\n        n -= 2;\n      }\n\n      for (var _i3 = 2; _i3 < n; _i3 += 2) {\n        if (points[_i3] !== points[_i3 - 2] || points[_i3 + 1] !== points[_i3 - 1]) context.lineTo(points[_i3], points[_i3 + 1]);\n      }\n\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"cellPolygons\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function cellPolygons() {\n      var points, i, n, cell;\n      return _regeneratorRuntime.wrap(function cellPolygons$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              points = this.delaunay.points;\n              i = 0, n = points.length / 2;\n\n            case 2:\n              if (!(i < n)) {\n                _context.next = 11;\n                break;\n              }\n\n              cell = this.cellPolygon(i);\n\n              if (!cell) {\n                _context.next = 8;\n                break;\n              }\n\n              cell.index = i;\n              _context.next = 8;\n              return cell;\n\n            case 8:\n              ++i;\n              _context.next = 2;\n              break;\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, cellPolygons, this);\n    })\n  }, {\n    key: \"cellPolygon\",\n    value: function cellPolygon(i) {\n      var polygon = new Polygon();\n      this.renderCell(i, polygon);\n      return polygon.value();\n    }\n  }, {\n    key: \"_renderSegment\",\n    value: function _renderSegment(x0, y0, x1, y1, context) {\n      var S;\n\n      var c0 = this._regioncode(x0, y0);\n\n      var c1 = this._regioncode(x1, y1);\n\n      if (c0 === 0 && c1 === 0) {\n        context.moveTo(x0, y0);\n        context.lineTo(x1, y1);\n      } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n        context.moveTo(S[0], S[1]);\n        context.lineTo(S[2], S[3]);\n      }\n    }\n  }, {\n    key: \"contains\",\n    value: function contains(i, x, y) {\n      if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n      return this.delaunay._step(i, x, y) === i;\n    }\n  }, {\n    key: \"neighbors\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function neighbors(i) {\n      var ci, _iterator, _step, j, cj, ai, li, aj, lj;\n\n      return _regeneratorRuntime.wrap(function neighbors$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              ci = this._clip(i);\n\n              if (!ci) {\n                _context2.next = 33;\n                break;\n              }\n\n              _iterator = _createForOfIteratorHelper(this.delaunay.neighbors(i));\n              _context2.prev = 3;\n\n              _iterator.s();\n\n            case 5:\n              if ((_step = _iterator.n()).done) {\n                _context2.next = 25;\n                break;\n              }\n\n              j = _step.value;\n              cj = this._clip(j); // find the common edge\n\n              if (!cj) {\n                _context2.next = 23;\n                break;\n              }\n\n              ai = 0, li = ci.length;\n\n            case 10:\n              if (!(ai < li)) {\n                _context2.next = 23;\n                break;\n              }\n\n              aj = 0, lj = cj.length;\n\n            case 12:\n              if (!(aj < lj)) {\n                _context2.next = 20;\n                break;\n              }\n\n              if (!(ci[ai] == cj[aj] && ci[ai + 1] == cj[aj + 1] && ci[(ai + 2) % li] == cj[(aj + lj - 2) % lj] && ci[(ai + 3) % li] == cj[(aj + lj - 1) % lj])) {\n                _context2.next = 17;\n                break;\n              }\n\n              _context2.next = 16;\n              return j;\n\n            case 16:\n              return _context2.abrupt(\"break\", 23);\n\n            case 17:\n              aj += 2;\n              _context2.next = 12;\n              break;\n\n            case 20:\n              ai += 2;\n              _context2.next = 10;\n              break;\n\n            case 23:\n              _context2.next = 5;\n              break;\n\n            case 25:\n              _context2.next = 30;\n              break;\n\n            case 27:\n              _context2.prev = 27;\n              _context2.t0 = _context2[\"catch\"](3);\n\n              _iterator.e(_context2.t0);\n\n            case 30:\n              _context2.prev = 30;\n\n              _iterator.f();\n\n              return _context2.finish(30);\n\n            case 33:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, neighbors, this, [[3, 27, 30, 33]]);\n    })\n  }, {\n    key: \"_cell\",\n    value: function _cell(i) {\n      var circumcenters = this.circumcenters,\n          _this$delaunay3 = this.delaunay,\n          inedges = _this$delaunay3.inedges,\n          halfedges = _this$delaunay3.halfedges,\n          triangles = _this$delaunay3.triangles;\n      var e0 = inedges[i];\n      if (e0 === -1) return null; // coincident point\n\n      var points = [];\n      var e = e0;\n\n      do {\n        var t = Math.floor(e / 3);\n        points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n        e = e % 3 === 2 ? e - 2 : e + 1;\n        if (triangles[e] !== i) break; // bad triangulation\n\n        e = halfedges[e];\n      } while (e !== e0 && e !== -1);\n\n      return points;\n    }\n  }, {\n    key: \"_clip\",\n    value: function _clip(i) {\n      // degenerate case (1 valid point: return the box)\n      if (i === 0 && this.delaunay.hull.length === 1) {\n        return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n      }\n\n      var points = this._cell(i);\n\n      if (points === null) return null;\n      var V = this.vectors;\n      var v = i * 4;\n      return V[v] || V[v + 1] ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3]) : this._clipFinite(i, points);\n    }\n  }, {\n    key: \"_clipFinite\",\n    value: function _clipFinite(i, points) {\n      var n = points.length;\n      var P = null;\n      var x0,\n          y0,\n          x1 = points[n - 2],\n          y1 = points[n - 1];\n\n      var c0,\n          c1 = this._regioncode(x1, y1);\n\n      var e0, e1;\n\n      for (var j = 0; j < n; j += 2) {\n        x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n        c0 = c1, c1 = this._regioncode(x1, y1);\n\n        if (c0 === 0 && c1 === 0) {\n          e0 = e1, e1 = 0;\n          if (P) P.push(x1, y1);else P = [x1, y1];\n        } else {\n          var S = void 0,\n              sx0 = void 0,\n              sy0 = void 0,\n              sx1 = void 0,\n              sy1 = void 0;\n\n          if (c0 === 0) {\n            if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n            var _S = S;\n\n            var _S2 = _slicedToArray(_S, 4);\n\n            sx0 = _S2[0];\n            sy0 = _S2[1];\n            sx1 = _S2[2];\n            sy1 = _S2[3];\n          } else {\n            if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n            var _S3 = S;\n\n            var _S4 = _slicedToArray(_S3, 4);\n\n            sx1 = _S4[0];\n            sy1 = _S4[1];\n            sx0 = _S4[2];\n            sy0 = _S4[3];\n            e0 = e1, e1 = this._edgecode(sx0, sy0);\n            if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n            if (P) P.push(sx0, sy0);else P = [sx0, sy0];\n          }\n\n          e0 = e1, e1 = this._edgecode(sx1, sy1);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx1, sy1);else P = [sx1, sy1];\n        }\n      }\n\n      if (P) {\n        e0 = e1, e1 = this._edgecode(P[0], P[1]);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n      } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n        return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n      }\n\n      return P;\n    }\n  }, {\n    key: \"_clipSegment\",\n    value: function _clipSegment(x0, y0, x1, y1, c0, c1) {\n      while (true) {\n        if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n        if (c0 & c1) return null;\n        var x = void 0,\n            y = void 0,\n            c = c0 || c1;\n        if (c & 8) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;else if (c & 4) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;else if (c & 2) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n        if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n      }\n    }\n  }, {\n    key: \"_clipInfinite\",\n    value: function _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n      var P = Array.from(points),\n          p;\n      if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n      if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n\n      if (P = this._clipFinite(i, P)) {\n        for (var j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n          c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n          if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n        }\n      } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n        P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n      }\n\n      return P;\n    }\n  }, {\n    key: \"_edge\",\n    value: function _edge(i, e0, e1, P, j) {\n      while (e0 !== e1) {\n        var x = void 0,\n            y = void 0;\n\n        switch (e0) {\n          case 5:\n            e0 = 4;\n            continue;\n          // top-left\n\n          case 4:\n            e0 = 6, x = this.xmax, y = this.ymin;\n            break;\n          // top\n\n          case 6:\n            e0 = 2;\n            continue;\n          // top-right\n\n          case 2:\n            e0 = 10, x = this.xmax, y = this.ymax;\n            break;\n          // right\n\n          case 10:\n            e0 = 8;\n            continue;\n          // bottom-right\n\n          case 8:\n            e0 = 9, x = this.xmin, y = this.ymax;\n            break;\n          // bottom\n\n          case 9:\n            e0 = 1;\n            continue;\n          // bottom-left\n\n          case 1:\n            e0 = 5, x = this.xmin, y = this.ymin;\n            break;\n          // left\n        }\n\n        if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n          P.splice(j, 0, x, y), j += 2;\n        }\n      }\n\n      if (P.length > 4) {\n        for (var _i4 = 0; _i4 < P.length; _i4 += 2) {\n          var _j = (_i4 + 2) % P.length,\n              k = (_i4 + 4) % P.length;\n\n          if (P[_i4] === P[_j] && P[_j] === P[k] || P[_i4 + 1] === P[_j + 1] && P[_j + 1] === P[k + 1]) P.splice(_j, 2), _i4 -= 2;\n        }\n      }\n\n      return j;\n    }\n  }, {\n    key: \"_project\",\n    value: function _project(x0, y0, vx, vy) {\n      var t = Infinity,\n          c,\n          x,\n          y;\n\n      if (vy < 0) {\n        // top\n        if (y0 <= this.ymin) return null;\n        if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n      } else if (vy > 0) {\n        // bottom\n        if (y0 >= this.ymax) return null;\n        if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n      }\n\n      if (vx > 0) {\n        // right\n        if (x0 >= this.xmax) return null;\n        if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n      } else if (vx < 0) {\n        // left\n        if (x0 <= this.xmin) return null;\n        if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n      }\n\n      return [x, y];\n    }\n  }, {\n    key: \"_edgecode\",\n    value: function _edgecode(x, y) {\n      return (x === this.xmin ? 1 : x === this.xmax ? 2 : 0) | (y === this.ymin ? 4 : y === this.ymax ? 8 : 0);\n    }\n  }, {\n    key: \"_regioncode\",\n    value: function _regioncode(x, y) {\n      return (x < this.xmin ? 1 : x > this.xmax ? 2 : 0) | (y < this.ymin ? 4 : y > this.ymax ? 8 : 0);\n    }\n  }]);\n\n  return Voronoi;\n}();\n\nexport { Voronoi as default };","import _classCallCheck from \"/Users/raph/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/raph/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(flatIterable);\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport _regeneratorRuntime from \"/Users/raph/projects/plouc/nivo/node_modules/@babel/runtime/regenerator/index.js\";\nimport \"core-js/modules/es.math.hypot.js\";\nimport Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\nvar tau = 2 * Math.PI,\n    pow = Math.pow;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n} // A triangulation is collinear if all its triangles have a non-null area\n\n\nfunction collinear(d) {\n  var triangles = d.triangles,\n      coords = d.coords;\n\n  for (var i = 0; i < triangles.length; i += 3) {\n    var a = 2 * triangles[i],\n        b = 2 * triangles[i + 1],\n        c = 2 * triangles[i + 2],\n        cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1]) - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\n    if (cross > 1e-10) return false;\n  }\n\n  return true;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nvar Delaunay = /*#__PURE__*/function () {\n  function Delaunay(points) {\n    _classCallCheck(this, Delaunay);\n\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n\n    this._init();\n  }\n\n  _createClass(Delaunay, [{\n    key: \"update\",\n    value: function update() {\n      this._delaunator.update();\n\n      this._init();\n\n      return this;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var d = this._delaunator,\n          points = this.points; // check for collinear\n\n      if (d.hull && d.hull.length > 2 && collinear(d)) {\n        this.collinear = Int32Array.from({\n          length: points.length / 2\n        }, function (_, i) {\n          return i;\n        }).sort(function (i, j) {\n          return points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1];\n        }); // for exact neighbors\n\n        var e = this.collinear[0],\n            f = this.collinear[this.collinear.length - 1],\n            bounds = [points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1]],\n            r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\n\n        for (var i = 0, n = points.length / 2; i < n; ++i) {\n          var p = jitter(points[2 * i], points[2 * i + 1], r);\n          points[2 * i] = p[0];\n          points[2 * i + 1] = p[1];\n        }\n\n        this._delaunator = new Delaunator(points);\n      } else {\n        delete this.collinear;\n      }\n\n      var halfedges = this.halfedges = this._delaunator.halfedges;\n      var hull = this.hull = this._delaunator.hull;\n      var triangles = this.triangles = this._delaunator.triangles;\n      var inedges = this.inedges.fill(-1);\n\n      var hullIndex = this._hullIndex.fill(-1); // Compute an index from each point to an (arbitrary) incoming halfedge\n      // Used to give the first neighbor of each point; for this reason,\n      // on the hull we give priority to exterior halfedges\n\n\n      for (var _e = 0, _n = halfedges.length; _e < _n; ++_e) {\n        var _p = triangles[_e % 3 === 2 ? _e - 2 : _e + 1];\n        if (halfedges[_e] === -1 || inedges[_p] === -1) inedges[_p] = _e;\n      }\n\n      for (var _i = 0, _n2 = hull.length; _i < _n2; ++_i) {\n        hullIndex[hull[_i]] = _i;\n      } // degenerate case: 1 or 2 (distinct) points\n\n\n      if (hull.length <= 2 && hull.length > 0) {\n        this.triangles = new Int32Array(3).fill(-1);\n        this.halfedges = new Int32Array(3).fill(-1);\n        this.triangles[0] = hull[0];\n        this.triangles[1] = hull[1];\n        this.triangles[2] = hull[1];\n        inedges[hull[0]] = 1;\n        if (hull.length === 2) inedges[hull[1]] = 0;\n      }\n    }\n  }, {\n    key: \"voronoi\",\n    value: function voronoi(bounds) {\n      return new Voronoi(this, bounds);\n    }\n  }, {\n    key: \"neighbors\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function neighbors(i) {\n      var inedges, hull, _hullIndex, halfedges, triangles, collinear, l, e0, e, p0, p;\n\n      return _regeneratorRuntime.wrap(function neighbors$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              inedges = this.inedges, hull = this.hull, _hullIndex = this._hullIndex, halfedges = this.halfedges, triangles = this.triangles, collinear = this.collinear; // degenerate case with several collinear points\n\n              if (!collinear) {\n                _context.next = 10;\n                break;\n              }\n\n              l = collinear.indexOf(i);\n\n              if (!(l > 0)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 6;\n              return collinear[l - 1];\n\n            case 6:\n              if (!(l < collinear.length - 1)) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.next = 9;\n              return collinear[l + 1];\n\n            case 9:\n              return _context.abrupt(\"return\");\n\n            case 10:\n              e0 = inedges[i];\n\n              if (!(e0 === -1)) {\n                _context.next = 13;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 13:\n              // coincident point\n              e = e0, p0 = -1;\n\n            case 14:\n              _context.next = 16;\n              return p0 = triangles[e];\n\n            case 16:\n              e = e % 3 === 2 ? e - 2 : e + 1;\n\n              if (!(triangles[e] !== i)) {\n                _context.next = 19;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 19:\n              // bad triangulation\n              e = halfedges[e];\n\n              if (!(e === -1)) {\n                _context.next = 26;\n                break;\n              }\n\n              p = hull[(_hullIndex[i] + 1) % hull.length];\n\n              if (!(p !== p0)) {\n                _context.next = 25;\n                break;\n              }\n\n              _context.next = 25;\n              return p;\n\n            case 25:\n              return _context.abrupt(\"return\");\n\n            case 26:\n              if (e !== e0) {\n                _context.next = 14;\n                break;\n              }\n\n            case 27:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, neighbors, this);\n    })\n  }, {\n    key: \"find\",\n    value: function find(x, y) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n      var i0 = i;\n      var c;\n\n      while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) {\n        i = c;\n      }\n\n      return c;\n    }\n  }, {\n    key: \"_step\",\n    value: function _step(i, x, y) {\n      var inedges = this.inedges,\n          hull = this.hull,\n          _hullIndex = this._hullIndex,\n          halfedges = this.halfedges,\n          triangles = this.triangles,\n          points = this.points;\n      if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n      var c = i;\n      var dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\n      var e0 = inedges[i];\n      var e = e0;\n\n      do {\n        var t = triangles[e];\n        var dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\n        if (dt < dc) dc = dt, c = t;\n        e = e % 3 === 2 ? e - 2 : e + 1;\n        if (triangles[e] !== i) break; // bad triangulation\n\n        e = halfedges[e];\n\n        if (e === -1) {\n          e = hull[(_hullIndex[i] + 1) % hull.length];\n\n          if (e !== t) {\n            if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\n          }\n\n          break;\n        }\n      } while (e !== e0);\n\n      return c;\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points,\n          halfedges = this.halfedges,\n          triangles = this.triangles;\n\n      for (var i = 0, n = halfedges.length; i < n; ++i) {\n        var j = halfedges[i];\n        if (j < i) continue;\n        var ti = triangles[i] * 2;\n        var tj = triangles[j] * 2;\n        context.moveTo(points[ti], points[ti + 1]);\n        context.lineTo(points[tj], points[tj + 1]);\n      }\n\n      this.renderHull(context);\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderPoints\",\n    value: function renderPoints(context) {\n      var r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points;\n\n      for (var i = 0, n = points.length; i < n; i += 2) {\n        var x = points[i],\n            y = points[i + 1];\n        context.moveTo(x + r, y);\n        context.arc(x, y, r, 0, tau);\n      }\n\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderHull\",\n    value: function renderHull(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var hull = this.hull,\n          points = this.points;\n      var h = hull[0] * 2,\n          n = hull.length;\n      context.moveTo(points[h], points[h + 1]);\n\n      for (var i = 1; i < n; ++i) {\n        var _h = 2 * hull[i];\n\n        context.lineTo(points[_h], points[_h + 1]);\n      }\n\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"hullPolygon\",\n    value: function hullPolygon() {\n      var polygon = new Polygon();\n      this.renderHull(polygon);\n      return polygon.value();\n    }\n  }, {\n    key: \"renderTriangle\",\n    value: function renderTriangle(i, context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points,\n          triangles = this.triangles;\n      var t0 = triangles[i *= 3] * 2;\n      var t1 = triangles[i + 1] * 2;\n      var t2 = triangles[i + 2] * 2;\n      context.moveTo(points[t0], points[t0 + 1]);\n      context.lineTo(points[t1], points[t1 + 1]);\n      context.lineTo(points[t2], points[t2 + 1]);\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"trianglePolygons\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function trianglePolygons() {\n      var triangles, i, n;\n      return _regeneratorRuntime.wrap(function trianglePolygons$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              triangles = this.triangles;\n              i = 0, n = triangles.length / 3;\n\n            case 2:\n              if (!(i < n)) {\n                _context2.next = 8;\n                break;\n              }\n\n              _context2.next = 5;\n              return this.trianglePolygon(i);\n\n            case 5:\n              ++i;\n              _context2.next = 2;\n              break;\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, trianglePolygons, this);\n    })\n  }, {\n    key: \"trianglePolygon\",\n    value: function trianglePolygon(i) {\n      var polygon = new Polygon();\n      this.renderTriangle(i, polygon);\n      return polygon.value();\n    }\n  }], [{\n    key: \"from\",\n    value: function from(points) {\n      var fx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : pointX;\n      var fy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : pointY;\n      var that = arguments.length > 3 ? arguments[3] : undefined;\n      return new Delaunay(\"length\" in points ? flatArray(points, fx, fy, that) : Float64Array.from(flatIterable(points, fx, fy, that)));\n    }\n  }]);\n\n  return Delaunay;\n}();\n\nexport { Delaunay as default };\n\nfunction flatArray(points, fx, fy, that) {\n  var n = points.length;\n  var array = new Float64Array(n * 2);\n\n  for (var i = 0; i < n; ++i) {\n    var p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n\n  return array;\n}\n\nfunction flatIterable(points, fx, fy, that) {\n  var i, _iterator, _step2, p;\n\n  return _regeneratorRuntime.wrap(function flatIterable$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          i = 0;\n          _iterator = _createForOfIteratorHelper(points);\n          _context3.prev = 2;\n\n          _iterator.s();\n\n        case 4:\n          if ((_step2 = _iterator.n()).done) {\n            _context3.next = 13;\n            break;\n          }\n\n          p = _step2.value;\n          _context3.next = 8;\n          return fx.call(that, p, i, points);\n\n        case 8:\n          _context3.next = 10;\n          return fy.call(that, p, i, points);\n\n        case 10:\n          ++i;\n\n        case 11:\n          _context3.next = 4;\n          break;\n\n        case 13:\n          _context3.next = 18;\n          break;\n\n        case 15:\n          _context3.prev = 15;\n          _context3.t0 = _context3[\"catch\"](2);\n\n          _iterator.e(_context3.t0);\n\n        case 18:\n          _context3.prev = 18;\n\n          _iterator.f();\n\n          return _context3.finish(18);\n\n        case 21:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked, null, [[2, 15, 18, 21]]);\n}","import { VoronoiDomain, VoronoiLayer } from './types'\n\nexport const defaultVoronoiProps = {\n    xDomain: [0, 1] as VoronoiDomain,\n    yDomain: [0, 1] as VoronoiDomain,\n    layers: ['links', 'cells', 'points', 'bounds'] as VoronoiLayer[],\n    enableLinks: false,\n    linkLineWidth: 1,\n    linkLineColor: '#bbbbbb',\n    enableCells: true,\n    cellLineWidth: 2,\n    cellLineColor: '#000000',\n    enablePoints: true,\n    pointSize: 4,\n    pointColor: '#666666',\n    role: 'img',\n}\n","import { Delaunay } from 'd3-delaunay'\n\ntype NumberPropertyNames<T> = {\n    [K in keyof T]: T[K] extends number ? K : never\n}[keyof T]\n\nexport type XYAccessor<Datum> = NumberPropertyNames<Datum> | ((datum: Datum) => number)\n\nconst getAccessor = <Datum>(directive: XYAccessor<Datum>) =>\n    typeof directive === 'function' ? directive : (datum: Datum) => datum[directive]\n\n/**\n * The delaunay generator requires an array\n * where each point is defined as an array\n * of 2 elements: [x: number, y: number].\n *\n * Points represent the raw input data\n * and x/y represent accessors to x & y.\n */\nexport const computeMeshPoints = <Datum>({\n    points,\n    x = 'x' as NumberPropertyNames<Datum>,\n    y = 'y' as NumberPropertyNames<Datum>,\n}: {\n    points: Datum[]\n    x?: XYAccessor<Datum>\n    y?: XYAccessor<Datum>\n}): [number, number][] => {\n    const getX = getAccessor<Datum>(x)\n    const getY = getAccessor<Datum>(y)\n\n    return points.map(point => [getX(point) as number, getY(point) as number])\n}\n\nexport const computeMesh = ({\n    points,\n    width,\n    height,\n    debug,\n}: {\n    points: [number, number][]\n    width: number\n    height: number\n    debug?: boolean\n}) => {\n    const delaunay = Delaunay.from(points)\n    const voronoi = debug ? delaunay.voronoi([0, 0, width, height]) : undefined\n\n    return { delaunay, voronoi }\n}\n","import { useMemo } from 'react'\nimport { scaleLinear } from 'd3-scale'\nimport { Delaunay } from 'd3-delaunay'\nimport { computeMeshPoints, computeMesh, XYAccessor } from './computeMesh'\nimport { VoronoiCommonProps, VoronoiDatum, VoronoiCustomLayerProps } from './types'\n\nexport const useVoronoiMesh = <Datum>({\n    points,\n    x,\n    y,\n    width,\n    height,\n    debug,\n}: {\n    points: Datum[]\n    x?: XYAccessor<Datum>\n    y?: XYAccessor<Datum>\n    width: number\n    height: number\n    debug?: boolean\n}) => {\n    const points2d = useMemo(() => computeMeshPoints<Datum>({ points, x, y }), [points, x, y])\n\n    return useMemo(\n        () => computeMesh({ points: points2d, width, height, debug }),\n        [points2d, width, height, debug]\n    )\n}\n\nexport const useVoronoi = ({\n    data,\n    width,\n    height,\n    xDomain,\n    yDomain,\n}: {\n    data: VoronoiDatum[]\n    width: number\n    height: number\n    xDomain: VoronoiCommonProps['xDomain']\n    yDomain: VoronoiCommonProps['yDomain']\n}) => {\n    const xScale = useMemo(() => scaleLinear().domain(xDomain).range([0, width]), [xDomain, width])\n    const yScale = useMemo(\n        () => scaleLinear().domain(yDomain).range([0, height]),\n        [yDomain, height]\n    )\n\n    const points = useMemo(\n        () =>\n            data.map(d => ({\n                x: xScale(d.x),\n                y: yScale(d.y),\n                data: d,\n            })),\n        [data, xScale, yScale]\n    )\n\n    return useMemo(() => {\n        const delaunay = Delaunay.from(points.map(p => [p.x, p.y]))\n        const voronoi = delaunay.voronoi([0, 0, width, height])\n\n        return {\n            points,\n            delaunay,\n            voronoi,\n        }\n    }, [points, width, height])\n}\n\n/**\n * Memoize the context to pass to custom layers.\n */\nexport const useVoronoiLayerContext = ({\n    points,\n    delaunay,\n    voronoi,\n}: VoronoiCustomLayerProps): VoronoiCustomLayerProps =>\n    useMemo(\n        () => ({\n            points,\n            delaunay,\n            voronoi,\n        }),\n        [points, delaunay, voronoi]\n    )\n","import { createElement, Fragment, ReactNode } from 'react'\nimport { Container, SvgWrapper, useDimensions } from '@nivo/core'\nimport { VoronoiSvgProps, VoronoiLayerId } from './types'\nimport { defaultVoronoiProps } from './props'\nimport { useVoronoi, useVoronoiLayerContext } from './hooks'\n\ntype InnerVoronoiProps = Partial<Omit<VoronoiSvgProps, 'data' | 'width' | 'height'>> &\n    Pick<VoronoiSvgProps, 'data' | 'width' | 'height'>\n\nconst InnerVoronoi = ({\n    data,\n    width,\n    height,\n    margin: partialMargin,\n    layers = defaultVoronoiProps.layers,\n    xDomain = defaultVoronoiProps.xDomain,\n    yDomain = defaultVoronoiProps.yDomain,\n    enableLinks = defaultVoronoiProps.enableLinks,\n    linkLineWidth = defaultVoronoiProps.linkLineWidth,\n    linkLineColor = defaultVoronoiProps.linkLineColor,\n    enableCells = defaultVoronoiProps.enableCells,\n    cellLineWidth = defaultVoronoiProps.cellLineWidth,\n    cellLineColor = defaultVoronoiProps.cellLineColor,\n    enablePoints = defaultVoronoiProps.enableCells,\n    pointSize = defaultVoronoiProps.pointSize,\n    pointColor = defaultVoronoiProps.pointColor,\n    role = defaultVoronoiProps.role,\n}: InnerVoronoiProps) => {\n    const { outerWidth, outerHeight, margin, innerWidth, innerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const { points, delaunay, voronoi } = useVoronoi({\n        data,\n        width: innerWidth,\n        height: innerHeight,\n        xDomain,\n        yDomain,\n    })\n\n    const layerById: Record<VoronoiLayerId, ReactNode> = {\n        links: null,\n        cells: null,\n        points: null,\n        bounds: null,\n    }\n\n    if (enableLinks && layers.includes('links')) {\n        layerById.links = (\n            <path\n                key=\"links\"\n                stroke={linkLineColor}\n                strokeWidth={linkLineWidth}\n                fill=\"none\"\n                d={delaunay.render()}\n            />\n        )\n    }\n\n    if (enableCells && layers.includes('cells')) {\n        layerById.cells = (\n            <path\n                key=\"cells\"\n                d={voronoi.render()}\n                fill=\"none\"\n                stroke={cellLineColor}\n                strokeWidth={cellLineWidth}\n            />\n        )\n    }\n\n    if (enablePoints && layers.includes('points')) {\n        layerById.points = (\n            <path\n                key=\"points\"\n                stroke=\"none\"\n                fill={pointColor}\n                d={delaunay.renderPoints(undefined, pointSize / 2)}\n            />\n        )\n    }\n\n    if (layers.includes('bounds')) {\n        layerById.bounds = (\n            <path\n                key=\"bounds\"\n                fill=\"none\"\n                stroke={cellLineColor}\n                strokeWidth={cellLineWidth}\n                d={voronoi.renderBounds()}\n            />\n        )\n    }\n\n    const layerContext = useVoronoiLayerContext({\n        points,\n        delaunay,\n        voronoi,\n    })\n\n    return (\n        <SvgWrapper width={outerWidth} height={outerHeight} margin={margin} role={role}>\n            {layers.map((layer, i) => {\n                if (layerById[layer as VoronoiLayerId] !== undefined) {\n                    return layerById[layer as VoronoiLayerId]\n                }\n\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, layerContext)}</Fragment>\n                }\n\n                return null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport const Voronoi = ({\n    theme,\n    ...otherProps\n}: Partial<Omit<VoronoiSvgProps, 'data' | 'width' | 'height'>> &\n    Pick<VoronoiSvgProps, 'data' | 'width' | 'height'>) => (\n    <Container isInteractive={false} animate={false} theme={theme}>\n        <InnerVoronoi {...otherProps} />\n    </Container>\n)\n","import { ResponsiveWrapper } from '@nivo/core'\nimport { VoronoiSvgProps } from './types'\nimport { Voronoi } from './Voronoi'\n\ntype ResponsiveVoronoiProps = Partial<Omit<VoronoiSvgProps, 'data' | 'width' | 'height'>> &\n    Pick<VoronoiSvgProps, 'data'>\n\nexport const ResponsiveVoronoi = (props: ResponsiveVoronoiProps) => (\n    <ResponsiveWrapper>\n        {({ width, height }: { width: number; height: number }) => (\n            <Voronoi width={width} height={height} {...props} />\n        )}\n    </ResponsiveWrapper>\n)\n","import { useRef, useState, useCallback, useMemo } from 'react'\nimport * as React from 'react'\nimport { getRelativeCursor } from '@nivo/core'\nimport { useVoronoiMesh } from './hooks'\nimport { XYAccessor } from './computeMesh'\n\ntype MouseHandler<Datum> = (datum: Datum, event: React.MouseEvent) => void\n\ninterface MeshProps<Datum> {\n    nodes: Datum[]\n    width: number\n    height: number\n    x?: XYAccessor<Datum>\n    y?: XYAccessor<Datum>\n    onMouseEnter?: MouseHandler<Datum>\n    onMouseMove?: MouseHandler<Datum>\n    onMouseLeave?: MouseHandler<Datum>\n    onClick?: MouseHandler<Datum>\n    debug?: boolean\n}\n\nexport const Mesh = <Datum,>({\n    nodes,\n    width,\n    height,\n    x,\n    y,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    debug,\n}: MeshProps<Datum>) => {\n    const elementRef = useRef<SVGGElement>(null)\n    const [currentIndex, setCurrentIndex] = useState<number | null>(null)\n\n    const { delaunay, voronoi } = useVoronoiMesh({\n        points: nodes,\n        x,\n        y,\n        width,\n        height,\n        debug,\n    })\n\n    const voronoiPath = useMemo(() => {\n        if (debug && voronoi) {\n            return voronoi.render()\n        }\n\n        return undefined\n    }, [debug, voronoi])\n\n    const getIndexAndNodeFromEvent = useCallback(\n        event => {\n            if (!elementRef.current) {\n                return [null, null]\n            }\n\n            const [x, y] = getRelativeCursor(elementRef.current, event)\n            const index = delaunay.find(x, y)\n\n            return [index, index !== undefined ? nodes[index] : null] as [number, Datum | null]\n        },\n        [elementRef, delaunay]\n    )\n\n    const handleMouseEnter = useCallback(\n        (event: React.MouseEvent) => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            setCurrentIndex(index)\n            if (node) {\n                onMouseEnter?.(node, event)\n            }\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex, onMouseEnter]\n    )\n\n    const handleMouseMove = useCallback(\n        (event: React.MouseEvent) => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            setCurrentIndex(index)\n            if (node) {\n                onMouseMove?.(node, event)\n            }\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex, onMouseMove]\n    )\n\n    const handleMouseLeave = useCallback(\n        (event: React.MouseEvent) => {\n            setCurrentIndex(null)\n            if (onMouseLeave) {\n                let previousNode: Datum | undefined = undefined\n                if (currentIndex !== null) {\n                    previousNode = nodes[currentIndex]\n                }\n                previousNode && onMouseLeave(previousNode, event)\n            }\n        },\n        [setCurrentIndex, currentIndex, onMouseLeave, nodes]\n    )\n\n    const handleClick = useCallback(\n        (event: React.MouseEvent) => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            setCurrentIndex(index)\n            if (node) {\n                onClick?.(node, event)\n            }\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex, onClick]\n    )\n\n    return (\n        <g ref={elementRef}>\n            {debug && voronoi && (\n                <>\n                    <path d={voronoiPath} stroke=\"red\" strokeWidth={1} opacity={0.75} />\n                    {/* highlight current cell */}\n                    {currentIndex !== null && (\n                        <path fill=\"pink\" opacity={0.35} d={voronoi.renderCell(currentIndex)} />\n                    )}\n                </>\n            )}\n            {/* transparent rect to intercept mouse events */}\n            <rect\n                width={width}\n                height={height}\n                fill=\"red\"\n                opacity={0}\n                style={{ cursor: 'auto' }}\n                onMouseEnter={handleMouseEnter}\n                onMouseMove={handleMouseMove}\n                onMouseLeave={handleMouseLeave}\n                onClick={handleClick}\n            />\n        </g>\n    )\n}\n","import { Delaunay, Voronoi } from 'd3-delaunay'\n\nexport const renderVoronoiToCanvas = (\n    ctx: CanvasRenderingContext2D,\n    voronoi: Voronoi<Delaunay.Point>\n) => {\n    ctx.save()\n\n    ctx.globalAlpha = 0.75\n    ctx.beginPath()\n    voronoi.render(ctx)\n    ctx.strokeStyle = 'red'\n    ctx.lineWidth = 1\n    ctx.stroke()\n\n    ctx.restore()\n}\n\nexport const renderVoronoiCellToCanvas = (\n    ctx: CanvasRenderingContext2D,\n    voronoi: Voronoi<Delaunay.Point>,\n    index: number\n) => {\n    ctx.save()\n\n    ctx.globalAlpha = 0.35\n    ctx.beginPath()\n    voronoi.renderCell(index, ctx)\n    ctx.fillStyle = 'red'\n    ctx.fill()\n\n    ctx.restore()\n}\n"],"names":["$","$hypot","Math","hypot","abs","sqrt","target","stat","forced","Infinity","NaN","value1","value2","arg","div","sum","i","aLen","arguments","length","larg","EPSILON","pow","EDGE_STACK","Uint32Array","Delaunator","coords","this","n","Error","maxTriangles","max","_triangles","_halfedges","Int32Array","_hashSize","ceil","_hullPrev","_hullNext","_hullTri","_hullHash","fill","_ids","_dists","Float64Array","update","key","value","hullPrev","hullNext","hullTri","hullHash","minX","minY","maxX","maxY","x","y","i0","i1","i2","cx","cy","minDist","_i","d","dist","i0x","i0y","_i2","_d","i1x","i1y","minRadius","_i3","r","circumradius","i2x","i2y","_i4","quicksort","hull","j","_i5","d0","id","subarray","triangles","halfedges","orient","_i6","_x","_y","center","ax","ay","bx","by","dx","dy","ex","ey","bl","cl","circumcenter","_cx","_cy","_i7","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","k","_i8","_x2","_y2","start","_j","e","q","t","_legalize","_n","_i9","_e","floor","p","a","px","py","fx","fy","bp","cp","ar","b","a0","b0","al","p0","pr","pl","p1","ap","hbl","_link","br","c","points","getX","undefined","defaultGetX","getY","defaultGetY","orientIfSure","rx","ry","qx","qy","l","ids","dists","left","right","temp","tempDist","_i10","_j2","swap","_temp","_tempDist","arr","tmp","epsilon","Path","_x0","_y0","_x1","_y1","_","concat","x0","y0","w","h","Polygon","push","slice","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","Object","prototype","toString","call","constructor","name","from","test","_unsupportedIterableToArray","F","s","done","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","len","arr2","Voronoi","delaunay","_ref","_ref2","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","_this$delaunay","circumcenters","t1","t2","t3","x2","y2","x3","y3","ab","x1","y1","context","buffer","_this$delaunay2","inedges","ti","tj","xi","yi","xj","yj","_renderSegment","h0","h1","v","_project","rect","_clip","moveTo","lineTo","closePath","cellPolygons","cell","_context","prev","cellPolygon","index","stop","polygon","renderCell","S","c0","_regioncode","c1","_clipSegment","_step","neighbors","ci","_iterator","cj","ai","li","aj","lj","_context2","abrupt","t0","finish","_this$delaunay3","e0","_cell","V","_clipInfinite","_clipFinite","e1","P","sx0","sy0","sx1","sy1","_S","_S2","_S3","_S4","_edgecode","_edge","contains","vx0","vy0","vxn","vyn","unshift","splice","vx","vy","_marked","flatIterable","_e3","tau","PI","pointX","pointY","jitter","sin","cos","Delaunay","_delaunator","_hullIndex","collinear","sort","bounds","hullIndex","_p","_n2","indexOf","dc","dt","renderHull","arc","_h","trianglePolygons","trianglePolygon","renderTriangle","that","flatArray","array","_step2","_context3","defaultVoronoiProps","xDomain","yDomain","layers","enableLinks","linkLineWidth","linkLineColor","enableCells","cellLineWidth","cellLineColor","enablePoints","pointSize","pointColor","role","getAccessor","directive","datum","useVoronoiMesh","width","height","debug","points2d","useMemo","map","point","computeMeshPoints","voronoi","computeMesh","InnerVoronoi","data","partialMargin","margin","useDimensions","outerWidth","outerHeight","innerHeight","xScale","scaleLinear","domain","range","yScale","useVoronoi","innerWidth","layerById","links","cells","includes","_jsx","stroke","strokeWidth","render","renderPoints","renderBounds","layerContext","useVoronoiLayerContext","SvgWrapper","layer","Fragment","createElement","theme","otherProps","Container","isInteractive","animate","ResponsiveVoronoi","props","ResponsiveWrapper","Mesh","nodes","onMouseEnter","onMouseMove","onMouseLeave","onClick","elementRef","useRef","useState","currentIndex","setCurrentIndex","voronoiPath","getIndexAndNodeFromEvent","useCallback","current","getRelativeCursor","event","find","handleMouseEnter","node","handleMouseMove","handleMouseLeave","previousNode","handleClick","_jsxs","ref","opacity","style","cursor","renderVoronoiToCanvas","ctx","save","globalAlpha","beginPath","strokeStyle","lineWidth","restore","renderVoronoiCellToCanvas","fillStyle"],"sourceRoot":""}