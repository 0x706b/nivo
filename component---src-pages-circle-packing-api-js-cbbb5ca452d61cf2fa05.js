(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{GCXH:function(e,n,t){"use strict";t.r(n);var o=t("Eo5u"),r=t("mXGw"),a=t.n(r),i=t("6zZa"),l=t("vrFN"),s=t("vrO3"),d=t("RNdH"),c=t("KIgL"),u=t("Cknn"),p=t.n(u),h=Object(i.f)();n.default=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.a,{title:"CirclePacking HTTP API",keywords:[].concat(Object(o.a)(p.a.CirclePacking.tags),["HTTP API"])}),a.a.createElement(s.a,{componentName:"CirclePacking",chartClass:"circle-packing",apiPath:"/charts/circle-packing",flavors:p.a.flavors,dataProperty:"root",controlGroups:d.a,propsMapper:c.a,defaultProps:{width:600,height:600,margin:{top:20,right:20,bottom:20,left:20},root:JSON.stringify(h,null,"  "),identity:"name",value:"loc",valueFormat:{format:"",enabled:!1},colors:{scheme:"nivo"},colorBy:"depth",inheritColorFromParent:!1,childColor:{from:"color",modifiers:[["darker",.3]]},padding:1,enableLabels:!0,leavesOnly:!1,label:"id",labelsSkipRadius:8,labelTextColor:{from:"color",modifiers:[["darker",.8]]},labelTextDY:4,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",.3]]}}}))}},KIgL:function(e,n,t){"use strict";var o=t("nLLr");n.a=Object(o.c)({valueFormat:o.b,label:function(e){return"d => `${d.id}: ${d.value}`"===e?function(e){return e.id+": "+e.value}:e}})},RNdH:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var o=t("Eo5u"),r=t("7nGd"),a=t("RQLE"),i=[{key:"data",group:"Base",help:"Chart data, which should be immutable.",description:"\n            Chart data, which must conform to this structure\n            if using the default `id` and `value` accessors:\n\n            ```\n            {\n                // must be unique for the whole dataset\n                id: string | number\n                value: number\n                children: {\n                    id: string | number\n                    value: number\n                    children: ...\n                }[]\n            }\n            ```\n\n            If using a different data structure, you must make sure\n            to adjust both `id` and `value`. Meaning you can provide\n            a completely different data structure as long as `id` and `value`\n            return the appropriate values.\n\n            Immutability of the data is important as re-computations\n            depends on it.\n        ",type:"object",required:!0},{key:"id",group:"Base",help:"Id accessor.",description:"\n            define id accessor, if string given,\n            will use `node[value]`,\n            if function given, it will be invoked\n            for each node and will receive the node as\n            first argument, it must return the node\n            id (string | number).\n        ",type:"string | Function",required:!1,defaultValue:r.e.id},{key:"value",group:"Base",help:"Value accessor",description:"\n            define value accessor, if string given,\n            will use `node[value]`,\n            if function given, it will be invoked\n            for each node and will receive the node as\n            first argument, it must return the node\n            value (number).\n        ",type:"string | Function",required:!1,defaultValue:r.e.value},{key:"valueFormat",group:"Base",help:"Optional formatter for values.",description:"\n            The formatted value can then be used for labels & tooltips.\n\n            Under the hood, nivo uses [d3-format](https://github.com/d3/d3-format),\n            please have a look at it for available formats, you can also pass a function\n            which will receive the raw value and should return the formatted one.\n        ",required:!1,type:"string | (value: number) => string | number",controlType:"valueFormat"},{key:"padding",help:"Padding between each circle.",description:"\n            Padding between adjacent circles.\n            Please be aware that when zoomed\n            this value will be affected by the zooming factor\n            and is expressed in pixels. See the\n            [official d3 documentation](https://github.com/d3/d3-hierarchy#pack_padding).\n        ",type:"number",required:!1,defaultValue:r.e.padding,controlType:"range",group:"Base",controlOptions:{unit:"px",min:0,max:32}},{key:"leavesOnly",help:"Only render leaf nodes (skip parent nodes).",type:"boolean",required:!1,defaultValue:r.e.leavesOnly,controlType:"switch",group:"Base"},{key:"width",enableControlForFlavors:["api"],help:"Chart width.",description:"\n            not required if using `<ResponsiveCirclePacking/>`.\n        ",type:"number",required:!0,controlType:"range",group:"Base",controlOptions:{unit:"px",min:100,max:1e3,step:5}},{key:"height",enableControlForFlavors:["api"],help:"Chart height.",description:"\n            not required if using `<ResponsiveCirclePacking/>`.\n        ",type:"number",required:!0,controlType:"range",group:"Base",controlOptions:{unit:"px",min:100,max:1e3,step:5}},{key:"margin",help:"Chart margin.",type:"object",required:!1,controlType:"margin",group:"Base"},{key:"pixelRatio",flavors:["canvas"],help:"Adjust pixel ratio, useful for HiDPI screens.",required:!1,defaultValue:"Depends on device",type:"number",controlType:"range",group:"Base",controlOptions:{min:1,max:2}},a.f,{key:"colors",help:"Define how to compute node color.",description:"\n            colors used to colorize the circles,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | Function | string[]",required:!1,defaultValue:{scheme:"nivo"},controlType:"ordinalColors",group:"Style"},{key:"colorBy",help:"Define the property to use to assign a color to circles.",description:"\n            When using `id`, each node will get a new color,\n            and when using `depth` the nodes' color will depend on their depth.\n        ",type:"'id' | 'depth'",required:!1,defaultValue:r.e.colorBy,controlType:"radio",group:"Style",controlOptions:{choices:[{label:"id",value:"id"},{label:"depth",value:"depth"}]}},{key:"inheritColorFromParent",help:"Inherit color from parent node starting from 2nd level.",type:"boolean",required:!1,defaultValue:r.e.inheritColorFromParent,controlType:"switch",group:"Style"},{key:"childColor",help:"Defines how to compute child nodes color, only used when inheritColorFromParent is enabled.",type:"string | object | Function",required:!1,defaultValue:r.e.childColor,controlType:"inheritedColor",group:"Style"},{key:"borderWidth",help:"Width of circle border.",type:"number",required:!1,defaultValue:r.e.borderWidth,controlType:"lineWidth",group:"Style"},{key:"borderColor",help:"Method to compute border color.",description:"\n            how to compute border color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:r.e.borderColor,controlType:"inheritedColor",group:"Style"}].concat(Object(o.a)(Object(a.b)("Style",["svg"])),[{key:"circleComponent",help:"Custom circle component.",group:"Style",required:!1},{key:"enableLabels",help:"Enable/disable labels.",type:"boolean",required:!1,defaultValue:r.e.enableLabels,controlType:"switch",group:"Labels"},{key:"label",help:"Label accessor.",description:"\n            Defines how to get label text,\n            can be a string (used to access current node data property)\n            or a function which will receive the actual node data.\n        ",type:"string | Function",required:!1,defaultValue:r.e.label,controlType:"choices",group:"Labels",controlOptions:{choices:["id","value","formattedValue","d => `${d.id}: ${d.value}`"].map((function(e){return{label:e,value:e}}))}},{key:"labelsFilter",help:"Filter labels using custom conditions.",description:"\n            Please note that at this stage, nodes are already excluded\n            according to `labelsSkipRadius`.\n            \n            This can be used to only show labels at a certain depth for example:\n            \n            ```\n            <CirclePacking\n                labelsFilter={label => label.node.depth == 2}\n                {...props}\n            />\n            ```\n        ",type:"(label) => boolean",required:!1,group:"Labels"},{key:"labelsSkipRadius",help:"Skip label rendering if node radius is lower than given value, 0 to disable.",type:"number",required:!1,defaultValue:r.e.labelsSkipRadius,controlType:"range",group:"Labels",controlOptions:{unit:"px",min:0,max:32}},{key:"labelTextColor",help:"Method to compute label text color.",description:"\n            how to compute label text color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:r.e.labelTextColor,controlType:"inheritedColor",group:"Labels"},{key:"labelComponent",help:"Custom label component.",group:"Labels",required:!1},{key:"isInteractive",flavors:["svg","html","canvas"],help:"Enable/disable interactivity.",type:"boolean",required:!1,defaultValue:r.e.isInteractive,controlType:"switch",group:"Interactivity"},{key:"onMouseEnter",flavors:["svg","html"],group:"Interactivity",help:"onMouseEnter handler, it receives target node data and mouse event.",type:"(node, event) => void",required:!1},{key:"onMouseMove",flavors:["svg","html","canvas"],group:"Interactivity",help:"onMouseMove handler, it receives target node data and mouse event.",type:"(node, event) => void",required:!1},{key:"onMouseLeave",flavors:["svg","html"],group:"Interactivity",help:"onMouseLeave handler, it receives target node data and mouse event.",type:"(node, event) => void",required:!1},{key:"onClick",flavors:["svg","html","canvas"],group:"Interactivity",help:"onClick handler, it receives target node data and mouse event.",type:"(node, event) => void",required:!1},{key:"zoomedId",flavors:["svg","html","canvas"],help:"Zoom on a specific node.",description:"\n            If provided, zoom on the node having the provided ID,\n            this can be used to build a zoomable circle packing chart\n            when used in conjunction with the `onClick` property.  \n        ",type:"string | null",required:!1,group:"Interactivity"}],Object(o.a)(Object(a.e)(["svg","html"],r.e,"react-spring"))),l=Object(a.d)(i)},vrO3:function(e,n,t){"use strict";t.d(n,"a",(function(){return D}));var o=t("Z+yb"),r=t("hsa5"),a=t("mXGw"),i=t.n(a),l=t("UutA"),s=t("7oih"),d=t("UmRm"),c=t("QbkB"),u=t("1h20"),p=t("yHyT"),h=t("SBeK"),m=t("MF9i"),g=l.d.a.withConfig({displayName:"ApiPreview__Link",componentId:"sc-1tjndi9-0"})(["position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;"]),f=l.d.img.withConfig({displayName:"ApiPreview__Image",componentId:"sc-1tjndi9-1"})(["max-width:100%;max-height:100%;"]),b=l.d.div.withConfig({displayName:"ApiPreview__EmptyContainer",componentId:"sc-1tjndi9-2"})(["font-size:14px;line-height:1.6em;color:",";display:flex;align-items:center;justify-content:center;width:100%;height:100%;"],(function(e){return e.theme.colors.textLight})),v=function(e){var n=e.responseStatus,t=e.chartUrl;return 201===n&&t?i.a.createElement(g,{href:t,target:"_blank",rel:"noopener noreferrer"},i.a.createElement(f,{src:t,alt:"api result"})):i.a.createElement(b,null,"Click the generate button in order to generate the chart.",i.a.createElement("br",null),"You can customize settings by using dedicated controls.")},y=t("TurY"),w=t("DA+T");function x(){var e=Object(o.a)(["\n        & {\n            position: relative;\n            top: auto;\n            right: auto;\n            width: auto;\n            height: 460px;\n            z-index: 0;\n            border-top: 1px solid ",";\n        }\n    "]);return x=function(){return e},e}function k(){var e=Object(o.a)(["\n        & {\n            top: ","px;\n            right: 0;\n            width: 60%;\n            --innerHeight: calc(100% - ","px);\n            height: calc(var(--innerHeight) * 0.55);\n        }\n    "]);return k=function(){return e},e}var C=["preview","body","data"],E=function(e){var n=e.chartClass,t=e.data,o=e.body,r=e.isLoading,l=e.responseStatus,s=e.chartUrl,d=Object(y.b)(),c=Object(a.useState)("preview"),u=c[0],p=c[1],h=Object(a.useState)(null),m=h[0],g=h[1];return i.a.createElement(T,{className:"chart-tabs--"+u},i.a.createElement(S,null,C.map((function(e){var t=e===u,o="preview"===e?n:"data",r=t||m===e?"colored":"neutral";return i.a.createElement(P,{key:e,className:"no-select",isCurrent:t,onClick:function(){return p(e)},onMouseEnter:function(){return g(e)},onMouseLeave:function(){return g(null)}},i.a.createElement(I,{className:"sprite-icons-"+o+"-"+d.id+"-"+r}),e)}))),i.a.createElement(O,null,"preview"===u&&i.a.createElement(v,{isLoading:r,responseStatus:l,chartUrl:s}),"body"===u&&i.a.createElement(w.a,null,JSON.stringify(o,null,"  ")),"data"===u&&i.a.createElement(w.a,null,t),i.a.createElement(N,{isLoading:r})))},T=l.d.div.withConfig({displayName:"ApiTabs__Wrapper",componentId:"wcngb8-0"})(["position:fixed;top:","px;right:0;width:60%;--innerWidth:calc(100% - ","px);width:calc(var(--innerWidth) * 0.6);--innerHeight:calc(100% - ","px);height:calc(var(--innerHeight) * 0.55);z-index:10;overflow:hidden;background:",";border-bottom:1px solid ",";"," ",""],(function(e){return e.theme.dimensions.headerHeight}),(function(e){return e.theme.dimensions.miniNavWidth}),(function(e){return e.theme.dimensions.headerHeight}),(function(e){return e.theme.colors.cardBackground}),(function(e){return e.theme.colors.border}),d.a.tablet(k(),(function(e){return e.theme.dimensions.headerHeight}),(function(e){return e.theme.dimensions.headerHeight})),d.a.mobile(x(),(function(e){return e.theme.colors.border}))),S=l.d.nav.withConfig({displayName:"ApiTabs__Nav",componentId:"wcngb8-1"})(["height:46px;background:",";display:flex;font-size:15px;color:#aaa;position:relative;"],(function(e){return e.theme.colors.background})),P=l.d.span.withConfig({displayName:"ApiTabs__NavItem",componentId:"wcngb8-2"})(["cursor:pointer;height:46px;display:block;position:relative;padding-left:46px;padding-right:14px;padding-top:11px;background:",";&:hover{color:",";}"],(function(e){var n=e.isCurrent,t=e.theme;return n?t.colors.cardBackground:"transparent"}),(function(e){return e.theme.colors.text})),I=l.d.span.withConfig({displayName:"ApiTabs__Icon",componentId:"wcngb8-3"})(["position:absolute;top:0;left:0;display:block;transform:scale(0.44);transform-origin:top left;margin:12px 0 0 12px;"]),O=l.d.div.withConfig({displayName:"ApiTabs__Content",componentId:"wcngb8-4"})(["position:absolute;top:46px;bottom:0;width:100%;overflow-x:hidden;overflow-y:auto;"]),j=l.d.div.withConfig({displayName:"ApiTabs__LoaderContainer",componentId:"wcngb8-5"})(["position:absolute;top:50%;left:50%;width:100px;height:80px;margin-top:-40px;margin-left:-50px;background:",";display:grid;grid-template-columns:10px 10px 10px 10px 10px;grid-column-gap:6px;padding:10px 13px;border-radius:2px;box-shadow:0 1px 3px rgba(0,0,0,0.15);pointer-events:none;opacity:",";transform:translate3d(0,",",0);transition:transform 200ms,opacity 200ms;"],(function(e){return e.theme.colors.cardBackground}),(function(e){return e.isLoading?1:0}),(function(e){return e.isLoading?0:"20px"})),_=Object(l.e)(["0%,100%{transform:scale3d(1,0,1);}50%{transform:scale3d(1,1,1);}"]),q=l.d.span.withConfig({displayName:"ApiTabs__LoaderBar",componentId:"wcngb8-6"})(["display:block;background:",";width:100%;height:100%;transform:scale3d(1,0,1);transform-origin:100% 100%;animation-name:",";animation-duration:800ms;animation-iteration-count:infinite;animation-delay:","ms;"],(function(e){return e.theme.colors.accent}),_,(function(e){return 60*(e.index+1)})),N=function(e){var n=e.isLoading;return i.a.createElement(j,{isLoading:n},i.a.createElement("span",null,i.a.createElement(q,{index:0})),i.a.createElement("span",null,i.a.createElement(q,{index:1})),i.a.createElement("span",null,i.a.createElement(q,{index:2})),i.a.createElement("span",null,i.a.createElement(q,{index:3})),i.a.createElement("span",null,i.a.createElement(q,{index:4})))},L=l.d.span.withConfig({displayName:"ApiSubmit__Button",componentId:"y9yvg5-0"})(["display:block;background-color:",";color:#fff;text-align:center;padding:12px 24px;border-radius:2px;cursor:pointer;text-decoration:none;"],(function(e){return e.theme.colors.accent})),A=function(e){function n(){return e.apply(this,arguments)||this}return Object(r.a)(n,e),n.prototype.render=function(){var e=this.props,n=e.loading,t=e.onClick;return i.a.createElement(L,{onClick:t},n?"sending":"generate")},n}(a.Component);A.defaultProps={};var F=A,H=l.d.div.withConfig({displayName:"ApiResponse__Container",componentId:"usxrxs-0"})(["background:",";border-top:1px solid ",";overflow-x:hidden;overflow-y:auto;"],(function(e){return e.theme.colors.cardBackground}),(function(e){return e.theme.colors.border})),B=l.d.div.withConfig({displayName:"ApiResponse__Header",componentId:"usxrxs-1"})(["padding:12px 20px;border-bottom:1px solid ",";"],(function(e){return e.theme.colors.borderLight})),V=l.d.pre.withConfig({displayName:"ApiResponse__ResponseJson",componentId:"usxrxs-2"})(["padding:12px 20px;font-size:13px;line-height:1.6em;overflow:hidden;width:100%;margin:0;"]),M=function(e){function n(){return e.apply(this,arguments)||this}return Object(r.a)(n,e),n.prototype.render=function(){var e=this.props,n=e.responseStatus,t=e.response,o="no response available";return t&&(o=JSON.stringify(t,null,"  ")),i.a.createElement(H,null,i.a.createElement(B,null,"Response ",n?i.a.createElement("strong",null,n):"n/a"),i.a.createElement(V,null,o))},n}(a.Component);M.defaultProps={};var R=M,W=t("S6qR");function z(){var e=Object(o.a)(["\n        & {\n            position: relative;\n            right: auto;\n            bottom: auto;\n            width: auto;\n            height: auto;\n            border-left-width: 0;\n            z-index: 0;\n        }\n    "]);return z=function(){return e},e}function U(){var e=Object(o.a)(["\n        & {\n            right: 0;\n            bottom: 0;\n            --innerHeight: calc(100% - ","px);\n            height: calc(var(--innerHeight) * 0.45);\n            width: 60%;\n        }\n    "]);return U=function(){return e},e}var D=function(e){function n(n){var t;return(t=e.call(this,n)||this).handleSettingsUpdate=function(e){t.setState({props:e})},t.handleDataUpdate=function(e){var n,o=t.props.dataProperty,r=t.state.props;t.setState({props:Object.assign({},r,(n={},n[o]=e.target.value,n))})},t.handleSubmit=function(){var e=t.props,n=e.apiPath,o=e.propsMapper,r=t.state.props;t.setState({loading:!0}),fetch(""+W.a.nivoApiUrl+n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o(r))}).then((function(e){return t.setState({loading:!1,responseStatus:e.status}),e.json()})).then((function(e){t.setState({response:e})})).catch((function(e){console.error(e)}))},t.state={props:n.defaultProps,loading:!1,responseStatus:null,response:null},t}return Object(r.a)(n,e),n.prototype.render=function(){var e,n=this.props,t=n.componentName,o=n.chartClass,r=n.apiPath,a=n.controlGroups,l=n.dataProperty,d=n.propsMapper,g=n.flavors,f=this.state,b=f.props,v=f.loading,y=f.responseStatus,w=f.response,x=g.map((function(e){return e.flavor}));return i.a.createElement(s.a,null,i.a.createElement(c.a,null,i.a.createElement(u.a,{chartClass:t+" HTTP API",tags:["POST "+r]}),g&&i.a.createElement(p.a,{flavors:g,current:"api"}),i.a.createElement(h.a,{description:(e=t,"\nThe `"+e+"`component is available in the nivo\nHTTP rendering API.\nThe API generates a SVG and return a path to this SVG\nwhich can then be easily embedded.\n\nThe api accepts almost the same properties as the regular component,\nin json, however it's not interactive and you cannot use code\nin properties (functions).\n\nPlease note that the demo API server is installed on heroku\nusing a free plan, so it might be unavailable from times to times.\n")}),i.a.createElement(E,{chartClass:o,data:b[l],body:d(b),isLoading:v,responseStatus:y,chartUrl:w?w.url:null}),i.a.createElement(G,null,i.a.createElement(J,null,i.a.createElement(F,{loading:v,onClick:this.handleSubmit})),i.a.createElement(R,{responseStatus:y,response:w})),i.a.createElement(m.a,{component:t,settings:b,flavors:x,currentFlavor:"api",groups:a,onChange:this.handleSettingsUpdate})))},n}(a.Component);D.defaultProps={dataProperty:"data",propsMapper:function(e){return e}};var G=l.d.div.withConfig({displayName:"ApiClient__ControlPanel",componentId:"sc-50le0s-0"})(["position:fixed;right:0;bottom:0;--innerWidth:calc(100% - ","px);--partialWidth:calc(var(--innerWidth) * 0.6);width:var(--partialWidth);background:",";--innerHeight:calc(100% - ","px);height:calc(var(--innerHeight) * 0.45);z-index:10;overflow:hidden;display:grid;grid-template-rows:1fr 2fr;"," ",""],(function(e){return e.theme.dimensions.miniNavWidth}),(function(e){return e.theme.colors.cardAltBackground}),(function(e){return e.theme.dimensions.headerHeight}),d.a.tablet(U(),(function(e){return e.theme.dimensions.headerHeight})),d.a.mobile(z())),J=l.d.div.withConfig({displayName:"ApiClient__SubmitWrapper",componentId:"sc-50le0s-1"})(["display:flex;align-items:center;justify-content:center;padding:12px 0;"])},yEOx:function(e,n,t){var o=t("0711");e.exports=function(e){return o(e,5)}}}]);
//# sourceMappingURL=component---src-pages-circle-packing-api-js-cbbb5ca452d61cf2fa05.js.map