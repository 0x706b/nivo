{"version":3,"sources":["webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///../src/BulletMarkersItem.tsx","webpack:///../src/BulletRectsItem.tsx","webpack:///../src/props.ts","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///../src/compute.ts","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///../src/BulletMarkers.tsx","webpack:///../src/BulletRects.tsx","webpack:///../src/BulletItem.tsx","webpack:///../src/Bullet.tsx","webpack:///../src/hooks.ts","webpack:///../src/ResponsiveBullet.tsx"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","BulletRectsItem","animatedProps","x","y","width","height","color","data","onMouseEnter","onMouseMove","onMouseLeave","onClick","to","Math","fill","event","defaultProps","layout","reverse","spacing","minValue","maxValue","axisPosition","titlePosition","titleAlign","titleRotation","titleOffsetX","titleOffsetY","rangeComponent","rangeColors","measureComponent","measureColors","markers","markerComponent","transform","y1","y2","x1","x2","stroke","strokeWidth","markerColors","rangeBorderWidth","rangeBorderColor","from","measureSize","measureBorderWidth","measureBorderColor","markerSize","isInteractive","animate","motionDefaultProps","motionConfig","margin","role","_arrayLikeToArray","arr","len","arr2","Array","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","test","_toConsumableArray","isArray","arrayWithoutHoles","iter","Symbol","iterator","iterableToArray","unsupportedIterableToArray","TypeError","nonIterableSpread","_slicedToArray","arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","iterableToArrayLimit","nonIterableRest","stackValues","useAverage","scale","min","max","normalized","type","values","v","a","last","acc","v0","sequentialValue","v1","index","colorScale","_objectWithoutProperties","excluded","sourceKeys","indexOf","objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","BulletMarkers","component","getPosition","useMemo","marker","size","rotation","getPositionGenerator","useMotionConfig","springConfig","transition","useTransition","position","enter","update","config","immediate","BulletRects","rects","computeRect","d","h","getComputeRect","computeRects","getTransform","rect","createElement","props","BulletItem","id","title","ranges","measureHeight","measures","markerHeight","onRangeClick","onMeasureClick","onMarkerClick","theme","useTheme","useTooltip","showTooltipFromEvent","hideTooltip","computedRanges","rangeColorScale","getColorScale","computedMeasures","measureColorScale","computedMarkers","markerColorScale","rangeNodes","range","enableChip","markerNodes","axisX","axisY","axis","ticksPosition","titleX","titleY","titleNode","style","dominantBaseline","textAnchor","useSpring","measuresY","measure","Bullet","partialMargin","useDimensions","innerWidth","innerHeight","itemHeight","enhancedData","all","createLinearScale","clamp","useEnhancedData","ResponsiveBullet"],"mappings":"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","file":"7ce2388f7acd003e46edd69d340baa15b385389a-cc13f5bbe846a14266da.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { BulletMarkersItemProps } from './types'\nimport { animated } from '@react-spring/web'\n\nexport const BulletMarkersItem = ({\n    animatedProps: { color, transform, x, y1, y2 },\n    data,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n}: BulletMarkersItemProps) => {\n    return (\n        <animated.line\n            transform={transform}\n            x1={x}\n            x2={x}\n            y1={y1}\n            y2={y2}\n            fill=\"none\"\n            stroke={color}\n            strokeWidth=\"5\"\n            onMouseMove={event => onMouseMove(data, event)}\n            onMouseEnter={event => onMouseEnter(data, event)}\n            onMouseLeave={event => onMouseLeave(data, event)}\n            onClick={event => onClick(data, event)}\n        />\n    )\n}\n","import { BulletRectsItemProps } from './types'\nimport { animated, to } from '@react-spring/web'\n\nexport const BulletRectsItem = ({\n    animatedProps: { x, y, width, height, color },\n    data,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n}: BulletRectsItemProps) => {\n    return (\n        <animated.rect\n            x={x}\n            y={y}\n            width={to(width, value => Math.max(value, 0))}\n            height={to(height, value => Math.max(value, 0))}\n            fill={color}\n            onMouseMove={event => onMouseMove(data, event)}\n            onMouseEnter={event => onMouseEnter(data, event)}\n            onMouseLeave={event => onMouseLeave(data, event)}\n            onClick={event => onClick(data, event)}\n        />\n    )\n}\n","import { BulletMarkersItem } from './BulletMarkersItem'\nimport { BulletRectsItem } from './BulletRectsItem'\nimport { motionDefaultProps, defaultMargin } from '@nivo/core'\n\nexport const defaultProps = {\n    layout: 'horizontal',\n    reverse: false,\n    spacing: 30,\n    minValue: 0,\n    maxValue: 'auto',\n    axisPosition: 'after',\n    titlePosition: 'before',\n    titleAlign: 'middle',\n    titleRotation: 0,\n    titleOffsetX: 0,\n    titleOffsetY: 0,\n    rangeComponent: BulletRectsItem,\n    rangeColors: 'seq:cool',\n    measureComponent: BulletRectsItem,\n    measureColors: 'seq:red_purple',\n    markers: [],\n    markerComponent: BulletMarkersItem,\n    markerColors: 'seq:red_purple',\n    rangeBorderWidth: 0,\n    rangeBorderColor: { from: 'color' },\n    measureSize: 0.4,\n    measureBorderWidth: 0,\n    measureBorderColor: { from: 'color' },\n    markerSize: 0.6,\n    isInteractive: true,\n    animate: motionDefaultProps.animate,\n    motionConfig: motionDefaultProps.config,\n    margin: defaultMargin,\n    role: 'img',\n} as const\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { BulletItemProps, BulletRectsProps, ComputedRangeDatum } from './types'\n// @ts-ignore\nimport { getColorScale } from '@nivo/core'\n\ntype ComputeRect = Pick<BulletRectsProps, 'layout' | 'reverse' | 'scale' | 'height'>\n\nexport const stackValues = (\n    values: number[],\n    scale: BulletItemProps['scale'],\n    colorScale: ReturnType<getColorScale>,\n    type: 'range' | 'measures',\n    useAverage = false\n) => {\n    const [min, max] = scale.domain()\n    const normalized = [...values, type === 'measures' || values.includes(max) ? 0 : max]\n        .filter(v => v !== 0)\n        .sort((a, b) => a - b)\n\n    return normalized.reduce<ComputedRangeDatum[]>((acc, v1, index) => {\n        const [last] = acc.slice(-1)\n        const v0 = last?.v1 ?? min\n        const sequentialValue = useAverage === true ? v0 + (v1 - v0) / 2 : v1\n\n        return [\n            ...acc,\n            {\n                index,\n                v0,\n                v1,\n                color: colorScale(colorScale.type === 'sequential' ? sequentialValue : index),\n            },\n        ]\n    }, [])\n}\n\nexport const getComputeRect = ({ layout, reverse, scale, height }: ComputeRect) => {\n    if (layout === 'horizontal') {\n        if (reverse === true) {\n            return (d: ComputedRangeDatum) => {\n                const x = scale(d.v1)\n                const w = scale(d.v0) - x\n\n                return { x, y: 0, width: w, height }\n            }\n        }\n\n        return (d: ComputedRangeDatum) => {\n            const x = scale(d.v0)\n            const w = scale(d.v1) - x\n\n            return { x, y: 0, width: w, height }\n        }\n    }\n\n    if (reverse === true) {\n        return (d: ComputedRangeDatum) => {\n            const y = scale(d.v0)\n            const h = scale(d.v1) - y\n\n            return { x: 0, y, width: height, height: h }\n        }\n    }\n\n    return (d: ComputedRangeDatum) => {\n        const y = scale(d.v1)\n        const h = scale(d.v0) - y\n\n        return { x: 0, y, width: height, height: h }\n    }\n}\n\nexport const computeRects = ({\n    data,\n    layout,\n    reverse,\n    scale,\n    height,\n}: Pick<BulletRectsProps, 'data'> & ComputeRect) => {\n    const computeRect = getComputeRect({\n        layout,\n        reverse,\n        scale,\n        height,\n    })\n\n    return data.map(d => ({\n        data: d,\n        ...computeRect(d),\n    }))\n}\n","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import { useMemo } from 'react'\nimport * as React from 'react'\nimport { useTransition } from '@react-spring/web'\n// @ts-ignore\nimport { useMotionConfig } from '@nivo/core'\nimport {\n    BulletMarkersProps,\n    ComputedMarkersDatum,\n    MarkerWithPosition,\n    PositionWithColor,\n} from './types'\n\ntype MouseEventWithDatum = (\n    datum: ComputedMarkersDatum,\n    event: React.MouseEvent<SVGLineElement, MouseEvent>\n) => void\n\ntype EventHandlers = Record<'onMouseEnter' | 'onMouseLeave' | 'onClick', MouseEventWithDatum>\n\nconst getPositionGenerator = ({\n    layout,\n    reverse,\n    scale,\n    height,\n    markerSize,\n}: Pick<BulletMarkersProps, 'layout' | 'reverse' | 'scale' | 'height' | 'markerSize'>) => {\n    if (layout === 'horizontal') {\n        return (marker: ComputedMarkersDatum) => {\n            const x = scale(marker.value)\n            const y = height / 2\n            const rotation = reverse === true ? 180 : 0\n\n            return { x, y, size: markerSize, rotation }\n        }\n    }\n\n    return (marker: ComputedMarkersDatum) => {\n        const x = height / 2\n        const y = scale(marker.value)\n        const rotation = reverse === true ? 270 : 90\n\n        return { x, y, size: markerSize, rotation }\n    }\n}\n\nexport const BulletMarkers = ({\n    scale,\n    layout,\n    reverse,\n    markers,\n    height,\n    markerSize,\n    component,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n}: BulletMarkersProps & EventHandlers) => {\n    const getPosition = useMemo(\n        () => getPositionGenerator({ layout, reverse, scale, height, markerSize }),\n        [layout, reverse, scale, height, markerSize]\n    )\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const transition = useTransition<MarkerWithPosition, PositionWithColor>(\n        markers.map(marker => ({ ...marker, position: getPosition(marker) })),\n        {\n            keys: marker => `${marker.index}`,\n            enter: ({ color, position }: MarkerWithPosition) => ({\n                color,\n                transform: `rotate(${position.rotation}, ${position.x}, ${position.y})`,\n                x: position.x,\n                y1: position.y - position.size / 2,\n                y2: position.y + position.size / 2,\n            }),\n            update: ({ color, position }: MarkerWithPosition) => ({\n                color,\n                transform: `rotate(${position.rotation}, ${position.x}, ${position.y})`,\n                x: position.x,\n                y1: position.y - position.size / 2,\n                y2: position.y + position.size / 2,\n            }),\n            config: springConfig,\n            immediate: !animate,\n        }\n    )\n\n    return (\n        <>\n            {transition((props, { position, ...marker }) =>\n                React.createElement(component, {\n                    key: marker.index,\n                    ...marker,\n                    ...position,\n                    animatedProps: props,\n                    data: marker,\n                    onMouseEnter,\n                    onMouseMove: onMouseEnter,\n                    onMouseLeave,\n                    onClick,\n                })\n            )}\n        </>\n    )\n}\n","import { createElement, useMemo } from 'react'\nimport { useTransition, animated, to } from '@react-spring/web'\n// @ts-ignore\nimport { useMotionConfig } from '@nivo/core'\nimport { computeRects } from './compute'\nimport { BulletRectsProps, BulletRectComputedRect, BulletRectAnimatedProps } from './types'\n\nexport const BulletRects = ({\n    animatedProps,\n    data,\n    layout,\n    y,\n    component,\n    reverse,\n    scale,\n    height,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n}: BulletRectsProps) => {\n    const rects = useMemo(\n        () =>\n            computeRects({\n                data,\n                layout,\n                reverse,\n                scale,\n                height,\n            }),\n        [data, layout, reverse, scale, height]\n    )\n\n    const getTransform = (value: number) =>\n        `translate(${layout === 'horizontal' ? 0 : value},${layout === 'horizontal' ? value : 0})`\n\n    const transform = animatedProps ? to(animatedProps.measuresY, getTransform) : getTransform(y)\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const transition = useTransition<BulletRectComputedRect, BulletRectAnimatedProps>(rects, {\n        keys: rect => `${rect.data.index}`,\n        enter: rect => ({\n            x: rect.x,\n            y: rect.y,\n            width: rect.width,\n            height: rect.height,\n            color: rect.data.color,\n        }),\n        update: rect => ({\n            x: rect.x,\n            y: rect.y,\n            width: rect.width,\n            height: rect.height,\n            color: rect.data.color,\n        }),\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.g transform={transform}>\n            {transition((props, rect) =>\n                createElement(component, {\n                    key: rect.data.index,\n                    index: rect.data.index,\n                    animatedProps: props,\n                    data: rect.data,\n                    x: props.x.get(),\n                    y: props.y.get(),\n                    width: to(props.width, value => Math.max(value, 0)).get(),\n                    height: to(props.height, value => Math.max(value, 0)).get(),\n                    color: props.color.get(),\n                    onMouseEnter,\n                    onMouseMove: onMouseEnter,\n                    onMouseLeave,\n                    onClick,\n                })\n            )}\n        </animated.g>\n    )\n}\n","import { useMemo } from 'react'\nimport { useSpring, animated } from '@react-spring/web'\nimport { Axis } from '@nivo/axes'\n// @ts-ignore\nimport { getColorScale, useMotionConfig, useTheme } from '@nivo/core'\nimport { BasicTooltip, useTooltip } from '@nivo/tooltip'\nimport { stackValues } from './compute'\nimport { BulletMarkers } from './BulletMarkers'\nimport { BulletRects } from './BulletRects'\nimport { BulletItemProps } from './types'\n\nexport const BulletItem = ({\n    id,\n\n    scale,\n    layout,\n    reverse,\n    axisPosition,\n    x,\n    y,\n    width,\n    height,\n\n    title = id,\n    titlePosition,\n    titleAlign,\n    titleOffsetX,\n    titleOffsetY,\n    titleRotation,\n\n    rangeComponent,\n    rangeColors,\n    ranges,\n\n    measureComponent,\n    measureHeight,\n    measureColors,\n    measures,\n\n    markerComponent,\n    markerColors,\n    markerHeight,\n    markers = [],\n\n    onRangeClick,\n    onMeasureClick,\n    onMarkerClick,\n}: BulletItemProps) => {\n    const theme = useTheme()\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const computedRanges = useMemo(() => {\n        const rangeColorScale = getColorScale(rangeColors, scale, true)\n\n        return stackValues(ranges, scale, rangeColorScale, 'range')\n    }, [rangeColors, ranges, scale])\n\n    const computedMeasures = useMemo(() => {\n        const measureColorScale = getColorScale(measureColors, scale)\n\n        return stackValues(measures, scale, measureColorScale, 'measures')\n    }, [measureColors, measures, scale])\n\n    const computedMarkers = useMemo(() => {\n        const markerColorScale = getColorScale(markerColors, scale)\n\n        return markers.map((marker: number, index: number) => ({\n            value: marker,\n            index,\n            color: markerColorScale(\n                markerColorScale.type === 'sequential' ? marker : index\n            ) as string,\n        }))\n    }, [markerColors, markers, scale])\n\n    const rangeNodes = (\n        <BulletRects\n            data={computedRanges}\n            scale={scale}\n            layout={layout}\n            reverse={reverse}\n            x={0}\n            y={0}\n            width={width}\n            height={height}\n            component={rangeComponent}\n            onMouseEnter={(range, event) => {\n                showTooltipFromEvent(\n                    <BasicTooltip\n                        id={\n                            <span>\n                                <strong>{range.v0}</strong> to <strong>{range.v1}</strong>\n                            </span>\n                        }\n                        enableChip={true}\n                        color={range.color}\n                    />,\n                    event\n                )\n            }}\n            onMouseLeave={hideTooltip}\n            onClick={(range, event) => {\n                onRangeClick?.({ id, ...range }, event)\n            }}\n        />\n    )\n\n    const markerNodes = (\n        <BulletMarkers\n            markers={computedMarkers}\n            scale={scale}\n            layout={layout}\n            reverse={reverse}\n            height={height}\n            markerSize={markerHeight}\n            component={markerComponent}\n            onMouseEnter={(marker, event) => {\n                showTooltipFromEvent(\n                    <BasicTooltip\n                        id={<strong>{marker.value}</strong>}\n                        enableChip={true}\n                        color={marker.color}\n                    />,\n                    event\n                )\n            }}\n            onMouseLeave={hideTooltip}\n            onClick={(marker, event) => {\n                onMarkerClick?.({ id, ...marker }, event)\n            }}\n        />\n    )\n\n    const axisX = layout === 'vertical' && axisPosition === 'after' ? height : 0\n    const axisY = layout === 'horizontal' && axisPosition === 'after' ? height : 0\n\n    const axis = (\n        <g transform={`translate(${axisX},${axisY})`}>\n            <Axis\n                axis={layout === 'horizontal' ? 'x' : 'y'}\n                length={layout === 'horizontal' ? width : height}\n                scale={scale}\n                ticksPosition={axisPosition}\n            />\n        </g>\n    )\n\n    const titleX =\n        layout === 'horizontal'\n            ? titlePosition === 'before'\n                ? titleOffsetX\n                : width + titleOffsetX\n            : height / 2 + titleOffsetX\n    const titleY =\n        layout === 'horizontal'\n            ? height / 2 + titleOffsetY\n            : titlePosition === 'before'\n            ? titleOffsetY\n            : width + titleOffsetY\n\n    const titleNode = (\n        <g transform={`translate(${titleX},${titleY}) rotate(${titleRotation})`}>\n            {typeof title === 'string' ? (\n                <text\n                    style={{\n                        ...theme?.labels?.text,\n                        dominantBaseline: 'central',\n                        textAnchor: titleAlign,\n                    }}\n                >\n                    {title}\n                </text>\n            ) : (\n                title\n            )}\n        </g>\n    )\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        measuresY: (height - measureHeight) / 2,\n        transform: `translate(${x},${y})`,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.g transform={animatedProps.transform}>\n            {rangeNodes}\n            <BulletRects\n                animatedProps={animatedProps}\n                data={computedMeasures}\n                scale={scale}\n                layout={layout}\n                reverse={reverse}\n                x={0}\n                y={0}\n                width={width}\n                height={measureHeight}\n                component={measureComponent}\n                onMouseEnter={(measure, event) => {\n                    showTooltipFromEvent(\n                        <BasicTooltip\n                            id={<strong>{measure.v1}</strong>}\n                            enableChip={true}\n                            color={measure.color}\n                        />,\n                        event\n                    )\n                }}\n                onMouseLeave={hideTooltip}\n                onClick={(measure, event) => {\n                    onMeasureClick?.({ id, ...measure }, event)\n                }}\n            />\n            {axis}\n            {markerNodes}\n            {titleNode}\n        </animated.g>\n    )\n}\n","import { Container, SvgWrapper, useDimensions } from '@nivo/core'\nimport { defaultProps } from './props'\nimport { BulletSvgProps } from './types'\nimport { BulletItem } from './BulletItem'\nimport { useEnhancedData } from './hooks'\n\nexport const Bullet = (props: BulletSvgProps) => {\n    const {\n        data,\n\n        layout,\n        spacing,\n        measureSize,\n        markerSize,\n        reverse,\n        axisPosition,\n\n        minValue,\n        maxValue,\n\n        margin: partialMargin,\n        width,\n        height,\n\n        titlePosition,\n        titleAlign,\n        titleOffsetX,\n        titleOffsetY,\n        titleRotation,\n\n        rangeComponent,\n        rangeColors,\n\n        measureComponent,\n        measureColors,\n\n        markerComponent,\n        markerColors,\n\n        theme,\n\n        animate,\n        motionConfig,\n\n        isInteractive,\n        onRangeClick,\n        onMeasureClick,\n        onMarkerClick,\n\n        role,\n    } = { ...defaultProps, ...props }\n\n    const { margin, innerWidth, innerHeight } = useDimensions(width, height, partialMargin)\n\n    const itemHeight =\n        layout === 'horizontal'\n            ? (innerHeight - spacing * (data.length - 1)) / data.length\n            : (innerWidth - spacing * (data.length - 1)) / data.length\n\n    const measureHeight = itemHeight * measureSize\n    const markerHeight = itemHeight * markerSize\n\n    const enhancedData = useEnhancedData(data, {\n        height: innerHeight,\n        layout,\n        maxValue: maxValue === 'auto' ? undefined : maxValue,\n        minValue: minValue === 'auto' ? undefined : minValue,\n        reverse,\n        width: innerWidth,\n    })\n\n    return (\n        <Container\n            isInteractive={isInteractive}\n            theme={theme}\n            animate={animate}\n            motionConfig={motionConfig}\n        >\n            <SvgWrapper width={width} height={height} margin={margin} role={role}>\n                {enhancedData.map((d, i) => (\n                    <BulletItem\n                        key={d.id}\n                        {...d}\n                        layout={layout}\n                        reverse={reverse}\n                        x={layout === 'vertical' ? itemHeight * i + spacing * i : 0}\n                        y={layout === 'horizontal' ? itemHeight * i + spacing * i : 0}\n                        width={innerWidth}\n                        height={itemHeight}\n                        titlePosition={titlePosition}\n                        titleAlign={titleAlign}\n                        titleOffsetX={titleOffsetX}\n                        titleOffsetY={titleOffsetY}\n                        titleRotation={titleRotation}\n                        measureHeight={measureHeight}\n                        markerHeight={markerHeight}\n                        rangeComponent={rangeComponent}\n                        rangeColors={rangeColors}\n                        measureComponent={measureComponent}\n                        measureColors={measureColors}\n                        markerComponent={markerComponent}\n                        markerColors={markerColors}\n                        axisPosition={axisPosition}\n                        onRangeClick={onRangeClick}\n                        onMeasureClick={onMeasureClick}\n                        onMarkerClick={onMarkerClick}\n                    />\n                ))}\n            </SvgWrapper>\n        </Container>\n    )\n}\n","import { createLinearScale } from '@nivo/scales'\nimport { useMemo } from 'react'\nimport { Datum, CommonBulletProps } from './types'\n\nexport const useEnhancedData = (\n    data: Datum[],\n    {\n        layout,\n        maxValue,\n        minValue,\n        reverse,\n        height,\n        width,\n    }: Pick<CommonBulletProps, 'layout' | 'reverse' | 'height' | 'width'> &\n        Record<'maxValue' | 'minValue', number | undefined>\n) => {\n    return useMemo(\n        () =>\n            data.map(d => {\n                const all = [...d.ranges, ...d.measures, ...(d.markers ?? [])]\n                const max = maxValue ?? Math.max(...all)\n                const min = minValue ?? Math.min(...all)\n\n                const scale = createLinearScale(\n                    { clamp: true, min, max, type: 'linear' },\n                    { all, max, min },\n                    layout === 'horizontal' ? width : height,\n                    layout === 'horizontal' ? (reverse ? 'y' : 'x') : reverse ? 'x' : 'y'\n                )\n\n                return {\n                    ...d,\n                    scale,\n                }\n            }),\n        [data, height, layout, maxValue, minValue, reverse, width]\n    )\n}\n","import { ResponsiveWrapper, Dimensions } from '@nivo/core'\nimport { BulletSvgProps } from './types'\nimport { Bullet } from './Bullet'\n\nexport const ResponsiveBullet = (props: Omit<BulletSvgProps, 'height' | 'width'>) => (\n    <ResponsiveWrapper>\n        {({ width, height }: Dimensions) => <Bullet width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n"],"sourceRoot":""}