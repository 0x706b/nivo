(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[9236],{41584:function(t,e){"use strict";var n=Math.PI,r=2*n,o=1e-6,i=r-o;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new a}a.prototype=s.prototype={constructor:a,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,o,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(t,e,r,i,a){t=+t,e=+e,r=+r,i=+i,a=+a;var s=this._x1,l=this._y1,u=r-t,c=i-e,d=s-t,p=l-e,h=d*d+p*p;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>o)if(Math.abs(p*u-c*d)>o&&a){var f=r-s,y=i-l,v=u*u+c*c,g=f*f+y*y,x=Math.sqrt(v),b=Math.sqrt(h),m=a*Math.tan((n-Math.acos((v+h-g)/(2*x*b)))/2),S=m/b,k=m/x;Math.abs(S-1)>o&&(this._+="L"+(t+S*d)+","+(e+S*p)),this._+="A"+a+","+a+",0,0,"+ +(p*f>d*y)+","+(this._x1=t+k*u)+","+(this._y1=e+k*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,a,s,l,u){t=+t,e=+e,u=!!u;var c=(a=+a)*Math.cos(s),d=a*Math.sin(s),p=t+c,h=e+d,f=1^u,y=u?s-l:l-s;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+p+","+h:(Math.abs(this._x1-p)>o||Math.abs(this._y1-h)>o)&&(this._+="L"+p+","+h),a&&(y<0&&(y=y%r+r),y>i?this._+="A"+a+","+a+",0,1,"+f+","+(t-c)+","+(e-d)+"A"+a+","+a+",0,1,"+f+","+(this._x1=p)+","+(this._y1=h):y>o&&(this._+="A"+a+","+a+",0,"+ +(y>=n)+","+f+","+(this._x1=t+a*Math.cos(l))+","+(this._y1=e+a*Math.sin(l))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},e.Z=s},94942:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var r=n(41584),o=n(3583),i=n(30964),a=n(18091),s=n(92519);function l(){var t=s.x,e=null,n=(0,o.Z)(0),l=s.y,u=(0,o.Z)(!0),c=null,d=i.Z,p=null;function h(o){var i,a,s,h,f,y=o.length,v=!1,g=new Array(y),x=new Array(y);for(null==c&&(p=d(f=(0,r.Z)())),i=0;i<=y;++i){if(!(i<y&&u(h=o[i],i,o))===v)if(v=!v)a=i,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),s=i-1;s>=a;--s)p.point(g[s],x[s]);p.lineEnd(),p.areaEnd()}v&&(g[i]=+t(h,i,o),x[i]=+n(h,i,o),p.point(e?+e(h,i,o):g[i],l?+l(h,i,o):x[i]))}if(f)return p=null,f+""||null}function f(){return(0,a.Z)().defined(u).curve(d).context(c)}return h.x=function(n){return arguments.length?(t="function"==typeof n?n:(0,o.Z)(+n),e=null,h):t},h.x0=function(e){return arguments.length?(t="function"==typeof e?e:(0,o.Z)(+e),h):t},h.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:(0,o.Z)(+t),h):e},h.y=function(t){return arguments.length?(n="function"==typeof t?t:(0,o.Z)(+t),l=null,h):n},h.y0=function(t){return arguments.length?(n="function"==typeof t?t:(0,o.Z)(+t),h):n},h.y1=function(t){return arguments.length?(l=null==t?null:"function"==typeof t?t:(0,o.Z)(+t),h):l},h.lineX0=h.lineY0=function(){return f().x(t).y(n)},h.lineY1=function(){return f().x(t).y(l)},h.lineX1=function(){return f().x(e).y(n)},h.defined=function(t){return arguments.length?(u="function"==typeof t?t:(0,o.Z)(!!t),h):u},h.curve=function(t){return arguments.length?(d=t,null!=c&&(p=d(c)),h):d},h.context=function(t){return arguments.length?(null==t?c=p=null:p=d(c=t),h):c},h}},3583:function(t,e,n){"use strict";function r(t){return function(){return t}}n.d(e,{Z:function(){return r}})},18091:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(41584),o=n(3583),i=n(30964),a=n(92519);function s(){var t=a.x,e=a.y,n=(0,o.Z)(!0),s=null,l=i.Z,u=null;function c(o){var i,a,c,d=o.length,p=!1;for(null==s&&(u=l(c=(0,r.Z)())),i=0;i<=d;++i)!(i<d&&n(a=o[i],i,o))===p&&((p=!p)?u.lineStart():u.lineEnd()),p&&u.point(+t(a,i,o),+e(a,i,o));if(c)return u=null,c+""||null}return c.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,o.Z)(+e),c):t},c.y=function(t){return arguments.length?(e="function"==typeof t?t:(0,o.Z)(+t),c):e},c.defined=function(t){return arguments.length?(n="function"==typeof t?t:(0,o.Z)(!!t),c):n},c.curve=function(t){return arguments.length?(l=t,null!=s&&(u=l(s)),c):l},c.context=function(t){return arguments.length?(null==t?s=u=null:u=l(s=t),c):s},c}},92519:function(t,e,n){"use strict";function r(t){return t[0]}function o(t){return t[1]}n.d(e,{x:function(){return r},y:function(){return o}})},48176:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return M}});n(27378);var r=n(48159),o=n.n(r),i=n(15409),a=n.n(i),s=n(27570),l=n(69857),u=n(40499),c=n(62370),d=(0,c.h8)({valueFormat:c.Ld}),p=n(80169),h=[{key:"data",group:"Base",type:"Datum[]",required:!0,help:"Chart data.",flavors:["svg"],description:"\n            Chart data, which must conform to this structure:\n\n            ```\n            {\n                id:    string | number\n                label: string\n                value: number\n            }[]\n            ```\n            \n            Datum is a generic and can be overriden, this can be useful\n            to attach a color to each datum for example, and then use\n            this for the `colors` property.            \n        "},{key:"margin",group:"Base",type:"object",required:!1,help:"Chart margin.",flavors:["svg"],controlType:"margin"},{key:"direction",group:"Base",help:"Direction of the chart.",type:"string",required:!1,defaultValue:s.XB.direction,flavors:["svg"],controlType:"radio",controlOptions:{choices:[{label:"horizontal",value:"horizontal"},{label:"vertical",value:"vertical"}]}},{key:"interpolation",group:"Base",type:"string",required:!1,help:"Part shape interpolation.",defaultValue:s.XB.interpolation,flavors:["svg"],controlType:"radio",controlOptions:{choices:[{label:"smooth",value:"smooth"},{label:"linear",value:"linear"}]}},{key:"spacing",group:"Base",help:"Spacing between parts",type:"number",required:!1,defaultValue:s.XB.spacing,flavors:["svg"],controlType:"range",controlOptions:{min:0,max:30,unit:"px"}},{key:"shapeBlending",group:"Base",help:"Blend shapes.",type:"number",required:!1,defaultValue:s.XB.shapeBlending,flavors:["svg"],controlType:"range",controlOptions:{min:0,max:1,step:.01}},{key:"valueFormat",group:"Base",help:"\n            Value format supporting d3-format notation, this formatted value\n            will then be used for labels and tooltips.\n        ",type:"string | Function",required:!1,flavors:["svg"],controlType:"valueFormat"},(0,p.JR)(["svg"]),{key:"colors",group:"Style",help:"Defines how to compute parts color.",type:"string | Function | string[]",required:!1,defaultValue:s.XB.colors,flavors:["svg"],controlType:"ordinalColors"},{key:"fillOpacity",group:"Style",help:"Part background opacity.",required:!1,defaultValue:s.XB.fillOpacity,type:"number",flavors:["svg"],controlType:"opacity"},{key:"borderWidth",group:"Style",help:"Width of part border.",type:"number",required:!1,defaultValue:s.XB.borderWidth,flavors:["svg"],controlType:"lineWidth"},{key:"borderColor",group:"Style",help:"Method to compute border color.",description:"\n            how to compute border color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:s.XB.borderColor,flavors:["svg"],controlType:"inheritedColor"},{key:"borderOpacity",group:"Style",help:"Part border opacity.",required:!1,defaultValue:s.XB.borderOpacity,type:"number",flavors:["svg"],controlType:"opacity"},{key:"enableLabel",group:"Labels",help:"\n            Enable/disable labels. Use styles from\n            theme.labels.text.\n        ",type:"boolean",required:!1,defaultValue:s.XB.enableLabel,flavors:["svg"],controlType:"switch"},{key:"labelColor",group:"Labels",help:"Method to compute label color.",description:"\n            how to compute label color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:s.XB.labelColor,flavors:["svg"],controlType:"inheritedColor"},{key:"enableBeforeSeparators",group:"Separators",help:"\n            Enable/disable before separators.\n            Separators inherit styles from theme.grid.line.\n        ",type:"boolean",required:!1,defaultValue:s.XB.enableBeforeSeparators,flavors:["svg"],controlType:"switch"},{key:"beforeSeparatorLength",group:"Separators",help:"\n            Length of the before separator lines. You should add margin\n            for them to be visible if the value is greater than 0.\n        ",required:!1,defaultValue:s.XB.beforeSeparatorLength,type:"number",flavors:["svg"],controlType:"range",controlOptions:{unit:"px",min:0,max:100}},{key:"beforeSeparatorOffset",group:"Separators",help:"\n            Offset from the parts for the before separator lines.\n            You should add margin for them to be visible\n            if the value is greater than 0.\n        ",required:!1,defaultValue:s.XB.beforeSeparatorOffset,type:"number",flavors:["svg"],controlType:"range",controlOptions:{unit:"px",min:0,max:100}},{key:"enableAfterSeparators",group:"Separators",help:"\n            Enable/disable after separators.\n            Separators inherit styles from theme.grid.line.\n        ",type:"boolean",required:!1,defaultValue:s.XB.enableAfterSeparators,flavors:["svg"],controlType:"switch"},{key:"afterSeparatorLength",group:"Separators",help:"\n            Length of the after separator lines. You should add margin\n            for them to be visible if the value is greater than 0.\n        ",required:!1,defaultValue:s.XB.afterSeparatorLength,type:"number",flavors:["svg"],controlType:"range",controlOptions:{unit:"px",min:0,max:100}},{key:"afterSeparatorOffset",group:"Separators",help:"\n            Offset from the parts for the after separator lines.\n            You should add margin for them to be visible\n            if the value is greater than 0.\n        ",required:!1,defaultValue:s.XB.afterSeparatorOffset,type:"number",flavors:["svg"],controlType:"range",controlOptions:{unit:"px",min:0,max:100}},{key:"layers",group:"Customization",help:"Defines the order of layers and add custom layers.",description:"\n            You can also use this to insert extra layers\n            to the chart, the extra layer must be a function.\n            \n            The layer function which will receive the chart's\n            context & computed data and must return a valid SVG element.\n        ",required:!1,type:"Array<string | Function>",flavors:["svg"],defaultValue:s.XB.layers},{key:"isInteractive",group:"Interactivity",type:"boolean",help:"Enable/disable interactivity.",required:!1,defaultValue:s.XB.isInteractive,flavors:["svg"],controlType:"switch"},{key:"currentPartSizeExtension",group:"Interactivity",help:"\n            Expand part size by this amount of pixels on each side\n            when it's active \n        ",required:!1,defaultValue:s.XB.currentPartSizeExtension,type:"number",flavors:["svg"],controlType:"range",controlOptions:{unit:"px",min:0,max:100}},{key:"currentBorderWidth",group:"Interactivity",help:"Override default border width when a part is active.",required:!1,type:"number",flavors:["svg"],controlType:"range",controlOptions:{unit:"px",min:0,max:100}},{key:"onMouseEnter",group:"Interactivity",help:"onMouseEnter handler.",type:"(part, event) => void",required:!1,flavors:["svg"]},{key:"onMouseMove",group:"Interactivity",help:"onMouseMove handler.",type:"(part, event) => void",required:!1,flavors:["svg"]},{key:"onMouseLeave",group:"Interactivity",help:"onMouseLeave handler.",type:"(part, event) => void",required:!1,flavors:["svg"]},{key:"onClick",group:"Interactivity",help:"onClick handler.",type:"(part, event) => void",required:!1,flavors:["svg"]}].concat((0,p.$j)(["svg"],s.XB,"react-spring")),f=(0,p.R2)(h),y=n(34981),v=n.n(y),g=n(91311),x=n.n(g),b=function(){var t=1e5;return["sent","viewed","clicked","add_to_card","purchased"].map((function(e){return{id:"step_"+e,value:t=Math.round(t*x()(.6,.95)),label:v()(e)}}))},m=n(24246);function S(){return S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S.apply(this,arguments)}var k={margin:{top:20,right:20,bottom:20,left:20},direction:s.XB.direction,interpolation:s.XB.interpolation,shapeBlending:s.XB.shapeBlending,spacing:s.XB.spacing,valueFormat:{format:">-.4s",enabled:!0},colors:{scheme:"spectral"},fillOpacity:s.XB.fillOpacity,borderWidth:20,borderColor:s.XB.borderColor,borderOpacity:s.XB.borderOpacity,enableLabel:s.XB.enableLabel,labelColor:{from:"color",modifiers:[["darker",3]]},enableBeforeSeparators:s.XB.enableBeforeSeparators,beforeSeparatorLength:100,beforeSeparatorOffset:20,enableAfterSeparators:s.XB.enableAfterSeparators,afterSeparatorLength:100,afterSeparatorOffset:20,isInteractive:!0,currentPartSizeExtension:10,currentBorderWidth:40,animate:!0,motionConfig:"wobbly"},M=function(){return(0,m.jsx)(l.T,{name:"Funnel",meta:u.o,icon:"funnel",flavors:u.K,currentFlavor:"svg",properties:f,initialProperties:k,defaultProperties:s.XB,propertiesMapper:d,generateData:b,children:function(t,e,n,r){return(0,m.jsx)(s.mj,S({data:e},t,{theme:a()({},n,{labels:{text:{fontSize:14}}}),onClick:function(t){r({type:"click",label:"[part] id: "+t.data.id+", value: "+t.formattedValue,color:t.color,data:o()(t,["points","areaPoints","borderPoints"])})}}))}})}},54358:function(t,e,n){"use strict";n.d(e,{q6:function(){return B},dS:function(){return j},O2:function(){return S},zs:function(){return k}});var r=n(27378),o=n(48159),i=n.n(o),a=n(78581),s=n.n(a),l=n(69238),u=n.n(l),c=n(45434),d=n(58493),p=n(24246);function h(){return h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h.apply(this,arguments)}var f=4,y=120,v=8,g=function(t){return"circle"===t.type},x=function(t){return"dot"===t.type},b=function(t){return"rect"===t.type},m=function(t){var e,n,r=t.x,o=t.y,i=t.noteX,a=t.noteY,l=t.noteWidth,u=void 0===l?y:l,d=t.noteTextOffset,p=void 0===d?v:d;if(s()(i))e=r+i;else{if(void 0===i.abs)throw new Error("noteX should be either a number or an object containing an 'abs' property");e=i.abs}if(s()(a))n=o+a;else{if(void 0===a.abs)throw new Error("noteY should be either a number or an object containing an 'abs' property");n=a.abs}var h=r,f=o,x=function(t,e,n,r){var o=Math.atan2(r-e,n-t);return(0,c.bt)((0,c.vi)(o))}(r,o,e,n);if(g(t)){var m=(0,c.re)((0,c.Ht)(x),t.size/2);h+=m.x,f+=m.y}if(b(t)){var S=Math.round((x+90)/45)%8;0===S&&(f-=t.height/2),1===S&&(h+=t.width/2,f-=t.height/2),2===S&&(h+=t.width/2),3===S&&(h+=t.width/2,f+=t.height/2),4===S&&(f+=t.height/2),5===S&&(h-=t.width/2,f+=t.height/2),6===S&&(h-=t.width/2),7===S&&(h-=t.width/2,f-=t.height/2)}var k=e,M=e;return(x+90)%360>180?(k-=u,M-=u):M+=u,{points:[[h,f],[e,n],[M,n]],text:[k,n-p],angle:x+90}},S=function(t){var e=t.data,n=t.annotations,o=t.getPosition,a=t.getDimensions;return(0,r.useMemo)((function(){return function(t){var e=t.data,n=t.annotations,r=t.getPosition,o=t.getDimensions;return n.reduce((function(t,n){var a=n.offset||0;return[].concat(t,u()(e,n.match).map((function(t){var e=r(t),s=o(t);return(g(n)||b(n))&&(s.size=s.size+2*a,s.width=s.width+2*a,s.height=s.height+2*a),h({},i()(n,["match","offset"]),e,s,{size:n.size||s.size,datum:t})})))}),[])}({data:e,annotations:n,getPosition:o,getDimensions:a})}),[e,n,o,a])},k=function(t){var e=t.annotations;return(0,r.useMemo)((function(){return e.map((function(t){return h({},t,{computed:m(h({},t))})}))}),[e])},M=function(t){var e=t.datum,n=t.x,o=t.y,a=t.note,s=(0,c.Fg)(),l=(0,c.tf)(),u=l.animate,f=l.config,y=(0,d.useSpring)({x:n,y:o,config:f,immediate:!u});return"function"==typeof a?(0,r.createElement)(a,{x:n,y:o,datum:e}):(0,p.jsxs)(p.Fragment,{children:[s.annotations.text.outlineWidth>0&&(0,p.jsx)(d.q.text,{x:y.x,y:y.y,style:h({},s.annotations.text,{strokeLinejoin:"round",strokeWidth:2*s.annotations.text.outlineWidth,stroke:s.annotations.text.outlineColor}),children:a}),(0,p.jsx)(d.q.text,{x:y.x,y:y.y,style:i()(s.annotations.text,["outlineWidth","outlineColor"]),children:a})]})},w=function(t){var e=t.points,n=t.isOutline,o=void 0!==n&&n,i=(0,c.Fg)(),a=(0,r.useMemo)((function(){var t=e[0];return e.slice(1).reduce((function(t,e){return t+" L"+e[0]+","+e[1]}),"M"+t[0]+","+t[1])}),[e]),s=(0,c.NS)(a);if(o&&i.annotations.link.outlineWidth<=0)return null;var l=h({},i.annotations.link);return o&&(l.strokeLinecap="square",l.strokeWidth=i.annotations.link.strokeWidth+2*i.annotations.link.outlineWidth,l.stroke=i.annotations.link.outlineColor),(0,p.jsx)(d.q.path,{fill:"none",d:s,style:l})},C=function(t){var e=t.x,n=t.y,r=t.size,o=(0,c.Fg)(),i=(0,c.tf)(),a=i.animate,s=i.config,l=(0,d.useSpring)({x:e,y:n,radius:r/2,config:s,immediate:!a});return(0,p.jsxs)(p.Fragment,{children:[o.annotations.outline.outlineWidth>0&&(0,p.jsx)(d.q.circle,{cx:l.x,cy:l.y,r:l.radius,style:h({},o.annotations.outline,{fill:"none",strokeWidth:o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor})}),(0,p.jsx)(d.q.circle,{cx:l.x,cy:l.y,r:l.radius,style:o.annotations.outline})]})},O=function(t){var e=t.x,n=t.y,r=t.size,o=void 0===r?f:r,i=(0,c.Fg)(),a=(0,c.tf)(),s=a.animate,l=a.config,u=(0,d.useSpring)({x:e,y:n,radius:o/2,config:l,immediate:!s});return(0,p.jsxs)(p.Fragment,{children:[i.annotations.outline.outlineWidth>0&&(0,p.jsx)(d.q.circle,{cx:u.x,cy:u.y,r:u.radius,style:h({},i.annotations.outline,{fill:"none",strokeWidth:2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor})}),(0,p.jsx)(d.q.circle,{cx:u.x,cy:u.y,r:u.radius,style:i.annotations.symbol})]})},P=function(t){var e=t.x,n=t.y,r=t.width,o=t.height,i=(0,c.Fg)(),a=(0,c.tf)(),s=a.animate,l=a.config,u=(0,d.useSpring)({x:e-r/2,y:n-o/2,width:r,height:o,config:l,immediate:!s});return(0,p.jsxs)(p.Fragment,{children:[i.annotations.outline.outlineWidth>0&&(0,p.jsx)(d.q.rect,{x:u.x,y:u.y,width:u.width,height:u.height,style:h({},i.annotations.outline,{fill:"none",strokeWidth:i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor})}),(0,p.jsx)(d.q.rect,{x:u.x,y:u.y,width:u.width,height:u.height,style:i.annotations.outline})]})},B=function(t){var e=t.datum,n=t.x,o=t.y,i=t.note,a=function(t){return(0,r.useMemo)((function(){return m(t)}),[t])}(t);if(!function(t){var e=typeof t;return(0,r.isValidElement)(t)||"string"===e||"function"===e||"object"===e}(i))throw new Error("note should be a valid react element");return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(w,{points:a.points,isOutline:!0}),g(t)&&(0,p.jsx)(C,{x:n,y:o,size:t.size}),x(t)&&(0,p.jsx)(O,{x:n,y:o,size:t.size}),b(t)&&(0,p.jsx)(P,{x:n,y:o,width:t.width,height:t.height}),(0,p.jsx)(w,{points:a.points}),(0,p.jsx)(M,{datum:e,x:a.text[0],y:a.text[1],note:i})]})},W=function(t,e){e.forEach((function(e,n){var r=e[0],o=e[1];0===n?t.moveTo(r,o):t.lineTo(r,o)}))},j=function(t,e){var n=e.annotations,r=e.theme;0!==n.length&&(t.save(),n.forEach((function(e){if(!function(t){var e=typeof t;return"string"===e||"function"===e}(e.note))throw new Error("note is invalid for canvas implementation");r.annotations.link.outlineWidth>0&&(t.lineCap="square",t.strokeStyle=r.annotations.link.outlineColor,t.lineWidth=r.annotations.link.strokeWidth+2*r.annotations.link.outlineWidth,t.beginPath(),W(t,e.computed.points),t.stroke(),t.lineCap="butt"),g(e)&&r.annotations.outline.outlineWidth>0&&(t.strokeStyle=r.annotations.outline.outlineColor,t.lineWidth=r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,t.beginPath(),t.arc(e.x,e.y,e.size/2,0,2*Math.PI),t.stroke()),x(e)&&r.annotations.symbol.outlineWidth>0&&(t.strokeStyle=r.annotations.symbol.outlineColor,t.lineWidth=2*r.annotations.symbol.outlineWidth,t.beginPath(),t.arc(e.x,e.y,e.size/2,0,2*Math.PI),t.stroke()),b(e)&&r.annotations.outline.outlineWidth>0&&(t.strokeStyle=r.annotations.outline.outlineColor,t.lineWidth=r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,t.beginPath(),t.rect(e.x-e.width/2,e.y-e.height/2,e.width,e.height),t.stroke()),t.strokeStyle=r.annotations.link.stroke,t.lineWidth=r.annotations.link.strokeWidth,t.beginPath(),W(t,e.computed.points),t.stroke(),g(e)&&(t.strokeStyle=r.annotations.outline.stroke,t.lineWidth=r.annotations.outline.strokeWidth,t.beginPath(),t.arc(e.x,e.y,e.size/2,0,2*Math.PI),t.stroke()),x(e)&&(t.fillStyle=r.annotations.symbol.fill,t.beginPath(),t.arc(e.x,e.y,e.size/2,0,2*Math.PI),t.fill()),b(e)&&(t.strokeStyle=r.annotations.outline.stroke,t.lineWidth=r.annotations.outline.strokeWidth,t.beginPath(),t.rect(e.x-e.width/2,e.y-e.height/2,e.width,e.height),t.stroke()),"function"==typeof e.note?e.note(t,{datum:e.datum,x:e.computed.text[0],y:e.computed.text[1],theme:r}):(t.font=r.annotations.text.fontSize+"px "+r.annotations.text.fontFamily,t.fillStyle=r.annotations.text.fill,t.strokeStyle=r.annotations.text.outlineColor,t.lineWidth=2*r.annotations.text.outlineWidth,r.annotations.text.outlineWidth>0&&(t.lineJoin="round",t.strokeText(e.note,e.computed.text[0],e.computed.text[1]),t.lineJoin="miter"),t.fillText(e.note,e.computed.text[0],e.computed.text[1]))})),t.restore())}},27570:function(t,e,n){"use strict";n.d(e,{oe:function(){return W},mj:function(){return j},XB:function(){return v}});var r=n(27378),o=n(45434),i=n(94942),a=n(1520),s=n(30964),l=n(18091),u=n(9841),c=n(79234),d=n(54358),p=n(89193),h=n(24246),f=n(58493);function y(){return y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y.apply(this,arguments)}var v={layers:["separators","parts","labels","annotations"],direction:"vertical",interpolation:"smooth",spacing:0,shapeBlending:.66,colors:{scheme:"nivo"},fillOpacity:1,borderWidth:6,borderColor:{from:"color"},borderOpacity:.66,enableLabel:!0,labelColor:{theme:"background"},enableBeforeSeparators:!0,beforeSeparatorLength:0,beforeSeparatorOffset:0,enableAfterSeparators:!0,afterSeparatorLength:0,afterSeparatorOffset:0,annotations:[],isInteractive:!0,currentPartSizeExtension:0,role:"img",animate:o.FJ.defaultProps.animate,motionConfig:o.FJ.defaultProps.config},g=function(t){var e=t.part;return(0,h.jsx)(p._5,{id:e.data.label,value:e.formattedValue,color:e.color,enableChip:!0})},x=function(t){var e=t.parts,n=t.setCurrentPartId,o=t.isInteractive,i=t.onMouseEnter,a=t.onMouseLeave,s=t.onMouseMove,l=t.onClick,u=t.showTooltipFromEvent,c=t.hideTooltip;return o?e.map((function(t){return y({},t,{onMouseEnter:function(e){n(t.data.id),u((0,r.createElement)(g,{part:t}),e),void 0!==i&&i(t,e)},onMouseLeave:function(e){n(null),c(),void 0!==a&&a(t,e)},onMouseMove:function(e){u((0,r.createElement)(g,{part:t}),e),void 0!==s&&s(t,e)},onClick:void 0!==l?function(e){l(t,e)}:void 0})})):e},b=function(t){var e,n,d=t.data,h=t.width,f=t.height,g=t.direction,b=void 0===g?v.direction:g,m=t.interpolation,S=void 0===m?v.interpolation:m,k=t.spacing,M=void 0===k?v.spacing:k,w=t.shapeBlending,C=void 0===w?v.shapeBlending:w,O=t.valueFormat,P=t.colors,B=void 0===P?v.colors:P,W=t.fillOpacity,j=void 0===W?v.fillOpacity:W,_=t.borderWidth,L=void 0===_?v.borderWidth:_,q=t.borderColor,E=void 0===q?v.borderColor:q,I=t.borderOpacity,F=void 0===I?v.borderOpacity:I,T=t.labelColor,X=void 0===T?v.labelColor:T,z=t.enableBeforeSeparators,Z=void 0===z?v.enableBeforeSeparators:z,V=t.beforeSeparatorLength,A=void 0===V?v.beforeSeparatorLength:V,G=t.beforeSeparatorOffset,D=void 0===G?v.beforeSeparatorOffset:G,Y=t.enableAfterSeparators,J=void 0===Y?v.enableAfterSeparators:Y,H=t.afterSeparatorLength,N=void 0===H?v.afterSeparatorLength:H,R=t.afterSeparatorOffset,U=void 0===R?v.afterSeparatorOffset:R,K=t.isInteractive,Q=void 0===K?v.isInteractive:K,$=t.currentPartSizeExtension,tt=void 0===$?v.currentPartSizeExtension:$,et=t.currentBorderWidth,nt=t.onMouseEnter,rt=t.onMouseMove,ot=t.onMouseLeave,it=t.onClick,at=(0,o.Fg)(),st=(0,c.U)(B,"id"),lt=(0,c.Bf)(E,at),ut=(0,c.Bf)(X,at),ct=(0,o.O_)(O),dt=(0,r.useMemo)((function(){return function(t,e){var n=(0,i.Z)();return"vertical"===e?n.curve("smooth"===t?a.ZP:s.Z).x0((function(t){return t.x0})).x1((function(t){return t.x1})).y((function(t){return t.y})):n.curve("smooth"===t?a.ZP:s.Z).y0((function(t){return t.y0})).y1((function(t){return t.y1})).x((function(t){return t.x})),[n,(0,l.Z)().defined((function(t){return null!==t})).x((function(t){return t.x})).y((function(t){return t.y})).curve("smooth"===t?a.ZP:s.Z)]}(S,b)}),[S,b]),pt=dt[0],ht=dt[1],ft=Z?A+D:0,yt=J?N+U:0;"vertical"===b?(e=h-ft-yt,n=f):(e=h,n=f-ft-yt);var vt=(0,r.useMemo)((function(){return function(t){var e,n,r=t.data,o=t.direction,i=t.width,a=t.height,s=t.spacing;"vertical"===o?(e=a,n=i):(e=i,n=a);var l=(e-s*(r.length-1))/r.length,c=function(t){return s*t+l*t};c.bandwidth=l;var d=r.map((function(t){return t.value}));return[c,(0,u.Z)().domain([0,Math.max.apply(Math,d)]).range([0,n])]}({data:d,direction:b,width:e,height:n,spacing:M})}),[d,b,e,n,M]),gt=vt[0],xt=vt[1],bt=(0,r.useState)(null),mt=bt[0],St=bt[1],kt=(0,r.useMemo)((function(){var t=d.map((function(t,r){var o,i,a,s,l=t.id===mt;"vertical"===b?(o=xt(t.value),i=gt.bandwidth,s=ft+.5*(e-o),a=gt(r)):(o=gt.bandwidth,i=xt(t.value),s=gt(r),a=ft+.5*(n-i));var u=s+o,c=s+.5*o,d=a+i,p=a+.5*i,h={data:t,width:o,height:i,color:st(t),fillOpacity:j,borderWidth:l&&void 0!==et?et:L,borderOpacity:F,formattedValue:ct(t.value),isCurrent:l,x:c,x0:s,x1:u,y:p,y0:a,y1:d,borderColor:"",labelColor:"",points:[],areaPoints:[],borderPoints:[]};return h.borderColor=lt(h),h.labelColor=ut(h),h})),r=C/2;return t.forEach((function(e,n){var o=t[n+1];if("vertical"===b){e.points.push({x:e.x0,y:e.y0}),e.points.push({x:e.x1,y:e.y0}),o?(e.points.push({x:o.x1,y:e.y1}),e.points.push({x:o.x0,y:e.y1})):(e.points.push({x:e.points[1].x,y:e.y1}),e.points.push({x:e.points[0].x,y:e.y1})),e.isCurrent&&(e.points[0].x-=tt,e.points[1].x+=tt,e.points[2].x+=tt,e.points[3].x-=tt),e.areaPoints=[{x:0,x0:e.points[0].x,x1:e.points[1].x,y:e.y0,y0:0,y1:0}],e.areaPoints.push(y({},e.areaPoints[0],{y:e.y0+e.height*r}));var i={x:0,x0:e.points[3].x,x1:e.points[2].x,y:e.y1,y0:0,y1:0};e.areaPoints.push(y({},i,{y:e.y1-e.height*r})),e.areaPoints.push(i),[0,1,2,3].map((function(t){e.borderPoints.push({x:e.areaPoints[t].x0,y:e.areaPoints[t].y})})),e.borderPoints.push(null),[3,2,1,0].map((function(t){e.borderPoints.push({x:e.areaPoints[t].x1,y:e.areaPoints[t].y})}))}else{e.points.push({x:e.x0,y:e.y0}),o?(e.points.push({x:e.x1,y:o.y0}),e.points.push({x:e.x1,y:o.y1})):(e.points.push({x:e.x1,y:e.y0}),e.points.push({x:e.x1,y:e.y1})),e.points.push({x:e.x0,y:e.y1}),e.isCurrent&&(e.points[0].y-=tt,e.points[1].y-=tt,e.points[2].y+=tt,e.points[3].y+=tt),e.areaPoints=[{x:e.x0,x0:0,x1:0,y:0,y0:e.points[0].y,y1:e.points[3].y}],e.areaPoints.push(y({},e.areaPoints[0],{x:e.x0+e.width*r}));var a={x:e.x1,x0:0,x1:0,y:0,y0:e.points[1].y,y1:e.points[2].y};e.areaPoints.push(y({},a,{x:e.x1-e.width*r})),e.areaPoints.push(a),[0,1,2,3].map((function(t){e.borderPoints.push({x:e.areaPoints[t].x,y:e.areaPoints[t].y0})})),e.borderPoints.push(null),[3,2,1,0].map((function(t){e.borderPoints.push({x:e.areaPoints[t].x,y:e.areaPoints[t].y1})}))}})),t}),[d,b,xt,gt,e,n,ft,yt,C,st,ct,lt,ut,mt]),Mt=(0,p.lL)(),wt=Mt.showTooltipFromEvent,Ct=Mt.hideTooltip,Ot=(0,r.useMemo)((function(){return x({parts:kt,setCurrentPartId:St,isInteractive:Q,onMouseEnter:nt,onMouseLeave:ot,onMouseMove:rt,onClick:it,showTooltipFromEvent:wt,hideTooltip:Ct})}),[kt,St,Q,nt,ot,rt,it,wt,Ct]),Pt=(0,r.useMemo)((function(){return function(t){var e=t.parts,n=t.direction,r=t.width,o=t.height,i=t.spacing,a=t.enableBeforeSeparators,s=t.beforeSeparatorOffset,l=t.enableAfterSeparators,u=t.afterSeparatorOffset,c=[],d=[],p=e[e.length-1];if("vertical"===n){e.forEach((function(t){var e=t.y0-i/2;a&&c.push({partId:t.data.id,x0:0,x1:t.x0-s,y0:e,y1:e}),l&&d.push({partId:t.data.id,x0:t.x1+u,x1:r,y0:e,y1:e})}));var h=p.y1;a&&c.push(y({},c[c.length-1],{partId:"none",y0:h,y1:h})),l&&d.push(y({},d[d.length-1],{partId:"none",y0:h,y1:h}))}else if("horizontal"===n){e.forEach((function(t){var e=t.x0-i/2;c.push({partId:t.data.id,x0:e,x1:e,y0:0,y1:t.y0-s}),d.push({partId:t.data.id,x0:e,x1:e,y0:t.y1+u,y1:o})}));var f=p.x1;c.push(y({},c[c.length-1],{partId:"none",x0:f,x1:f})),d.push(y({},d[d.length-1],{partId:"none",x0:f,x1:f}))}return[c,d]}({parts:kt,direction:b,width:h,height:f,spacing:M,enableBeforeSeparators:Z,beforeSeparatorOffset:D,enableAfterSeparators:J,afterSeparatorOffset:U})}),[kt,b,h,f,M,Z,D,J,U]),Bt=Pt[0],Wt=Pt[1],jt=(0,r.useMemo)((function(){return{width:h,height:f,parts:Ot,areaGenerator:pt,borderGenerator:ht,beforeSeparators:Bt,afterSeparators:Wt,setCurrentPartId:St}}),[h,f,Ot,pt,ht,Bt,Wt,St]);return{parts:Ot,areaGenerator:pt,borderGenerator:ht,beforeSeparators:Bt,afterSeparators:Wt,setCurrentPartId:St,currentPartId:mt,customLayerProps:jt}},m=function(t){var e=t.part,n=t.areaGenerator,r=t.borderGenerator,i=(0,o.tf)(),a=i.animate,s=i.config,l=(0,o.NS)(n(e.areaPoints)),u=(0,o.NS)(r(e.borderPoints)),c=(0,f.useSpring)({areaColor:e.color,borderWidth:e.borderWidth,borderColor:e.borderColor,config:s,immediate:!a});return(0,h.jsxs)(h.Fragment,{children:[e.borderWidth>0&&(0,h.jsx)(f.q.path,{d:u,stroke:c.borderColor,strokeWidth:c.borderWidth,strokeOpacity:e.borderOpacity,fill:"none"}),(0,h.jsx)(f.q.path,{d:l,fill:c.areaColor,fillOpacity:e.fillOpacity,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseMove:e.onMouseMove,onClick:e.onClick})]})},S=function(t){var e=t.parts,n=t.areaGenerator,r=t.borderGenerator;return(0,h.jsx)(h.Fragment,{children:e.map((function(t){return(0,h.jsx)(m,{part:t,areaGenerator:n,borderGenerator:r},t.data.id)}))})},k=function(t){var e=t.part,n=(0,o.Fg)(),r=(0,o.tf)(),i=r.animate,a=r.config,s=(0,f.useSpring)({transform:"translate("+e.x+", "+e.y+")",color:e.labelColor,config:a,immediate:!i});return(0,h.jsx)(f.q.g,{transform:s.transform,children:(0,h.jsx)(f.q.text,{textAnchor:"middle",dominantBaseline:"central",style:y({},n.labels.text,{fill:s.color,pointerEvents:"none"}),children:e.formattedValue})})},M=function(t){var e=t.parts;return(0,h.jsx)(h.Fragment,{children:e.map((function(t){return(0,h.jsx)(k,{part:t},t.data.id)}))})},w=function(t){var e=t.separator,n=(0,o.Fg)(),r=(0,o.tf)(),i=r.animate,a=r.config,s=(0,f.useSpring)({x1:e.x0,x2:e.x1,y1:e.y0,y2:e.y1,config:a,immediate:!i});return(0,h.jsx)(f.q.line,y({x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2,fill:"none"},n.grid.line))},C=function(t){var e=t.beforeSeparators,n=t.afterSeparators;return(0,h.jsxs)(h.Fragment,{children:[e.map((function(t){return(0,h.jsx)(w,{separator:t},t.partId)})),n.map((function(t){return(0,h.jsx)(w,{separator:t},t.partId)}))]})},O=function(t){var e=function(t,e){return(0,d.O2)({data:t,annotations:e,getPosition:function(t){return{x:t.x,y:t.y}},getDimensions:function(t){var e=t.width,n=t.height;return{size:Math.max(e,n),width:e,height:n}}})}(t.parts,t.annotations);return(0,h.jsx)(h.Fragment,{children:e.map((function(t,e){return(0,h.jsx)(d.q6,y({},t),e)}))})},P=["isInteractive","animate","motionConfig","theme","renderWrapper"],B=function(t){var e=t.data,n=t.width,i=t.height,a=t.margin,s=t.direction,l=void 0===s?v.direction:s,u=t.interpolation,c=void 0===u?v.interpolation:u,d=t.spacing,p=void 0===d?v.spacing:d,f=t.shapeBlending,y=void 0===f?v.shapeBlending:f,g=t.valueFormat,x=t.colors,m=void 0===x?v.colors:x,k=t.fillOpacity,w=void 0===k?v.fillOpacity:k,P=t.borderWidth,B=void 0===P?v.borderWidth:P,W=t.borderColor,j=void 0===W?v.borderColor:W,_=t.borderOpacity,L=void 0===_?v.borderOpacity:_,q=t.enableLabel,E=void 0===q?v.enableLabel:q,I=t.labelColor,F=void 0===I?v.labelColor:I,T=t.enableBeforeSeparators,X=void 0===T?v.enableBeforeSeparators:T,z=t.beforeSeparatorLength,Z=void 0===z?v.beforeSeparatorLength:z,V=t.beforeSeparatorOffset,A=void 0===V?v.beforeSeparatorOffset:V,G=t.enableAfterSeparators,D=void 0===G?v.enableAfterSeparators:G,Y=t.afterSeparatorLength,J=void 0===Y?v.afterSeparatorLength:Y,H=t.afterSeparatorOffset,N=void 0===H?v.afterSeparatorOffset:H,R=t.layers,U=void 0===R?v.layers:R,K=t.annotations,Q=void 0===K?v.annotations:K,$=t.isInteractive,tt=void 0===$?v.isInteractive:$,et=t.currentPartSizeExtension,nt=void 0===et?v.currentPartSizeExtension:et,rt=t.currentBorderWidth,ot=t.onMouseEnter,it=t.onMouseMove,at=t.onMouseLeave,st=t.onClick,lt=t.role,ut=void 0===lt?v.role:lt,ct=t.ariaLabel,dt=t.ariaLabelledBy,pt=t.ariaDescribedBy,ht=(0,o.Bs)(n,i,a),ft=ht.margin,yt=ht.innerWidth,vt=ht.innerHeight,gt=ht.outerWidth,xt=ht.outerHeight,bt=b({data:e,width:yt,height:vt,direction:l,interpolation:c,spacing:p,shapeBlending:y,valueFormat:g,colors:m,fillOpacity:w,borderWidth:B,borderColor:j,borderOpacity:L,labelColor:F,enableBeforeSeparators:X,beforeSeparatorLength:Z,beforeSeparatorOffset:A,enableAfterSeparators:D,afterSeparatorLength:J,afterSeparatorOffset:N,isInteractive:tt,currentPartSizeExtension:nt,currentBorderWidth:rt,onMouseEnter:ot,onMouseMove:it,onMouseLeave:at,onClick:st}),mt=bt.areaGenerator,St=bt.borderGenerator,kt=bt.parts,Mt=bt.beforeSeparators,wt=bt.afterSeparators,Ct=bt.customLayerProps,Ot={separators:null,parts:null,annotations:null,labels:null};return U.includes("separators")&&(Ot.separators=(0,h.jsx)(C,{beforeSeparators:Mt,afterSeparators:wt},"separators")),U.includes("parts")&&(Ot.parts=(0,h.jsx)(S,{parts:kt,areaGenerator:mt,borderGenerator:St},"parts")),null!=U&&U.includes("annotations")&&(Ot.annotations=(0,h.jsx)(O,{parts:kt,annotations:Q},"annotations")),U.includes("labels")&&E&&(Ot.labels=(0,h.jsx)(M,{parts:kt},"labels")),(0,h.jsx)(o.tM,{width:gt,height:xt,margin:ft,role:ut,ariaLabel:ct,ariaLabelledBy:dt,ariaDescribedBy:pt,children:U.map((function(t,e){var n;return"function"==typeof t?(0,h.jsx)(r.Fragment,{children:(0,r.createElement)(t,Ct)},e):null!=(n=null==Ot?void 0:Ot[t])?n:null}))})},W=function(t){var e=t.isInteractive,n=void 0===e?v.isInteractive:e,r=t.animate,i=void 0===r?v.animate:r,a=t.motionConfig,s=void 0===a?v.motionConfig:a,l=t.theme,u=t.renderWrapper,c=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,P);return(0,h.jsx)(o.W2,{animate:i,isInteractive:n,motionConfig:s,renderWrapper:u,theme:l,children:(0,h.jsx)(B,y({isInteractive:n},c))})},j=function(t){return(0,h.jsx)(o.d,{children:function(e){var n=e.width,r=e.height;return(0,h.jsx)(W,y({width:n,height:r},t))}})}},98129:function(t,e,n){var r=n(52033);t.exports=function(t,e){var n=[];return r(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}},76418:function(t){var e=Math.floor,n=Math.random;t.exports=function(t,r){return t+e(n()*(r-t+1))}},69238:function(t,e,n){var r=n(10263),o=n(98129),i=n(89278),a=n(19785);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},91311:function(t,e,n){var r=n(76418),o=n(57535),i=n(94919),a=parseFloat,s=Math.min,l=Math.random;t.exports=function(t,e,n){if(n&&"boolean"!=typeof n&&o(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=i(t),void 0===e?(e=t,t=0):e=i(e)),t>e){var u=t;t=e,e=u}if(n||t%1||e%1){var c=l();return s(t+c*(e-t+a("1e-"+((c+"").length-1))),e)}return r(t,e)}},34981:function(t,e,n){var r=n(68267),o=n(76744),i=r((function(t,e,n){return t+(n?" ":"")+o(e)}));t.exports=i}}]);
//# sourceMappingURL=component---src-pages-funnel-index-tsx-e02204b493534ce76b81.js.map