(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[686],{68847:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var i=Array.prototype.slice},26681:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(68847),r=n(3583),o=n(13407),a=n(61190);function l(e,t){return e[t]}function u(){var e=(0,r.Z)([]),t=a.Z,n=o.Z,u=l;function c(i){var r,o,a=e.apply(this,arguments),l=i.length,c=a.length,d=new Array(c);for(r=0;r<c;++r){for(var s,f=a[r],h=d[r]=new Array(l),m=0;m<l;++m)h[m]=s=[0,+u(i[m],f,m,i)],s.data=i[m];h.key=f}for(r=0,o=t(d);r<c;++r)d[o[r]].index=r;return n(d,o),d}return c.keys=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.Z)(i.t.call(t)),c):e},c.value=function(e){return arguments.length?(u="function"==typeof e?e:(0,r.Z)(+e),c):u},c.order=function(e){return arguments.length?(t=null==e?a.Z:"function"==typeof e?e:(0,r.Z)(i.t.call(e)),c):t},c.offset=function(e){return arguments.length?(n=null==e?o.Z:e,c):n},c}},54358:function(e,t,n){"use strict";n.d(t,{q6:function(){return I},dS:function(){return A},O2:function(){return P},zs:function(){return O}});var i=n(27378),r=n(48159),o=n.n(r),a=n(78581),l=n.n(a),u=n(69238),c=n.n(u),d=n(45434),s=n(58493),f=n(24246);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function v(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function x(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function y(e){return function(e){if(Array.isArray(e))return g(e)}(e)||v(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=4,k=120,S=8,w=function(e){return"circle"===e.type},j=function(e){return"dot"===e.type},W=function(e){return"rect"===e.type},C=function(e){var t,n,i=e.x,r=e.y,o=e.noteX,a=e.noteY,u=e.noteWidth,c=void 0===u?k:u,s=e.noteTextOffset,f=void 0===s?S:s;if(l()(o))t=i+o;else{if(void 0===o.abs)throw new Error("noteX should be either a number or an object containing an 'abs' property");t=o.abs}if(l()(a))n=r+a;else{if(void 0===a.abs)throw new Error("noteY should be either a number or an object containing an 'abs' property");n=a.abs}var h=i,m=r,b=function(e,t,n,i){var r=Math.atan2(i-t,n-e);return(0,d.bt)((0,d.vi)(r))}(i,r,t,n);if(w(e)){var g=(0,d.re)((0,d.Ht)(b),e.size/2);h+=g.x,m+=g.y}if(W(e)){var v=Math.round((b+90)/45)%8;0===v&&(m-=e.height/2),1===v&&(h+=e.width/2,m-=e.height/2),2===v&&(h+=e.width/2),3===v&&(h+=e.width/2,m+=e.height/2),4===v&&(m+=e.height/2),5===v&&(h-=e.width/2,m+=e.height/2),6===v&&(h-=e.width/2),7===v&&(h-=e.width/2,m-=e.height/2)}var x=t,y=t;return(b+90)%360>180?(x-=c,y-=c):y+=c,{points:[[h,m],[t,n],[y,n]],text:[x,n-f],angle:b+90}},P=function(e){var t=e.data,n=e.annotations,r=e.getPosition,a=e.getDimensions;return(0,i.useMemo)((function(){return function(e){var t=e.data,n=e.annotations,i=e.getPosition,r=e.getDimensions;return n.reduce((function(e,n){var a=n.offset||0;return[].concat(y(e),y(c()(t,n.match).map((function(e){var t=i(e),l=r(e);return(w(n)||W(n))&&(l.size=l.size+2*a,l.width=l.width+2*a,l.height=l.height+2*a),b(b(b(b({},o()(n,["match","offset"])),t),l),{},{size:n.size||l.size,datum:e})}))))}),[])}({data:t,annotations:n,getPosition:r,getDimensions:a})}),[t,n,r,a])},O=function(e){var t=e.annotations;return(0,i.useMemo)((function(){return t.map((function(e){return b(b({},e),{},{computed:C(b({},e))})}))}),[t])},V=function(e){var t=e.datum,n=e.x,r=e.y,a=e.note,l=(0,d.Fg)(),u=(0,d.tf)(),c=u.animate,h=u.config,m=(0,s.useSpring)({x:n,y:r,config:h,immediate:!c});return"function"==typeof a?(0,i.createElement)(a,{x:n,y:r,datum:t}):(0,f.jsxs)(f.Fragment,{children:[l.annotations.text.outlineWidth>0&&(0,f.jsx)(s.q.text,{x:m.x,y:m.y,style:b(b({},l.annotations.text),{},{strokeLinejoin:"round",strokeWidth:2*l.annotations.text.outlineWidth,stroke:l.annotations.text.outlineColor}),children:a}),(0,f.jsx)(s.q.text,{x:m.x,y:m.y,style:o()(l.annotations.text,["outlineWidth","outlineColor"]),children:a})]})};function L(e){if(Array.isArray(e))return e}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){return L(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(i=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(u){r=!0,o=u}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}return n}}(e,t)||x(e,t)||N()}var T=function(e){var t=e.points,n=e.isOutline,r=void 0!==n&&n,o=(0,d.Fg)(),a=(0,i.useMemo)((function(){var e,n=L(e=t)||v(e)||x(e)||N(),i=n[0];return n.slice(1).reduce((function(e,t){var n=E(t,2),i=n[0],r=n[1];return"".concat(e," L").concat(i,",").concat(r)}),"M".concat(i[0],",").concat(i[1]))}),[t]),l=(0,d.NS)(a);if(r&&o.annotations.link.outlineWidth<=0)return null;var u=b({},o.annotations.link);return r&&(u.strokeLinecap="square",u.strokeWidth=o.annotations.link.strokeWidth+2*o.annotations.link.outlineWidth,u.stroke=o.annotations.link.outlineColor),(0,f.jsx)(s.q.path,{fill:"none",d:l,style:u})},M=function(e){var t=e.x,n=e.y,i=e.size,r=(0,d.Fg)(),o=(0,d.tf)(),a=o.animate,l=o.config,u=(0,s.useSpring)({x:t,y:n,radius:i/2,config:l,immediate:!a});return(0,f.jsxs)(f.Fragment,{children:[r.annotations.outline.outlineWidth>0&&(0,f.jsx)(s.q.circle,{cx:u.x,cy:u.y,r:u.radius,style:b(b({},r.annotations.outline),{},{fill:"none",strokeWidth:r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,stroke:r.annotations.outline.outlineColor})}),(0,f.jsx)(s.q.circle,{cx:u.x,cy:u.y,r:u.radius,style:r.annotations.outline})]})},B=function(e){var t=e.x,n=e.y,i=e.size,r=void 0===i?p:i,o=(0,d.Fg)(),a=(0,d.tf)(),l=a.animate,u=a.config,c=(0,s.useSpring)({x:t,y:n,radius:r/2,config:u,immediate:!l});return(0,f.jsxs)(f.Fragment,{children:[o.annotations.outline.outlineWidth>0&&(0,f.jsx)(s.q.circle,{cx:c.x,cy:c.y,r:c.radius,style:b(b({},o.annotations.outline),{},{fill:"none",strokeWidth:2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor})}),(0,f.jsx)(s.q.circle,{cx:c.x,cy:c.y,r:c.radius,style:o.annotations.symbol})]})},D=function(e){var t=e.x,n=e.y,i=e.width,r=e.height,o=(0,d.Fg)(),a=(0,d.tf)(),l=a.animate,u=a.config,c=(0,s.useSpring)({x:t-i/2,y:n-r/2,width:i,height:r,config:u,immediate:!l});return(0,f.jsxs)(f.Fragment,{children:[o.annotations.outline.outlineWidth>0&&(0,f.jsx)(s.q.rect,{x:c.x,y:c.y,width:c.width,height:c.height,style:b(b({},o.annotations.outline),{},{fill:"none",strokeWidth:o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor})}),(0,f.jsx)(s.q.rect,{x:c.x,y:c.y,width:c.width,height:c.height,style:o.annotations.outline})]})},I=function(e){var t=e.datum,n=e.x,r=e.y,o=e.note,a=function(e){return(0,i.useMemo)((function(){return C(e)}),[e])}(e);if(!function(e){var t=typeof e;return(0,i.isValidElement)(e)||"string"===t||"function"===t||"object"===t}(o))throw new Error("note should be a valid react element");return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(T,{points:a.points,isOutline:!0}),w(e)&&(0,f.jsx)(M,{x:n,y:r,size:e.size}),j(e)&&(0,f.jsx)(B,{x:n,y:r,size:e.size}),W(e)&&(0,f.jsx)(D,{x:n,y:r,width:e.width,height:e.height}),(0,f.jsx)(T,{points:a.points}),(0,f.jsx)(V,{datum:t,x:a.text[0],y:a.text[1],note:o})]})},F=function(e,t){t.forEach((function(t,n){var i=E(t,2),r=i[0],o=i[1];0===n?e.moveTo(r,o):e.lineTo(r,o)}))},A=function(e,t){var n=t.annotations,i=t.theme;0!==n.length&&(e.save(),n.forEach((function(t){if(n=t.note,"string"!==(r=typeof n)&&"function"!==r)throw new Error("note is invalid for canvas implementation");var n,r;i.annotations.link.outlineWidth>0&&(e.lineCap="square",e.strokeStyle=i.annotations.link.outlineColor,e.lineWidth=i.annotations.link.strokeWidth+2*i.annotations.link.outlineWidth,e.beginPath(),F(e,t.computed.points),e.stroke(),e.lineCap="butt"),w(t)&&i.annotations.outline.outlineWidth>0&&(e.strokeStyle=i.annotations.outline.outlineColor,e.lineWidth=i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),j(t)&&i.annotations.symbol.outlineWidth>0&&(e.strokeStyle=i.annotations.symbol.outlineColor,e.lineWidth=2*i.annotations.symbol.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),W(t)&&i.annotations.outline.outlineWidth>0&&(e.strokeStyle=i.annotations.outline.outlineColor,e.lineWidth=i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),e.strokeStyle=i.annotations.link.stroke,e.lineWidth=i.annotations.link.strokeWidth,e.beginPath(),F(e,t.computed.points),e.stroke(),w(t)&&(e.strokeStyle=i.annotations.outline.stroke,e.lineWidth=i.annotations.outline.strokeWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),j(t)&&(e.fillStyle=i.annotations.symbol.fill,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.fill()),W(t)&&(e.strokeStyle=i.annotations.outline.stroke,e.lineWidth=i.annotations.outline.strokeWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),"function"==typeof t.note?t.note(e,{datum:t.datum,x:t.computed.text[0],y:t.computed.text[1],theme:i}):(e.font="".concat(i.annotations.text.fontSize,"px ").concat(i.annotations.text.fontFamily),e.fillStyle=i.annotations.text.fill,e.strokeStyle=i.annotations.text.outlineColor,e.lineWidth=2*i.annotations.text.outlineWidth,i.annotations.text.outlineWidth>0&&(e.lineJoin="round",e.strokeText(t.note,t.computed.text[0],t.computed.text[1]),e.lineJoin="miter"),e.fillText(t.note,t.computed.text[0],t.computed.text[1]))})),e.restore())}},44365:function(e,t,n){"use strict";n.d(t,{dk:function(){return W},RD:function(){return k},rj:function(){return O},VT:function(){return w},DZ:function(){return L},RN:function(){return V},FA:function(){return N}});var i=n(27378),r=n(58493),o=n(45434),a=n(6164),l=n(16935),u=n(770),c=n(24246),d=n(23615),s=n.n(d);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t,n=e.axis,i=e.scale,r=e.ticksPosition,a=e.tickValues,l=e.tickSize,c=e.tickPadding,d=e.tickRotation,s=e.engine,f=void 0===s?"svg":s,h=(0,u.xX)(i,a),b=o.a6[f],g="bandwidth"in i?(0,u.Gv)(i):i,v={lineX:0,lineY:0},x={textX:0,textY:0},y="object"==typeof document&&"rtl"===document.dir,p=b.align.center,k=b.baseline.center;return"x"===n?(t=function(e){var t;return{x:null!==(t=g(e))&&void 0!==t?t:0,y:0}},v.lineY=l*("after"===r?1:-1),x.textY=(l+c)*("after"===r?1:-1),k="after"===r?b.baseline.top:b.baseline.bottom,0===d?p=b.align.center:"after"===r&&d<0||"before"===r&&d>0?(p=b.align[y?"left":"right"],k=b.baseline.center):("after"===r&&d>0||"before"===r&&d<0)&&(p=b.align[y?"right":"left"],k=b.baseline.center)):(t=function(e){var t;return{x:0,y:null!==(t=g(e))&&void 0!==t?t:0}},v.lineX=l*("after"===r?1:-1),x.textX=(l+c)*("after"===r?1:-1),p="after"===r?b.align.left:b.align.right),{ticks:h.map((function(e){return m(m(m({key:"number"==typeof e||"string"==typeof e?e:"".concat(e),value:e},t(e)),v),x)})),textAlign:p,textBaseline:k}},g=function(e,t){if(void 0===e||"function"==typeof e)return e;if("time"===t.type){var n=(0,a.i$)(e);return function(e){return n(e instanceof Date?e:new Date(e))}}return(0,l.WU)(e)},v=function(e){var t,n=e.width,i=e.height,r=e.scale,o=e.axis,a=e.values,l=(t=a,Array.isArray(t)?a:void 0)||(0,u.xX)(r,a),c="bandwidth"in r?(0,u.Gv)(r):r,d="x"===o?l.map((function(e){var t,n;return{key:"".concat(e),x1:null!==(t=c(e))&&void 0!==t?t:0,x2:null!==(n=c(e))&&void 0!==n?n:0,y1:0,y2:i}})):l.map((function(e){var t,i;return{key:"".concat(e),x1:0,x2:n,y1:null!==(t=c(e))&&void 0!==t?t:0,y2:null!==(i=c(e))&&void 0!==i?i:0}}));return d},x=function(e){var t,n=e.value,a=e.format,l=e.lineX,u=e.lineY,d=e.onClick,s=e.textBaseline,f=e.textAnchor,h=e.animatedProps,b=(0,o.Fg)(),g=null!==(t=null==a?void 0:a(n))&&void 0!==t?t:n,v=(0,i.useMemo)((function(){var e={opacity:h.opacity};return d?{style:m(m({},e),{},{cursor:"pointer"}),onClick:function(e){return d(e,g)}}:{style:e}}),[h.opacity,d,g]);return(0,c.jsxs)(r.q.g,m(m({transform:h.transform},v),{},{children:[(0,c.jsx)("line",{x1:0,x2:l,y1:0,y2:u,style:b.axis.ticks.line}),(0,c.jsx)(r.q.text,{dominantBaseline:s,textAnchor:f,transform:h.textTransform,style:b.axis.ticks.text,children:g})]}))},y=(0,i.memo)(x),p=function(e){var t=e.axis,n=e.scale,a=e.x,l=void 0===a?0:a,u=e.y,d=void 0===u?0:u,s=e.length,f=e.ticksPosition,h=e.tickValues,v=e.tickSize,x=void 0===v?5:v,p=e.tickPadding,k=void 0===p?5:p,S=e.tickRotation,w=void 0===S?0:S,j=e.format,W=e.renderTick,C=void 0===W?y:W,P=e.legend,O=e.legendPosition,V=void 0===O?"end":O,L=e.legendOffset,N=void 0===L?0:L,E=e.onClick,T=e.ariaHidden,M=(0,o.Fg)(),B=(0,i.useMemo)((function(){return g(j,n)}),[j,n]),D=b({axis:t,scale:n,ticksPosition:f,tickValues:h,tickSize:x,tickPadding:k,tickRotation:w}),I=D.ticks,F=D.textAlign,A=D.textBaseline,R=null;if(void 0!==P){var X,Y=0,z=0,q=0;"y"===t?(q=-90,Y=N,"start"===V?(X="start",z=s):"middle"===V?(X="middle",z=s/2):"end"===V&&(X="end")):(z=N,"start"===V?X="start":"middle"===V?(X="middle",Y=s/2):"end"===V&&(X="end",Y=s)),R=(0,c.jsx)("text",{transform:"translate(".concat(Y,", ").concat(z,") rotate(").concat(q,")"),textAnchor:X,style:m({dominantBaseline:"central"},M.axis.legend.text),children:P})}var H=(0,o.tf)(),Z=H.animate,U=H.config,G=(0,r.useSpring)({transform:"translate(".concat(l,",").concat(d,")"),lineX2:"x"===t?s:0,lineY2:"x"===t?0:s,config:U,immediate:!Z}),$=(0,r.useTransition)(I,{keys:function(e){return e.key},initial:function(e){return{opacity:1,transform:"translate(".concat(e.x,",").concat(e.y,")"),textTransform:"translate(".concat(e.textX,",").concat(e.textY,") rotate(").concat(w,")")}},from:function(e){return{opacity:0,transform:"translate(".concat(e.x,",").concat(e.y,")"),textTransform:"translate(".concat(e.textX,",").concat(e.textY,") rotate(").concat(w,")")}},enter:function(e){return{opacity:1,transform:"translate(".concat(e.x,",").concat(e.y,")"),textTransform:"translate(".concat(e.textX,",").concat(e.textY,") rotate(").concat(w,")")}},update:function(e){return{opacity:1,transform:"translate(".concat(e.x,",").concat(e.y,")"),textTransform:"translate(".concat(e.textX,",").concat(e.textY,") rotate(").concat(w,")")}},leave:{opacity:0},config:U,immediate:!Z});return(0,c.jsxs)(r.q.g,{transform:G.transform,"aria-hidden":T,children:[$((function(e,t,n,r){return(0,i.createElement)(C,m(m({tickIndex:r,format:B,rotate:w,textBaseline:A,textAnchor:F,animatedProps:e},t),E?{onClick:E}:{}))})),(0,c.jsx)(r.q.line,{style:M.axis.domain.line,x1:0,x2:G.lineX2,y1:0,y2:G.lineY2}),R]})},k=(0,i.memo)(p),S={ticksPosition:s().oneOf(["before","after"]),tickValues:s().oneOfType([s().number,s().arrayOf(s().oneOfType([s().number,s().string,s().instanceOf(Date)])),s().string]),tickSize:s().number,tickPadding:s().number,tickRotation:s().number,format:s().oneOfType([s().func,s().string]),renderTick:s().func,legend:s().node,legendPosition:s().oneOf(["start","middle","end"]),legendOffset:s().number,ariaHidden:s().bool},w=s().shape(S),j=["top","right","bottom","left"],W=(0,i.memo)((function(e){var t=e.xScale,n=e.yScale,i=e.width,r=e.height,o={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return(0,c.jsx)(c.Fragment,{children:j.map((function(e){var a=o[e];if(!a)return null;var l="top"===e||"bottom"===e,u="top"===e||"left"===e?"before":"after";return(0,c.jsx)(k,m(m({},a),{},{axis:l?"x":"y",x:"right"===e?i:0,y:"bottom"===e?r:0,scale:l?t:n,length:l?i:r,ticksPosition:u}),e)}))})})),C=(0,i.memo)((function(e){var t=e.animatedProps,n=(0,o.Fg)();return(0,c.jsx)(r.q.line,m(m({},t),n.grid.line))})),P=(0,i.memo)((function(e){var t=e.lines,n=(0,o.tf)(),a=n.animate,l=n.config,u=(0,r.useTransition)(t,{keys:function(e){return e.key},initial:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},from:function(e){return{opacity:0,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},enter:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},update:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},leave:{opacity:0},config:l,immediate:!a});return(0,c.jsx)("g",{children:u((function(e,t){return(0,i.createElement)(C,m(m({},t),{},{key:t.key,animatedProps:e}))}))})})),O=(0,i.memo)((function(e){var t=e.width,n=e.height,r=e.xScale,o=e.yScale,a=e.xValues,l=e.yValues,u=(0,i.useMemo)((function(){return!!r&&v({width:t,height:n,scale:r,axis:"x",values:a})}),[r,a,t,n]),d=(0,i.useMemo)((function(){return!!o&&v({width:t,height:n,scale:o,axis:"y",values:l})}),[n,t,o,l]);return(0,c.jsxs)(c.Fragment,{children:[u&&(0,c.jsx)(P,{lines:u}),d&&(0,c.jsx)(P,{lines:d})]})})),V=function(e,t){var n,i=t.axis,r=t.scale,a=t.x,l=void 0===a?0:a,u=t.y,c=void 0===u?0:u,d=t.length,s=t.ticksPosition,f=t.tickValues,h=t.tickSize,m=void 0===h?5:h,g=t.tickPadding,v=void 0===g?5:g,x=t.tickRotation,y=void 0===x?0:x,p=t.format,k=t.legend,S=t.legendPosition,w=void 0===S?"end":S,j=t.legendOffset,W=void 0===j?0:j,C=t.theme,P=b({axis:i,scale:r,ticksPosition:s,tickValues:f,tickSize:m,tickPadding:v,tickRotation:y,engine:"canvas"}),O=P.ticks,V=P.textAlign,L=P.textBaseline;e.save(),e.translate(l,c),e.textAlign=V,e.textBaseline=L,e.font="".concat(C.axis.ticks.text.fontWeight?"".concat(C.axis.ticks.text.fontWeight," "):"").concat(C.axis.ticks.text.fontSize,"px ").concat(C.axis.ticks.text.fontFamily),(null!==(n=C.axis.domain.line.strokeWidth)&&void 0!==n?n:0)>0&&(e.lineWidth=Number(C.axis.domain.line.strokeWidth),e.lineCap="square",C.axis.domain.line.stroke&&(e.strokeStyle=C.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo("x"===i?d:0,"x"===i?0:d),e.stroke());var N="function"==typeof p?p:function(e){return"".concat(e)};if(O.forEach((function(t){var n;(null!==(n=C.axis.ticks.line.strokeWidth)&&void 0!==n?n:0)>0&&(e.lineWidth=Number(C.axis.ticks.line.strokeWidth),e.lineCap="square",C.axis.ticks.line.stroke&&(e.strokeStyle=C.axis.ticks.line.stroke),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x+t.lineX,t.y+t.lineY),e.stroke());var i=N(t.value);e.save(),e.translate(t.x+t.textX,t.y+t.textY),e.rotate((0,o.Ht)(y)),C.axis.ticks.text.fill&&(e.fillStyle=C.axis.ticks.text.fill),e.fillText(String(i),0,0),e.restore()})),void 0!==k){var E=0,T=0,M=0,B="center";"y"===i?(M=-90,E=W,"start"===w?(B="start",T=d):"middle"===w?(B="center",T=d/2):"end"===w&&(B="end")):(T=W,"start"===w?B="start":"middle"===w?(B="center",E=d/2):"end"===w&&(B="end",E=d)),e.translate(E,T),e.rotate((0,o.Ht)(M)),e.font="".concat(C.axis.legend.text.fontWeight?"".concat(C.axis.legend.text.fontWeight," "):"").concat(C.axis.legend.text.fontSize,"px ").concat(C.axis.legend.text.fontFamily),C.axis.legend.text.fill&&(e.fillStyle=C.axis.legend.text.fill),e.textAlign=B,e.textBaseline="middle",e.fillText(k,0,0)}e.restore()},L=function(e,t){var n=t.xScale,i=t.yScale,r=t.width,o=t.height,a=t.top,l=t.right,u=t.bottom,c=t.left,d=t.theme,s={top:a,right:l,bottom:u,left:c};j.forEach((function(t){var a=s[t];if(!a)return null;var l="top"===t||"bottom"===t,u="top"===t||"left"===t?"before":"after",c=l?n:i,f=g(a.format,c);V(e,m(m({},a),{},{axis:l?"x":"y",x:"right"===t?r:0,y:"bottom"===t?o:0,scale:c,format:f,length:l?r:o,ticksPosition:u,theme:d}))}))},N=function(e,t){var n=t.width,i=t.height,r=t.scale,o=t.axis,a=t.values;v({width:n,height:i,scale:r,axis:o,values:a}).forEach((function(t){e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.stroke()}))}},74186:function(e,t,n){"use strict";n.d(t,{$Q:function(){return re},jM:function(){return he},dc:function(){return be},XB:function(){return E}});var i=n(44365),r=n(54358),o=n(64253),a=n(47425),l=n(45434),u=n(27378),c=n(58493),d=n(89193),s=n(79234),f=n(770),h=n(26681),m=n(97197),b=n(31091),g=n.n(b);function v(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e){var t=e.bars,n=e.annotations,i=(0,r.O2)({data:t,annotations:n,getPosition:function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}},getDimensions:function(e){var t=e.height,n=e.width;return{width:n,height:t,size:Math.max(n,t)}}});return(0,o.jsxDEV)(o.Fragment,{children:i.map((function(e,t){return(0,o.jsxDEV)(r.q6,p({},e),t,!1,{fileName:"/Users/raph/projects/plouc/nivo/packages/bar/src/BarAnnotations.tsx",lineNumber:22,columnNumber:17},undefined)}))},void 0,!1)};function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function w(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(u){l=!0,r=u}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W,C=function(e){var t=e.width,n=e.height,i=e.legends,r=e.toggleSerie;return(0,o.jsxDEV)(o.Fragment,{children:i.map((function(e,i){var l,u=j(e,2),c=u[0],d=u[1];return(0,o.jsxDEV)(a.$6,p(p({},c),{},{containerWidth:t,containerHeight:n,data:null!==(l=c.data)&&void 0!==l?l:d,toggleSerie:c.toggleSerie&&"keys"===c.dataFrom?r:void 0}),i,!1,{fileName:"/Users/raph/projects/plouc/nivo/packages/bar/src/BarLegends.tsx",lineNumber:14,columnNumber:13},undefined)}))},void 0,!1)},P=["data"],O="/Users/raph/projects/plouc/nivo/packages/bar/src/BarItem.tsx",V=void 0,L=["color","label"],N={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{from:"theme",theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:function(e){var t=e.color,n=e.label,i=v(e,L);return(0,o.jsxDEV)(d._5,{id:n,value:i.formattedValue,enableChip:!0,color:t},void 0,!1,{fileName:"/Users/raph/projects/plouc/nivo/packages/bar/src/BarTooltip.tsx",lineNumber:5,columnNumber:12},undefined)},tooltipLabel:function(e){return"".concat(e.id," - ").concat(e.indexValue)},legends:[],initialHiddenIds:[],annotations:[],markers:[]},E=p(p({},N),{},{layers:["grid","axes","bars","markers","legends","annotations"],barComponent:function(e){var t,n=e.bar,i=n.data,r=v(n,P),a=e.style,s=a.borderColor,f=a.color,h=a.height,m=a.labelColor,b=a.labelOpacity,g=a.labelX,x=a.labelY,y=a.transform,k=a.width,S=e.borderRadius,w=e.borderWidth,j=e.label,W=e.shouldRenderLabel,C=e.isInteractive,L=e.onClick,N=e.onMouseEnter,E=e.onMouseLeave,T=e.tooltip,M=e.isFocusable,B=e.ariaLabel,D=e.ariaLabelledBy,I=e.ariaDescribedBy,F=(0,l.Fg)(),A=(0,d.lL)(),R=A.showTooltipFromEvent,X=A.showTooltipAt,Y=A.hideTooltip,z=(0,u.useMemo)((function(){return function(){return(0,u.createElement)(T,p(p({},r),i))}}),[T,r,i]),q=(0,u.useCallback)((function(e){null==L||L(p({color:r.color},i),e)}),[r,i,L]),H=(0,u.useCallback)((function(e){return R(z(),e)}),[R,z]),Z=(0,u.useCallback)((function(e){null==N||N(i,e),R(z(),e)}),[i,N,R,z]),U=(0,u.useCallback)((function(e){null==E||E(i,e),Y()}),[i,Y,E]),G=(0,u.useCallback)((function(){X(z(),[r.absX+r.width/2,r.absY])}),[X,z,r]),$=(0,u.useCallback)((function(){Y()}),[Y]);return(0,o.jsxDEV)(c.q.g,{transform:y,children:[(0,o.jsxDEV)(c.q.rect,{width:(0,c.to)(k,(function(e){return Math.max(e,0)})),height:(0,c.to)(h,(function(e){return Math.max(e,0)})),rx:S,ry:S,fill:null!==(t=i.fill)&&void 0!==t?t:f,strokeWidth:w,stroke:s,focusable:M,tabIndex:M?0:void 0,"aria-label":B?B(i):void 0,"aria-labelledby":D?D(i):void 0,"aria-describedby":I?I(i):void 0,onMouseEnter:C?Z:void 0,onMouseMove:C?H:void 0,onMouseLeave:C?U:void 0,onClick:C?q:void 0,onFocus:C&&M?G:void 0,onBlur:C&&M?$:void 0},void 0,!1,{fileName:O,lineNumber:83,columnNumber:13},V),W&&(0,o.jsxDEV)(c.q.text,{x:g,y:x,textAnchor:"middle",dominantBaseline:"central",fillOpacity:b,style:p(p({},F.labels.text),{},{pointerEvents:"none",fill:m}),children:j},void 0,!1,{fileName:O,lineNumber:104,columnNumber:17},V)]},void 0,!0,{fileName:O,lineNumber:82,columnNumber:9},V)},defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),T=p(p({},N),{},{layers:["grid","axes","bars","legends","annotations"],pixelRatio:"undefined"!=typeof window&&null!==(W=window.devicePixelRatio)&&void 0!==W?W:1});function M(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B=function(e,t,n,i,r,o){return(0,f.ZN)(i,{all:e.map(t),min:0,max:0},r,o).padding(n)},D=function(e,t){return e.map((function(e){return p(p({},t.reduce((function(e,t){return e[t]=null,e}),{})),e)}))},I=function(e){return Object.keys(e).reduce((function(t,n){return e[n]&&(t[n]=e[n]),t}),{})},F=function(e){return[e,Number(e)]},A=["layout","minValue","maxValue","reverse","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],R=function(e,t){return e>t},X=function(e,t){return e<t},Y=function(e,t){return Array.from(" ".repeat(t-e),(function(t,n){return e+n}))},z=function(e){return R(e,0)?0:e},q=function(e,t,n,i){var r=e.data,o=e.formatValue,a=e.getColor,l=e.getIndex,u=e.getTooltipLabel,c=e.innerPadding,d=void 0===c?0:c,s=e.keys,f=e.xScale,h=e.yScale,m=e.margin,b=n?X:R,g=r.map(I),v=[];return s.forEach((function(e,n){return Y(0,f.domain().length).forEach((function(c){var s,x,y,p=j(F(r[c][e]),2),k=p[0],S=p[1],w=l(r[c]),W=(null!==(s=f(w))&&void 0!==s?s:0)+t*n+d*n,C=b(x=S,0)?null!==(y=h(x))&&void 0!==y?y:0:i,P=function(e,t){var n;return b(e,0)?i-t:(null!==(n=h(e))&&void 0!==n?n:0)-i}(S,C),O={id:e,value:null===k?k:S,formattedValue:o(S),hidden:!1,index:c,indexValue:w,data:g[c]};v.push({key:"".concat(e,".").concat(O.indexValue),index:v.length,data:O,x:W,y:C,absX:m.left+W,absY:m.top+C,width:t,height:P,color:a(O),label:u(O)})}))})),v},H=function(e,t,n,i){var r=e.data,o=e.formatValue,a=e.getIndex,l=e.getColor,u=e.getTooltipLabel,c=e.keys,d=e.innerPadding,s=void 0===d?0:d,f=e.xScale,h=e.yScale,m=e.margin,b=n?X:R,g=r.map(I),v=[];return c.forEach((function(e,n){return Y(0,h.domain().length).forEach((function(c){var d,x,y,p=j(F(r[c][e]),2),k=p[0],S=p[1],w=a(r[c]),W=b(x=S,0)?i:null!==(y=f(x))&&void 0!==y?y:0,C=(null!==(d=h(w))&&void 0!==d?d:0)+t*n+s*n,P=function(e,t){var n;return b(e,0)?(null!==(n=f(e))&&void 0!==n?n:0)-i:i-t}(S,W),O={id:e,value:null===k?k:S,formattedValue:o(S),hidden:!1,index:c,indexValue:w,data:g[c]};v.push({key:"".concat(e,".").concat(O.indexValue),index:v.length,data:O,x:W,y:C,absX:m.left+W,absY:m.top+C,width:P,height:t,color:l(O),label:u(O)})}))})),v},Z=function(e){var t,n,i=e.layout,r=e.minValue,o=e.maxValue,a=e.reverse,l=e.width,u=e.height,c=e.padding,d=void 0===c?0:c,s=e.innerPadding,h=void 0===s?0:s,m=e.valueScale,b=e.indexScale,g=e.hiddenIds,x=void 0===g?[]:g,y=v(e,A),k=y.keys.filter((function(e){return!x.includes(e)})),S=D(y.data,k),w=j("vertical"===i?["y","x",l]:["x","y",u],3),W=w[0],C=w[1],P=w[2],O=B(S,y.getIndex,d,b,P,C),V=p({max:o,min:r,reverse:a},m),L="auto"===V.min?z:function(e){return e},N=S.reduce((function(e,t){return[].concat(M(e),M(k.map((function(e){return t[e]}))))}),[]).filter(Boolean),E=L(Math.min.apply(Math,M(N))),T=(n=Math.max.apply(Math,M(N)),isFinite(n)?n:0),I=(0,f.ZN)(V,{all:N,min:E,max:T},"x"===W?l:u,W),F=j("vertical"===i?[O,I]:[I,O],2),R=F[0],X=F[1],Y=(O.bandwidth()-h*(k.length-1))/k.length,Z=[p(p({},y),{},{data:S,keys:k,innerPadding:h,xScale:R,yScale:X}),Y,V.reverse,null!==(t=I(0))&&void 0!==t?t:0];return{xScale:R,yScale:X,bars:Y>0?"vertical"===i?q.apply(void 0,Z):H.apply(void 0,Z):[]}},U=["data","layout","minValue","maxValue","reverse","width","height","padding","valueScale","indexScale","hiddenIds"],G=function e(t){var n;return t.some(Array.isArray)?e((n=[]).concat.apply(n,M(t))):t},$=function(e,t,n){var i=e.formatValue,r=e.getColor,o=e.getIndex,a=e.getTooltipLabel,l=e.innerPadding,u=e.stackedData,c=e.xScale,d=e.yScale,s=e.margin,f=[];return u.forEach((function(e){return c.domain().forEach((function(u,h){var m,b,g=e[h],v=null!==(m=c(o(g.data)))&&void 0!==m?m:0,x=(null!==(b=function(e){return d(e[n?0:1])}(g))&&void 0!==b?b:0)+.5*l,y=function(e,t){var i;return(null!==(i=d(e[n?1:0]))&&void 0!==i?i:0)-t}(g,x)-l,p=j(F(g.data[e.key]),2),k=p[0],S=p[1],w={id:e.key,value:null===k?k:S,formattedValue:i(S),hidden:!1,index:h,indexValue:u,data:I(g.data)};f.push({key:"".concat(e.key,".").concat(u),index:f.length,data:w,x:v,y:x,absX:s.left+v,absY:s.top+x,width:t,height:y,color:r(w),label:a(w)})}))})),f},_=function(e,t,n){var i=e.formatValue,r=e.getColor,o=e.getIndex,a=e.getTooltipLabel,l=e.innerPadding,u=e.stackedData,c=e.xScale,d=e.yScale,s=e.margin,f=[];return u.forEach((function(e){return d.domain().forEach((function(u,h){var m,b,g=e[h],v=null!==(m=d(o(g.data)))&&void 0!==m?m:0,x=(null!==(b=function(e){return c(e[n?1:0])}(g))&&void 0!==b?b:0)+.5*l,y=function(e,t){var i;return(null!==(i=c(e[n?0:1]))&&void 0!==i?i:0)-t}(g,x)-l,p=j(F(g.data[e.key]),2),k=p[0],S=p[1],w={id:e.key,value:null===k?k:S,formattedValue:i(S),hidden:!1,index:h,indexValue:u,data:I(g.data)};f.push({key:"".concat(e.key,".").concat(u),index:f.length,data:w,x:x,y:v,absX:s.left+x,absY:s.top+v,width:y,height:t,color:r(w),label:a(w)})}))})),f},J=function(e){var t,n=e.data,i=e.layout,r=e.minValue,o=e.maxValue,a=e.reverse,l=e.width,u=e.height,c=e.padding,d=void 0===c?0:c,s=e.valueScale,b=e.indexScale,g=e.hiddenIds,x=void 0===g?[]:g,y=v(e,U),k=y.keys.filter((function(e){return!x.includes(e)})),S=(0,h.Z)().keys(k).offset(m.Z)(D(n,k)),w=j("vertical"===i?["y","x",l]:["x","y",u],3),W=w[0],C=w[1],P=w[2],O=B(n,y.getIndex,d,b,P,C),V=p({max:o,min:r,reverse:a},s),L=(t=G(S),"log"===s.type?t.filter((function(e){return 0!==e})):t),N=Math.min.apply(Math,M(L)),E=Math.max.apply(Math,M(L)),T=(0,f.ZN)(V,{all:L,min:N,max:E},"x"===W?l:u,W),I=j("vertical"===i?[O,T]:[T,O],2),F=I[0],A=I[1],R=y.innerPadding>0?y.innerPadding:0,X=O.bandwidth(),Y=[p(p({},y),{},{innerPadding:R,stackedData:S,xScale:F,yScale:A}),X,V.reverse];return{xScale:F,yScale:A,bars:X>0?"vertical"===i?$.apply(void 0,Y):_.apply(void 0,Y):[]}},K=function(e){var t=e.bars,n=e.direction,i=e.from,r=e.groupMode,o=e.layout,a=e.legendLabel,u=e.reverse,c=(0,l.Xc)(null!=a?a:"indexes"===i?"indexValue":"id");return"indexes"===i?function(e,t,n){var i=g()(e.map((function(e){var t,i;return{id:null!==(t=e.data.indexValue)&&void 0!==t?t:"",label:n(e.data),hidden:e.data.hidden,color:null!==(i=e.color)&&void 0!==i?i:"#000"}})),(function(e){return e.id}));return"horizontal"===t&&i.reverse(),i}(t,o,c):function(e,t,n,i,r,o){var a=g()(e.map((function(e){var t;return{id:e.data.id,label:o(e.data),hidden:e.data.hidden,color:null!==(t=e.color)&&void 0!==t?t:"#000"}})),(function(e){return e.id}));return("vertical"===t&&"stacked"===i&&"column"===n&&!0!==r||"horizontal"===t&&"stacked"===i&&!0===r)&&a.reverse(),a}(t,o,n,r,u,c)},Q=function(e){var t=e.indexBy,n=void 0===t?N.indexBy:t,i=e.keys,r=void 0===i?N.keys:i,o=e.label,a=void 0===o?N.label:o,c=e.tooltipLabel,d=void 0===c?N.tooltipLabel:c,f=e.valueFormat,h=e.colors,m=void 0===h?N.colors:h,b=e.colorBy,g=void 0===b?N.colorBy:b,v=e.borderColor,x=void 0===v?N.borderColor:v,y=e.labelTextColor,k=void 0===y?N.labelTextColor:y,S=e.groupMode,w=void 0===S?N.groupMode:S,W=e.layout,C=void 0===W?N.layout:W,P=e.reverse,O=void 0===P?N.reverse:P,V=e.data,L=e.minValue,E=void 0===L?N.minValue:L,T=e.maxValue,B=void 0===T?N.maxValue:T,D=e.margin,I=e.width,F=e.height,A=e.padding,R=void 0===A?N.padding:A,X=e.innerPadding,Y=void 0===X?N.innerPadding:X,z=e.valueScale,q=void 0===z?N.valueScale:z,H=e.indexScale,U=void 0===H?N.indexScale:H,G=e.initialHiddenIds,$=void 0===G?N.initialHiddenIds:G,_=e.enableLabel,Q=void 0===_?N.enableLabel:_,ee=e.labelSkipWidth,te=void 0===ee?N.labelSkipWidth:ee,ne=e.labelSkipHeight,ie=void 0===ne?N.labelSkipHeight:ne,re=e.legends,oe=void 0===re?N.legends:re,ae=e.legendLabel,le=j((0,u.useState)(null!=$?$:[]),2),ue=le[0],ce=le[1],de=(0,u.useCallback)((function(e){ce((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(M(t),[e])}))}),[]),se=(0,l.LR)(n),fe=(0,l.LR)(a),he=(0,l.LR)(d),me=(0,l.O_)(f),be=(0,l.Fg)(),ge=(0,s.U)(m,g),ve=(0,s.Bf)(x,be),xe=(0,s.Bf)(k,be),ye=("grouped"===w?Z:J)({layout:C,reverse:O,data:V,getIndex:se,keys:r,minValue:E,maxValue:B,width:I,height:F,getColor:ge,padding:R,innerPadding:Y,valueScale:q,indexScale:U,hiddenIds:ue,formatValue:me,getTooltipLabel:he,margin:D}),pe=ye.bars,ke=ye.xScale,Se=ye.yScale,we=(0,u.useMemo)((function(){return pe.filter((function(e){return null!==e.data.value})).map((function(e,t){return p(p({},e),{},{index:t})}))}),[pe]),je=(0,u.useCallback)((function(e){var t=e.width,n=e.height;return!!Q&&(!(te>0&&t<te)&&!(ie>0&&n<ie))}),[Q,te,ie]),We=(0,u.useMemo)((function(){return r.map((function(e){var t=pe.find((function(t){return t.data.id===e}));return p(p({},t),{},{data:p(p({id:e},null==t?void 0:t.data),{},{hidden:ue.includes(e)})})}))}),[ue,r,pe]),Ce=(0,u.useMemo)((function(){return oe.map((function(e){return[e,K({bars:"keys"===e.dataFrom?We:pe,direction:e.direction,from:e.dataFrom,groupMode:w,layout:C,legendLabel:ae,reverse:O})]}))}),[oe,We,pe,w,C,ae,O]);return{bars:pe,barsWithValue:we,xScale:ke,yScale:Se,getIndex:se,getLabel:fe,getTooltipLabel:he,formatValue:me,getColor:ge,getBorderColor:ve,getLabelColor:xe,shouldRenderBarLabel:je,hiddenIds:ue,toggleSerie:de,legendsWithData:Ce}},ee=["isInteractive","animate","motionConfig","theme","renderWrapper"],te="/Users/raph/projects/plouc/nivo/packages/bar/src/Bar.tsx",ne=void 0,ie=function(e){var t=e.data,n=e.indexBy,r=e.keys,a=e.margin,d=e.width,s=e.height,f=e.groupMode,h=e.layout,m=e.reverse,b=e.minValue,g=e.maxValue,v=e.valueScale,x=e.indexScale,y=e.padding,S=e.innerPadding,w=e.axisTop,j=e.axisRight,W=e.axisBottom,P=void 0===W?E.axisBottom:W,O=e.axisLeft,V=void 0===O?E.axisLeft:O,L=e.enableGridX,N=void 0===L?E.enableGridX:L,T=e.enableGridY,M=void 0===T?E.enableGridY:T,B=e.gridXValues,D=e.gridYValues,I=e.layers,F=void 0===I?E.layers:I,A=e.barComponent,R=void 0===A?E.barComponent:A,X=e.enableLabel,Y=e.label,z=e.labelSkipWidth,q=e.labelSkipHeight,H=e.labelTextColor,Z=e.markers,U=void 0===Z?E.markers:Z,G=e.colorBy,$=e.colors,_=e.defs,J=void 0===_?E.defs:_,K=e.fill,ee=void 0===K?E.fill:K,ie=e.borderRadius,re=void 0===ie?E.borderRadius:ie,oe=e.borderWidth,ae=void 0===oe?E.borderWidth:oe,le=e.borderColor,ue=e.annotations,ce=void 0===ue?E.annotations:ue,de=e.legendLabel,se=e.tooltipLabel,fe=e.valueFormat,he=e.isInteractive,me=void 0===he?E.isInteractive:he,be=e.tooltip,ge=void 0===be?E.tooltip:be,ve=e.onClick,xe=e.onMouseEnter,ye=e.onMouseLeave,pe=e.legends,ke=e.role,Se=void 0===ke?E.role:ke,we=e.ariaLabel,je=e.ariaLabelledBy,We=e.ariaDescribedBy,Ce=e.isFocusable,Pe=void 0===Ce?E.isFocusable:Ce,Oe=e.barAriaLabel,Ve=e.barAriaLabelledBy,Le=e.barAriaDescribedBy,Ne=e.initialHiddenIds,Ee=(0,l.tf)(),Te=Ee.animate,Me=Ee.config,Be=(0,l.Bs)(d,s,a),De=Be.outerWidth,Ie=Be.outerHeight,Fe=Be.margin,Ae=Be.innerWidth,Re=Be.innerHeight,Xe=Q({indexBy:n,label:Y,tooltipLabel:se,valueFormat:fe,colors:$,colorBy:G,borderColor:le,labelTextColor:H,groupMode:f,layout:h,reverse:m,data:t,keys:r,minValue:b,maxValue:g,margin:Fe,width:Ae,height:Re,padding:y,innerPadding:S,valueScale:v,indexScale:x,enableLabel:X,labelSkipWidth:z,labelSkipHeight:q,legends:pe,legendLabel:de,initialHiddenIds:Ne}),Ye=Xe.bars,ze=Xe.barsWithValue,qe=Xe.xScale,He=Xe.yScale,Ze=Xe.getLabel,Ue=Xe.getTooltipLabel,Ge=Xe.getBorderColor,$e=Xe.getLabelColor,_e=Xe.shouldRenderBarLabel,Je=Xe.toggleSerie,Ke=Xe.legendsWithData,Qe=(0,c.useTransition)(ze,{keys:function(e){return e.key},from:function(e){return p({borderColor:Ge(e),color:e.color,height:0,labelColor:$e(e),labelOpacity:0,labelX:e.width/2,labelY:e.height/2,transform:"translate(".concat(e.x,", ").concat(e.y+e.height,")"),width:e.width},"vertical"===h?{}:{height:e.height,transform:"translate(".concat(e.x,", ").concat(e.y,")"),width:0})},enter:function(e){return{borderColor:Ge(e),color:e.color,height:e.height,labelColor:$e(e),labelOpacity:1,labelX:e.width/2,labelY:e.height/2,transform:"translate(".concat(e.x,", ").concat(e.y,")"),width:e.width}},update:function(e){return{borderColor:Ge(e),color:e.color,height:e.height,labelColor:$e(e),labelOpacity:1,labelX:e.width/2,labelY:e.height/2,transform:"translate(".concat(e.x,", ").concat(e.y,")"),width:e.width}},leave:function(e){return p({borderColor:Ge(e),color:e.color,height:0,labelColor:$e(e),labelOpacity:0,labelX:e.width/2,labelY:0,transform:"translate(".concat(e.x,", ").concat(e.y+e.height,")"),width:e.width},"vertical"===h?{}:{labelX:0,labelY:e.height/2,height:e.height,transform:"translate(".concat(e.x,", ").concat(e.y,")"),width:0})},config:Me,immediate:!Te}),et=(0,u.useMemo)((function(){return{borderRadius:re,borderWidth:ae,enableLabel:X,isInteractive:me,labelSkipWidth:z,labelSkipHeight:q,onClick:ve,onMouseEnter:xe,onMouseLeave:ye,getTooltipLabel:Ue,tooltip:ge,isFocusable:Pe,ariaLabel:Oe,ariaLabelledBy:Ve,ariaDescribedBy:Le}}),[re,ae,X,Ue,me,q,z,ve,xe,ye,ge,Pe,Oe,Ve,Le]),tt=(0,l.yU)(J,Ye,ee,{dataKey:"data",targetKey:"data.fill"}),nt={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null};F.includes("annotations")&&(nt.annotations=(0,o.jsxDEV)(k,{bars:Ye,annotations:ce},"annotations",!1,{fileName:te,lineNumber:282,columnNumber:13},ne)),F.includes("axes")&&(nt.axes=(0,o.jsxDEV)(i.dk,{xScale:qe,yScale:He,width:Ae,height:Re,top:w,right:j,bottom:P,left:V},"axes",!1,{fileName:te,lineNumber:288,columnNumber:13},ne)),F.includes("bars")&&(nt.bars=(0,o.jsxDEV)(u.Fragment,{children:Qe((function(e,t){return(0,u.createElement)(R,p(p({},et),{},{bar:t,style:e,shouldRenderLabel:_e(t),label:Ze(t.data)}))}))},"bars",!1,{fileName:te,lineNumber:304,columnNumber:13},ne)),F.includes("grid")&&(nt.grid=(0,o.jsxDEV)(i.rj,{width:Ae,height:Re,xScale:N?qe:null,yScale:M?He:null,xValues:B,yValues:D},"grid",!1,{fileName:te,lineNumber:320,columnNumber:13},ne)),F.includes("legends")&&(nt.legends=(0,o.jsxDEV)(C,{width:Ae,height:Re,legends:Ke,toggleSerie:Je},"legends",!1,{fileName:te,lineNumber:334,columnNumber:13},ne)),F.includes("markers")&&(nt.markers=(0,o.jsxDEV)(l.TL,{markers:U,width:Ae,height:Re,xScale:qe,yScale:He},"markers",!1,{fileName:te,lineNumber:346,columnNumber:13},ne));var it=(0,u.useMemo)((function(){return p(p({},et),{},{margin:Fe,innerWidth:Ae,innerHeight:Re,width:d,height:s,bars:Ye,xScale:qe,yScale:He})}),[et,Fe,Ae,Re,d,s,Ye,qe,He]);return(0,o.jsxDEV)(l.tM,{width:De,height:Ie,margin:Fe,defs:tt,role:Se,ariaLabel:we,ariaLabelledBy:je,ariaDescribedBy:We,isFocusable:Pe,children:F.map((function(e,t){var n;return"function"==typeof e?(0,o.jsxDEV)(u.Fragment,{children:(0,u.createElement)(e,it)},t,!1,{fileName:te,lineNumber:387,columnNumber:28},ne):null!==(n=null==nt?void 0:nt[e])&&void 0!==n?n:null}))},void 0,!1,{fileName:te,lineNumber:374,columnNumber:9},ne)},re=function(e){var t=e.isInteractive,n=void 0===t?E.isInteractive:t,i=e.animate,r=void 0===i?E.animate:i,a=e.motionConfig,u=void 0===a?E.motionConfig:a,c=e.theme,d=e.renderWrapper,s=v(e,ee);return(0,o.jsxDEV)(l.W2,{animate:r,isInteractive:n,motionConfig:u,renderWrapper:d,theme:c,children:(0,o.jsxDEV)(ie,p({isInteractive:n},s),void 0,!1,{fileName:te,lineNumber:413,columnNumber:9},ne)},void 0,!1,{fileName:te,lineNumber:404,columnNumber:5},ne)},oe=["isInteractive","renderWrapper","theme"],ae="/Users/raph/projects/plouc/nivo/packages/bar/src/BarCanvas.tsx",le=void 0,ue=function(e,t,n,i){return e.find((function(e){return(0,l.zn)(e.x+t.left,e.y+t.top,e.width,e.height,n,i)}))},ce=function(e){var t=e.data,n=e.indexBy,c=e.keys,s=e.margin,f=e.width,h=e.height,m=e.groupMode,b=e.layout,g=e.reverse,v=e.minValue,x=e.maxValue,y=e.valueScale,k=e.indexScale,S=e.padding,w=e.innerPadding,W=e.axisTop,C=e.axisRight,P=e.axisBottom,O=void 0===P?T.axisBottom:P,V=e.axisLeft,L=void 0===V?T.axisLeft:V,N=e.enableGridX,E=void 0===N?T.enableGridX:N,M=e.enableGridY,B=void 0===M?T.enableGridY:M,D=e.gridXValues,I=e.gridYValues,F=e.layers,A=void 0===F?T.layers:F,R=e.renderBar,X=void 0===R?function(e,t){var n=t.bar,i=n.color,r=n.height,o=n.width,a=n.x,l=n.y,u=t.borderColor,c=t.borderRadius,d=t.borderWidth,s=t.label,f=t.labelColor,h=t.shouldRenderLabel;if(e.fillStyle=i,d>0&&(e.strokeStyle=u,e.lineWidth=d),e.beginPath(),c>0){var m=Math.min(c,r);e.moveTo(a+m,l),e.lineTo(a+o-m,l),e.quadraticCurveTo(a+o,l,a+o,l+m),e.lineTo(a+o,l+r-m),e.quadraticCurveTo(a+o,l+r,a+o-m,l+r),e.lineTo(a+m,l+r),e.quadraticCurveTo(a,l+r,a,l+r-m),e.lineTo(a,l+m),e.quadraticCurveTo(a,l,a+m,l),e.closePath()}else e.rect(a,l,o,r);e.fill(),d>0&&e.stroke(),h&&(e.textBaseline="middle",e.textAlign="center",e.fillStyle=f,e.fillText(s,a+o/2,l+r/2))}:R,Y=e.enableLabel,z=e.label,q=e.labelSkipWidth,H=e.labelSkipHeight,Z=e.labelTextColor,U=e.colorBy,G=e.colors,$=e.borderRadius,_=void 0===$?T.borderRadius:$,J=e.borderWidth,K=void 0===J?T.borderWidth:J,ee=e.borderColor,te=e.annotations,ne=void 0===te?T.annotations:te,ie=e.legendLabel,re=e.tooltipLabel,oe=e.valueFormat,ce=e.isInteractive,de=void 0===ce?T.isInteractive:ce,se=e.tooltip,fe=void 0===se?T.tooltip:se,he=e.onClick,me=e.onMouseEnter,be=e.onMouseLeave,ge=e.legends,ve=e.pixelRatio,xe=void 0===ve?T.pixelRatio:ve,ye=e.canvasRef,pe=(0,u.useRef)(null),ke=(0,l.Fg)(),Se=(0,l.Bs)(f,h,s),we=Se.margin,je=Se.innerWidth,We=Se.innerHeight,Ce=Se.outerWidth,Pe=Se.outerHeight,Oe=Q({indexBy:n,label:z,tooltipLabel:re,valueFormat:oe,colors:G,colorBy:U,borderColor:ee,labelTextColor:Z,groupMode:m,layout:b,reverse:g,data:t,keys:c,minValue:v,maxValue:x,margin:we,width:je,height:We,padding:S,innerPadding:w,valueScale:y,indexScale:k,enableLabel:Y,labelSkipWidth:q,labelSkipHeight:H,legends:ge,legendLabel:ie}),Ve=Oe.bars,Le=Oe.barsWithValue,Ne=Oe.xScale,Ee=Oe.yScale,Te=Oe.getLabel,Me=Oe.getTooltipLabel,Be=Oe.getBorderColor,De=Oe.getLabelColor,Ie=Oe.shouldRenderBarLabel,Fe=Oe.legendsWithData,Ae=(0,d.lL)(),Re=Ae.showTooltipFromEvent,Xe=Ae.hideTooltip,Ye=(0,r.zs)({annotations:(0,r.O2)({data:Ve,annotations:ne,getPosition:function(e){return{x:e.x,y:e.y}},getDimensions:function(e){var t=e.width,n=e.height;return{width:t,height:n,size:Math.max(t,n)}}})}),ze=(0,u.useMemo)((function(){return{borderRadius:_,borderWidth:K,enableLabel:Y,isInteractive:de,labelSkipWidth:q,labelSkipHeight:H,onClick:he,onMouseEnter:me,onMouseLeave:be,getTooltipLabel:Me,tooltip:fe,margin:we,innerWidth:je,innerHeight:We,width:f,height:h,bars:Ve,xScale:Ne,yScale:Ee}}),[_,K,Y,Me,h,We,je,de,H,q,we,he,me,be,Ve,Ne,Ee,fe,f]);(0,u.useEffect)((function(){var e,t=null===(e=pe.current)||void 0===e?void 0:e.getContext("2d");pe.current&&t&&(pe.current.width=Ce*xe,pe.current.height=Pe*xe,t.scale(xe,xe),t.fillStyle=ke.background,t.fillRect(0,0,Ce,Pe),t.translate(we.left,we.top),A.forEach((function(e){"grid"===e?"number"==typeof ke.grid.line.strokeWidth&&ke.grid.line.strokeWidth>0&&(t.lineWidth=ke.grid.line.strokeWidth,t.strokeStyle=ke.grid.line.stroke,E&&(0,i.FA)(t,{width:f,height:h,scale:Ne,axis:"x",values:D}),B&&(0,i.FA)(t,{width:f,height:h,scale:Ee,axis:"y",values:I})):"axes"===e?(0,i.DZ)(t,{xScale:Ne,yScale:Ee,width:je,height:We,top:W,right:C,bottom:O,left:L,theme:ke}):"bars"===e?Le.forEach((function(e){X(t,{bar:e,borderColor:Be(e),borderRadius:_,borderWidth:K,label:Te(e.data),labelColor:De(e),shouldRenderLabel:Ie(e)})})):"legends"===e?Fe.forEach((function(e){var n=j(e,2),i=n[0],r=n[1];(0,a.as)(t,p(p({},i),{},{data:r,containerWidth:je,containerHeight:We,theme:ke}))})):"annotations"===e?(0,r.dS)(t,{annotations:Ye,theme:ke}):"function"==typeof e&&e(t,ze)})),t.save())}),[O,L,C,W,Le,_,K,Ye,E,B,Be,Te,De,D,I,m,h,We,je,ze,A,b,Fe,we.left,we.top,Pe,Ce,xe,X,Ne,Ee,g,Ie,ke,f]);var qe=(0,u.useCallback)((function(e){if(Ve&&pe.current){var t=j((0,l.P6)(pe.current,e),2),n=t[0],i=t[1],r=ue(Ve,we,n,i);void 0!==r?(Re((0,u.createElement)(fe,p(p({},r.data),{},{color:r.color,label:r.label,value:Number(r.data.value)})),e),"mouseenter"===e.type&&(null==me||me(r.data,e))):Xe()}}),[Xe,we,me,Ve,Re,fe]),He=(0,u.useCallback)((function(e){if(Ve&&pe.current){Xe();var t=j((0,l.P6)(pe.current,e),2),n=t[0],i=t[1],r=ue(Ve,we,n,i);r&&(null==be||be(r.data,e))}}),[Xe,we,be,Ve]),Ze=(0,u.useCallback)((function(e){if(Ve&&pe.current){var t=j((0,l.P6)(pe.current,e),2),n=t[0],i=t[1],r=ue(Ve,we,n,i);void 0!==r&&(null==he||he(p(p({},r.data),{},{color:r.color}),e))}}),[we,he,Ve]);return(0,o.jsxDEV)("canvas",{ref:function(e){pe.current=e,ye&&"current"in ye&&(ye.current=e)},width:Ce*xe,height:Pe*xe,style:{width:Ce,height:Pe,cursor:de?"auto":"normal"},onMouseEnter:de?qe:void 0,onMouseMove:de?qe:void 0,onMouseLeave:de?He:void 0,onClick:de?Ze:void 0},void 0,!1,{fileName:ae,lineNumber:469,columnNumber:9},le)},de=(0,u.forwardRef)((function(e,t){var n=e.isInteractive,i=e.renderWrapper,r=e.theme,a=v(e,oe);return(0,o.jsxDEV)(l.W2,{isInteractive:n,renderWrapper:i,theme:r,animate:!1,children:(0,o.jsxDEV)(ce,p(p({},a),{},{canvasRef:t}),void 0,!1,{fileName:ae,lineNumber:495,columnNumber:13},le)},void 0,!1,{fileName:ae,lineNumber:494,columnNumber:9},le)})),se="/Users/raph/projects/plouc/nivo/packages/bar/src/ResponsiveBar.tsx",fe=void 0,he=function(e){return(0,o.jsxDEV)(l.d,{children:function(t){var n=t.width,i=t.height;return(0,o.jsxDEV)(re,p({width:n,height:i},e),void 0,!1,{fileName:se,lineNumber:9,columnNumber:33},fe)}},void 0,!1,{fileName:se,lineNumber:8,columnNumber:5},fe)},me="/Users/raph/projects/plouc/nivo/packages/bar/src/ResponsiveBarCanvas.tsx",be=(0,u.forwardRef)((function(e,t){var n=this;return(0,o.jsxDEV)(l.d,{children:function(i){var r=i.width,a=i.height;return(0,o.jsxDEV)(de,p(p({width:r,height:a},e),{},{ref:t}),void 0,!1,{fileName:me,lineNumber:12,columnNumber:17},n)}},void 0,!1,{fileName:me,lineNumber:10,columnNumber:9},this)}))},98129:function(e,t,n){var i=n(52033);e.exports=function(e,t){var n=[];return i(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}},69238:function(e,t,n){var i=n(10263),r=n(98129),o=n(89278),a=n(19785);e.exports=function(e,t){return(a(e)?i:r)(e,o(t,3))}}}]);
//# sourceMappingURL=c0102c4e61ed07f26cd4cea40f092058d0010fd8-f6eb03834db0bb26cf7d.js.map