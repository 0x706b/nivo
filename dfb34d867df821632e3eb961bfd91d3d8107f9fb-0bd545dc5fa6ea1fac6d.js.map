{"version":3,"file":"dfb34d867df821632e3eb961bfd91d3d8107f9fb-0bd545dc5fa6ea1fac6d.js","mappings":"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","sources":["webpack://nivo-website/../node_modules/d3-shape/src/descending.js","webpack://nivo-website/../node_modules/d3-shape/src/identity.js","webpack://nivo-website/../src/PieLegends.tsx","webpack://nivo-website/../src/PieTooltip.tsx","webpack://nivo-website/../src/props.ts","webpack://nivo-website/../src/hooks.ts","webpack://nivo-website/../node_modules/d3-shape/src/pie.js","webpack://nivo-website/../src/Arcs.tsx","webpack://nivo-website/../src/Pie.tsx","webpack://nivo-website/../src/ResponsivePie.tsx","webpack://nivo-website/../src/PieCanvas.tsx","webpack://nivo-website/../src/ResponsivePieCanvas.tsx"],"sourcesContent":["export default function (a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}","export default function (d) {\n  return d;\n}","import { BoxLegendSvg } from '@nivo/legends'\nimport { CompletePieSvgProps, ComputedDatum, DatumId } from './types'\n\ninterface PieLegendsProps<RawDatum> {\n    width: number\n    height: number\n    legends: CompletePieSvgProps<RawDatum>['legends']\n    data: Omit<ComputedDatum<RawDatum>, 'arc'>[]\n    toggleSerie: (id: DatumId) => void\n}\n\nconst PieLegends = <RawDatum,>({\n    width,\n    height,\n    legends,\n    data,\n    toggleSerie,\n}: PieLegendsProps<RawDatum>) => {\n    return (\n        <>\n            {legends.map((legend, i) => (\n                <BoxLegendSvg\n                    key={i}\n                    {...legend}\n                    containerWidth={width}\n                    containerHeight={height}\n                    data={legend.data ?? data}\n                    toggleSerie={legend.toggleSerie ? toggleSerie : undefined}\n                />\n            ))}\n        </>\n    )\n}\n\nexport default PieLegends\n","import { BasicTooltip } from '@nivo/tooltip'\nimport { ComputedDatum } from './types'\n\nexport const PieTooltip = <RawDatum,>({ datum }: { datum: ComputedDatum<RawDatum> }) => (\n    <BasicTooltip\n        id={datum.id}\n        value={datum.formattedValue}\n        enableChip={true}\n        color={datum.color}\n    />\n)\n\nexport default PieTooltip\n","import { OrdinalColorScaleConfig } from '@nivo/colors'\nimport { ArcTransitionMode } from '@nivo/arcs'\nimport { PieTooltip } from './PieTooltip'\n\nexport const defaultProps = {\n    id: 'id',\n    value: 'value',\n    sortByValue: false,\n    innerRadius: 0,\n    padAngle: 0,\n    cornerRadius: 0,\n\n    layers: ['arcLinkLabels', 'arcs', 'arcLabels', 'legends'],\n\n    // layout\n    startAngle: 0,\n    endAngle: 360,\n    fit: true,\n    activeInnerRadiusOffset: 0,\n    activeOuterRadiusOffset: 0,\n\n    // border\n    borderWidth: 0,\n    borderColor: {\n        from: 'color',\n        modifiers: [['darker', 1]],\n    },\n\n    // arc labels\n    enableArcLabels: true,\n    arcLabel: 'formattedValue',\n    arcLabelsSkipAngle: 0,\n    arcLabelsRadiusOffset: 0.5,\n    arcLabelsTextColor: { theme: 'labels.text.fill' },\n\n    // arc link labels\n    enableArcLinkLabels: true,\n    arcLinkLabel: 'id',\n    arcLinkLabelsSkipAngle: 0,\n    arcLinkLabelsOffset: 0,\n    arcLinkLabelsDiagonalLength: 16,\n    arcLinkLabelsStraightLength: 24,\n    arcLinkLabelsThickness: 1,\n    arcLinkLabelsTextOffset: 6,\n    arcLinkLabelsTextColor: { theme: 'labels.text.fill' },\n    arcLinkLabelsColor: { theme: 'axis.ticks.line.stroke' },\n\n    colors: { scheme: 'nivo' } as unknown as OrdinalColorScaleConfig,\n    defs: [],\n    fill: [],\n\n    isInteractive: true,\n\n    animate: true,\n    motionConfig: 'gentle',\n    transitionMode: 'innerRadius' as ArcTransitionMode,\n\n    tooltip: PieTooltip,\n\n    legends: [],\n\n    role: 'img',\n\n    pixelRatio: typeof window !== 'undefined' ? window.devicePixelRatio ?? 1 : 1,\n}\n","import { useCallback, useMemo, useState } from 'react'\nimport { pie as d3Pie } from 'd3-shape'\nimport { useArcGenerator, computeArcBoundingBox } from '@nivo/arcs'\nimport {\n    degreesToRadians,\n    radiansToDegrees,\n    useValueFormatter,\n    usePropertyAccessor,\n} from '@nivo/core'\nimport { OrdinalColorScaleConfig, useOrdinalColorScale } from '@nivo/colors'\nimport { defaultProps } from './props'\nimport { CompletePieSvgProps, ComputedDatum, DatumId, PieArc, PieCustomLayerProps } from './types'\n\ninterface MayHaveLabel {\n    label?: string | number\n}\n\n/**\n * Format data so that we get a consistent data structure.\n * It will also add the `formattedValue` and `color` property.\n */\nexport const useNormalizedData = <RawDatum extends MayHaveLabel>({\n    data,\n    id = defaultProps.id,\n    value = defaultProps.value,\n    valueFormat,\n    colors = defaultProps.colors as OrdinalColorScaleConfig<\n        Omit<ComputedDatum<RawDatum>, 'arc' | 'color' | 'fill'>\n    >,\n}: Pick<CompletePieSvgProps<RawDatum>, 'id' | 'value' | 'valueFormat' | 'colors'> & {\n    data: RawDatum[]\n}): Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>[] => {\n    const getId = usePropertyAccessor<RawDatum, DatumId>(id)\n    const getValue = usePropertyAccessor<RawDatum, number>(value)\n    const formatValue = useValueFormatter<number>(valueFormat)\n\n    const getColor = useOrdinalColorScale<Omit<ComputedDatum<RawDatum>, 'arc' | 'color' | 'fill'>>(\n        colors,\n        'id'\n    )\n\n    return useMemo(\n        () =>\n            data.map(datum => {\n                const datumId = getId(datum)\n                const datumValue = getValue(datum)\n\n                const normalizedDatum: Omit<ComputedDatum<RawDatum>, 'arc' | 'color' | 'fill'> = {\n                    id: datumId,\n                    label: datum.label ?? datumId,\n                    hidden: false,\n                    value: datumValue,\n                    formattedValue: formatValue(datumValue),\n                    data: datum,\n                }\n\n                return {\n                    ...normalizedDatum,\n                    color: getColor(normalizedDatum),\n                }\n            }),\n        [data, getId, getValue, formatValue, getColor]\n    )\n}\n\n/**\n * Compute arcs, which don't depend yet on radius.\n */\nexport const usePieArcs = <RawDatum>({\n    data,\n    startAngle,\n    endAngle,\n    innerRadius,\n    outerRadius,\n    padAngle,\n    sortByValue,\n    activeId,\n    activeInnerRadiusOffset,\n    activeOuterRadiusOffset,\n    hiddenIds,\n}: {\n    data: Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>[]\n    // in degrees\n    startAngle: number\n    // in degrees\n    endAngle: number\n    // in pixels\n    innerRadius: number\n    // in pixels\n    outerRadius: number\n    padAngle: number\n    sortByValue: boolean\n    activeId: null | DatumId\n    activeInnerRadiusOffset: number\n    activeOuterRadiusOffset: number\n    hiddenIds: DatumId[]\n}): {\n    dataWithArc: Omit<ComputedDatum<RawDatum>, 'fill'>[]\n    legendData: Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>[]\n} => {\n    const pie = useMemo(() => {\n        const innerPie = d3Pie<Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>>()\n            .value(d => d.value)\n            .startAngle(degreesToRadians(startAngle))\n            .endAngle(degreesToRadians(endAngle))\n            .padAngle(degreesToRadians(padAngle))\n\n        if (!sortByValue) {\n            innerPie.sortValues(null)\n        }\n\n        return innerPie\n    }, [startAngle, endAngle, padAngle, sortByValue])\n\n    return useMemo(() => {\n        const hiddenData = data.filter(item => !hiddenIds.includes(item.id))\n        const dataWithArc = pie(hiddenData).map(\n            (\n                arc: Omit<\n                    PieArc,\n                    'angle' | 'angleDeg' | 'innerRadius' | 'outerRadius' | 'thickness'\n                > & {\n                    data: Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>\n                }\n            ) => {\n                const angle = Math.abs(arc.endAngle - arc.startAngle)\n\n                return {\n                    ...arc.data,\n                    arc: {\n                        index: arc.index,\n                        startAngle: arc.startAngle,\n                        endAngle: arc.endAngle,\n                        innerRadius:\n                            activeId === arc.data.id\n                                ? innerRadius - activeInnerRadiusOffset\n                                : innerRadius,\n                        outerRadius:\n                            activeId === arc.data.id\n                                ? outerRadius + activeOuterRadiusOffset\n                                : outerRadius,\n                        thickness: outerRadius - innerRadius,\n                        padAngle: arc.padAngle,\n                        angle,\n                        angleDeg: radiansToDegrees(angle),\n                    },\n                }\n            }\n        )\n        const legendData = data.map(item => ({ ...item, hidden: hiddenIds.includes(item.id) }))\n\n        return { dataWithArc, legendData }\n    }, [\n        pie,\n        data,\n        hiddenIds,\n        activeId,\n        innerRadius,\n        activeInnerRadiusOffset,\n        outerRadius,\n        activeOuterRadiusOffset,\n    ])\n}\n\n/**\n * Compute pie layout using explicit radius/innerRadius,\n * expressed in pixels.\n */\nexport const usePie = <RawDatum>({\n    data,\n    radius,\n    innerRadius,\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    sortByValue = defaultProps.sortByValue,\n    cornerRadius = defaultProps.cornerRadius,\n    activeInnerRadiusOffset = defaultProps.activeInnerRadiusOffset,\n    activeOuterRadiusOffset = defaultProps.activeOuterRadiusOffset,\n}: Pick<\n    Partial<CompletePieSvgProps<RawDatum>>,\n    | 'startAngle'\n    | 'endAngle'\n    | 'padAngle'\n    | 'sortByValue'\n    | 'cornerRadius'\n    | 'activeInnerRadiusOffset'\n    | 'activeOuterRadiusOffset'\n> & {\n    data: Omit<ComputedDatum<RawDatum>, 'arc'>[]\n    radius: number\n    innerRadius: number\n}) => {\n    const [activeId, setActiveId] = useState<DatumId | null>(null)\n    const [hiddenIds, setHiddenIds] = useState<DatumId[]>([])\n    const pieArcs = usePieArcs({\n        data,\n        startAngle,\n        endAngle,\n        innerRadius,\n        outerRadius: radius,\n        padAngle,\n        sortByValue,\n        activeId,\n        activeInnerRadiusOffset,\n        activeOuterRadiusOffset,\n        hiddenIds,\n    })\n\n    const toggleSerie = useCallback((id: DatumId) => {\n        setHiddenIds(state =>\n            state.indexOf(id) > -1 ? state.filter(item => item !== id) : [...state, id]\n        )\n    }, [])\n\n    const arcGenerator = useArcGenerator({ cornerRadius, padAngle: degreesToRadians(padAngle) })\n\n    return { ...pieArcs, arcGenerator, setActiveId, toggleSerie }\n}\n\n/**\n * Compute pie layout using a box to find radius/innerRadius,\n * expressed in ratio (0~1), can optionally use the `fit`\n * attribute to find the most space efficient layout.\n *\n * It also returns `centerX`/`centerY` as those can be altered\n * if `fit` is `true`.\n */\nexport const usePieFromBox = <RawDatum>({\n    data,\n    width,\n    height,\n    innerRadius: innerRadiusRatio = defaultProps.innerRadius,\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    sortByValue = defaultProps.sortByValue,\n    cornerRadius = defaultProps.cornerRadius,\n    fit = defaultProps.fit,\n    activeInnerRadiusOffset = defaultProps.activeInnerRadiusOffset,\n    activeOuterRadiusOffset = defaultProps.activeOuterRadiusOffset,\n}: Pick<\n    CompletePieSvgProps<RawDatum>,\n    | 'width'\n    | 'height'\n    | 'innerRadius'\n    | 'startAngle'\n    | 'endAngle'\n    | 'padAngle'\n    | 'sortByValue'\n    | 'cornerRadius'\n    | 'fit'\n    | 'activeInnerRadiusOffset'\n    | 'activeOuterRadiusOffset'\n> & {\n    data: Omit<ComputedDatum<RawDatum>, 'arc'>[]\n}) => {\n    const [activeId, setActiveId] = useState<string | number | null>(null)\n    const [hiddenIds, setHiddenIds] = useState<DatumId[]>([])\n    const computedProps = useMemo(() => {\n        let radius = Math.min(width, height) / 2\n        let innerRadius = radius * Math.min(innerRadiusRatio, 1)\n\n        let centerX = width / 2\n        let centerY = height / 2\n\n        let boundingBox\n        if (fit) {\n            const { points, ...box } = computeArcBoundingBox(\n                centerX,\n                centerY,\n                radius,\n                startAngle - 90,\n                endAngle - 90\n            )\n            const ratio = Math.min(width / box.width, height / box.height)\n\n            const adjustedBox: {\n                width: number\n                height: number\n                x?: number\n                y?: number\n            } = {\n                width: box.width * ratio,\n                height: box.height * ratio,\n            }\n            adjustedBox.x = (width - adjustedBox.width) / 2\n            adjustedBox.y = (height - adjustedBox.height) / 2\n\n            centerX = ((centerX - box.x) / box.width) * box.width * ratio + adjustedBox.x\n            centerY = ((centerY - box.y) / box.height) * box.height * ratio + adjustedBox.y\n\n            boundingBox = { box, ratio, points }\n\n            radius = radius * ratio\n            innerRadius = innerRadius * ratio\n        }\n\n        return {\n            centerX,\n            centerY,\n            radius,\n            innerRadius,\n            debug: boundingBox,\n        }\n    }, [width, height, innerRadiusRatio, startAngle, endAngle, fit, cornerRadius])\n\n    const pieArcs = usePieArcs({\n        data,\n        startAngle,\n        endAngle,\n        innerRadius: computedProps.innerRadius,\n        outerRadius: computedProps.radius,\n        padAngle,\n        sortByValue,\n        activeId,\n        activeInnerRadiusOffset,\n        activeOuterRadiusOffset,\n        hiddenIds,\n    })\n\n    const toggleSerie = useCallback((id: DatumId) => {\n        setHiddenIds(state =>\n            state.indexOf(id) > -1 ? state.filter(item => item !== id) : [...state, id]\n        )\n    }, [])\n\n    const arcGenerator = useArcGenerator({\n        cornerRadius,\n        padAngle: degreesToRadians(padAngle),\n    })\n\n    return {\n        arcGenerator,\n        setActiveId,\n        toggleSerie,\n        ...pieArcs,\n        ...computedProps,\n    }\n}\n\n/**\n * Memoize the context to pass to custom layers.\n */\nexport const usePieLayerContext = <RawDatum>({\n    dataWithArc,\n    arcGenerator,\n    centerX,\n    centerY,\n    radius,\n    innerRadius,\n}: PieCustomLayerProps<RawDatum>): PieCustomLayerProps<RawDatum> =>\n    useMemo(\n        () => ({\n            dataWithArc,\n            arcGenerator,\n            centerX,\n            centerY,\n            radius,\n            innerRadius,\n        }),\n        [dataWithArc, arcGenerator, centerX, centerY, radius, innerRadius]\n    )\n","import constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport { tau } from \"./math.js\";\nexport default function () {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    } // Optionally sort the arcs by previously-computed values or by data.\n\n\n    if (sortValues != null) index.sort(function (i, j) {\n      return sortValues(arcs[i], arcs[j]);\n    });else if (sort != null) index.sort(function (i, j) {\n      return sort(data[i], data[j]);\n    }); // Compute the arcs! They are stored in the original data's order.\n\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function (_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function (_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function (_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function (_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function (_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function (_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}","import { createElement, useMemo } from 'react'\nimport * as React from 'react'\nimport { ArcGenerator, ArcsLayer } from '@nivo/arcs'\nimport { useTooltip } from '@nivo/tooltip'\nimport { ComputedDatum, CompletePieSvgProps } from './types'\n\ninterface ArcsProps<RawDatum> {\n    center: [number, number]\n    data: ComputedDatum<RawDatum>[]\n    arcGenerator: ArcGenerator\n    borderWidth: CompletePieSvgProps<RawDatum>['borderWidth']\n    borderColor: CompletePieSvgProps<RawDatum>['borderColor']\n    isInteractive: CompletePieSvgProps<RawDatum>['isInteractive']\n    onClick?: CompletePieSvgProps<RawDatum>['onClick']\n    onMouseEnter?: CompletePieSvgProps<RawDatum>['onMouseEnter']\n    onMouseMove?: CompletePieSvgProps<RawDatum>['onMouseMove']\n    onMouseLeave?: CompletePieSvgProps<RawDatum>['onMouseLeave']\n    setActiveId: (id: null | string | number) => void\n    tooltip: CompletePieSvgProps<RawDatum>['tooltip']\n    transitionMode: CompletePieSvgProps<RawDatum>['transitionMode']\n}\n\nexport const Arcs = <RawDatum,>({\n    center,\n    data,\n    arcGenerator,\n    borderWidth,\n    borderColor,\n    isInteractive,\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    setActiveId,\n    tooltip,\n    transitionMode,\n}: ArcsProps<RawDatum>) => {\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleClick = useMemo(() => {\n        if (!isInteractive) return undefined\n\n        return (datum: ComputedDatum<RawDatum>, event: React.MouseEvent<SVGPathElement>) => {\n            onClick?.(datum, event)\n        }\n    }, [isInteractive, onClick])\n\n    const handleMouseEnter = useMemo(() => {\n        if (!isInteractive) return undefined\n\n        return (datum: ComputedDatum<RawDatum>, event: React.MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { datum }), event)\n            setActiveId(datum.id)\n            onMouseEnter?.(datum, event)\n        }\n    }, [isInteractive, showTooltipFromEvent, setActiveId, onMouseEnter])\n\n    const handleMouseMove = useMemo(() => {\n        if (!isInteractive) return undefined\n\n        return (datum: ComputedDatum<RawDatum>, event: React.MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { datum }), event)\n            onMouseMove?.(datum, event)\n        }\n    }, [isInteractive, showTooltipFromEvent, onMouseMove])\n\n    const handleMouseLeave = useMemo(() => {\n        if (!isInteractive) return undefined\n\n        return (datum: ComputedDatum<RawDatum>, event: React.MouseEvent<SVGPathElement>) => {\n            hideTooltip()\n            setActiveId(null)\n            onMouseLeave?.(datum, event)\n        }\n    }, [isInteractive, hideTooltip, setActiveId, onMouseLeave])\n\n    return (\n        <ArcsLayer<ComputedDatum<RawDatum>>\n            center={center}\n            data={data}\n            arcGenerator={arcGenerator}\n            borderWidth={borderWidth}\n            borderColor={borderColor}\n            transitionMode={transitionMode}\n            onClick={handleClick}\n            onMouseEnter={handleMouseEnter}\n            onMouseMove={handleMouseMove}\n            onMouseLeave={handleMouseLeave}\n        />\n    )\n}\n","import { ReactNode, Fragment, createElement } from 'react'\nimport {\n    // @ts-ignore\n    bindDefs,\n    useDimensions,\n    Container,\n    SvgWrapper,\n} from '@nivo/core'\nimport { ArcLabelsLayer, ArcLinkLabelsLayer } from '@nivo/arcs'\nimport { InheritedColorConfig } from '@nivo/colors'\nimport PieLegends from './PieLegends'\nimport { useNormalizedData, usePieFromBox, usePieLayerContext } from './hooks'\nimport { ComputedDatum, PieLayer, PieSvgProps, PieLayerId } from './types'\nimport { defaultProps } from './props'\nimport { Arcs } from './Arcs'\n\nconst InnerPie = <RawDatum,>({\n    data,\n    id = defaultProps.id,\n    value = defaultProps.value,\n    valueFormat,\n    sortByValue = defaultProps.sortByValue,\n\n    layers = defaultProps.layers as PieLayer<RawDatum>[],\n\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    fit = defaultProps.fit,\n    innerRadius: innerRadiusRatio = defaultProps.innerRadius,\n    cornerRadius = defaultProps.cornerRadius,\n    activeInnerRadiusOffset = defaultProps.activeInnerRadiusOffset,\n    activeOuterRadiusOffset = defaultProps.activeOuterRadiusOffset,\n\n    width,\n    height,\n    margin: partialMargin,\n\n    colors = defaultProps.colors,\n\n    // border\n    borderWidth = defaultProps.borderWidth,\n    borderColor = defaultProps.borderColor as InheritedColorConfig<ComputedDatum<RawDatum>>,\n\n    // arc labels\n    enableArcLabels = defaultProps.enableArcLabels,\n    arcLabel = defaultProps.arcLabel,\n    arcLabelsSkipAngle = defaultProps.arcLabelsSkipAngle,\n    arcLabelsTextColor = defaultProps.arcLabelsTextColor,\n    arcLabelsRadiusOffset = defaultProps.arcLabelsRadiusOffset,\n    arcLabelsComponent,\n\n    // arc link labels\n    enableArcLinkLabels = defaultProps.enableArcLinkLabels,\n    arcLinkLabel = defaultProps.arcLinkLabel,\n    arcLinkLabelsSkipAngle = defaultProps.arcLinkLabelsSkipAngle,\n    arcLinkLabelsOffset = defaultProps.arcLinkLabelsOffset,\n    arcLinkLabelsDiagonalLength = defaultProps.arcLinkLabelsDiagonalLength,\n    arcLinkLabelsStraightLength = defaultProps.arcLinkLabelsStraightLength,\n    arcLinkLabelsThickness = defaultProps.arcLinkLabelsThickness,\n    arcLinkLabelsTextOffset = defaultProps.arcLinkLabelsTextOffset,\n    arcLinkLabelsTextColor = defaultProps.arcLinkLabelsTextColor,\n    arcLinkLabelsColor = defaultProps.arcLinkLabelsColor,\n    arcLinkLabelComponent,\n\n    // styling\n    defs = defaultProps.defs,\n    fill = defaultProps.fill,\n\n    // interactivity\n    isInteractive = defaultProps.isInteractive,\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    tooltip = defaultProps.tooltip,\n\n    transitionMode = defaultProps.transitionMode,\n\n    legends = defaultProps.legends,\n    role = defaultProps.role,\n}: PieSvgProps<RawDatum>) => {\n    const { outerWidth, outerHeight, margin, innerWidth, innerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const normalizedData = useNormalizedData<RawDatum>({\n        data,\n        id,\n        value,\n        valueFormat,\n        colors,\n    })\n\n    const {\n        dataWithArc,\n        legendData,\n        arcGenerator,\n        centerX,\n        centerY,\n        radius,\n        innerRadius,\n        setActiveId,\n        toggleSerie,\n    } = usePieFromBox<RawDatum>({\n        data: normalizedData,\n        width: innerWidth,\n        height: innerHeight,\n        fit,\n        innerRadius: innerRadiusRatio,\n        startAngle,\n        endAngle,\n        padAngle,\n        sortByValue,\n        cornerRadius,\n        activeInnerRadiusOffset,\n        activeOuterRadiusOffset,\n    })\n\n    const boundDefs = bindDefs(defs, dataWithArc, fill)\n\n    const layerById: Record<PieLayerId, ReactNode> = {\n        arcLinkLabels: null,\n        arcs: null,\n        arcLabels: null,\n        legends: null,\n    }\n\n    if (enableArcLinkLabels && layers.includes('arcLinkLabels')) {\n        layerById.arcLinkLabels = (\n            <ArcLinkLabelsLayer<ComputedDatum<RawDatum>>\n                key=\"arcLinkLabels\"\n                center={[centerX, centerY]}\n                data={dataWithArc}\n                label={arcLinkLabel}\n                skipAngle={arcLinkLabelsSkipAngle}\n                offset={arcLinkLabelsOffset}\n                diagonalLength={arcLinkLabelsDiagonalLength}\n                straightLength={arcLinkLabelsStraightLength}\n                strokeWidth={arcLinkLabelsThickness}\n                textOffset={arcLinkLabelsTextOffset}\n                textColor={arcLinkLabelsTextColor}\n                linkColor={arcLinkLabelsColor}\n                component={arcLinkLabelComponent}\n            />\n        )\n    }\n\n    if (layers.includes('arcs')) {\n        layerById.arcs = (\n            <Arcs<RawDatum>\n                key=\"arcs\"\n                center={[centerX, centerY]}\n                data={dataWithArc}\n                arcGenerator={arcGenerator}\n                borderWidth={borderWidth}\n                borderColor={borderColor}\n                isInteractive={isInteractive}\n                onClick={onClick}\n                onMouseEnter={onMouseEnter}\n                onMouseMove={onMouseMove}\n                onMouseLeave={onMouseLeave}\n                setActiveId={setActiveId}\n                tooltip={tooltip}\n                transitionMode={transitionMode}\n            />\n        )\n    }\n\n    if (enableArcLabels && layers.includes('arcLabels')) {\n        layerById.arcLabels = (\n            <ArcLabelsLayer<ComputedDatum<RawDatum>>\n                key=\"arcLabels\"\n                center={[centerX, centerY]}\n                data={dataWithArc}\n                label={arcLabel}\n                radiusOffset={arcLabelsRadiusOffset}\n                skipAngle={arcLabelsSkipAngle}\n                textColor={arcLabelsTextColor}\n                transitionMode={transitionMode}\n                component={arcLabelsComponent}\n            />\n        )\n    }\n\n    if (legends.length > 0 && layers.includes('legends')) {\n        layerById.legends = (\n            <PieLegends<RawDatum>\n                key=\"legends\"\n                width={innerWidth}\n                height={innerHeight}\n                data={legendData}\n                legends={legends}\n                toggleSerie={toggleSerie}\n            />\n        )\n    }\n\n    const layerContext = usePieLayerContext<RawDatum>({\n        dataWithArc,\n        arcGenerator,\n        centerX,\n        centerY,\n        radius,\n        innerRadius,\n    })\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            defs={boundDefs}\n            role={role}\n        >\n            {layers.map((layer, i) => {\n                if (layerById[layer as PieLayerId] !== undefined) {\n                    return layerById[layer as PieLayerId]\n                }\n\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, layerContext)}</Fragment>\n                }\n\n                return null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport const Pie = <RawDatum,>({\n    isInteractive = defaultProps.isInteractive,\n    animate = defaultProps.animate,\n    motionConfig = defaultProps.motionConfig,\n    theme,\n    renderWrapper,\n    ...otherProps\n}: PieSvgProps<RawDatum>) => (\n    <Container\n        {...{\n            animate,\n            isInteractive,\n            motionConfig,\n            renderWrapper,\n            theme,\n        }}\n    >\n        <InnerPie<RawDatum> isInteractive={isInteractive} {...otherProps} />\n    </Container>\n)\n","import { ResponsiveWrapper } from '@nivo/core'\nimport { Pie } from './Pie'\nimport { PieSvgProps } from './types'\n\nexport const ResponsivePie = <RawDatum,>(\n    props: Omit<PieSvgProps<RawDatum>, 'width' | 'height'>\n) => (\n    <ResponsiveWrapper>\n        {({ width, height }: { width: number; height: number }) => (\n            <Pie<RawDatum> width={width} height={height} {...props} />\n        )}\n    </ResponsiveWrapper>\n)\n","import { createElement, useEffect, useMemo, useRef } from 'react'\nimport * as React from 'react'\nimport { getRelativeCursor, useDimensions, useTheme, Container } from '@nivo/core'\nimport { renderLegendToCanvas } from '@nivo/legends'\nimport { useInheritedColor, InheritedColorConfig } from '@nivo/colors'\nimport { useTooltip } from '@nivo/tooltip'\nimport {\n    Arc,\n    findArcUnderCursor,\n    useArcLabels,\n    drawCanvasArcLabels,\n    useArcLinkLabels,\n    drawCanvasArcLinkLabels,\n} from '@nivo/arcs'\nimport { useNormalizedData, usePieFromBox } from './hooks'\nimport { ComputedDatum, PieCanvasProps } from './types'\nimport { defaultProps } from './props'\n\nconst InnerPieCanvas = <RawDatum,>({\n    data,\n    id = defaultProps.id,\n    value = defaultProps.value,\n    valueFormat,\n    sortByValue = defaultProps.sortByValue,\n\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    fit = defaultProps.fit,\n    innerRadius: innerRadiusRatio = defaultProps.innerRadius,\n    cornerRadius = defaultProps.cornerRadius,\n    activeInnerRadiusOffset = defaultProps.activeInnerRadiusOffset,\n    activeOuterRadiusOffset = defaultProps.activeOuterRadiusOffset,\n\n    width,\n    height,\n    margin: partialMargin,\n    pixelRatio = 1,\n\n    colors = defaultProps.colors,\n\n    // border\n    borderWidth = defaultProps.borderWidth,\n    borderColor = defaultProps.borderColor as InheritedColorConfig<ComputedDatum<RawDatum>>,\n\n    // arc labels\n    enableArcLabels = defaultProps.enableArcLabels,\n    arcLabel = defaultProps.arcLabel,\n    arcLabelsSkipAngle = defaultProps.arcLabelsSkipAngle,\n    arcLabelsTextColor = defaultProps.arcLabelsTextColor,\n    arcLabelsRadiusOffset = defaultProps.arcLabelsRadiusOffset,\n\n    // arc link labels\n    enableArcLinkLabels = defaultProps.enableArcLinkLabels,\n    arcLinkLabel = defaultProps.arcLinkLabel,\n    arcLinkLabelsSkipAngle = defaultProps.arcLinkLabelsSkipAngle,\n    arcLinkLabelsOffset = defaultProps.arcLinkLabelsOffset,\n    arcLinkLabelsDiagonalLength = defaultProps.arcLinkLabelsDiagonalLength,\n    arcLinkLabelsStraightLength = defaultProps.arcLinkLabelsStraightLength,\n    arcLinkLabelsThickness = defaultProps.arcLinkLabelsThickness,\n    arcLinkLabelsTextOffset = defaultProps.arcLinkLabelsTextOffset,\n    arcLinkLabelsTextColor = defaultProps.arcLinkLabelsTextColor,\n    arcLinkLabelsColor = defaultProps.arcLinkLabelsColor,\n\n    // interactivity\n    isInteractive = defaultProps.isInteractive,\n    onClick,\n    onMouseMove,\n    tooltip = defaultProps.tooltip,\n\n    legends = defaultProps.legends,\n}: PieCanvasProps<RawDatum>) => {\n    const canvasEl = useRef<HTMLCanvasElement | null>(null)\n    const theme = useTheme()\n\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const normalizedData = useNormalizedData<RawDatum>({\n        data,\n        id,\n        value,\n        valueFormat,\n        colors,\n    })\n\n    const { dataWithArc, arcGenerator, centerX, centerY, radius, innerRadius, setActiveId } =\n        usePieFromBox<RawDatum>({\n            data: normalizedData,\n            width: innerWidth,\n            height: innerHeight,\n            fit,\n            innerRadius: innerRadiusRatio,\n            startAngle,\n            endAngle,\n            padAngle,\n            sortByValue,\n            cornerRadius,\n            activeInnerRadiusOffset,\n            activeOuterRadiusOffset,\n        })\n\n    const getBorderColor = useInheritedColor<ComputedDatum<RawDatum>>(borderColor, theme)\n\n    const arcLabels = useArcLabels<ComputedDatum<RawDatum>>({\n        data: dataWithArc,\n        label: arcLabel,\n        skipAngle: arcLabelsSkipAngle,\n        offset: arcLabelsRadiusOffset,\n        textColor: arcLabelsTextColor,\n    })\n\n    const arcLinkLabels = useArcLinkLabels<ComputedDatum<RawDatum>>({\n        data: dataWithArc,\n        skipAngle: arcLinkLabelsSkipAngle,\n        offset: arcLinkLabelsOffset,\n        diagonalLength: arcLinkLabelsDiagonalLength,\n        straightLength: arcLinkLabelsStraightLength,\n        label: arcLinkLabel,\n        linkColor: arcLinkLabelsColor,\n        textOffset: arcLinkLabelsTextOffset,\n        textColor: arcLinkLabelsTextColor,\n    })\n\n    useEffect(() => {\n        if (!canvasEl.current) return\n\n        canvasEl.current.width = outerWidth * pixelRatio\n        canvasEl.current.height = outerHeight * pixelRatio\n\n        const ctx = canvasEl.current.getContext('2d')!\n\n        ctx.scale(pixelRatio, pixelRatio)\n\n        ctx.fillStyle = theme.background\n        ctx.fillRect(0, 0, outerWidth, outerHeight)\n\n        ctx.save()\n        ctx.translate(margin.left, margin.top)\n        arcGenerator.context(ctx)\n\n        ctx.save()\n        ctx.translate(centerX, centerY)\n\n        dataWithArc.forEach(arc => {\n            ctx.beginPath()\n            ctx.fillStyle = arc.color\n\n            ctx.strokeStyle = getBorderColor(arc)\n            ctx.lineWidth = borderWidth\n\n            arcGenerator(arc.arc)\n\n            ctx.fill()\n\n            if (borderWidth > 0) {\n                ctx.stroke()\n            }\n        })\n\n        if (enableArcLinkLabels === true) {\n            drawCanvasArcLinkLabels<ComputedDatum<RawDatum>>(\n                ctx,\n                arcLinkLabels,\n                theme,\n                arcLinkLabelsThickness\n            )\n        }\n\n        if (enableArcLabels === true) {\n            drawCanvasArcLabels<ComputedDatum<RawDatum>>(ctx, arcLabels, theme)\n        }\n\n        // legends assume a box rather than a center,\n        // that's why we restore previously saved position here.\n        ctx.restore()\n        legends.forEach(legend => {\n            renderLegendToCanvas(ctx, {\n                ...legend,\n                data: dataWithArc,\n                containerWidth: innerWidth,\n                containerHeight: innerHeight,\n                theme,\n            })\n        })\n    }, [\n        canvasEl,\n        innerWidth,\n        innerHeight,\n        outerWidth,\n        outerHeight,\n        margin.top,\n        margin.left,\n        pixelRatio,\n        centerX,\n        centerY,\n        arcGenerator,\n        dataWithArc,\n        getBorderColor,\n        enableArcLabels,\n        arcLabels,\n        enableArcLinkLabels,\n        arcLinkLabels,\n        arcLinkLabelsThickness,\n        legends,\n        theme,\n    ])\n\n    const arcs = useMemo(\n        () =>\n            dataWithArc.map(datum => ({\n                id: datum.id,\n                ...datum.arc,\n            })),\n        [dataWithArc]\n    )\n\n    const getArcFromMouse = (event: React.MouseEvent<HTMLCanvasElement>) => {\n        if (!canvasEl.current) return null\n\n        const [x, y] = getRelativeCursor(canvasEl.current, event)\n\n        const hoveredArc = findArcUnderCursor<Arc & { id: string | number }>(\n            margin.left + centerX,\n            margin.top + centerY,\n            radius,\n            innerRadius,\n            arcs,\n            x,\n            y\n        )\n\n        if (!hoveredArc) return null\n\n        return dataWithArc.find(datum => datum.id === hoveredArc.id)\n    }\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseHover = (event: React.MouseEvent<HTMLCanvasElement>) => {\n        const datum = getArcFromMouse(event)\n        if (datum) {\n            onMouseMove?.(datum, event)\n            setActiveId(datum.id)\n            showTooltipFromEvent(createElement(tooltip, { datum }), event)\n        } else {\n            setActiveId(null)\n            hideTooltip()\n        }\n    }\n\n    const handleMouseLeave = () => {\n        hideTooltip()\n    }\n\n    const handleClick = (event: React.MouseEvent<HTMLCanvasElement>) => {\n        if (!onClick) return\n\n        const arc = getArcFromMouse(event)\n        if (arc) {\n            onClick(arc, event)\n        }\n    }\n\n    return (\n        <canvas\n            ref={canvasEl}\n            width={outerWidth * pixelRatio}\n            height={outerHeight * pixelRatio}\n            style={{\n                width: outerWidth,\n                height: outerHeight,\n                cursor: isInteractive ? 'auto' : 'normal',\n            }}\n            onMouseEnter={isInteractive ? handleMouseHover : undefined}\n            onMouseMove={isInteractive ? handleMouseHover : undefined}\n            onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n            onClick={isInteractive ? handleClick : undefined}\n        />\n    )\n}\n\nexport const PieCanvas = <RawDatum,>({\n    isInteractive = defaultProps.isInteractive,\n    theme,\n    renderWrapper,\n    ...otherProps\n}: PieCanvasProps<RawDatum>) => (\n    <Container {...{ isInteractive, renderWrapper, theme }}>\n        <InnerPieCanvas<RawDatum> isInteractive={isInteractive} {...otherProps} />\n    </Container>\n)\n","import { ResponsiveWrapper } from '@nivo/core'\nimport { PieCanvas } from './PieCanvas'\nimport { PieCanvasProps } from './types'\n\nexport const ResponsivePieCanvas = <RawDatum,>(\n    props: Omit<PieCanvasProps<RawDatum>, 'width' | 'height'>\n) => (\n    <ResponsiveWrapper>\n        {({ width, height }: { width: number; height: number }) => (\n            <PieCanvas<RawDatum> width={width} height={height} {...props} />\n        )}\n    </ResponsiveWrapper>\n)\n"],"names":["a","b","NaN","d","PieLegends","width","height","legends","data","toggleSerie","containerWidth","containerHeight","legend","undefined","defaultProps","id","value","sortByValue","innerRadius","padAngle","cornerRadius","layers","startAngle","endAngle","fit","activeInnerRadiusOffset","activeOuterRadiusOffset","borderWidth","borderColor","from","modifiers","enableArcLabels","arcLabel","arcLabelsSkipAngle","arcLabelsRadiusOffset","arcLabelsTextColor","theme","enableArcLinkLabels","arcLinkLabel","arcLinkLabelsSkipAngle","arcLinkLabelsOffset","arcLinkLabelsDiagonalLength","arcLinkLabelsStraightLength","arcLinkLabelsThickness","arcLinkLabelsTextOffset","arcLinkLabelsTextColor","arcLinkLabelsColor","colors","scheme","defs","fill","isInteractive","animate","motionConfig","transitionMode","tooltip","datum","enableChip","color","role","pixelRatio","window","useNormalizedData","valueFormat","getId","usePropertyAccessor","getValue","formatValue","useValueFormatter","getColor","useOrdinalColorScale","useMemo","datumId","datumValue","normalizedDatum","label","hidden","formattedValue","usePieArcs","outerRadius","activeId","hiddenIds","pie","innerPie","identity","sortValues","descending","sort","constant","i","j","k","a1","v","n","length","sum","index","Array","arcs","a0","apply","this","arguments","da","Math","min","max","p","abs","pa","_","degreesToRadians","hiddenData","item","dataWithArc","angle","arc","thickness","angleDeg","radiansToDegrees","legendData","usePieFromBox","innerRadiusRatio","useState","setActiveId","setHiddenIds","computedProps","radius","centerX","centerY","computeArcBoundingBox","points","box","ratio","adjustedBox","boundingBox","debug","pieArcs","useCallback","state","arcGenerator","useArcGenerator","Arcs","center","onClick","onMouseEnter","onMouseMove","onMouseLeave","useTooltip","showTooltipFromEvent","hideTooltip","handleClick","handleMouseEnter","createElement","handleMouseMove","handleMouseLeave","InnerPie","partialMargin","margin","arcLabelsComponent","arcLinkLabelComponent","useDimensions","outerWidth","outerHeight","innerWidth","innerHeight","normalizedData","boundDefs","bindDefs","layerById","arcLinkLabels","arcLabels","skipAngle","offset","diagonalLength","straightLength","strokeWidth","textOffset","textColor","linkColor","component","radiusOffset","layerContext","usePieLayerContext","layer","Pie","renderWrapper","otherProps","ResponsivePie","InnerPieCanvas","canvasEl","useRef","useTheme","getBorderColor","useInheritedColor","useArcLabels","useArcLinkLabels","useEffect","ctx","drawCanvasArcLinkLabels","drawCanvasArcLabels","renderLegendToCanvas","getArcFromMouse","event","getRelativeCursor","x","y","hoveredArc","findArcUnderCursor","handleMouseHover","ref","style","cursor","PieCanvas","ResponsivePieCanvas"],"sourceRoot":""}