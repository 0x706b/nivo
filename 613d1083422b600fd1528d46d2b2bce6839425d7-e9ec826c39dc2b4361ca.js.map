{"version":3,"sources":["webpack:///../node_modules/gatsby/node_modules/core-js/modules/es.math.hypot.js","webpack:///../node_modules/delaunator/index.js","webpack:///../node_modules/d3-delaunay/src/path.js","webpack:///../node_modules/d3-delaunay/src/polygon.js","webpack:///../node_modules/d3-delaunay/src/voronoi.js","webpack:///../node_modules/d3-delaunay/src/delaunay.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///../src/props.ts","webpack:///../src/computeMesh.ts","webpack:///../src/hooks.ts","webpack:///../src/Voronoi.tsx","webpack:///../src/ResponsiveVoronoi.tsx","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///../src/Mesh.tsx","webpack:///../src/meshCanvas.ts"],"names":["$","$hypot","Math","hypot","abs","sqrt","target","stat","forced","Infinity","NaN","value1","value2","arg","div","sum","i","aLen","arguments","length","larg","EPSILON","pow","EDGE_STACK","Uint32Array","Delaunator","coords","this","n","Error","maxTriangles","max","_triangles","_halfedges","Int32Array","_hashSize","ceil","_hullPrev","_hullNext","_hullTri","_hullHash","fill","_ids","_dists","Float64Array","update","key","value","points","getX","undefined","defaultGetX","getY","defaultGetY","p","hullPrev","hullNext","hullTri","hullHash","minX","minY","maxX","maxY","x","y","i0","i1","i2","cx","cy","minDist","_i","d","dist","i0x","i0y","_i2","_d","i1x","i1y","minRadius","_i3","r","circumradius","i2x","i2y","_i4","quicksort","hull","j","_i5","d0","id","subarray","triangles","halfedges","orient","_i6","_x","_y","center","ax","ay","bx","by","dx","dy","ex","ey","bl","cl","circumcenter","_cx","_cy","_i7","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","k","_i8","_x2","_y2","start","_j","e","q","t","_legalize","_n","_i9","_e","floor","a","px","py","fx","fy","bp","cp","ar","b","a0","b0","al","p0","pr","pl","p1","ap","hbl","_link","br","c","qx","qy","rx","ry","ids","dists","left","right","temp","tempDist","_i10","_j2","swap","_temp","_tempDist","arr","tmp","Path","_x0","_y0","_x1","_y1","_","concat","x0","y0","w","h","Polygon","push","slice","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","Object","prototype","toString","call","constructor","name","from","test","_unsupportedIterableToArray","F","s","done","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","len","arr2","Voronoi","delaunay","_ref","_ref2","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","_this$delaunay","circumcenters","t1","t2","t3","x2","y2","x3","y3","ab","x1","y1","context","buffer","_this$delaunay2","inedges","ti","tj","xi","yi","xj","yj","_renderSegment","h0","h1","v","_project","rect","_clip","moveTo","lineTo","closePath","mark","cellPolygons","cell","wrap","_context","prev","cellPolygon","index","stop","polygon","renderCell","S","c0","_regioncode","c1","_clipSegment","_step","neighbors","ci","_iterator","cj","ai","li","aj","lj","_context2","abrupt","t0","finish","_this$delaunay3","e0","_cell","V","_clipInfinite","_clipFinite","e1","P","sx0","sy0","sx1","sy1","_S","_S2","_S3","_S4","_edgecode","_edge","contains","vx0","vy0","vxn","vyn","unshift","splice","vx","vy","_marked","flatIterable","_e3","tau","PI","pointX","pointY","jitter","sin","cos","Delaunay","_delaunator","_hullIndex","that","flatArray","collinear","sort","bounds","hullIndex","_p","_n2","l","indexOf","dc","dt","renderHull","arc","_h","trianglePolygons","trianglePolygon","renderTriangle","array","_step2","_context3","_objectWithoutProperties","source","excluded","sourceKeys","keys","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","defaultVoronoiProps","xDomain","yDomain","layers","enableLinks","linkLineWidth","linkLineColor","enableCells","cellLineWidth","cellLineColor","enablePoints","pointSize","pointColor","role","getAccessor","datum","useVoronoiMesh","width","height","debug","points2d","useMemo","point","computeMeshPoints","voronoi","computeMesh","InnerVoronoi","data","partialMargin","margin","useDimensions","outerWidth","outerHeight","xScale","scaleLinear","yScale","useVoronoi","layerById","links","cells","stroke","strokeWidth","layerContext","useVoronoiLayerContext","layer","createElement","theme","otherProps","isInteractive","animate","ResponsiveVoronoi","props","_slicedToArray","arrayWithHoles","_arr","_s","iterableToArrayLimit","arrayLikeToArray","unsupportedIterableToArray","nonIterableRest","Mesh","nodes","onMouseEnter","onMouseMove","onMouseLeave","onClick","elementRef","useRef","useState","currentIndex","setCurrentIndex","voronoiPath","getIndexAndNodeFromEvent","useCallback","event","getRelativeCursor","handleMouseEnter","node","handleMouseMove","handleMouseLeave","previousNode","handleClick","ref","opacity","style","cursor","renderVoronoiToCanvas","ctx","renderVoronoiCellToCanvas"],"mappings":"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","file":"613d1083422b600fd1528d46d2b2bce6839425d7-e9ec826c39dc2b4361ca.js","sourcesContent":["var $ = require('../internals/export');\n\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.github.io/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","import _classCallCheck from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar EPSILON = Math.pow(2, -52);\nvar EDGE_STACK = new Uint32Array(512);\n\nvar Delaunator = /*#__PURE__*/function () {\n  _createClass(Delaunator, null, [{\n    key: \"from\",\n    value: function from(points) {\n      var getX = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetX;\n      var getY = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGetY;\n      var n = points.length;\n      var coords = new Float64Array(n * 2);\n\n      for (var i = 0; i < n; i++) {\n        var p = points[i];\n        coords[2 * i] = getX(p);\n        coords[2 * i + 1] = getY(p);\n      }\n\n      return new Delaunator(coords);\n    }\n  }]);\n\n  function Delaunator(coords) {\n    _classCallCheck(this, Delaunator);\n\n    var n = coords.length >> 1;\n    if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n    this.coords = coords; // arrays that will store the triangulation graph\n\n    var maxTriangles = Math.max(2 * n - 5, 0);\n    this._triangles = new Uint32Array(maxTriangles * 3);\n    this._halfedges = new Int32Array(maxTriangles * 3); // temporary arrays for tracking the edges of the advancing convex hull\n\n    this._hashSize = Math.ceil(Math.sqrt(n));\n    this._hullPrev = new Uint32Array(n); // edge to prev edge\n\n    this._hullNext = new Uint32Array(n); // edge to next edge\n\n    this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n\n    this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n    // temporary arrays for sorting points\n\n    this._ids = new Uint32Array(n);\n    this._dists = new Float64Array(n);\n    this.update();\n  }\n\n  _createClass(Delaunator, [{\n    key: \"update\",\n    value: function update() {\n      var coords = this.coords,\n          hullPrev = this._hullPrev,\n          hullNext = this._hullNext,\n          hullTri = this._hullTri,\n          hullHash = this._hullHash;\n      var n = coords.length >> 1; // populate an array of point indices; calculate input data bbox\n\n      var minX = Infinity;\n      var minY = Infinity;\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n\n      for (var i = 0; i < n; i++) {\n        var x = coords[2 * i];\n        var y = coords[2 * i + 1];\n        if (x < minX) minX = x;\n        if (y < minY) minY = y;\n        if (x > maxX) maxX = x;\n        if (y > maxY) maxY = y;\n        this._ids[i] = i;\n      }\n\n      var cx = (minX + maxX) / 2;\n      var cy = (minY + maxY) / 2;\n      var minDist = Infinity;\n      var i0, i1, i2; // pick a seed point close to the center\n\n      for (var _i = 0; _i < n; _i++) {\n        var d = dist(cx, cy, coords[2 * _i], coords[2 * _i + 1]);\n\n        if (d < minDist) {\n          i0 = _i;\n          minDist = d;\n        }\n      }\n\n      var i0x = coords[2 * i0];\n      var i0y = coords[2 * i0 + 1];\n      minDist = Infinity; // find the point closest to the seed\n\n      for (var _i2 = 0; _i2 < n; _i2++) {\n        if (_i2 === i0) continue;\n\n        var _d = dist(i0x, i0y, coords[2 * _i2], coords[2 * _i2 + 1]);\n\n        if (_d < minDist && _d > 0) {\n          i1 = _i2;\n          minDist = _d;\n        }\n      }\n\n      var i1x = coords[2 * i1];\n      var i1y = coords[2 * i1 + 1];\n      var minRadius = Infinity; // find the third point which forms the smallest circumcircle with the first two\n\n      for (var _i3 = 0; _i3 < n; _i3++) {\n        if (_i3 === i0 || _i3 === i1) continue;\n        var r = circumradius(i0x, i0y, i1x, i1y, coords[2 * _i3], coords[2 * _i3 + 1]);\n\n        if (r < minRadius) {\n          i2 = _i3;\n          minRadius = r;\n        }\n      }\n\n      var i2x = coords[2 * i2];\n      var i2y = coords[2 * i2 + 1];\n\n      if (minRadius === Infinity) {\n        // order collinear points by dx (or dy if all x are identical)\n        // and return the list as a hull\n        for (var _i4 = 0; _i4 < n; _i4++) {\n          this._dists[_i4] = coords[2 * _i4] - coords[0] || coords[2 * _i4 + 1] - coords[1];\n        }\n\n        quicksort(this._ids, this._dists, 0, n - 1);\n        var hull = new Uint32Array(n);\n        var j = 0;\n\n        for (var _i5 = 0, d0 = -Infinity; _i5 < n; _i5++) {\n          var id = this._ids[_i5];\n\n          if (this._dists[id] > d0) {\n            hull[j++] = id;\n            d0 = this._dists[id];\n          }\n        }\n\n        this.hull = hull.subarray(0, j);\n        this.triangles = new Uint32Array(0);\n        this.halfedges = new Uint32Array(0);\n        return;\n      } // swap the order of the seed points for counter-clockwise orientation\n\n\n      if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n        var _i6 = i1;\n        var _x = i1x;\n        var _y = i1y;\n        i1 = i2;\n        i1x = i2x;\n        i1y = i2y;\n        i2 = _i6;\n        i2x = _x;\n        i2y = _y;\n      }\n\n      var center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n      this._cx = center.x;\n      this._cy = center.y;\n\n      for (var _i7 = 0; _i7 < n; _i7++) {\n        this._dists[_i7] = dist(coords[2 * _i7], coords[2 * _i7 + 1], center.x, center.y);\n      } // sort the points by distance from the seed triangle circumcenter\n\n\n      quicksort(this._ids, this._dists, 0, n - 1); // set up the seed triangle as the starting hull\n\n      this._hullStart = i0;\n      var hullSize = 3;\n      hullNext[i0] = hullPrev[i2] = i1;\n      hullNext[i1] = hullPrev[i0] = i2;\n      hullNext[i2] = hullPrev[i1] = i0;\n      hullTri[i0] = 0;\n      hullTri[i1] = 1;\n      hullTri[i2] = 2;\n      hullHash.fill(-1);\n      hullHash[this._hashKey(i0x, i0y)] = i0;\n      hullHash[this._hashKey(i1x, i1y)] = i1;\n      hullHash[this._hashKey(i2x, i2y)] = i2;\n      this.trianglesLen = 0;\n\n      this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n      for (var k = 0, xp, yp; k < this._ids.length; k++) {\n        var _i8 = this._ids[k];\n        var _x2 = coords[2 * _i8];\n        var _y2 = coords[2 * _i8 + 1]; // skip near-duplicate points\n\n        if (k > 0 && Math.abs(_x2 - xp) <= EPSILON && Math.abs(_y2 - yp) <= EPSILON) continue;\n        xp = _x2;\n        yp = _y2; // skip seed triangle points\n\n        if (_i8 === i0 || _i8 === i1 || _i8 === i2) continue; // find a visible edge on the convex hull using edge hash\n\n        var start = 0;\n\n        for (var _j = 0, key = this._hashKey(_x2, _y2); _j < this._hashSize; _j++) {\n          start = hullHash[(key + _j) % this._hashSize];\n          if (start !== -1 && start !== hullNext[start]) break;\n        }\n\n        start = hullPrev[start];\n        var e = start,\n            q = void 0;\n\n        while (q = hullNext[e], !orient(_x2, _y2, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n          e = q;\n\n          if (e === start) {\n            e = -1;\n            break;\n          }\n        }\n\n        if (e === -1) continue; // likely a near-duplicate point; skip it\n        // add the first triangle from the point\n\n        var t = this._addTriangle(e, _i8, hullNext[e], -1, -1, hullTri[e]); // recursively flip triangles from the point until they satisfy the Delaunay condition\n\n\n        hullTri[_i8] = this._legalize(t + 2);\n        hullTri[e] = t; // keep track of boundary triangles on the hull\n\n        hullSize++; // walk forward through the hull, adding more triangles and flipping recursively\n\n        var _n = hullNext[e];\n\n        while (q = hullNext[_n], orient(_x2, _y2, coords[2 * _n], coords[2 * _n + 1], coords[2 * q], coords[2 * q + 1])) {\n          t = this._addTriangle(_n, _i8, q, hullTri[_i8], -1, hullTri[_n]);\n          hullTri[_i8] = this._legalize(t + 2);\n          hullNext[_n] = _n; // mark as removed\n\n          hullSize--;\n          _n = q;\n        } // walk backward from the other side, adding more triangles and flipping\n\n\n        if (e === start) {\n          while (q = hullPrev[e], orient(_x2, _y2, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n            t = this._addTriangle(q, _i8, e, -1, hullTri[e], hullTri[q]);\n\n            this._legalize(t + 2);\n\n            hullTri[q] = t;\n            hullNext[e] = e; // mark as removed\n\n            hullSize--;\n            e = q;\n          }\n        } // update the hull indices\n\n\n        this._hullStart = hullPrev[_i8] = e;\n        hullNext[e] = hullPrev[_n] = _i8;\n        hullNext[_i8] = _n; // save the two new edges in the hash table\n\n        hullHash[this._hashKey(_x2, _y2)] = _i8;\n        hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n      }\n\n      this.hull = new Uint32Array(hullSize);\n\n      for (var _i9 = 0, _e = this._hullStart; _i9 < hullSize; _i9++) {\n        this.hull[_i9] = _e;\n        _e = hullNext[_e];\n      } // trim typed triangle mesh arrays\n\n\n      this.triangles = this._triangles.subarray(0, this.trianglesLen);\n      this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n  }, {\n    key: \"_hashKey\",\n    value: function _hashKey(x, y) {\n      return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n  }, {\n    key: \"_legalize\",\n    value: function _legalize(a) {\n      var triangles = this._triangles,\n          halfedges = this._halfedges,\n          coords = this.coords;\n      var i = 0;\n      var ar = 0; // recursion eliminated with a fixed-size stack\n\n      while (true) {\n        var b = halfedges[a];\n        /* if the pair of triangles doesn't satisfy the Delaunay condition\n         * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n         * then do the same check/flip recursively for the new pair of triangles\n         *\n         *           pl                    pl\n         *          /||\\                  /  \\\n         *       al/ || \\bl            al/    \\a\n         *        /  ||  \\              /      \\\n         *       /  a||b  \\    flip    /___ar___\\\n         *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n         *        \\  ||  /              \\      /\n         *       ar\\ || /br             b\\    /br\n         *          \\||/                  \\  /\n         *           pr                    pr\n         */\n\n        var a0 = a - a % 3;\n        ar = a0 + (a + 2) % 3;\n\n        if (b === -1) {\n          // convex hull edge\n          if (i === 0) break;\n          a = EDGE_STACK[--i];\n          continue;\n        }\n\n        var b0 = b - b % 3;\n        var al = a0 + (a + 1) % 3;\n        var bl = b0 + (b + 2) % 3;\n        var p0 = triangles[ar];\n        var pr = triangles[a];\n        var pl = triangles[al];\n        var p1 = triangles[bl];\n        var illegal = inCircle(coords[2 * p0], coords[2 * p0 + 1], coords[2 * pr], coords[2 * pr + 1], coords[2 * pl], coords[2 * pl + 1], coords[2 * p1], coords[2 * p1 + 1]);\n\n        if (illegal) {\n          triangles[a] = p1;\n          triangles[b] = p0;\n          var hbl = halfedges[bl]; // edge swapped on the other side of the hull (rare); fix the halfedge reference\n\n          if (hbl === -1) {\n            var e = this._hullStart;\n\n            do {\n              if (this._hullTri[e] === bl) {\n                this._hullTri[e] = a;\n                break;\n              }\n\n              e = this._hullPrev[e];\n            } while (e !== this._hullStart);\n          }\n\n          this._link(a, hbl);\n\n          this._link(b, halfedges[ar]);\n\n          this._link(ar, bl);\n\n          var br = b0 + (b + 1) % 3; // don't worry about hitting the cap: it can only happen on extremely degenerate input\n\n          if (i < EDGE_STACK.length) {\n            EDGE_STACK[i++] = br;\n          }\n        } else {\n          if (i === 0) break;\n          a = EDGE_STACK[--i];\n        }\n      }\n\n      return ar;\n    }\n  }, {\n    key: \"_link\",\n    value: function _link(a, b) {\n      this._halfedges[a] = b;\n      if (b !== -1) this._halfedges[b] = a;\n    } // add a new triangle given vertex indices and adjacent half-edge ids\n\n  }, {\n    key: \"_addTriangle\",\n    value: function _addTriangle(i0, i1, i2, a, b, c) {\n      var t = this.trianglesLen;\n      this._triangles[t] = i0;\n      this._triangles[t + 1] = i1;\n      this._triangles[t + 2] = i2;\n\n      this._link(t, a);\n\n      this._link(t + 1, b);\n\n      this._link(t + 2, c);\n\n      this.trianglesLen += 3;\n      return t;\n    }\n  }]);\n\n  return Delaunator;\n}(); // monotonically increases with real angle, but doesn't need expensive trigonometry\n\n\nexport { Delaunator as default };\n\nfunction pseudoAngle(dx, dy) {\n  var p = dx / (Math.abs(dx) + Math.abs(dy));\n  return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n  var dx = ax - bx;\n  var dy = ay - by;\n  return dx * dx + dy * dy;\n}\n\nfunction orient(px, py, qx, qy, rx, ry) {\n  return (qy - py) * (rx - qx) - (qx - px) * (ry - qy) < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n  var dx = ax - px;\n  var dy = ay - py;\n  var ex = bx - px;\n  var ey = by - py;\n  var fx = cx - px;\n  var fy = cy - py;\n  var ap = dx * dx + dy * dy;\n  var bp = ex * ex + ey * ey;\n  var cp = fx * fx + fy * fy;\n  return dx * (ey * cp - bp * fy) - dy * (ex * cp - bp * fx) + ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var ex = cx - ax;\n  var ey = cy - ay;\n  var bl = dx * dx + dy * dy;\n  var cl = ex * ex + ey * ey;\n  var d = 0.5 / (dx * ey - dy * ex);\n  var x = (ey * bl - dy * cl) * d;\n  var y = (dx * cl - ex * bl) * d;\n  return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var ex = cx - ax;\n  var ey = cy - ay;\n  var bl = dx * dx + dy * dy;\n  var cl = ex * ex + ey * ey;\n  var d = 0.5 / (dx * ey - dy * ex);\n  var x = ax + (ey * bl - dy * cl) * d;\n  var y = ay + (dx * cl - ex * bl) * d;\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction quicksort(ids, dists, left, right) {\n  if (right - left <= 20) {\n    for (var i = left + 1; i <= right; i++) {\n      var temp = ids[i];\n      var tempDist = dists[temp];\n      var j = i - 1;\n\n      while (j >= left && dists[ids[j]] > tempDist) {\n        ids[j + 1] = ids[j--];\n      }\n\n      ids[j + 1] = temp;\n    }\n  } else {\n    var median = left + right >> 1;\n\n    var _i10 = left + 1;\n\n    var _j2 = right;\n    swap(ids, median, _i10);\n    if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n    if (dists[ids[_i10]] > dists[ids[right]]) swap(ids, _i10, right);\n    if (dists[ids[left]] > dists[ids[_i10]]) swap(ids, left, _i10);\n    var _temp = ids[_i10];\n    var _tempDist = dists[_temp];\n\n    while (true) {\n      do {\n        _i10++;\n      } while (dists[ids[_i10]] < _tempDist);\n\n      do {\n        _j2--;\n      } while (dists[ids[_j2]] > _tempDist);\n\n      if (_j2 < _i10) break;\n      swap(ids, _i10, _j2);\n    }\n\n    ids[left + 1] = ids[_j2];\n    ids[_j2] = _temp;\n\n    if (right - _i10 + 1 >= _j2 - left) {\n      quicksort(ids, dists, _i10, right);\n      quicksort(ids, dists, left, _j2 - 1);\n    } else {\n      quicksort(ids, dists, left, _j2 - 1);\n      quicksort(ids, dists, _i10, right);\n    }\n  }\n}\n\nfunction swap(arr, i, j) {\n  var tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n  return p[0];\n}\n\nfunction defaultGetY(p) {\n  return p[1];\n}","import _classCallCheck from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar epsilon = 1e-6;\n\nvar Path = /*#__PURE__*/function () {\n  function Path() {\n    _classCallCheck(this, Path);\n\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n\n    this._ = \"\";\n  }\n\n  _createClass(Path, [{\n    key: \"moveTo\",\n    value: function moveTo(x, y) {\n      this._ += \"M\".concat(this._x0 = this._x1 = +x, \",\").concat(this._y0 = this._y1 = +y);\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      if (this._x1 !== null) {\n        this._x1 = this._x0, this._y1 = this._y0;\n        this._ += \"Z\";\n      }\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(x, y) {\n      this._ += \"L\".concat(this._x1 = +x, \",\").concat(this._y1 = +y);\n    }\n  }, {\n    key: \"arc\",\n    value: function arc(x, y, r) {\n      x = +x, y = +y, r = +r;\n      var x0 = x + r;\n      var y0 = y;\n      if (r < 0) throw new Error(\"negative radius\");\n      if (this._x1 === null) this._ += \"M\".concat(x0, \",\").concat(y0);else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n      if (!r) return;\n      this._ += \"A\".concat(r, \",\").concat(r, \",0,1,1,\").concat(x - r, \",\").concat(y, \"A\").concat(r, \",\").concat(r, \",0,1,1,\").concat(this._x1 = x0, \",\").concat(this._y1 = y0);\n    }\n  }, {\n    key: \"rect\",\n    value: function rect(x, y, w, h) {\n      this._ += \"M\".concat(this._x0 = this._x1 = +x, \",\").concat(this._y0 = this._y1 = +y, \"h\").concat(+w, \"v\").concat(+h, \"h\").concat(-w, \"Z\");\n    }\n  }, {\n    key: \"value\",\n    value: function value() {\n      return this._ || null;\n    }\n  }]);\n\n  return Path;\n}();\n\nexport { Path as default };","import _classCallCheck from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar Polygon = /*#__PURE__*/function () {\n  function Polygon() {\n    _classCallCheck(this, Polygon);\n\n    this._ = [];\n  }\n\n  _createClass(Polygon, [{\n    key: \"moveTo\",\n    value: function moveTo(x, y) {\n      this._.push([x, y]);\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      this._.push(this._[0].slice());\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(x, y) {\n      this._.push([x, y]);\n    }\n  }, {\n    key: \"value\",\n    value: function value() {\n      return this._.length ? this._ : null;\n    }\n  }]);\n\n  return Polygon;\n}();\n\nexport { Polygon as default };","import _regeneratorRuntime from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/regenerator\";\nimport \"regenerator-runtime/runtime\";\nimport _slicedToArray from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nvar Voronoi = /*#__PURE__*/function () {\n  function Voronoi(delaunay) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0, 960, 500],\n        _ref2 = _slicedToArray(_ref, 4),\n        xmin = _ref2[0],\n        ymin = _ref2[1],\n        xmax = _ref2[2],\n        ymax = _ref2[3];\n\n    _classCallCheck(this, Voronoi);\n\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n\n    this._init();\n  }\n\n  _createClass(Voronoi, [{\n    key: \"update\",\n    value: function update() {\n      this.delaunay.update();\n\n      this._init();\n\n      return this;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var _this$delaunay = this.delaunay,\n          points = _this$delaunay.points,\n          hull = _this$delaunay.hull,\n          triangles = _this$delaunay.triangles,\n          vectors = this.vectors; // Compute circumcenters.\n\n      var circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n\n      for (var i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n        var t1 = triangles[i] * 2;\n        var t2 = triangles[i + 1] * 2;\n        var t3 = triangles[i + 2] * 2;\n        var _x = points[t1];\n        var _y = points[t1 + 1];\n        var x2 = points[t2];\n        var y2 = points[t2 + 1];\n        var x3 = points[t3];\n        var y3 = points[t3 + 1];\n        var dx = x2 - _x;\n        var dy = y2 - _y;\n        var ex = x3 - _x;\n        var ey = y3 - _y;\n        var bl = dx * dx + dy * dy;\n        var cl = ex * ex + ey * ey;\n        var ab = (dx * ey - dy * ex) * 2;\n\n        if (!ab) {\n          // degenerate case (collinear diagram)\n          x = (_x + x3) / 2 - 1e8 * ey;\n          y = (_y + y3) / 2 + 1e8 * ex;\n        } else if (Math.abs(ab) < 1e-8) {\n          // almost equal points (degenerate triangle)\n          x = (_x + x3) / 2;\n          y = (_y + y3) / 2;\n        } else {\n          var d = 1 / ab;\n          x = _x + (ey * bl - dy * cl) * d;\n          y = _y + (dx * cl - ex * bl) * d;\n        }\n\n        circumcenters[j] = x;\n        circumcenters[j + 1] = y;\n      } // Compute exterior cell rays.\n\n\n      var h = hull[hull.length - 1];\n      var p0,\n          p1 = h * 4;\n      var x0,\n          x1 = points[2 * h];\n      var y0,\n          y1 = points[2 * h + 1];\n      vectors.fill(0);\n\n      for (var _i = 0; _i < hull.length; ++_i) {\n        h = hull[_i];\n        p0 = p1, x0 = x1, y0 = y1;\n        p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n        vectors[p0 + 2] = vectors[p1] = y0 - y1;\n        vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var _this$delaunay2 = this.delaunay,\n          halfedges = _this$delaunay2.halfedges,\n          inedges = _this$delaunay2.inedges,\n          hull = _this$delaunay2.hull,\n          circumcenters = this.circumcenters,\n          vectors = this.vectors;\n      if (hull.length <= 1) return null;\n\n      for (var i = 0, n = halfedges.length; i < n; ++i) {\n        var j = halfedges[i];\n        if (j < i) continue;\n        var ti = Math.floor(i / 3) * 2;\n        var tj = Math.floor(j / 3) * 2;\n        var xi = circumcenters[ti];\n        var yi = circumcenters[ti + 1];\n        var xj = circumcenters[tj];\n        var yj = circumcenters[tj + 1];\n\n        this._renderSegment(xi, yi, xj, yj, context);\n      }\n\n      var h0,\n          h1 = hull[hull.length - 1];\n\n      for (var _i2 = 0; _i2 < hull.length; ++_i2) {\n        h0 = h1, h1 = hull[_i2];\n        var t = Math.floor(inedges[h1] / 3) * 2;\n        var x = circumcenters[t];\n        var y = circumcenters[t + 1];\n        var v = h0 * 4;\n\n        var p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n\n        if (p) this._renderSegment(x, y, p[0], p[1], context);\n      }\n\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderBounds\",\n    value: function renderBounds(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderCell\",\n    value: function renderCell(i, context) {\n      var buffer = context == null ? context = new Path() : undefined;\n\n      var points = this._clip(i);\n\n      if (points === null || !points.length) return;\n      context.moveTo(points[0], points[1]);\n      var n = points.length;\n\n      while (points[0] === points[n - 2] && points[1] === points[n - 1] && n > 1) {\n        n -= 2;\n      }\n\n      for (var _i3 = 2; _i3 < n; _i3 += 2) {\n        if (points[_i3] !== points[_i3 - 2] || points[_i3 + 1] !== points[_i3 - 1]) context.lineTo(points[_i3], points[_i3 + 1]);\n      }\n\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"cellPolygons\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function cellPolygons() {\n      var points, i, n, cell;\n      return _regeneratorRuntime.wrap(function cellPolygons$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              points = this.delaunay.points;\n              i = 0, n = points.length / 2;\n\n            case 2:\n              if (!(i < n)) {\n                _context.next = 11;\n                break;\n              }\n\n              cell = this.cellPolygon(i);\n\n              if (!cell) {\n                _context.next = 8;\n                break;\n              }\n\n              cell.index = i;\n              _context.next = 8;\n              return cell;\n\n            case 8:\n              ++i;\n              _context.next = 2;\n              break;\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, cellPolygons, this);\n    })\n  }, {\n    key: \"cellPolygon\",\n    value: function cellPolygon(i) {\n      var polygon = new Polygon();\n      this.renderCell(i, polygon);\n      return polygon.value();\n    }\n  }, {\n    key: \"_renderSegment\",\n    value: function _renderSegment(x0, y0, x1, y1, context) {\n      var S;\n\n      var c0 = this._regioncode(x0, y0);\n\n      var c1 = this._regioncode(x1, y1);\n\n      if (c0 === 0 && c1 === 0) {\n        context.moveTo(x0, y0);\n        context.lineTo(x1, y1);\n      } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n        context.moveTo(S[0], S[1]);\n        context.lineTo(S[2], S[3]);\n      }\n    }\n  }, {\n    key: \"contains\",\n    value: function contains(i, x, y) {\n      if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n      return this.delaunay._step(i, x, y) === i;\n    }\n  }, {\n    key: \"neighbors\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function neighbors(i) {\n      var ci, _iterator, _step, j, cj, ai, li, aj, lj;\n\n      return _regeneratorRuntime.wrap(function neighbors$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              ci = this._clip(i);\n\n              if (!ci) {\n                _context2.next = 33;\n                break;\n              }\n\n              _iterator = _createForOfIteratorHelper(this.delaunay.neighbors(i));\n              _context2.prev = 3;\n\n              _iterator.s();\n\n            case 5:\n              if ((_step = _iterator.n()).done) {\n                _context2.next = 25;\n                break;\n              }\n\n              j = _step.value;\n              cj = this._clip(j); // find the common edge\n\n              if (!cj) {\n                _context2.next = 23;\n                break;\n              }\n\n              ai = 0, li = ci.length;\n\n            case 10:\n              if (!(ai < li)) {\n                _context2.next = 23;\n                break;\n              }\n\n              aj = 0, lj = cj.length;\n\n            case 12:\n              if (!(aj < lj)) {\n                _context2.next = 20;\n                break;\n              }\n\n              if (!(ci[ai] == cj[aj] && ci[ai + 1] == cj[aj + 1] && ci[(ai + 2) % li] == cj[(aj + lj - 2) % lj] && ci[(ai + 3) % li] == cj[(aj + lj - 1) % lj])) {\n                _context2.next = 17;\n                break;\n              }\n\n              _context2.next = 16;\n              return j;\n\n            case 16:\n              return _context2.abrupt(\"break\", 23);\n\n            case 17:\n              aj += 2;\n              _context2.next = 12;\n              break;\n\n            case 20:\n              ai += 2;\n              _context2.next = 10;\n              break;\n\n            case 23:\n              _context2.next = 5;\n              break;\n\n            case 25:\n              _context2.next = 30;\n              break;\n\n            case 27:\n              _context2.prev = 27;\n              _context2.t0 = _context2[\"catch\"](3);\n\n              _iterator.e(_context2.t0);\n\n            case 30:\n              _context2.prev = 30;\n\n              _iterator.f();\n\n              return _context2.finish(30);\n\n            case 33:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, neighbors, this, [[3, 27, 30, 33]]);\n    })\n  }, {\n    key: \"_cell\",\n    value: function _cell(i) {\n      var circumcenters = this.circumcenters,\n          _this$delaunay3 = this.delaunay,\n          inedges = _this$delaunay3.inedges,\n          halfedges = _this$delaunay3.halfedges,\n          triangles = _this$delaunay3.triangles;\n      var e0 = inedges[i];\n      if (e0 === -1) return null; // coincident point\n\n      var points = [];\n      var e = e0;\n\n      do {\n        var t = Math.floor(e / 3);\n        points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n        e = e % 3 === 2 ? e - 2 : e + 1;\n        if (triangles[e] !== i) break; // bad triangulation\n\n        e = halfedges[e];\n      } while (e !== e0 && e !== -1);\n\n      return points;\n    }\n  }, {\n    key: \"_clip\",\n    value: function _clip(i) {\n      // degenerate case (1 valid point: return the box)\n      if (i === 0 && this.delaunay.hull.length === 1) {\n        return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n      }\n\n      var points = this._cell(i);\n\n      if (points === null) return null;\n      var V = this.vectors;\n      var v = i * 4;\n      return V[v] || V[v + 1] ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3]) : this._clipFinite(i, points);\n    }\n  }, {\n    key: \"_clipFinite\",\n    value: function _clipFinite(i, points) {\n      var n = points.length;\n      var P = null;\n      var x0,\n          y0,\n          x1 = points[n - 2],\n          y1 = points[n - 1];\n\n      var c0,\n          c1 = this._regioncode(x1, y1);\n\n      var e0, e1;\n\n      for (var j = 0; j < n; j += 2) {\n        x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n        c0 = c1, c1 = this._regioncode(x1, y1);\n\n        if (c0 === 0 && c1 === 0) {\n          e0 = e1, e1 = 0;\n          if (P) P.push(x1, y1);else P = [x1, y1];\n        } else {\n          var S = void 0,\n              sx0 = void 0,\n              sy0 = void 0,\n              sx1 = void 0,\n              sy1 = void 0;\n\n          if (c0 === 0) {\n            if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n            var _S = S;\n\n            var _S2 = _slicedToArray(_S, 4);\n\n            sx0 = _S2[0];\n            sy0 = _S2[1];\n            sx1 = _S2[2];\n            sy1 = _S2[3];\n          } else {\n            if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n            var _S3 = S;\n\n            var _S4 = _slicedToArray(_S3, 4);\n\n            sx1 = _S4[0];\n            sy1 = _S4[1];\n            sx0 = _S4[2];\n            sy0 = _S4[3];\n            e0 = e1, e1 = this._edgecode(sx0, sy0);\n            if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n            if (P) P.push(sx0, sy0);else P = [sx0, sy0];\n          }\n\n          e0 = e1, e1 = this._edgecode(sx1, sy1);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx1, sy1);else P = [sx1, sy1];\n        }\n      }\n\n      if (P) {\n        e0 = e1, e1 = this._edgecode(P[0], P[1]);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n      } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n        return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n      }\n\n      return P;\n    }\n  }, {\n    key: \"_clipSegment\",\n    value: function _clipSegment(x0, y0, x1, y1, c0, c1) {\n      while (true) {\n        if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n        if (c0 & c1) return null;\n        var x = void 0,\n            y = void 0,\n            c = c0 || c1;\n        if (c & 8) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;else if (c & 4) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;else if (c & 2) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n        if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n      }\n    }\n  }, {\n    key: \"_clipInfinite\",\n    value: function _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n      var P = Array.from(points),\n          p;\n      if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n      if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n\n      if (P = this._clipFinite(i, P)) {\n        for (var j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n          c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n          if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n        }\n      } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n        P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n      }\n\n      return P;\n    }\n  }, {\n    key: \"_edge\",\n    value: function _edge(i, e0, e1, P, j) {\n      while (e0 !== e1) {\n        var x = void 0,\n            y = void 0;\n\n        switch (e0) {\n          case 5:\n            e0 = 4;\n            continue;\n          // top-left\n\n          case 4:\n            e0 = 6, x = this.xmax, y = this.ymin;\n            break;\n          // top\n\n          case 6:\n            e0 = 2;\n            continue;\n          // top-right\n\n          case 2:\n            e0 = 10, x = this.xmax, y = this.ymax;\n            break;\n          // right\n\n          case 10:\n            e0 = 8;\n            continue;\n          // bottom-right\n\n          case 8:\n            e0 = 9, x = this.xmin, y = this.ymax;\n            break;\n          // bottom\n\n          case 9:\n            e0 = 1;\n            continue;\n          // bottom-left\n\n          case 1:\n            e0 = 5, x = this.xmin, y = this.ymin;\n            break;\n          // left\n        }\n\n        if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n          P.splice(j, 0, x, y), j += 2;\n        }\n      }\n\n      if (P.length > 4) {\n        for (var _i4 = 0; _i4 < P.length; _i4 += 2) {\n          var _j = (_i4 + 2) % P.length,\n              k = (_i4 + 4) % P.length;\n\n          if (P[_i4] === P[_j] && P[_j] === P[k] || P[_i4 + 1] === P[_j + 1] && P[_j + 1] === P[k + 1]) P.splice(_j, 2), _i4 -= 2;\n        }\n      }\n\n      return j;\n    }\n  }, {\n    key: \"_project\",\n    value: function _project(x0, y0, vx, vy) {\n      var t = Infinity,\n          c,\n          x,\n          y;\n\n      if (vy < 0) {\n        // top\n        if (y0 <= this.ymin) return null;\n        if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n      } else if (vy > 0) {\n        // bottom\n        if (y0 >= this.ymax) return null;\n        if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n      }\n\n      if (vx > 0) {\n        // right\n        if (x0 >= this.xmax) return null;\n        if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n      } else if (vx < 0) {\n        // left\n        if (x0 <= this.xmin) return null;\n        if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n      }\n\n      return [x, y];\n    }\n  }, {\n    key: \"_edgecode\",\n    value: function _edgecode(x, y) {\n      return (x === this.xmin ? 1 : x === this.xmax ? 2 : 0) | (y === this.ymin ? 4 : y === this.ymax ? 8 : 0);\n    }\n  }, {\n    key: \"_regioncode\",\n    value: function _regioncode(x, y) {\n      return (x < this.xmin ? 1 : x > this.xmax ? 2 : 0) | (y < this.ymin ? 4 : y > this.ymax ? 8 : 0);\n    }\n  }]);\n\n  return Voronoi;\n}();\n\nexport { Voronoi as default };","import \"core-js/modules/es.math.hypot\";\nimport _regeneratorRuntime from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/regenerator\";\nimport \"regenerator-runtime/runtime\";\nimport _classCallCheck from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/neil/Projects/external/nivo/node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(flatIterable);\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\nvar tau = 2 * Math.PI,\n    pow = Math.pow;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n} // A triangulation is collinear if all its triangles have a non-null area\n\n\nfunction collinear(d) {\n  var triangles = d.triangles,\n      coords = d.coords;\n\n  for (var i = 0; i < triangles.length; i += 3) {\n    var a = 2 * triangles[i],\n        b = 2 * triangles[i + 1],\n        c = 2 * triangles[i + 2],\n        cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1]) - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\n    if (cross > 1e-10) return false;\n  }\n\n  return true;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nvar Delaunay = /*#__PURE__*/function () {\n  _createClass(Delaunay, null, [{\n    key: \"from\",\n    value: function from(points) {\n      var fx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : pointX;\n      var fy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : pointY;\n      var that = arguments.length > 3 ? arguments[3] : undefined;\n      return new Delaunay(\"length\" in points ? flatArray(points, fx, fy, that) : Float64Array.from(flatIterable(points, fx, fy, that)));\n    }\n  }]);\n\n  function Delaunay(points) {\n    _classCallCheck(this, Delaunay);\n\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n\n    this._init();\n  }\n\n  _createClass(Delaunay, [{\n    key: \"update\",\n    value: function update() {\n      this._delaunator.update();\n\n      this._init();\n\n      return this;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var d = this._delaunator,\n          points = this.points; // check for collinear\n\n      if (d.hull && d.hull.length > 2 && collinear(d)) {\n        this.collinear = Int32Array.from({\n          length: points.length / 2\n        }, function (_, i) {\n          return i;\n        }).sort(function (i, j) {\n          return points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1];\n        }); // for exact neighbors\n\n        var e = this.collinear[0],\n            f = this.collinear[this.collinear.length - 1],\n            bounds = [points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1]],\n            r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\n\n        for (var i = 0, n = points.length / 2; i < n; ++i) {\n          var p = jitter(points[2 * i], points[2 * i + 1], r);\n          points[2 * i] = p[0];\n          points[2 * i + 1] = p[1];\n        }\n\n        this._delaunator = new Delaunator(points);\n      } else {\n        delete this.collinear;\n      }\n\n      var halfedges = this.halfedges = this._delaunator.halfedges;\n      var hull = this.hull = this._delaunator.hull;\n      var triangles = this.triangles = this._delaunator.triangles;\n      var inedges = this.inedges.fill(-1);\n\n      var hullIndex = this._hullIndex.fill(-1); // Compute an index from each point to an (arbitrary) incoming halfedge\n      // Used to give the first neighbor of each point; for this reason,\n      // on the hull we give priority to exterior halfedges\n\n\n      for (var _e = 0, _n = halfedges.length; _e < _n; ++_e) {\n        var _p = triangles[_e % 3 === 2 ? _e - 2 : _e + 1];\n        if (halfedges[_e] === -1 || inedges[_p] === -1) inedges[_p] = _e;\n      }\n\n      for (var _i = 0, _n2 = hull.length; _i < _n2; ++_i) {\n        hullIndex[hull[_i]] = _i;\n      } // degenerate case: 1 or 2 (distinct) points\n\n\n      if (hull.length <= 2 && hull.length > 0) {\n        this.triangles = new Int32Array(3).fill(-1);\n        this.halfedges = new Int32Array(3).fill(-1);\n        this.triangles[0] = hull[0];\n        this.triangles[1] = hull[1];\n        this.triangles[2] = hull[1];\n        inedges[hull[0]] = 1;\n        if (hull.length === 2) inedges[hull[1]] = 0;\n      }\n    }\n  }, {\n    key: \"voronoi\",\n    value: function voronoi(bounds) {\n      return new Voronoi(this, bounds);\n    }\n  }, {\n    key: \"neighbors\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function neighbors(i) {\n      var inedges, hull, _hullIndex, halfedges, triangles, collinear, l, e0, e, p0, p;\n\n      return _regeneratorRuntime.wrap(function neighbors$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              inedges = this.inedges, hull = this.hull, _hullIndex = this._hullIndex, halfedges = this.halfedges, triangles = this.triangles, collinear = this.collinear; // degenerate case with several collinear points\n\n              if (!collinear) {\n                _context.next = 10;\n                break;\n              }\n\n              l = collinear.indexOf(i);\n\n              if (!(l > 0)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 6;\n              return collinear[l - 1];\n\n            case 6:\n              if (!(l < collinear.length - 1)) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.next = 9;\n              return collinear[l + 1];\n\n            case 9:\n              return _context.abrupt(\"return\");\n\n            case 10:\n              e0 = inedges[i];\n\n              if (!(e0 === -1)) {\n                _context.next = 13;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 13:\n              // coincident point\n              e = e0, p0 = -1;\n\n            case 14:\n              _context.next = 16;\n              return p0 = triangles[e];\n\n            case 16:\n              e = e % 3 === 2 ? e - 2 : e + 1;\n\n              if (!(triangles[e] !== i)) {\n                _context.next = 19;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 19:\n              // bad triangulation\n              e = halfedges[e];\n\n              if (!(e === -1)) {\n                _context.next = 26;\n                break;\n              }\n\n              p = hull[(_hullIndex[i] + 1) % hull.length];\n\n              if (!(p !== p0)) {\n                _context.next = 25;\n                break;\n              }\n\n              _context.next = 25;\n              return p;\n\n            case 25:\n              return _context.abrupt(\"return\");\n\n            case 26:\n              if (e !== e0) {\n                _context.next = 14;\n                break;\n              }\n\n            case 27:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, neighbors, this);\n    })\n  }, {\n    key: \"find\",\n    value: function find(x, y) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n      var i0 = i;\n      var c;\n\n      while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) {\n        i = c;\n      }\n\n      return c;\n    }\n  }, {\n    key: \"_step\",\n    value: function _step(i, x, y) {\n      var inedges = this.inedges,\n          hull = this.hull,\n          _hullIndex = this._hullIndex,\n          halfedges = this.halfedges,\n          triangles = this.triangles,\n          points = this.points;\n      if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n      var c = i;\n      var dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\n      var e0 = inedges[i];\n      var e = e0;\n\n      do {\n        var t = triangles[e];\n        var dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\n        if (dt < dc) dc = dt, c = t;\n        e = e % 3 === 2 ? e - 2 : e + 1;\n        if (triangles[e] !== i) break; // bad triangulation\n\n        e = halfedges[e];\n\n        if (e === -1) {\n          e = hull[(_hullIndex[i] + 1) % hull.length];\n\n          if (e !== t) {\n            if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\n          }\n\n          break;\n        }\n      } while (e !== e0);\n\n      return c;\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points,\n          halfedges = this.halfedges,\n          triangles = this.triangles;\n\n      for (var i = 0, n = halfedges.length; i < n; ++i) {\n        var j = halfedges[i];\n        if (j < i) continue;\n        var ti = triangles[i] * 2;\n        var tj = triangles[j] * 2;\n        context.moveTo(points[ti], points[ti + 1]);\n        context.lineTo(points[tj], points[tj + 1]);\n      }\n\n      this.renderHull(context);\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderPoints\",\n    value: function renderPoints(context) {\n      var r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points;\n\n      for (var i = 0, n = points.length; i < n; i += 2) {\n        var x = points[i],\n            y = points[i + 1];\n        context.moveTo(x + r, y);\n        context.arc(x, y, r, 0, tau);\n      }\n\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderHull\",\n    value: function renderHull(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var hull = this.hull,\n          points = this.points;\n      var h = hull[0] * 2,\n          n = hull.length;\n      context.moveTo(points[h], points[h + 1]);\n\n      for (var i = 1; i < n; ++i) {\n        var _h = 2 * hull[i];\n\n        context.lineTo(points[_h], points[_h + 1]);\n      }\n\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"hullPolygon\",\n    value: function hullPolygon() {\n      var polygon = new Polygon();\n      this.renderHull(polygon);\n      return polygon.value();\n    }\n  }, {\n    key: \"renderTriangle\",\n    value: function renderTriangle(i, context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points,\n          triangles = this.triangles;\n      var t0 = triangles[i *= 3] * 2;\n      var t1 = triangles[i + 1] * 2;\n      var t2 = triangles[i + 2] * 2;\n      context.moveTo(points[t0], points[t0 + 1]);\n      context.lineTo(points[t1], points[t1 + 1]);\n      context.lineTo(points[t2], points[t2 + 1]);\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"trianglePolygons\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function trianglePolygons() {\n      var triangles, i, n;\n      return _regeneratorRuntime.wrap(function trianglePolygons$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              triangles = this.triangles;\n              i = 0, n = triangles.length / 3;\n\n            case 2:\n              if (!(i < n)) {\n                _context2.next = 8;\n                break;\n              }\n\n              _context2.next = 5;\n              return this.trianglePolygon(i);\n\n            case 5:\n              ++i;\n              _context2.next = 2;\n              break;\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, trianglePolygons, this);\n    })\n  }, {\n    key: \"trianglePolygon\",\n    value: function trianglePolygon(i) {\n      var polygon = new Polygon();\n      this.renderTriangle(i, polygon);\n      return polygon.value();\n    }\n  }]);\n\n  return Delaunay;\n}();\n\nexport { Delaunay as default };\n\nfunction flatArray(points, fx, fy, that) {\n  var n = points.length;\n  var array = new Float64Array(n * 2);\n\n  for (var i = 0; i < n; ++i) {\n    var p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n\n  return array;\n}\n\nfunction flatIterable(points, fx, fy, that) {\n  var i, _iterator, _step2, p;\n\n  return _regeneratorRuntime.wrap(function flatIterable$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          i = 0;\n          _iterator = _createForOfIteratorHelper(points);\n          _context3.prev = 2;\n\n          _iterator.s();\n\n        case 4:\n          if ((_step2 = _iterator.n()).done) {\n            _context3.next = 13;\n            break;\n          }\n\n          p = _step2.value;\n          _context3.next = 8;\n          return fx.call(that, p, i, points);\n\n        case 8:\n          _context3.next = 10;\n          return fy.call(that, p, i, points);\n\n        case 10:\n          ++i;\n\n        case 11:\n          _context3.next = 4;\n          break;\n\n        case 13:\n          _context3.next = 18;\n          break;\n\n        case 15:\n          _context3.prev = 15;\n          _context3.t0 = _context3[\"catch\"](2);\n\n          _iterator.e(_context3.t0);\n\n        case 18:\n          _context3.prev = 18;\n\n          _iterator.f();\n\n          return _context3.finish(18);\n\n        case 21:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked, null, [[2, 15, 18, 21]]);\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import { VoronoiDomain, VoronoiLayer } from './types'\n\nexport const defaultVoronoiProps = {\n    xDomain: [0, 1] as VoronoiDomain,\n    yDomain: [0, 1] as VoronoiDomain,\n    layers: ['links', 'cells', 'points', 'bounds'] as VoronoiLayer[],\n    enableLinks: false,\n    linkLineWidth: 1,\n    linkLineColor: '#bbbbbb',\n    enableCells: true,\n    cellLineWidth: 2,\n    cellLineColor: '#000000',\n    enablePoints: true,\n    pointSize: 4,\n    pointColor: '#666666',\n    role: 'img',\n}\n","import { Delaunay } from 'd3-delaunay'\n\ntype NumberPropertyNames<T> = {\n    [K in keyof T]: T[K] extends number ? K : never\n}[keyof T]\n\nexport type XYAccessor<Datum> = NumberPropertyNames<Datum> | ((datum: Datum) => number)\n\nconst getAccessor = <Datum>(directive: XYAccessor<Datum>) =>\n    typeof directive === 'function' ? directive : (datum: Datum) => datum[directive]\n\n/**\n * The delaunay generator requires an array\n * where each point is defined as an array\n * of 2 elements: [x: number, y: number].\n *\n * Points represent the raw input data\n * and x/y represent accessors to x & y.\n */\nexport const computeMeshPoints = <Datum>({\n    points,\n    x = 'x' as NumberPropertyNames<Datum>,\n    y = 'y' as NumberPropertyNames<Datum>,\n}: {\n    points: Datum[]\n    x?: XYAccessor<Datum>\n    y?: XYAccessor<Datum>\n}): [number, number][] => {\n    const getX = getAccessor<Datum>(x)\n    const getY = getAccessor<Datum>(y)\n\n    return points.map(point => [getX(point) as number, getY(point) as number])\n}\n\nexport const computeMesh = ({\n    points,\n    width,\n    height,\n    debug,\n}: {\n    points: [number, number][]\n    width: number\n    height: number\n    debug?: boolean\n}) => {\n    const delaunay = Delaunay.from(points)\n    const voronoi = debug ? delaunay.voronoi([0, 0, width, height]) : undefined\n\n    return { delaunay, voronoi }\n}\n","import { useMemo } from 'react'\nimport { scaleLinear } from 'd3-scale'\nimport { Delaunay } from 'd3-delaunay'\nimport { computeMeshPoints, computeMesh, XYAccessor } from './computeMesh'\nimport { VoronoiCommonProps, VoronoiDatum, VoronoiCustomLayerProps } from './types'\n\nexport const useVoronoiMesh = <Datum>({\n    points,\n    x,\n    y,\n    width,\n    height,\n    debug,\n}: {\n    points: Datum[]\n    x?: XYAccessor<Datum>\n    y?: XYAccessor<Datum>\n    width: number\n    height: number\n    debug?: boolean\n}) => {\n    const points2d = useMemo(\n        () => computeMeshPoints<Datum>({ points, x, y }),\n        [points, x, y]\n    )\n\n    return useMemo(() => computeMesh({ points: points2d, width, height, debug }), [\n        points2d,\n        width,\n        height,\n        debug,\n    ])\n}\n\nexport const useVoronoi = ({\n    data,\n    width,\n    height,\n    xDomain,\n    yDomain,\n}: {\n    data: VoronoiDatum[]\n    width: number\n    height: number\n    xDomain: VoronoiCommonProps['xDomain']\n    yDomain: VoronoiCommonProps['yDomain']\n}) => {\n    const xScale = useMemo(() => scaleLinear().domain(xDomain).range([0, width]), [xDomain, width])\n    const yScale = useMemo(() => scaleLinear().domain(yDomain).range([0, height]), [\n        yDomain,\n        height,\n    ])\n\n    const points = useMemo(\n        () =>\n            data.map(d => ({\n                x: xScale(d.x),\n                y: yScale(d.y),\n                data: d,\n            })),\n        [data, xScale, yScale]\n    )\n\n    return useMemo(() => {\n        const delaunay = Delaunay.from(points.map(p => [p.x, p.y]))\n        const voronoi = delaunay.voronoi([0, 0, width, height])\n\n        return {\n            points,\n            delaunay,\n            voronoi,\n        }\n    }, [points, width, height])\n}\n\n/**\n * Memoize the context to pass to custom layers.\n */\nexport const useVoronoiLayerContext = ({\n    points,\n    delaunay,\n    voronoi,\n}: VoronoiCustomLayerProps): VoronoiCustomLayerProps =>\n    useMemo(\n        () => ({\n            points,\n            delaunay,\n            voronoi,\n        }),\n        [points, delaunay, voronoi]\n    )\n","import React, { createElement, Fragment, ReactNode } from 'react'\nimport { Container, SvgWrapper, useDimensions } from '@nivo/core'\nimport { VoronoiSvgProps, VoronoiLayerId } from './types'\nimport { defaultVoronoiProps } from './props'\nimport { useVoronoi, useVoronoiLayerContext } from './hooks'\n\ntype InnerVoronoiProps = Partial<Omit<VoronoiSvgProps, 'data' | 'width' | 'height'>> &\n    Pick<VoronoiSvgProps, 'data' | 'width' | 'height'>\n\nconst InnerVoronoi = ({\n    data,\n    width,\n    height,\n    margin: partialMargin,\n    layers = defaultVoronoiProps.layers,\n    xDomain = defaultVoronoiProps.xDomain,\n    yDomain = defaultVoronoiProps.yDomain,\n    enableLinks = defaultVoronoiProps.enableLinks,\n    linkLineWidth = defaultVoronoiProps.linkLineWidth,\n    linkLineColor = defaultVoronoiProps.linkLineColor,\n    enableCells = defaultVoronoiProps.enableCells,\n    cellLineWidth = defaultVoronoiProps.cellLineWidth,\n    cellLineColor = defaultVoronoiProps.cellLineColor,\n    enablePoints = defaultVoronoiProps.enableCells,\n    pointSize = defaultVoronoiProps.pointSize,\n    pointColor = defaultVoronoiProps.pointColor,\n    role = defaultVoronoiProps.role,\n}: InnerVoronoiProps) => {\n    const { outerWidth, outerHeight, margin, innerWidth, innerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const { points, delaunay, voronoi } = useVoronoi({\n        data,\n        width: innerWidth,\n        height: innerHeight,\n        xDomain,\n        yDomain,\n    })\n\n    const layerById: Record<VoronoiLayerId, ReactNode> = {\n        links: null,\n        cells: null,\n        points: null,\n        bounds: null,\n    }\n\n    if (enableLinks && layers.includes('links')) {\n        layerById.links = (\n            <path\n                key=\"links\"\n                stroke={linkLineColor}\n                strokeWidth={linkLineWidth}\n                fill=\"none\"\n                d={delaunay.render()}\n            />\n        )\n    }\n\n    if (enableCells && layers.includes('cells')) {\n        layerById.cells = (\n            <path\n                key=\"cells\"\n                d={voronoi.render()}\n                fill=\"none\"\n                stroke={cellLineColor}\n                strokeWidth={cellLineWidth}\n            />\n        )\n    }\n\n    if (enablePoints && layers.includes('points')) {\n        layerById.points = (\n            <path\n                key=\"points\"\n                stroke=\"none\"\n                fill={pointColor}\n                d={delaunay.renderPoints(undefined, pointSize / 2)}\n            />\n        )\n    }\n\n    if (layers.includes('bounds')) {\n        layerById.bounds = (\n            <path\n                key=\"bounds\"\n                fill=\"none\"\n                stroke={cellLineColor}\n                strokeWidth={cellLineWidth}\n                d={voronoi.renderBounds()}\n            />\n        )\n    }\n\n    const layerContext = useVoronoiLayerContext({\n        points,\n        delaunay,\n        voronoi,\n    })\n\n    return (\n        <SvgWrapper width={outerWidth} height={outerHeight} margin={margin} role={role}>\n            {layers.map((layer, i) => {\n                if (layerById[layer as VoronoiLayerId] !== undefined) {\n                    return layerById[layer as VoronoiLayerId]\n                }\n\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, layerContext)}</Fragment>\n                }\n\n                return null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport const Voronoi = ({\n    theme,\n    ...otherProps\n}: Partial<Omit<VoronoiSvgProps, 'data' | 'width' | 'height'>> &\n    Pick<VoronoiSvgProps, 'data' | 'width' | 'height'>) => (\n    <Container isInteractive={false} animate={false} theme={theme}>\n        <InnerVoronoi {...otherProps} />\n    </Container>\n)\n","import React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport { VoronoiSvgProps } from './types'\nimport { Voronoi } from './Voronoi'\n\ntype ResponsiveVoronoiProps = Partial<Omit<VoronoiSvgProps, 'data' | 'width' | 'height'>> &\n    Pick<VoronoiSvgProps, 'data'>\n\nexport const ResponsiveVoronoi = (props: ResponsiveVoronoiProps) => (\n    <ResponsiveWrapper>\n        {({ width, height }: { width: number; height: number }) => (\n            <Voronoi width={width} height={height} {...props} />\n        )}\n    </ResponsiveWrapper>\n)\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useRef, useState, useCallback, useMemo } from 'react'\nimport { getRelativeCursor } from '@nivo/core'\nimport { useVoronoiMesh } from './hooks'\nimport { XYAccessor } from './computeMesh'\n\ntype MouseHandler<Datum> = (datum: Datum, event: React.MouseEvent) => void\n\ninterface MeshProps<Datum> {\n    nodes: Datum[]\n    width: number\n    height: number\n    x?: XYAccessor<Datum>\n    y?: XYAccessor<Datum>\n    onMouseEnter?: MouseHandler<Datum>\n    onMouseMove?: MouseHandler<Datum>\n    onMouseLeave?: MouseHandler<Datum>\n    onClick?: MouseHandler<Datum>\n    debug?: boolean\n}\n\nexport const Mesh = <Datum,>({\n    nodes,\n    width,\n    height,\n    x,\n    y,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    debug,\n}: MeshProps<Datum>) => {\n    const elementRef = useRef<SVGGElement>(null)\n    const [currentIndex, setCurrentIndex] = useState<number | null>(null)\n\n    const { delaunay, voronoi } = useVoronoiMesh({\n        points: nodes,\n        x,\n        y,\n        width,\n        height,\n        debug,\n    })\n\n    const voronoiPath = useMemo(() => {\n        if (debug && voronoi) {\n            return voronoi.render()\n        }\n\n        return undefined\n    }, [debug, voronoi])\n\n    const getIndexAndNodeFromEvent = useCallback(\n        event => {\n            if (!elementRef.current) {\n                return [null, null]\n            }\n\n            const [x, y] = getRelativeCursor(elementRef.current, event)\n            const index = delaunay.find(x, y)\n\n            return [index, index !== undefined ? nodes[index] : null] as [number, Datum | null]\n        },\n        [elementRef, delaunay]\n    )\n\n    const handleMouseEnter = useCallback(\n        (event: React.MouseEvent) => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            setCurrentIndex(index)\n            if (node) {\n                onMouseEnter?.(node, event)\n            }\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex, onMouseEnter]\n    )\n\n    const handleMouseMove = useCallback(\n        (event: React.MouseEvent) => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            setCurrentIndex(index)\n            if (node) {\n                onMouseMove?.(node, event)\n            }\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex, onMouseMove]\n    )\n\n    const handleMouseLeave = useCallback(\n        (event: React.MouseEvent) => {\n            setCurrentIndex(null)\n            if (onMouseLeave) {\n                let previousNode: Datum | undefined = undefined\n                if (currentIndex !== null) {\n                    previousNode = nodes[currentIndex]\n                }\n                previousNode && onMouseLeave(previousNode, event)\n            }\n        },\n        [setCurrentIndex, currentIndex, onMouseLeave, nodes]\n    )\n\n    const handleClick = useCallback(\n        (event: React.MouseEvent) => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            setCurrentIndex(index)\n            if (node) {\n                onClick?.(node, event)\n            }\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex, onClick]\n    )\n\n    return (\n        <g ref={elementRef}>\n            {debug && voronoi && (\n                <>\n                    <path d={voronoiPath} stroke=\"red\" strokeWidth={1} opacity={0.75} />\n                    {/* highlight current cell */}\n                    {currentIndex !== null && (\n                        <path fill=\"pink\" opacity={0.35} d={voronoi.renderCell(currentIndex)} />\n                    )}\n                </>\n            )}\n            {/* transparent rect to intercept mouse events */}\n            <rect\n                width={width}\n                height={height}\n                fill=\"red\"\n                opacity={0}\n                style={{ cursor: 'auto' }}\n                onMouseEnter={handleMouseEnter}\n                onMouseMove={handleMouseMove}\n                onMouseLeave={handleMouseLeave}\n                onClick={handleClick}\n            />\n        </g>\n    )\n}\n","import { Delaunay, Voronoi } from 'd3-delaunay'\n\nexport const renderVoronoiToCanvas = (\n    ctx: CanvasRenderingContext2D,\n    voronoi: Voronoi<Delaunay.Point>\n) => {\n    ctx.save()\n\n    ctx.globalAlpha = 0.75\n    ctx.beginPath()\n    voronoi.render(ctx)\n    ctx.strokeStyle = 'red'\n    ctx.lineWidth = 1\n    ctx.stroke()\n\n    ctx.restore()\n}\n\nexport const renderVoronoiCellToCanvas = (\n    ctx: CanvasRenderingContext2D,\n    voronoi: Voronoi<Delaunay.Point>,\n    index: number\n) => {\n    ctx.save()\n\n    ctx.globalAlpha = 0.35\n    ctx.beginPath()\n    voronoi.renderCell(index, ctx)\n    ctx.fillStyle = 'red'\n    ctx.fill()\n\n    ctx.restore()\n}\n"],"sourceRoot":""}